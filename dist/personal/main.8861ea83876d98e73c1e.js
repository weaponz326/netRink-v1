(self.webpackChunkang_fire=self.webpackChunkang_fire||[]).push([[179],{8638:(Nt,je,F)=>{"use strict";F.d(je,{l3:()=>q,_j:()=>m,LC:()=>j,ZN:()=>Te,jt:()=>ce,vP:()=>de,SB:()=>ve,oB:()=>Y,eR:()=>re,X$:()=>Ce,ZE:()=>Me,k1:()=>Se});class m{}class j{}const q="*";function Ce(Be,nt){return{type:7,name:Be,definitions:nt,options:{}}}function ce(Be,nt=null){return{type:4,styles:nt,timings:Be}}function de(Be,nt=null){return{type:2,steps:Be,options:nt}}function Y(Be){return{type:6,styles:Be,offset:null}}function ve(Be,nt,kt){return{type:0,name:Be,styles:nt,options:kt}}function re(Be,nt,kt=null){return{type:1,expr:Be,animation:nt,options:kt}}function Ie(Be){Promise.resolve(null).then(Be)}class Te{constructor(nt=0,kt=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=nt+kt}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(nt=>nt()),this._onDoneFns=[])}onStart(nt){this._onStartFns.push(nt)}onDone(nt){this._onDoneFns.push(nt)}onDestroy(nt){this._onDestroyFns.push(nt)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Ie(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(nt=>nt()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(nt=>nt()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(nt){this._position=this.totalTime?nt*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(nt){const kt="start"==nt?this._onStartFns:this._onDoneFns;kt.forEach(nn=>nn()),kt.length=0}}class Me{constructor(nt){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=nt;let kt=0,nn=0,Ht=0;const Zt=this.players.length;0==Zt?Ie(()=>this._onFinish()):this.players.forEach(Qt=>{Qt.onDone(()=>{++kt==Zt&&this._onFinish()}),Qt.onDestroy(()=>{++nn==Zt&&this._onDestroy()}),Qt.onStart(()=>{++Ht==Zt&&this._onStart()})}),this.totalTime=this.players.reduce((Qt,Wt)=>Math.max(Qt,Wt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(nt=>nt()),this._onDoneFns=[])}init(){this.players.forEach(nt=>nt.init())}onStart(nt){this._onStartFns.push(nt)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(nt=>nt()),this._onStartFns=[])}onDone(nt){this._onDoneFns.push(nt)}onDestroy(nt){this._onDestroyFns.push(nt)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(nt=>nt.play())}pause(){this.players.forEach(nt=>nt.pause())}restart(){this.players.forEach(nt=>nt.restart())}finish(){this._onFinish(),this.players.forEach(nt=>nt.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(nt=>nt.destroy()),this._onDestroyFns.forEach(nt=>nt()),this._onDestroyFns=[])}reset(){this.players.forEach(nt=>nt.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(nt){const kt=nt*this.totalTime;this.players.forEach(nn=>{const Ht=nn.totalTime?Math.min(1,kt/nn.totalTime):1;nn.setPosition(Ht)})}getPosition(){const nt=this.players.reduce((kt,nn)=>null===kt||nn.totalTime>kt.totalTime?nn:kt,null);return null!=nt?nt.getPosition():0}beforeDestroy(){this.players.forEach(nt=>{nt.beforeDestroy&&nt.beforeDestroy()})}triggerCallback(nt){const kt="start"==nt?this._onStartFns:this._onDoneFns;kt.forEach(nn=>nn()),kt.length=0}}const Se="!"},6274:(Nt,je,F)=>{"use strict";F.d(je,{mr:()=>Me,ez:()=>ii,K0:()=>de,uU:()=>Vr,Do:()=>Be,V_:()=>J,Ye:()=>nt,S$:()=>Ie,mk:()=>on,sg:()=>an,O5:()=>rs,RF:()=>Vi,n9:()=>Br,ED:()=>Zs,tP:()=>Ui,b0:()=>Se,lw:()=>Y,EM:()=>Xs,JF:()=>gi,NF:()=>Co,PM:()=>Po,w_:()=>ie,bD:()=>pi,q:()=>q,Mx:()=>at,HT:()=>ce});var m=F(2741);let j=null;function q(){return j}function ce(P){j||(j=P)}class ie{}const de=new m.InjectionToken("DocumentToken");let Y=(()=>{class P{historyGo(k){throw new Error("Not implemented")}}return P.\u0275fac=function(k){return new(k||P)},P.\u0275prov=(0,m.\u0275\u0275defineInjectable)({factory:ve,token:P,providedIn:"platform"}),P})();function ve(){return(0,m.\u0275\u0275inject)(re)}const J=new m.InjectionToken("Location Initialized");let re=(()=>{class P extends Y{constructor(k){super(),this._doc=k,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return q().getBaseHref(this._doc)}onPopState(k){const w=q().getGlobalEventTarget(this._doc,"window");return w.addEventListener("popstate",k,!1),()=>w.removeEventListener("popstate",k)}onHashChange(k){const w=q().getGlobalEventTarget(this._doc,"window");return w.addEventListener("hashchange",k,!1),()=>w.removeEventListener("hashchange",k)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(k){this.location.pathname=k}pushState(k,w,b){Z()?this._history.pushState(k,w,b):this.location.hash=b}replaceState(k,w,b){Z()?this._history.replaceState(k,w,b):this.location.hash=b}forward(){this._history.forward()}back(){this._history.back()}historyGo(k=0){this._history.go(k)}getState(){return this._history.state}}return P.\u0275fac=function(k){return new(k||P)(m.\u0275\u0275inject(de))},P.\u0275prov=(0,m.\u0275\u0275defineInjectable)({factory:ue,token:P,providedIn:"platform"}),P})();function Z(){return!!window.history.pushState}function ue(){return new re((0,m.\u0275\u0275inject)(de))}function Ye(P,Q){if(0==P.length)return Q;if(0==Q.length)return P;let k=0;return P.endsWith("/")&&k++,Q.startsWith("/")&&k++,2==k?P+Q.substring(1):1==k?P+Q:P+"/"+Q}function ze(P){const Q=P.match(/#|\?|$/),k=Q&&Q.index||P.length;return P.slice(0,k-("/"===P[k-1]?1:0))+P.slice(k)}function Xe(P){return P&&"?"!==P[0]?"?"+P:P}let Ie=(()=>{class P{historyGo(k){throw new Error("Not implemented")}}return P.\u0275fac=function(k){return new(k||P)},P.\u0275prov=(0,m.\u0275\u0275defineInjectable)({factory:Te,token:P,providedIn:"root"}),P})();function Te(P){const Q=(0,m.\u0275\u0275inject)(de).location;return new Se((0,m.\u0275\u0275inject)(Y),Q&&Q.origin||"")}const Me=new m.InjectionToken("appBaseHref");let Se=(()=>{class P extends Ie{constructor(k,w){if(super(),this._platformLocation=k,this._removeListenerFns=[],null==w&&(w=this._platformLocation.getBaseHrefFromDOM()),null==w)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=w}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(k){this._removeListenerFns.push(this._platformLocation.onPopState(k),this._platformLocation.onHashChange(k))}getBaseHref(){return this._baseHref}prepareExternalUrl(k){return Ye(this._baseHref,k)}path(k=!1){const w=this._platformLocation.pathname+Xe(this._platformLocation.search),b=this._platformLocation.hash;return b&&k?`${w}${b}`:w}pushState(k,w,b,S){const $=this.prepareExternalUrl(b+Xe(S));this._platformLocation.pushState(k,w,$)}replaceState(k,w,b,S){const $=this.prepareExternalUrl(b+Xe(S));this._platformLocation.replaceState(k,w,$)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(k=0){var w,b;null===(b=(w=this._platformLocation).historyGo)||void 0===b||b.call(w,k)}}return P.\u0275fac=function(k){return new(k||P)(m.\u0275\u0275inject(Y),m.\u0275\u0275inject(Me,8))},P.\u0275prov=m.\u0275\u0275defineInjectable({token:P,factory:P.\u0275fac}),P})(),Be=(()=>{class P extends Ie{constructor(k,w){super(),this._platformLocation=k,this._baseHref="",this._removeListenerFns=[],null!=w&&(this._baseHref=w)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(k){this._removeListenerFns.push(this._platformLocation.onPopState(k),this._platformLocation.onHashChange(k))}getBaseHref(){return this._baseHref}path(k=!1){let w=this._platformLocation.hash;return null==w&&(w="#"),w.length>0?w.substring(1):w}prepareExternalUrl(k){const w=Ye(this._baseHref,k);return w.length>0?"#"+w:w}pushState(k,w,b,S){let $=this.prepareExternalUrl(b+Xe(S));0==$.length&&($=this._platformLocation.pathname),this._platformLocation.pushState(k,w,$)}replaceState(k,w,b,S){let $=this.prepareExternalUrl(b+Xe(S));0==$.length&&($=this._platformLocation.pathname),this._platformLocation.replaceState(k,w,$)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(k=0){var w,b;null===(b=(w=this._platformLocation).historyGo)||void 0===b||b.call(w,k)}}return P.\u0275fac=function(k){return new(k||P)(m.\u0275\u0275inject(Y),m.\u0275\u0275inject(Me,8))},P.\u0275prov=m.\u0275\u0275defineInjectable({token:P,factory:P.\u0275fac}),P})(),nt=(()=>{class P{constructor(k,w){this._subject=new m.EventEmitter,this._urlChangeListeners=[],this._platformStrategy=k;const b=this._platformStrategy.getBaseHref();this._platformLocation=w,this._baseHref=ze(Ht(b)),this._platformStrategy.onPopState(S=>{this._subject.emit({url:this.path(!0),pop:!0,state:S.state,type:S.type})})}path(k=!1){return this.normalize(this._platformStrategy.path(k))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(k,w=""){return this.path()==this.normalize(k+Xe(w))}normalize(k){return P.stripTrailingSlash(function(P,Q){return P&&Q.startsWith(P)?Q.substring(P.length):Q}(this._baseHref,Ht(k)))}prepareExternalUrl(k){return k&&"/"!==k[0]&&(k="/"+k),this._platformStrategy.prepareExternalUrl(k)}go(k,w="",b=null){this._platformStrategy.pushState(b,"",k,w),this._notifyUrlChangeListeners(this.prepareExternalUrl(k+Xe(w)),b)}replaceState(k,w="",b=null){this._platformStrategy.replaceState(b,"",k,w),this._notifyUrlChangeListeners(this.prepareExternalUrl(k+Xe(w)),b)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(k=0){var w,b;null===(b=(w=this._platformStrategy).historyGo)||void 0===b||b.call(w,k)}onUrlChange(k){this._urlChangeListeners.push(k),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(w=>{this._notifyUrlChangeListeners(w.url,w.state)}))}_notifyUrlChangeListeners(k="",w){this._urlChangeListeners.forEach(b=>b(k,w))}subscribe(k,w,b){return this._subject.subscribe({next:k,error:w,complete:b})}}return P.\u0275fac=function(k){return new(k||P)(m.\u0275\u0275inject(Ie),m.\u0275\u0275inject(Y))},P.normalizeQueryParams=Xe,P.joinWithSlash=Ye,P.stripTrailingSlash=ze,P.\u0275prov=(0,m.\u0275\u0275defineInjectable)({factory:kt,token:P,providedIn:"root"}),P})();function kt(){return new nt((0,m.\u0275\u0275inject)(Ie),(0,m.\u0275\u0275inject)(Y))}function Ht(P){return P.replace(/\/index.html$/,"")}var Wt=(()=>((Wt=Wt||{})[Wt.Zero=0]="Zero",Wt[Wt.One=1]="One",Wt[Wt.Two=2]="Two",Wt[Wt.Few=3]="Few",Wt[Wt.Many=4]="Many",Wt[Wt.Other=5]="Other",Wt))(),Lt=(()=>((Lt=Lt||{})[Lt.Format=0]="Format",Lt[Lt.Standalone=1]="Standalone",Lt))(),Ct=(()=>((Ct=Ct||{})[Ct.Narrow=0]="Narrow",Ct[Ct.Abbreviated=1]="Abbreviated",Ct[Ct.Wide=2]="Wide",Ct[Ct.Short=3]="Short",Ct))(),rn=(()=>((rn=rn||{})[rn.Short=0]="Short",rn[rn.Medium=1]="Medium",rn[rn.Long=2]="Long",rn[rn.Full=3]="Full",rn))(),pt=(()=>((pt=pt||{})[pt.Decimal=0]="Decimal",pt[pt.Group=1]="Group",pt[pt.List=2]="List",pt[pt.PercentSign=3]="PercentSign",pt[pt.PlusSign=4]="PlusSign",pt[pt.MinusSign=5]="MinusSign",pt[pt.Exponential=6]="Exponential",pt[pt.SuperscriptingExponent=7]="SuperscriptingExponent",pt[pt.PerMille=8]="PerMille",pt[pt.Infinity=9]="Infinity",pt[pt.NaN=10]="NaN",pt[pt.TimeSeparator=11]="TimeSeparator",pt[pt.CurrencyDecimal=12]="CurrencyDecimal",pt[pt.CurrencyGroup=13]="CurrencyGroup",pt))();function Cn(P,Q){return An((0,m.\u0275findLocaleData)(P)[m.\u0275LocaleDataIndex.DateFormat],Q)}function bn(P,Q){return An((0,m.\u0275findLocaleData)(P)[m.\u0275LocaleDataIndex.TimeFormat],Q)}function Tr(P,Q){return An((0,m.\u0275findLocaleData)(P)[m.\u0275LocaleDataIndex.DateTimeFormat],Q)}function Xt(P,Q){const k=(0,m.\u0275findLocaleData)(P),w=k[m.\u0275LocaleDataIndex.NumberSymbols][Q];if(void 0===w){if(Q===pt.CurrencyDecimal)return k[m.\u0275LocaleDataIndex.NumberSymbols][pt.Decimal];if(Q===pt.CurrencyGroup)return k[m.\u0275LocaleDataIndex.NumberSymbols][pt.Group]}return w}const _n=m.\u0275getLocalePluralCase;function ot(P){if(!P[m.\u0275LocaleDataIndex.ExtraData])throw new Error(`Missing extra locale data for the locale "${P[m.\u0275LocaleDataIndex.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function An(P,Q){for(let k=Q;k>-1;k--)if(void 0!==P[k])return P[k];throw new Error("Locale data API: locale data undefined")}function yr(P){const[Q,k]=P.split(":");return{hours:+Q,minutes:+k}}const me=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,rt={},Ge=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Dt=(()=>((Dt=Dt||{})[Dt.Short=0]="Short",Dt[Dt.ShortGMT=1]="ShortGMT",Dt[Dt.Long=2]="Long",Dt[Dt.Extended=3]="Extended",Dt))(),lt=(()=>((lt=lt||{})[lt.FullYear=0]="FullYear",lt[lt.Month=1]="Month",lt[lt.Date=2]="Date",lt[lt.Hours=3]="Hours",lt[lt.Minutes=4]="Minutes",lt[lt.Seconds=5]="Seconds",lt[lt.FractionalSeconds=6]="FractionalSeconds",lt[lt.Day=7]="Day",lt))(),xt=(()=>((xt=xt||{})[xt.DayPeriods=0]="DayPeriods",xt[xt.Days=1]="Days",xt[xt.Months=2]="Months",xt[xt.Eras=3]="Eras",xt))();function mn(P,Q,k,w){let b=function(P){if(Ki(P))return P;if("number"==typeof P&&!isNaN(P))return new Date(P);if("string"==typeof P){if(P=P.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(P)){const[b,S=1,$=1]=P.split("-").map(Fe=>+Fe);return Kn(b,S-1,$)}const k=parseFloat(P);if(!isNaN(P-k))return new Date(k);let w;if(w=P.match(me))return function(P){const Q=new Date(0);let k=0,w=0;const b=P[8]?Q.setUTCFullYear:Q.setFullYear,S=P[8]?Q.setUTCHours:Q.setHours;P[9]&&(k=Number(P[9]+P[10]),w=Number(P[9]+P[11])),b.call(Q,Number(P[1]),Number(P[2])-1,Number(P[3]));const $=Number(P[4]||0)-k,Fe=Number(P[5]||0)-w,vt=Number(P[6]||0),un=Math.floor(1e3*parseFloat("0."+(P[7]||0)));return S.call(Q,$,Fe,vt,un),Q}(w)}const Q=new Date(P);if(!Ki(Q))throw new Error(`Unable to convert "${P}" into a date`);return Q}(P);Q=Tn(k,Q)||Q;let Fe,$=[];for(;Q;){if(Fe=Ge.exec(Q),!Fe){$.push(Q);break}{$=$.concat(Fe.slice(1));const Yn=$.pop();if(!Yn)break;Q=Yn}}let vt=b.getTimezoneOffset();w&&(vt=Ar(w,vt),b=function(P,Q,k){const b=P.getTimezoneOffset();return function(P,Q){return(P=new Date(P.getTime())).setMinutes(P.getMinutes()+Q),P}(P,-1*(Ar(Q,b)-b))}(b,w));let un="";return $.forEach(Yn=>{const Nn=function(P){if(jt[P])return jt[P];let Q;switch(P){case"G":case"GG":case"GGG":Q=Re(xt.Eras,Ct.Abbreviated);break;case"GGGG":Q=Re(xt.Eras,Ct.Wide);break;case"GGGGG":Q=Re(xt.Eras,Ct.Narrow);break;case"y":Q=ye(lt.FullYear,1,0,!1,!0);break;case"yy":Q=ye(lt.FullYear,2,0,!0,!0);break;case"yyy":Q=ye(lt.FullYear,3,0,!1,!0);break;case"yyyy":Q=ye(lt.FullYear,4,0,!1,!0);break;case"Y":Q=dn(1);break;case"YY":Q=dn(2,!0);break;case"YYY":Q=dn(3);break;case"YYYY":Q=dn(4);break;case"M":case"L":Q=ye(lt.Month,1,1);break;case"MM":case"LL":Q=ye(lt.Month,2,1);break;case"MMM":Q=Re(xt.Months,Ct.Abbreviated);break;case"MMMM":Q=Re(xt.Months,Ct.Wide);break;case"MMMMM":Q=Re(xt.Months,Ct.Narrow);break;case"LLL":Q=Re(xt.Months,Ct.Abbreviated,Lt.Standalone);break;case"LLLL":Q=Re(xt.Months,Ct.Wide,Lt.Standalone);break;case"LLLLL":Q=Re(xt.Months,Ct.Narrow,Lt.Standalone);break;case"w":Q=yt(1);break;case"ww":Q=yt(2);break;case"W":Q=yt(1,!0);break;case"d":Q=ye(lt.Date,1);break;case"dd":Q=ye(lt.Date,2);break;case"c":case"cc":Q=ye(lt.Day,1);break;case"ccc":Q=Re(xt.Days,Ct.Abbreviated,Lt.Standalone);break;case"cccc":Q=Re(xt.Days,Ct.Wide,Lt.Standalone);break;case"ccccc":Q=Re(xt.Days,Ct.Narrow,Lt.Standalone);break;case"cccccc":Q=Re(xt.Days,Ct.Short,Lt.Standalone);break;case"E":case"EE":case"EEE":Q=Re(xt.Days,Ct.Abbreviated);break;case"EEEE":Q=Re(xt.Days,Ct.Wide);break;case"EEEEE":Q=Re(xt.Days,Ct.Narrow);break;case"EEEEEE":Q=Re(xt.Days,Ct.Short);break;case"a":case"aa":case"aaa":Q=Re(xt.DayPeriods,Ct.Abbreviated);break;case"aaaa":Q=Re(xt.DayPeriods,Ct.Wide);break;case"aaaaa":Q=Re(xt.DayPeriods,Ct.Narrow);break;case"b":case"bb":case"bbb":Q=Re(xt.DayPeriods,Ct.Abbreviated,Lt.Standalone,!0);break;case"bbbb":Q=Re(xt.DayPeriods,Ct.Wide,Lt.Standalone,!0);break;case"bbbbb":Q=Re(xt.DayPeriods,Ct.Narrow,Lt.Standalone,!0);break;case"B":case"BB":case"BBB":Q=Re(xt.DayPeriods,Ct.Abbreviated,Lt.Format,!0);break;case"BBBB":Q=Re(xt.DayPeriods,Ct.Wide,Lt.Format,!0);break;case"BBBBB":Q=Re(xt.DayPeriods,Ct.Narrow,Lt.Format,!0);break;case"h":Q=ye(lt.Hours,1,-12);break;case"hh":Q=ye(lt.Hours,2,-12);break;case"H":Q=ye(lt.Hours,1);break;case"HH":Q=ye(lt.Hours,2);break;case"m":Q=ye(lt.Minutes,1);break;case"mm":Q=ye(lt.Minutes,2);break;case"s":Q=ye(lt.Seconds,1);break;case"ss":Q=ye(lt.Seconds,2);break;case"S":Q=ye(lt.FractionalSeconds,1);break;case"SS":Q=ye(lt.FractionalSeconds,2);break;case"SSS":Q=ye(lt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":Q=Ue(Dt.Short);break;case"ZZZZZ":Q=Ue(Dt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":Q=Ue(Dt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":Q=Ue(Dt.Long);break;default:return null}return jt[P]=Q,Q}(Yn);un+=Nn?Nn(b,k,vt):"''"===Yn?"'":Yn.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),un}function Kn(P,Q,k){const w=new Date(0);return w.setFullYear(P,Q,k),w.setHours(0,0,0),w}function Tn(P,Q){const k=function(P){return(0,m.\u0275findLocaleData)(P)[m.\u0275LocaleDataIndex.LocaleId]}(P);if(rt[k]=rt[k]||{},rt[k][Q])return rt[k][Q];let w="";switch(Q){case"shortDate":w=Cn(P,rn.Short);break;case"mediumDate":w=Cn(P,rn.Medium);break;case"longDate":w=Cn(P,rn.Long);break;case"fullDate":w=Cn(P,rn.Full);break;case"shortTime":w=bn(P,rn.Short);break;case"mediumTime":w=bn(P,rn.Medium);break;case"longTime":w=bn(P,rn.Long);break;case"fullTime":w=bn(P,rn.Full);break;case"short":const b=Tn(P,"shortTime"),S=Tn(P,"shortDate");w=Yt(Tr(P,rn.Short),[b,S]);break;case"medium":const $=Tn(P,"mediumTime"),Fe=Tn(P,"mediumDate");w=Yt(Tr(P,rn.Medium),[$,Fe]);break;case"long":const vt=Tn(P,"longTime"),un=Tn(P,"longDate");w=Yt(Tr(P,rn.Long),[vt,un]);break;case"full":const Yn=Tn(P,"fullTime"),Nn=Tn(P,"fullDate");w=Yt(Tr(P,rn.Full),[Yn,Nn])}return w&&(rt[k][Q]=w),w}function Yt(P,Q){return Q&&(P=P.replace(/\{([^}]+)}/g,function(k,w){return null!=Q&&w in Q?Q[w]:k})),P}function xn(P,Q,k="-",w,b){let S="";(P<0||b&&P<=0)&&(b?P=1-P:(P=-P,S=k));let $=String(P);for(;$.length<Q;)$="0"+$;return w&&($=$.substr($.length-Q)),S+$}function ye(P,Q,k=0,w=!1,b=!1){return function(S,$){let Fe=function(P,Q){switch(P){case lt.FullYear:return Q.getFullYear();case lt.Month:return Q.getMonth();case lt.Date:return Q.getDate();case lt.Hours:return Q.getHours();case lt.Minutes:return Q.getMinutes();case lt.Seconds:return Q.getSeconds();case lt.FractionalSeconds:return Q.getMilliseconds();case lt.Day:return Q.getDay();default:throw new Error(`Unknown DateType value "${P}".`)}}(P,S);if((k>0||Fe>-k)&&(Fe+=k),P===lt.Hours)0===Fe&&-12===k&&(Fe=12);else if(P===lt.FractionalSeconds)return function(P,Q){return xn(P,3).substr(0,Q)}(Fe,Q);const vt=Xt($,pt.MinusSign);return xn(Fe,Q,vt,w,b)}}function Re(P,Q,k=Lt.Format,w=!1){return function(b,S){return function(P,Q,k,w,b,S){switch(k){case xt.Months:return function(P,Q,k){const w=(0,m.\u0275findLocaleData)(P),S=An([w[m.\u0275LocaleDataIndex.MonthsFormat],w[m.\u0275LocaleDataIndex.MonthsStandalone]],Q);return An(S,k)}(Q,b,w)[P.getMonth()];case xt.Days:return function(P,Q,k){const w=(0,m.\u0275findLocaleData)(P),S=An([w[m.\u0275LocaleDataIndex.DaysFormat],w[m.\u0275LocaleDataIndex.DaysStandalone]],Q);return An(S,k)}(Q,b,w)[P.getDay()];case xt.DayPeriods:const $=P.getHours(),Fe=P.getMinutes();if(S){const un=function(P){const Q=(0,m.\u0275findLocaleData)(P);return ot(Q),(Q[m.\u0275LocaleDataIndex.ExtraData][2]||[]).map(w=>"string"==typeof w?yr(w):[yr(w[0]),yr(w[1])])}(Q),Yn=function(P,Q,k){const w=(0,m.\u0275findLocaleData)(P);ot(w);const S=An([w[m.\u0275LocaleDataIndex.ExtraData][0],w[m.\u0275LocaleDataIndex.ExtraData][1]],Q)||[];return An(S,k)||[]}(Q,b,w),Nn=un.findIndex(hr=>{if(Array.isArray(hr)){const[Ir,di]=hr,Cs=$>=Ir.hours&&Fe>=Ir.minutes,Nr=$<di.hours||$===di.hours&&Fe<di.minutes;if(Ir.hours<di.hours){if(Cs&&Nr)return!0}else if(Cs||Nr)return!0}else if(hr.hours===$&&hr.minutes===Fe)return!0;return!1});if(-1!==Nn)return Yn[Nn]}return function(P,Q,k){const w=(0,m.\u0275findLocaleData)(P),S=An([w[m.\u0275LocaleDataIndex.DayPeriodsFormat],w[m.\u0275LocaleDataIndex.DayPeriodsStandalone]],Q);return An(S,k)}(Q,b,w)[$<12?0:1];case xt.Eras:return function(P,Q){return An((0,m.\u0275findLocaleData)(P)[m.\u0275LocaleDataIndex.Eras],Q)}(Q,w)[P.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${k}`)}}(b,S,P,Q,k,w)}}function Ue(P){return function(Q,k,w){const b=-1*w,S=Xt(k,pt.MinusSign),$=b>0?Math.floor(b/60):Math.ceil(b/60);switch(P){case Dt.Short:return(b>=0?"+":"")+xn($,2,S)+xn(Math.abs(b%60),2,S);case Dt.ShortGMT:return"GMT"+(b>=0?"+":"")+xn($,1,S);case Dt.Long:return"GMT"+(b>=0?"+":"")+xn($,2,S)+":"+xn(Math.abs(b%60),2,S);case Dt.Extended:return 0===w?"Z":(b>=0?"+":"")+xn($,2,S)+":"+xn(Math.abs(b%60),2,S);default:throw new Error(`Unknown zone width "${P}"`)}}}function Je(P){return Kn(P.getFullYear(),P.getMonth(),P.getDate()+(4-P.getDay()))}function yt(P,Q=!1){return function(k,w){let b;if(Q){const S=new Date(k.getFullYear(),k.getMonth(),1).getDay()-1,$=k.getDate();b=1+Math.floor(($+S)/7)}else{const S=Je(k),$=function(P){const Q=Kn(P,0,1).getDay();return Kn(P,0,1+(Q<=4?4:11)-Q)}(S.getFullYear()),Fe=S.getTime()-$.getTime();b=1+Math.round(Fe/6048e5)}return xn(b,P,Xt(w,pt.MinusSign))}}function dn(P,Q=!1){return function(k,w){return xn(Je(k).getFullYear(),P,Xt(w,pt.MinusSign),Q)}}const jt={};function Ar(P,Q){P=P.replace(/:/g,"");const k=Date.parse("Jan 01, 1970 00:00:00 "+P)/6e4;return isNaN(k)?Q:k}function Ki(P){return P instanceof Date&&!isNaN(P.valueOf())}class Le{}let le=(()=>{class P extends Le{constructor(k){super(),this.locale=k}getPluralCategory(k,w){switch(_n(w||this.locale)(k)){case Wt.Zero:return"zero";case Wt.One:return"one";case Wt.Two:return"two";case Wt.Few:return"few";case Wt.Many:return"many";default:return"other"}}}return P.\u0275fac=function(k){return new(k||P)(m.\u0275\u0275inject(m.LOCALE_ID))},P.\u0275prov=m.\u0275\u0275defineInjectable({token:P,factory:P.\u0275fac}),P})();function at(P,Q){Q=encodeURIComponent(Q);for(const k of P.split(";")){const w=k.indexOf("="),[b,S]=-1==w?[k,""]:[k.slice(0,w),k.slice(w+1)];if(b.trim()===Q)return decodeURIComponent(S)}return null}let on=(()=>{class P{constructor(k,w,b,S){this._iterableDiffers=k,this._keyValueDiffers=w,this._ngEl=b,this._renderer=S,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(k){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof k?k.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(k){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof k?k.split(/\s+/):k,this._rawClass&&((0,m.\u0275isListLikeIterable)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const k=this._iterableDiffer.diff(this._rawClass);k&&this._applyIterableChanges(k)}else if(this._keyValueDiffer){const k=this._keyValueDiffer.diff(this._rawClass);k&&this._applyKeyValueChanges(k)}}_applyKeyValueChanges(k){k.forEachAddedItem(w=>this._toggleClass(w.key,w.currentValue)),k.forEachChangedItem(w=>this._toggleClass(w.key,w.currentValue)),k.forEachRemovedItem(w=>{w.previousValue&&this._toggleClass(w.key,!1)})}_applyIterableChanges(k){k.forEachAddedItem(w=>{if("string"!=typeof w.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,m.\u0275stringify)(w.item)}`);this._toggleClass(w.item,!0)}),k.forEachRemovedItem(w=>this._toggleClass(w.item,!1))}_applyClasses(k){k&&(Array.isArray(k)||k instanceof Set?k.forEach(w=>this._toggleClass(w,!0)):Object.keys(k).forEach(w=>this._toggleClass(w,!!k[w])))}_removeClasses(k){k&&(Array.isArray(k)||k instanceof Set?k.forEach(w=>this._toggleClass(w,!1)):Object.keys(k).forEach(w=>this._toggleClass(w,!1)))}_toggleClass(k,w){(k=k.trim())&&k.split(/\s+/g).forEach(b=>{w?this._renderer.addClass(this._ngEl.nativeElement,b):this._renderer.removeClass(this._ngEl.nativeElement,b)})}}return P.\u0275fac=function(k){return new(k||P)(m.\u0275\u0275directiveInject(m.IterableDiffers),m.\u0275\u0275directiveInject(m.KeyValueDiffers),m.\u0275\u0275directiveInject(m.ElementRef),m.\u0275\u0275directiveInject(m.Renderer2))},P.\u0275dir=m.\u0275\u0275defineDirective({type:P,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),P})();class Un{constructor(Q,k,w,b){this.$implicit=Q,this.ngForOf=k,this.index=w,this.count=b}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let an=(()=>{class P{constructor(k,w,b){this._viewContainer=k,this._template=w,this._differs=b,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(k){this._ngForOf=k,this._ngForOfDirty=!0}set ngForTrackBy(k){this._trackByFn=k}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(k){k&&(this._template=k)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const k=this._ngForOf;if(!this._differ&&k)try{this._differ=this._differs.find(k).create(this.ngForTrackBy)}catch(w){throw new Error(`Cannot find a differ supporting object '${k}' of type '${function(P){return P.name||typeof P}(k)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const k=this._differ.diff(this._ngForOf);k&&this._applyChanges(k)}}_applyChanges(k){const w=[];k.forEachOperation((b,S,$)=>{if(null==b.previousIndex){const Fe=this._viewContainer.createEmbeddedView(this._template,new Un(null,this._ngForOf,-1,-1),null===$?void 0:$),vt=new zi(b,Fe);w.push(vt)}else if(null==$)this._viewContainer.remove(null===S?void 0:S);else if(null!==S){const Fe=this._viewContainer.get(S);this._viewContainer.move(Fe,$);const vt=new zi(b,Fe);w.push(vt)}});for(let b=0;b<w.length;b++)this._perViewChange(w[b].view,w[b].record);for(let b=0,S=this._viewContainer.length;b<S;b++){const $=this._viewContainer.get(b);$.context.index=b,$.context.count=S,$.context.ngForOf=this._ngForOf}k.forEachIdentityChange(b=>{this._viewContainer.get(b.currentIndex).context.$implicit=b.item})}_perViewChange(k,w){k.context.$implicit=w.item}static ngTemplateContextGuard(k,w){return!0}}return P.\u0275fac=function(k){return new(k||P)(m.\u0275\u0275directiveInject(m.ViewContainerRef),m.\u0275\u0275directiveInject(m.TemplateRef),m.\u0275\u0275directiveInject(m.IterableDiffers))},P.\u0275dir=m.\u0275\u0275defineDirective({type:P,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),P})();class zi{constructor(Q,k){this.record=Q,this.view=k}}let rs=(()=>{class P{constructor(k,w){this._viewContainer=k,this._context=new Fs,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=w}set ngIf(k){this._context.$implicit=this._context.ngIf=k,this._updateView()}set ngIfThen(k){Xr("ngIfThen",k),this._thenTemplateRef=k,this._thenViewRef=null,this._updateView()}set ngIfElse(k){Xr("ngIfElse",k),this._elseTemplateRef=k,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(k,w){return!0}}return P.\u0275fac=function(k){return new(k||P)(m.\u0275\u0275directiveInject(m.ViewContainerRef),m.\u0275\u0275directiveInject(m.TemplateRef))},P.\u0275dir=m.\u0275\u0275defineDirective({type:P,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),P})();class Fs{constructor(){this.$implicit=null,this.ngIf=null}}function Xr(P,Q){if(Q&&!Q.createEmbeddedView)throw new Error(`${P} must be a TemplateRef, but received '${(0,m.\u0275stringify)(Q)}'.`)}class is{constructor(Q,k){this._viewContainerRef=Q,this._templateRef=k,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(Q){Q&&!this._created?this.create():!Q&&this._created&&this.destroy()}}let Vi=(()=>{class P{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(k){this._ngSwitch=k,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(k){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(k)}_matchCase(k){const w=k==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||w,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),w}_updateDefaultCases(k){if(this._defaultViews&&k!==this._defaultUsed){this._defaultUsed=k;for(let w=0;w<this._defaultViews.length;w++)this._defaultViews[w].enforceState(k)}}}return P.\u0275fac=function(k){return new(k||P)},P.\u0275dir=m.\u0275\u0275defineDirective({type:P,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),P})(),Br=(()=>{class P{constructor(k,w,b){this.ngSwitch=b,b._addCase(),this._view=new is(k,w)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return P.\u0275fac=function(k){return new(k||P)(m.\u0275\u0275directiveInject(m.ViewContainerRef),m.\u0275\u0275directiveInject(m.TemplateRef),m.\u0275\u0275directiveInject(Vi,9))},P.\u0275dir=m.\u0275\u0275defineDirective({type:P,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),P})(),Zs=(()=>{class P{constructor(k,w,b){b._addDefault(new is(k,w))}}return P.\u0275fac=function(k){return new(k||P)(m.\u0275\u0275directiveInject(m.ViewContainerRef),m.\u0275\u0275directiveInject(m.TemplateRef),m.\u0275\u0275directiveInject(Vi,9))},P.\u0275dir=m.\u0275\u0275defineDirective({type:P,selectors:[["","ngSwitchDefault",""]]}),P})(),Ui=(()=>{class P{constructor(k){this._viewContainerRef=k,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(k){if(k.ngTemplateOutlet){const w=this._viewContainerRef;this._viewRef&&w.remove(w.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?w.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&k.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return P.\u0275fac=function(k){return new(k||P)(m.\u0275\u0275directiveInject(m.ViewContainerRef))},P.\u0275dir=m.\u0275\u0275defineDirective({type:P,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[m.\u0275\u0275NgOnChangesFeature]}),P})();let Vr=(()=>{class P{constructor(k){this.locale=k}transform(k,w="mediumDate",b,S){if(null==k||""===k||k!=k)return null;try{return mn(k,w,S||this.locale,b)}catch($){throw function(P,Q){return Error(`InvalidPipeArgument: '${Q}' for pipe '${(0,m.\u0275stringify)(P)}'`)}(P,$.message)}}}return P.\u0275fac=function(k){return new(k||P)(m.\u0275\u0275directiveInject(m.LOCALE_ID,16))},P.\u0275pipe=m.\u0275\u0275definePipe({name:"date",type:P,pure:!0}),P})(),ii=(()=>{class P{}return P.\u0275fac=function(k){return new(k||P)},P.\u0275mod=m.\u0275\u0275defineNgModule({type:P}),P.\u0275inj=m.\u0275\u0275defineInjector({providers:[{provide:Le,useClass:le}]}),P})();const pi="browser";function Co(P){return P===pi}function Po(P){return"server"===P}let Xs=(()=>{class P{}return P.\u0275prov=(0,m.\u0275\u0275defineInjectable)({token:P,providedIn:"root",factory:()=>new na((0,m.\u0275\u0275inject)(de),window)}),P})();class na{constructor(Q,k){this.document=Q,this.window=k,this.offset=()=>[0,0]}setOffset(Q){this.offset=Array.isArray(Q)?()=>Q:Q}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Q){this.supportsScrolling()&&this.window.scrollTo(Q[0],Q[1])}scrollToAnchor(Q){if(!this.supportsScrolling())return;const k=function(P,Q){const k=P.getElementById(Q)||P.getElementsByName(Q)[0];if(k)return k;if("function"==typeof P.createTreeWalker&&P.body&&(P.body.createShadowRoot||P.body.attachShadow)){const w=P.createTreeWalker(P.body,NodeFilter.SHOW_ELEMENT);let b=w.currentNode;for(;b;){const S=b.shadowRoot;if(S){const $=S.getElementById(Q)||S.querySelector(`[name="${Q}"]`);if($)return $}b=w.nextNode()}}return null}(this.document,Q);k&&(this.scrollToElement(k),this.attemptFocus(k))}setHistoryScrollRestoration(Q){if(this.supportScrollRestoration()){const k=this.window.history;k&&k.scrollRestoration&&(k.scrollRestoration=Q)}}scrollToElement(Q){const k=Q.getBoundingClientRect(),w=k.left+this.window.pageXOffset,b=k.top+this.window.pageYOffset,S=this.offset();this.window.scrollTo(w-S[0],b-S[1])}attemptFocus(Q){return Q.focus(),this.document.activeElement===Q}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const Q=bo(this.window.history)||bo(Object.getPrototypeOf(this.window.history));return!(!Q||!Q.writable&&!Q.set)}catch(Q){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(Q){return!1}}}function bo(P){return Object.getOwnPropertyDescriptor(P,"scrollRestoration")}class gi{}},1887:(Nt,je,F)=>{"use strict";F.d(je,{eN:()=>pt,JF:()=>An});var m=F(6274),j=F(2741),q=F(267),Ce=F(3948),ce=F(3748),ie=F(3305),de=F(8561);class Y{}class ve{}class J{constructor(ge){this.normalizedNames=new Map,this.lazyUpdate=null,ge?this.lazyInit="string"==typeof ge?()=>{this.headers=new Map,ge.split("\n").forEach(me=>{const rt=me.indexOf(":");if(rt>0){const Ge=me.slice(0,rt),Dt=Ge.toLowerCase(),lt=me.slice(rt+1).trim();this.maybeSetNormalizedName(Ge,Dt),this.headers.has(Dt)?this.headers.get(Dt).push(lt):this.headers.set(Dt,[lt])}})}:()=>{this.headers=new Map,Object.keys(ge).forEach(me=>{let rt=ge[me];const Ge=me.toLowerCase();"string"==typeof rt&&(rt=[rt]),rt.length>0&&(this.headers.set(Ge,rt),this.maybeSetNormalizedName(me,Ge))})}:this.headers=new Map}has(ge){return this.init(),this.headers.has(ge.toLowerCase())}get(ge){this.init();const me=this.headers.get(ge.toLowerCase());return me&&me.length>0?me[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(ge){return this.init(),this.headers.get(ge.toLowerCase())||null}append(ge,me){return this.clone({name:ge,value:me,op:"a"})}set(ge,me){return this.clone({name:ge,value:me,op:"s"})}delete(ge,me){return this.clone({name:ge,value:me,op:"d"})}maybeSetNormalizedName(ge,me){this.normalizedNames.has(me)||this.normalizedNames.set(me,ge)}init(){this.lazyInit&&(this.lazyInit instanceof J?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(ge=>this.applyUpdate(ge)),this.lazyUpdate=null))}copyFrom(ge){ge.init(),Array.from(ge.headers.keys()).forEach(me=>{this.headers.set(me,ge.headers.get(me)),this.normalizedNames.set(me,ge.normalizedNames.get(me))})}clone(ge){const me=new J;return me.lazyInit=this.lazyInit&&this.lazyInit instanceof J?this.lazyInit:this,me.lazyUpdate=(this.lazyUpdate||[]).concat([ge]),me}applyUpdate(ge){const me=ge.name.toLowerCase();switch(ge.op){case"a":case"s":let rt=ge.value;if("string"==typeof rt&&(rt=[rt]),0===rt.length)return;this.maybeSetNormalizedName(ge.name,me);const Ge=("a"===ge.op?this.headers.get(me):void 0)||[];Ge.push(...rt),this.headers.set(me,Ge);break;case"d":const Dt=ge.value;if(Dt){let lt=this.headers.get(me);if(!lt)return;lt=lt.filter(xt=>-1===Dt.indexOf(xt)),0===lt.length?(this.headers.delete(me),this.normalizedNames.delete(me)):this.headers.set(me,lt)}else this.headers.delete(me),this.normalizedNames.delete(me)}}forEach(ge){this.init(),Array.from(this.normalizedNames.keys()).forEach(me=>ge(this.normalizedNames.get(me),this.headers.get(me)))}}class re{encodeKey(ge){return ze(ge)}encodeValue(ge){return ze(ge)}decodeKey(ge){return decodeURIComponent(ge)}decodeValue(ge){return decodeURIComponent(ge)}}const ue=/%(\d[a-f0-9])/gi,Ye={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function ze($e){return encodeURIComponent($e).replace(ue,(ge,me)=>{var rt;return null!==(rt=Ye[me])&&void 0!==rt?rt:ge})}function Xe($e){return`${$e}`}class Ie{constructor(ge={}){if(this.updates=null,this.cloneFrom=null,this.encoder=ge.encoder||new re,ge.fromString){if(ge.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function($e,ge){const me=new Map;return $e.length>0&&$e.replace(/^\?/,"").split("&").forEach(Ge=>{const Dt=Ge.indexOf("="),[lt,xt]=-1==Dt?[ge.decodeKey(Ge),""]:[ge.decodeKey(Ge.slice(0,Dt)),ge.decodeValue(Ge.slice(Dt+1))],mn=me.get(lt)||[];mn.push(xt),me.set(lt,mn)}),me}(ge.fromString,this.encoder)}else ge.fromObject?(this.map=new Map,Object.keys(ge.fromObject).forEach(me=>{const rt=ge.fromObject[me];this.map.set(me,Array.isArray(rt)?rt:[rt])})):this.map=null}has(ge){return this.init(),this.map.has(ge)}get(ge){this.init();const me=this.map.get(ge);return me?me[0]:null}getAll(ge){return this.init(),this.map.get(ge)||null}keys(){return this.init(),Array.from(this.map.keys())}append(ge,me){return this.clone({param:ge,value:me,op:"a"})}appendAll(ge){const me=[];return Object.keys(ge).forEach(rt=>{const Ge=ge[rt];Array.isArray(Ge)?Ge.forEach(Dt=>{me.push({param:rt,value:Dt,op:"a"})}):me.push({param:rt,value:Ge,op:"a"})}),this.clone(me)}set(ge,me){return this.clone({param:ge,value:me,op:"s"})}delete(ge,me){return this.clone({param:ge,value:me,op:"d"})}toString(){return this.init(),this.keys().map(ge=>{const me=this.encoder.encodeKey(ge);return this.map.get(ge).map(rt=>me+"="+this.encoder.encodeValue(rt)).join("&")}).filter(ge=>""!==ge).join("&")}clone(ge){const me=new Ie({encoder:this.encoder});return me.cloneFrom=this.cloneFrom||this,me.updates=(this.updates||[]).concat(ge),me}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(ge=>this.map.set(ge,this.cloneFrom.map.get(ge))),this.updates.forEach(ge=>{switch(ge.op){case"a":case"s":const me=("a"===ge.op?this.map.get(ge.param):void 0)||[];me.push(Xe(ge.value)),this.map.set(ge.param,me);break;case"d":if(void 0===ge.value){this.map.delete(ge.param);break}{let rt=this.map.get(ge.param)||[];const Ge=rt.indexOf(Xe(ge.value));-1!==Ge&&rt.splice(Ge,1),rt.length>0?this.map.set(ge.param,rt):this.map.delete(ge.param)}}}),this.cloneFrom=this.updates=null)}}class Me{constructor(){this.map=new Map}set(ge,me){return this.map.set(ge,me),this}get(ge){return this.map.has(ge)||this.map.set(ge,ge.defaultValue()),this.map.get(ge)}delete(ge){return this.map.delete(ge),this}keys(){return this.map.keys()}}function Be($e){return"undefined"!=typeof ArrayBuffer&&$e instanceof ArrayBuffer}function nt($e){return"undefined"!=typeof Blob&&$e instanceof Blob}function kt($e){return"undefined"!=typeof FormData&&$e instanceof FormData}class Ht{constructor(ge,me,rt,Ge){let Dt;if(this.url=me,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=ge.toUpperCase(),function($e){switch($e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Ge?(this.body=void 0!==rt?rt:null,Dt=Ge):Dt=rt,Dt&&(this.reportProgress=!!Dt.reportProgress,this.withCredentials=!!Dt.withCredentials,Dt.responseType&&(this.responseType=Dt.responseType),Dt.headers&&(this.headers=Dt.headers),Dt.context&&(this.context=Dt.context),Dt.params&&(this.params=Dt.params)),this.headers||(this.headers=new J),this.context||(this.context=new Me),this.params){const lt=this.params.toString();if(0===lt.length)this.urlWithParams=me;else{const xt=me.indexOf("?");this.urlWithParams=me+(-1===xt?"?":xt<me.length-1?"&":"")+lt}}else this.params=new Ie,this.urlWithParams=me}serializeBody(){return null===this.body?null:Be(this.body)||nt(this.body)||kt(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof Ie?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||kt(this.body)?null:nt(this.body)?this.body.type||null:Be(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ie?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(ge={}){var me;const rt=ge.method||this.method,Ge=ge.url||this.url,Dt=ge.responseType||this.responseType,lt=void 0!==ge.body?ge.body:this.body,xt=void 0!==ge.withCredentials?ge.withCredentials:this.withCredentials,mn=void 0!==ge.reportProgress?ge.reportProgress:this.reportProgress;let Kn=ge.headers||this.headers,Tn=ge.params||this.params;const Yt=null!==(me=ge.context)&&void 0!==me?me:this.context;return void 0!==ge.setHeaders&&(Kn=Object.keys(ge.setHeaders).reduce((xn,Rn)=>xn.set(Rn,ge.setHeaders[Rn]),Kn)),ge.setParams&&(Tn=Object.keys(ge.setParams).reduce((xn,Rn)=>xn.set(Rn,ge.setParams[Rn]),Tn)),new Ht(rt,Ge,lt,{params:Tn,headers:Kn,context:Yt,reportProgress:mn,responseType:Dt,withCredentials:xt})}}var Zt=(()=>((Zt=Zt||{})[Zt.Sent=0]="Sent",Zt[Zt.UploadProgress=1]="UploadProgress",Zt[Zt.ResponseHeader=2]="ResponseHeader",Zt[Zt.DownloadProgress=3]="DownloadProgress",Zt[Zt.Response=4]="Response",Zt[Zt.User=5]="User",Zt))();class Qt{constructor(ge,me=200,rt="OK"){this.headers=ge.headers||new J,this.status=void 0!==ge.status?ge.status:me,this.statusText=ge.statusText||rt,this.url=ge.url||null,this.ok=this.status>=200&&this.status<300}}class Wt extends Qt{constructor(ge={}){super(ge),this.type=Zt.ResponseHeader}clone(ge={}){return new Wt({headers:ge.headers||this.headers,status:void 0!==ge.status?ge.status:this.status,statusText:ge.statusText||this.statusText,url:ge.url||this.url||void 0})}}class Lt extends Qt{constructor(ge={}){super(ge),this.type=Zt.Response,this.body=void 0!==ge.body?ge.body:null}clone(ge={}){return new Lt({body:void 0!==ge.body?ge.body:this.body,headers:ge.headers||this.headers,status:void 0!==ge.status?ge.status:this.status,statusText:ge.statusText||this.statusText,url:ge.url||this.url||void 0})}}class Ct extends Qt{constructor(ge){super(ge,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${ge.url||"(unknown url)"}`:`Http failure response for ${ge.url||"(unknown url)"}: ${ge.status} ${ge.statusText}`,this.error=ge.error||null}}function rn($e,ge){return{body:ge,headers:$e.headers,context:$e.context,observe:$e.observe,params:$e.params,reportProgress:$e.reportProgress,responseType:$e.responseType,withCredentials:$e.withCredentials}}let pt=(()=>{class $e{constructor(me){this.handler=me}request(me,rt,Ge={}){let Dt;if(me instanceof Ht)Dt=me;else{let mn,Kn;mn=Ge.headers instanceof J?Ge.headers:new J(Ge.headers),Ge.params&&(Kn=Ge.params instanceof Ie?Ge.params:new Ie({fromObject:Ge.params})),Dt=new Ht(me,rt,void 0!==Ge.body?Ge.body:null,{headers:mn,context:Ge.context,params:Kn,reportProgress:Ge.reportProgress,responseType:Ge.responseType||"json",withCredentials:Ge.withCredentials})}const lt=(0,q.of)(Dt).pipe((0,ce.b)(mn=>this.handler.handle(mn)));if(me instanceof Ht||"events"===Ge.observe)return lt;const xt=lt.pipe((0,ie.h)(mn=>mn instanceof Lt));switch(Ge.observe||"body"){case"body":switch(Dt.responseType){case"arraybuffer":return xt.pipe((0,de.U)(mn=>{if(null!==mn.body&&!(mn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return mn.body}));case"blob":return xt.pipe((0,de.U)(mn=>{if(null!==mn.body&&!(mn.body instanceof Blob))throw new Error("Response is not a Blob.");return mn.body}));case"text":return xt.pipe((0,de.U)(mn=>{if(null!==mn.body&&"string"!=typeof mn.body)throw new Error("Response is not a string.");return mn.body}));case"json":default:return xt.pipe((0,de.U)(mn=>mn.body))}case"response":return xt;default:throw new Error(`Unreachable: unhandled observe type ${Ge.observe}}`)}}delete(me,rt={}){return this.request("DELETE",me,rt)}get(me,rt={}){return this.request("GET",me,rt)}head(me,rt={}){return this.request("HEAD",me,rt)}jsonp(me,rt){return this.request("JSONP",me,{params:(new Ie).append(rt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(me,rt={}){return this.request("OPTIONS",me,rt)}patch(me,rt,Ge={}){return this.request("PATCH",me,rn(Ge,rt))}post(me,rt,Ge={}){return this.request("POST",me,rn(Ge,rt))}put(me,rt,Ge={}){return this.request("PUT",me,rn(Ge,rt))}}return $e.\u0275fac=function(me){return new(me||$e)(j.\u0275\u0275inject(Y))},$e.\u0275prov=j.\u0275\u0275defineInjectable({token:$e,factory:$e.\u0275fac}),$e})();class nr{constructor(ge,me){this.next=ge,this.interceptor=me}handle(ge){return this.interceptor.intercept(ge,this.next)}}const Wn=new j.InjectionToken("HTTP_INTERCEPTORS");let lr=(()=>{class $e{intercept(me,rt){return rt.handle(me)}}return $e.\u0275fac=function(me){return new(me||$e)},$e.\u0275prov=j.\u0275\u0275defineInjectable({token:$e,factory:$e.\u0275fac}),$e})();const Tr=/^\)\]\}',?\n/;let Vn=(()=>{class $e{constructor(me){this.xhrFactory=me}handle(me){if("JSONP"===me.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ce.y(rt=>{const Ge=this.xhrFactory.build();if(Ge.open(me.method,me.urlWithParams),me.withCredentials&&(Ge.withCredentials=!0),me.headers.forEach((Rn,ye)=>Ge.setRequestHeader(Rn,ye.join(","))),me.headers.has("Accept")||Ge.setRequestHeader("Accept","application/json, text/plain, */*"),!me.headers.has("Content-Type")){const Rn=me.detectContentTypeHeader();null!==Rn&&Ge.setRequestHeader("Content-Type",Rn)}if(me.responseType){const Rn=me.responseType.toLowerCase();Ge.responseType="json"!==Rn?Rn:"text"}const Dt=me.serializeBody();let lt=null;const xt=()=>{if(null!==lt)return lt;const Rn=1223===Ge.status?204:Ge.status,ye=Ge.statusText||"OK",he=new J(Ge.getAllResponseHeaders()),Re=function($e){return"responseURL"in $e&&$e.responseURL?$e.responseURL:/^X-Request-URL:/m.test($e.getAllResponseHeaders())?$e.getResponseHeader("X-Request-URL"):null}(Ge)||me.url;return lt=new Wt({headers:he,status:Rn,statusText:ye,url:Re}),lt},mn=()=>{let{headers:Rn,status:ye,statusText:he,url:Re}=xt(),Ze=null;204!==ye&&(Ze=void 0===Ge.response?Ge.responseText:Ge.response),0===ye&&(ye=Ze?200:0);let Ue=ye>=200&&ye<300;if("json"===me.responseType&&"string"==typeof Ze){const Ve=Ze;Ze=Ze.replace(Tr,"");try{Ze=""!==Ze?JSON.parse(Ze):null}catch(z){Ze=Ve,Ue&&(Ue=!1,Ze={error:z,text:Ze})}}Ue?(rt.next(new Lt({body:Ze,headers:Rn,status:ye,statusText:he,url:Re||void 0})),rt.complete()):rt.error(new Ct({error:Ze,headers:Rn,status:ye,statusText:he,url:Re||void 0}))},Kn=Rn=>{const{url:ye}=xt(),he=new Ct({error:Rn,status:Ge.status||0,statusText:Ge.statusText||"Unknown Error",url:ye||void 0});rt.error(he)};let Tn=!1;const Yt=Rn=>{Tn||(rt.next(xt()),Tn=!0);let ye={type:Zt.DownloadProgress,loaded:Rn.loaded};Rn.lengthComputable&&(ye.total=Rn.total),"text"===me.responseType&&!!Ge.responseText&&(ye.partialText=Ge.responseText),rt.next(ye)},xn=Rn=>{let ye={type:Zt.UploadProgress,loaded:Rn.loaded};Rn.lengthComputable&&(ye.total=Rn.total),rt.next(ye)};return Ge.addEventListener("load",mn),Ge.addEventListener("error",Kn),Ge.addEventListener("timeout",Kn),Ge.addEventListener("abort",Kn),me.reportProgress&&(Ge.addEventListener("progress",Yt),null!==Dt&&Ge.upload&&Ge.upload.addEventListener("progress",xn)),Ge.send(Dt),rt.next({type:Zt.Sent}),()=>{Ge.removeEventListener("error",Kn),Ge.removeEventListener("abort",Kn),Ge.removeEventListener("load",mn),Ge.removeEventListener("timeout",Kn),me.reportProgress&&(Ge.removeEventListener("progress",Yt),null!==Dt&&Ge.upload&&Ge.upload.removeEventListener("progress",xn)),Ge.readyState!==Ge.DONE&&Ge.abort()}})}}return $e.\u0275fac=function(me){return new(me||$e)(j.\u0275\u0275inject(m.JF))},$e.\u0275prov=j.\u0275\u0275defineInjectable({token:$e,factory:$e.\u0275fac}),$e})();const Kt=new j.InjectionToken("XSRF_COOKIE_NAME"),gn=new j.InjectionToken("XSRF_HEADER_NAME");class Sn{}let ir=(()=>{class $e{constructor(me,rt,Ge){this.doc=me,this.platform=rt,this.cookieName=Ge,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const me=this.doc.cookie||"";return me!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,m.Mx)(me,this.cookieName),this.lastCookieString=me),this.lastToken}}return $e.\u0275fac=function(me){return new(me||$e)(j.\u0275\u0275inject(m.K0),j.\u0275\u0275inject(j.PLATFORM_ID),j.\u0275\u0275inject(Kt))},$e.\u0275prov=j.\u0275\u0275defineInjectable({token:$e,factory:$e.\u0275fac}),$e})(),_n=(()=>{class $e{constructor(me,rt){this.tokenService=me,this.headerName=rt}intercept(me,rt){const Ge=me.url.toLowerCase();if("GET"===me.method||"HEAD"===me.method||Ge.startsWith("http://")||Ge.startsWith("https://"))return rt.handle(me);const Dt=this.tokenService.getToken();return null!==Dt&&!me.headers.has(this.headerName)&&(me=me.clone({headers:me.headers.set(this.headerName,Dt)})),rt.handle(me)}}return $e.\u0275fac=function(me){return new(me||$e)(j.\u0275\u0275inject(Sn),j.\u0275\u0275inject(gn))},$e.\u0275prov=j.\u0275\u0275defineInjectable({token:$e,factory:$e.\u0275fac}),$e})(),ot=(()=>{class $e{constructor(me,rt){this.backend=me,this.injector=rt,this.chain=null}handle(me){if(null===this.chain){const rt=this.injector.get(Wn,[]);this.chain=rt.reduceRight((Ge,Dt)=>new nr(Ge,Dt),this.backend)}return this.chain.handle(me)}}return $e.\u0275fac=function(me){return new(me||$e)(j.\u0275\u0275inject(ve),j.\u0275\u0275inject(j.Injector))},$e.\u0275prov=j.\u0275\u0275defineInjectable({token:$e,factory:$e.\u0275fac}),$e})(),Ft=(()=>{class $e{static disable(){return{ngModule:$e,providers:[{provide:_n,useClass:lr}]}}static withOptions(me={}){return{ngModule:$e,providers:[me.cookieName?{provide:Kt,useValue:me.cookieName}:[],me.headerName?{provide:gn,useValue:me.headerName}:[]]}}}return $e.\u0275fac=function(me){return new(me||$e)},$e.\u0275mod=j.\u0275\u0275defineNgModule({type:$e}),$e.\u0275inj=j.\u0275\u0275defineInjector({providers:[_n,{provide:Wn,useExisting:_n,multi:!0},{provide:Sn,useClass:ir},{provide:Kt,useValue:"XSRF-TOKEN"},{provide:gn,useValue:"X-XSRF-TOKEN"}]}),$e})(),An=(()=>{class $e{}return $e.\u0275fac=function(me){return new(me||$e)},$e.\u0275mod=j.\u0275\u0275defineNgModule({type:$e}),$e.\u0275inj=j.\u0275\u0275defineInjector({providers:[pt,{provide:Y,useClass:ot},Vn,{provide:ve,useExisting:Vn}],imports:[[Ft.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),$e})()},2741:(Nt,je,F)=>{"use strict";F.r(je),F.d(je,{ANALYZE_FOR_ENTRY_COMPONENTS:()=>va,APP_BOOTSTRAP_LISTENER:()=>pC,APP_ID:()=>lC,APP_INITIALIZER:()=>vE,ApplicationInitStatus:()=>jf,ApplicationModule:()=>bA,ApplicationRef:()=>Kg,Attribute:()=>tn,COMPILER_OPTIONS:()=>IC,CUSTOM_ELEMENTS_SCHEMA:()=>$l,ChangeDetectionStrategy:()=>rt,ChangeDetectorRef:()=>jv,Compiler:()=>Wg,CompilerFactory:()=>wC,Component:()=>CS,ComponentFactory:()=>Pf,ComponentFactoryResolver:()=>oh,ComponentRef:()=>xv,ContentChild:()=>ll,ContentChildren:()=>Va,DEFAULT_CURRENCY_CODE:()=>mC,DebugElement:()=>IA,DebugEventListener:()=>$C,DebugNode:()=>EA,DefaultIterableDiffer:()=>C0,Directive:()=>iC,ElementRef:()=>el,EmbeddedViewRef:()=>cA,ErrorHandler:()=>fu,EventEmitter:()=>Sl,Host:()=>du,HostBinding:()=>SS,HostListener:()=>AS,INJECTOR:()=>Eu,Inject:()=>cu,InjectFlags:()=>Ft,Injectable:()=>uy,InjectionToken:()=>bi,Injector:()=>Yr,Input:()=>TS,IterableDiffers:()=>Vy,KeyValueDiffers:()=>Uy,LOCALE_ID:()=>qy,MissingTranslationStrategy:()=>Al,ModuleWithComponentFactories:()=>_C,NO_ERRORS_SCHEMA:()=>bd,NgModule:()=>xS,NgModuleFactory:()=>Bv,NgModuleFactoryLoader:()=>iA,NgModuleRef:()=>id,NgProbeToken:()=>XS,NgZone:()=>eu,Optional:()=>Ho,Output:()=>DS,PACKAGE_ROOT_URL:()=>PS,PLATFORM_ID:()=>fC,PLATFORM_INITIALIZER:()=>hC,Pipe:()=>bS,PlatformRef:()=>ME,Query:()=>Ea,QueryList:()=>jg,ReflectiveInjector:()=>cc,ReflectiveKey:()=>ea,Renderer2:()=>v0,RendererFactory2:()=>Ly,RendererStyleFlags2:()=>ha,ResolvedReflectiveFactory:()=>fy,Sanitizer:()=>Pv,SecurityContext:()=>es,Self:()=>oa,SimpleChange:()=>_s,SkipSelf:()=>aa,SystemJsNgModuleLoader:()=>lA,SystemJsNgModuleLoaderConfig:()=>UC,TRANSLATIONS:()=>kS,TRANSLATIONS_FORMAT:()=>FS,TemplateRef:()=>uh,Testability:()=>DC,TestabilityRegistry:()=>TE,Type:()=>Ti,VERSION:()=>kv,Version:()=>w0,ViewChild:()=>Nu,ViewChildren:()=>Ru,ViewContainerRef:()=>Rg,ViewEncapsulation:()=>lt,ViewRef:()=>BC,WrappedValue:()=>Os,asNativeElements:()=>dA,assertPlatform:()=>OC,createPlatform:()=>NC,createPlatformFactory:()=>xC,defineInjectable:()=>Tr,destroyPlatform:()=>eA,enableProdMode:()=>qS,forwardRef:()=>re,getDebugNode:()=>xo,getModuleFactory:()=>oA,getPlatform:()=>RE,inject:()=>Gf,isDevMode:()=>SE,platformCore:()=>wA,resolveForwardRef:()=>Z,setTestabilityGetter:()=>zS,\u02750:()=>ud,\u0275ALLOW_MULTIPLE_PLATFORMS:()=>AE,\u0275APP_ID_RANDOM_PROVIDER:()=>dC,\u0275CREATE_ATTRIBUTE_DECORATOR__POST_R3__:()=>su,\u0275ChangeDetectorStatus:()=>Ge,\u0275CodegenComponentFactoryResolver:()=>wT,\u0275Compiler_compileModuleAndAllComponentsAsync__POST_R3__:()=>EC,\u0275Compiler_compileModuleAndAllComponentsSync__POST_R3__:()=>IE,\u0275Compiler_compileModuleAsync__POST_R3__:()=>vC,\u0275Compiler_compileModuleSync__POST_R3__:()=>Zy,\u0275ComponentFactory:()=>Pf,\u0275Console:()=>gC,\u0275DEFAULT_LOCALE_ID:()=>wg,\u0275EMPTY_ARRAY:()=>he,\u0275EMPTY_MAP:()=>rD,\u0275INJECTOR_IMPL__POST_R3__:()=>lf,\u0275INJECTOR_SCOPE:()=>nc,\u0275LifecycleHooksFeature:()=>Qm,\u0275LocaleDataIndex:()=>Qn,\u0275NG_COMP_DEF:()=>Re,\u0275NG_DIR_DEF:()=>Ze,\u0275NG_ELEMENT_ID:()=>Je,\u0275NG_INJ_DEF:()=>ot,\u0275NG_MOD_DEF:()=>Ve,\u0275NG_PIPE_DEF:()=>Ue,\u0275NG_PROV_DEF:()=>_n,\u0275NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR:()=>ch,\u0275NO_CHANGE:()=>ar,\u0275NgModuleFactory:()=>Gy,\u0275NoopNgZone:()=>TC,\u0275ReflectionCapabilities:()=>et,\u0275Render3ComponentFactory:()=>eE,\u0275Render3ComponentRef:()=>ow,\u0275Render3NgModuleRef:()=>dw,\u0275RuntimeError:()=>ze,\u0275SWITCH_CHANGE_DETECTOR_REF_FACTORY__POST_R3__:()=>D0,\u0275SWITCH_COMPILE_COMPONENT__POST_R3__:()=>sC,\u0275SWITCH_COMPILE_DIRECTIVE__POST_R3__:()=>oC,\u0275SWITCH_COMPILE_INJECTABLE__POST_R3__:()=>ng,\u0275SWITCH_COMPILE_NGMODULE__POST_R3__:()=>uC,\u0275SWITCH_COMPILE_PIPE__POST_R3__:()=>aC,\u0275SWITCH_ELEMENT_REF_FACTORY__POST_R3__:()=>y0,\u0275SWITCH_IVY_ENABLED__POST_R3__:()=>yC,\u0275SWITCH_RENDERER2_FACTORY__POST_R3__:()=>E0,\u0275SWITCH_TEMPLATE_REF_FACTORY__POST_R3__:()=>M0,\u0275SWITCH_VIEW_CONTAINER_REF_FACTORY__POST_R3__:()=>x0,\u0275_sanitizeHtml:()=>yl,\u0275_sanitizeUrl:()=>Lu,\u0275allowSanitizationBypassAndThrow:()=>oo,\u0275and:()=>TA,\u0275angular_packages_core_core_a:()=>ue,\u0275angular_packages_core_core_b:()=>dl,\u0275angular_packages_core_core_ba:()=>YC,\u0275angular_packages_core_core_bb:()=>VI,\u0275angular_packages_core_core_bc:()=>Ky,\u0275angular_packages_core_core_bd:()=>KT,\u0275angular_packages_core_core_be:()=>pi,\u0275angular_packages_core_core_bf:()=>sw,\u0275angular_packages_core_core_bg:()=>T,\u0275angular_packages_core_core_bh:()=>ht,\u0275angular_packages_core_core_bi:()=>pe,\u0275angular_packages_core_core_bj:()=>Aa,\u0275angular_packages_core_core_bl:()=>tE,\u0275angular_packages_core_core_bm:()=>nE,\u0275angular_packages_core_core_bn:()=>rE,\u0275angular_packages_core_core_bo:()=>iE,\u0275angular_packages_core_core_bp:()=>sE,\u0275angular_packages_core_core_bq:()=>Ka,\u0275angular_packages_core_core_br:()=>Ms,\u0275angular_packages_core_core_bs:()=>Zo,\u0275angular_packages_core_core_bv:()=>ie,\u0275angular_packages_core_core_bw:()=>Np,\u0275angular_packages_core_core_bx:()=>yr,\u0275angular_packages_core_core_bz:()=>vt,\u0275angular_packages_core_core_c:()=>$a,\u0275angular_packages_core_core_cb:()=>G,\u0275angular_packages_core_core_cc:()=>a0,\u0275angular_packages_core_core_d:()=>lg,\u0275angular_packages_core_core_e:()=>rh,\u0275angular_packages_core_core_f:()=>gy,\u0275angular_packages_core_core_g:()=>cC,\u0275angular_packages_core_core_h:()=>I0,\u0275angular_packages_core_core_i:()=>m0,\u0275angular_packages_core_core_j:()=>ah,\u0275angular_packages_core_core_k:()=>sA,\u0275angular_packages_core_core_l:()=>N0,\u0275angular_packages_core_core_m:()=>Ag,\u0275angular_packages_core_core_n:()=>O0,\u0275angular_packages_core_core_o:()=>Gg,\u0275angular_packages_core_core_p:()=>No,\u0275angular_packages_core_core_q:()=>mA,\u0275angular_packages_core_core_r:()=>S0,\u0275angular_packages_core_core_s:()=>Fv,\u0275angular_packages_core_core_t:()=>Lv,\u0275angular_packages_core_core_u:()=>Vv,\u0275angular_packages_core_core_v:()=>Uv,\u0275angular_packages_core_core_w:()=>zC,\u0275angular_packages_core_core_x:()=>qC,\u0275angular_packages_core_core_y:()=>ZC,\u0275angular_packages_core_core_z:()=>QC,\u0275bypassSanitizationTrustHtml:()=>pd,\u0275bypassSanitizationTrustResourceUrl:()=>Qf,\u0275bypassSanitizationTrustScript:()=>Zf,\u0275bypassSanitizationTrustStyle:()=>qf,\u0275bypassSanitizationTrustUrl:()=>oi,\u0275ccf:()=>ID,\u0275clearOverrides:()=>RR,\u0275clearResolutionOfComponentResourcesQueue:()=>vc,\u0275cmf:()=>MR,\u0275compileComponent:()=>Gw,\u0275compileDirective:()=>_E,\u0275compileNgModule:()=>jw,\u0275compileNgModuleDefs:()=>Bw,\u0275compileNgModuleFactory__POST_R3__:()=>RC,\u0275compilePipe:()=>nC,\u0275createInjector:()=>rf,\u0275crt:()=>zT,\u0275defaultIterableDiffers:()=>A0,\u0275defaultKeyValueDiffers:()=>R0,\u0275detectChanges:()=>tf,\u0275devModeEqual:()=>Eo,\u0275did:()=>LD,\u0275eld:()=>DA,\u0275findLocaleData:()=>wv,\u0275flushModuleScopingQueueAsMuchAsPossible:()=>Vw,\u0275getComponentViewDefinitionFactory:()=>Q0,\u0275getDebugNodeR2:()=>_A,\u0275getDebugNode__POST_R3__:()=>Yy,\u0275getDirectives:()=>$p,\u0275getHostElement:()=>qd,\u0275getInjectableDef:()=>Vn,\u0275getLContext:()=>Kr,\u0275getLocaleCurrencyCode:()=>Sb,\u0275getLocalePluralCase:()=>FI,\u0275getModuleFactory__POST_R3__:()=>FC,\u0275getSanitizationBypassType:()=>Cc,\u0275global:()=>Yt,\u0275initServicesIfNeeded:()=>Qg,\u0275inlineInterpolate:()=>nD,\u0275interpolate:()=>tD,\u0275isBoundToModule__POST_R3__:()=>MC,\u0275isDefaultChangeDetectionStrategy:()=>Dt,\u0275isListLikeIterable:()=>Qd,\u0275isObservable:()=>gg,\u0275isPromise:()=>pg,\u0275isSubscribable:()=>Iy,\u0275ivyEnabled:()=>Hg,\u0275makeDecorator:()=>zo,\u0275markDirty:()=>Mp,\u0275mod:()=>uD,\u0275mpd:()=>aD,\u0275ncd:()=>jA,\u0275noSideEffects:()=>me,\u0275nov:()=>RD,\u0275overrideComponentView:()=>AR,\u0275overrideProvider:()=>SR,\u0275pad:()=>HA,\u0275patchComponentDefWithScope:()=>gE,\u0275pid:()=>VD,\u0275pod:()=>WA,\u0275ppd:()=>$A,\u0275prd:()=>UD,\u0275publishDefaultGlobalUtils:()=>L_,\u0275publishGlobalUtil:()=>ka,\u0275qud:()=>FA,\u0275registerLocaleData:()=>Db,\u0275registerModuleFactory:()=>YD,\u0275registerNgModuleType:()=>lw,\u0275renderComponent:()=>U_,\u0275resetCompiledComponents:()=>fS,\u0275resetJitOptions:()=>dS,\u0275resolveComponentResources:()=>ph,\u0275setClassMetadata:()=>aw,\u0275setCurrentInjector:()=>Qo,\u0275setDocument:()=>Us,\u0275setLocaleId:()=>Oy,\u0275store:()=>oy,\u0275stringify:()=>Y,\u0275ted:()=>qA,\u0275transitiveScopesFor:()=>$g,\u0275unregisterLocaleData:()=>Ab,\u0275unv:()=>GT,\u0275unwrapSafeValue:()=>Ha,\u0275vid:()=>JA,\u0275whenRendered:()=>j_,\u0275\u0275CopyDefinitionFeature:()=>Kc,\u0275\u0275FactoryTarget:()=>xi,\u0275\u0275InheritDefinitionFeature:()=>Zd,\u0275\u0275NgOnChangesFeature:()=>ii,\u0275\u0275ProvidersFeature:()=>f0,\u0275\u0275advance:()=>Lh,\u0275\u0275attribute:()=>ny,\u0275\u0275attributeInterpolate1:()=>Zp,\u0275\u0275attributeInterpolate2:()=>ry,\u0275\u0275attributeInterpolate3:()=>Qp,\u0275\u0275attributeInterpolate4:()=>Yp,\u0275\u0275attributeInterpolate5:()=>wf,\u0275\u0275attributeInterpolate6:()=>wu,\u0275\u0275attributeInterpolate7:()=>iy,\u0275\u0275attributeInterpolate8:()=>Cu,\u0275\u0275attributeInterpolateV:()=>Zu,\u0275\u0275classMap:()=>cI,\u0275\u0275classMapInterpolate1:()=>_I,\u0275\u0275classMapInterpolate2:()=>vI,\u0275\u0275classMapInterpolate3:()=>EI,\u0275\u0275classMapInterpolate4:()=>II,\u0275\u0275classMapInterpolate5:()=>wI,\u0275\u0275classMapInterpolate6:()=>CI,\u0275\u0275classMapInterpolate7:()=>bI,\u0275\u0275classMapInterpolate8:()=>TI,\u0275\u0275classMapInterpolateV:()=>DI,\u0275\u0275classProp:()=>ev,\u0275\u0275contentQuery:()=>xw,\u0275\u0275defineComponent:()=>dn,\u0275\u0275defineDirective:()=>Ki,\u0275\u0275defineInjectable:()=>bn,\u0275\u0275defineInjector:()=>Xt,\u0275\u0275defineNgModule:()=>Fr,\u0275\u0275definePipe:()=>Dr,\u0275\u0275directiveInject:()=>ed,\u0275\u0275disableBindings:()=>To,\u0275\u0275element:()=>Tl,\u0275\u0275elementContainer:()=>vy,\u0275\u0275elementContainerEnd:()=>fg,\u0275\u0275elementContainerStart:()=>hg,\u0275\u0275elementEnd:()=>dg,\u0275\u0275elementStart:()=>bu,\u0275\u0275enableBindings:()=>Fo,\u0275\u0275getCurrentView:()=>Ey,\u0275\u0275getInheritedFactory:()=>Hr,\u0275\u0275hostProperty:()=>Ev,\u0275\u0275i18n:()=>u0,\u0275\u0275i18nApply:()=>c0,\u0275\u0275i18nAttributes:()=>l0,\u0275\u0275i18nEnd:()=>Dv,\u0275\u0275i18nExp:()=>Sv,\u0275\u0275i18nPostprocess:()=>d0,\u0275\u0275i18nStart:()=>Tv,\u0275\u0275inject:()=>Xi,\u0275\u0275injectAttribute:()=>Yi,\u0275\u0275invalidFactory:()=>Af,\u0275\u0275invalidFactoryDep:()=>Ou,\u0275\u0275listener:()=>mg,\u0275\u0275loadQuery:()=>Ow,\u0275\u0275namespaceHTML:()=>$n,\u0275\u0275namespaceMathML:()=>En,\u0275\u0275namespaceSVG:()=>Vt,\u0275\u0275nextContext:()=>Cy,\u0275\u0275ngDeclareClassMetadata:()=>PR,\u0275\u0275ngDeclareComponent:()=>kR,\u0275\u0275ngDeclareDirective:()=>OR,\u0275\u0275ngDeclareFactory:()=>FR,\u0275\u0275ngDeclareInjectable:()=>VR,\u0275\u0275ngDeclareInjector:()=>UR,\u0275\u0275ngDeclareNgModule:()=>jR,\u0275\u0275ngDeclarePipe:()=>BR,\u0275\u0275pipe:()=>ww,\u0275\u0275pipeBind1:()=>Cw,\u0275\u0275pipeBind2:()=>bw,\u0275\u0275pipeBind3:()=>Tw,\u0275\u0275pipeBind4:()=>Dw,\u0275\u0275pipeBindV:()=>Sw,\u0275\u0275projection:()=>Ty,\u0275\u0275projectionDef:()=>by,\u0275\u0275property:()=>td,\u0275\u0275propertyInterpolate:()=>vg,\u0275\u0275propertyInterpolate1:()=>Eg,\u0275\u0275propertyInterpolate2:()=>Dy,\u0275\u0275propertyInterpolate3:()=>Mf,\u0275\u0275propertyInterpolate4:()=>s,\u0275\u0275propertyInterpolate5:()=>e,\u0275\u0275propertyInterpolate6:()=>i,\u0275\u0275propertyInterpolate7:()=>a,\u0275\u0275propertyInterpolate8:()=>l,\u0275\u0275propertyInterpolateV:()=>p,\u0275\u0275pureFunction0:()=>hw,\u0275\u0275pureFunction1:()=>fw,\u0275\u0275pureFunction2:()=>pw,\u0275\u0275pureFunction3:()=>gw,\u0275\u0275pureFunction4:()=>mw,\u0275\u0275pureFunction5:()=>yw,\u0275\u0275pureFunction6:()=>_w,\u0275\u0275pureFunction7:()=>vw,\u0275\u0275pureFunction8:()=>Ew,\u0275\u0275pureFunctionV:()=>Iw,\u0275\u0275queryRefresh:()=>Mw,\u0275\u0275reference:()=>Jp,\u0275\u0275resolveBody:()=>mu,\u0275\u0275resolveDocument:()=>da,\u0275\u0275resolveWindow:()=>xs,\u0275\u0275restoreView:()=>Sa,\u0275\u0275sanitizeHtml:()=>_d,\u0275\u0275sanitizeResourceUrl:()=>Bl,\u0275\u0275sanitizeScript:()=>Rc,\u0275\u0275sanitizeStyle:()=>vd,\u0275\u0275sanitizeUrl:()=>Ed,\u0275\u0275sanitizeUrlOrResourceUrl:()=>Mc,\u0275\u0275setComponentScope:()=>jt,\u0275\u0275setNgModuleScope:()=>Mn,\u0275\u0275styleMap:()=>Yu,\u0275\u0275styleMapInterpolate1:()=>SI,\u0275\u0275styleMapInterpolate2:()=>AI,\u0275\u0275styleMapInterpolate3:()=>RI,\u0275\u0275styleMapInterpolate4:()=>MI,\u0275\u0275styleMapInterpolate5:()=>NI,\u0275\u0275styleMapInterpolate6:()=>xI,\u0275\u0275styleMapInterpolate7:()=>OI,\u0275\u0275styleMapInterpolate8:()=>PI,\u0275\u0275styleMapInterpolateV:()=>kI,\u0275\u0275styleProp:()=>X_,\u0275\u0275stylePropInterpolate1:()=>dv,\u0275\u0275stylePropInterpolate2:()=>hv,\u0275\u0275stylePropInterpolate3:()=>fv,\u0275\u0275stylePropInterpolate4:()=>pv,\u0275\u0275stylePropInterpolate5:()=>gv,\u0275\u0275stylePropInterpolate6:()=>mv,\u0275\u0275stylePropInterpolate7:()=>yv,\u0275\u0275stylePropInterpolate8:()=>_v,\u0275\u0275stylePropInterpolateV:()=>vv,\u0275\u0275syntheticHostListener:()=>yg,\u0275\u0275syntheticHostProperty:()=>Iv,\u0275\u0275template:()=>sy,\u0275\u0275templateRefExtractor:()=>Lw,\u0275\u0275text:()=>yI,\u0275\u0275textInterpolate:()=>nv,\u0275\u0275textInterpolate1:()=>My,\u0275\u0275textInterpolate2:()=>rv,\u0275\u0275textInterpolate3:()=>iv,\u0275\u0275textInterpolate4:()=>sv,\u0275\u0275textInterpolate5:()=>ov,\u0275\u0275textInterpolate6:()=>av,\u0275\u0275textInterpolate7:()=>uv,\u0275\u0275textInterpolate8:()=>lv,\u0275\u0275textInterpolateV:()=>cv,\u0275\u0275trustConstantHtml:()=>bh,\u0275\u0275trustConstantResourceUrl:()=>ju,\u0275\u0275viewQuery:()=>Nw});var m=F(6006),j=F(9734),q=F(3948),Ce=F(636),ce=F(2564);function ie(t){for(let n in t)if(t[n]===ie)return n;throw Error("Could not find renamed property on target object.")}function de(t,n){for(const r in n)n.hasOwnProperty(r)&&!t.hasOwnProperty(r)&&(t[r]=n[r])}function Y(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Y).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const r=n.indexOf("\n");return-1===r?n:n.substring(0,r)}function ve(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const J=ie({__forward_ref__:ie});function re(t){return t.__forward_ref__=re,t.toString=function(){return Y(this())},t}function Z(t){return ue(t)?t():t}function ue(t){return"function"==typeof t&&t.hasOwnProperty(J)&&t.__forward_ref__===re}class ze extends Error{constructor(n,r){super(function(t,n){return`${t?`NG0${t}: `:""}${n}`}(n,r)),this.code=n}}function Te(t){return"string"==typeof t?t:null==t?"":String(t)}function Me(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Te(t)}function kt(t,n){const r=n?` in ${n}`:"";throw new ze("201",`No provider for ${Me(t)} found${r}`)}function $t(t,n,r,o){throw new Error(`ASSERTION ERROR: ${t}`+(null==o?"":` [Expected=> ${r} ${o} ${n} <=Actual]`))}function bn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}const Tr=bn;function Xt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Vn(t){return Kt(t,_n)||Kt(t,zn)}function Kt(t,n){return t.hasOwnProperty(n)?t[n]:null}function ir(t){return t&&(t.hasOwnProperty(ot)||t.hasOwnProperty(dr))?t[ot]:null}const _n=ie({\u0275prov:ie}),ot=ie({\u0275inj:ie}),zn=ie({ngInjectableDef:ie}),dr=ie({ngInjectorDef:ie});var Ft=(()=>((Ft=Ft||{})[Ft.Default=0]="Default",Ft[Ft.Host=1]="Host",Ft[Ft.Self=2]="Self",Ft[Ft.SkipSelf=4]="SkipSelf",Ft[Ft.Optional=8]="Optional",Ft))();let An;function yr(){return An}function kr(t){const n=An;return An=t,n}function $e(t,n,r){const o=Vn(t);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:r&Ft.Optional?null:void 0!==n?n:void kt(Y(t),"Injector")}function me(t){return{toString:t}.toString()}var rt=(()=>((rt=rt||{})[rt.OnPush=0]="OnPush",rt[rt.Default=1]="Default",rt))(),Ge=(()=>((Ge=Ge||{})[Ge.CheckOnce=0]="CheckOnce",Ge[Ge.Checked=1]="Checked",Ge[Ge.CheckAlways=2]="CheckAlways",Ge[Ge.Detached=3]="Detached",Ge[Ge.Errored=4]="Errored",Ge[Ge.Destroyed=5]="Destroyed",Ge))();function Dt(t){return null==t||t===rt.Default}var lt=(()=>((lt=lt||{})[lt.Emulated=0]="Emulated",lt[lt.None=2]="None",lt[lt.ShadowDom=3]="ShadowDom",lt))();const xt="undefined"!=typeof globalThis&&globalThis,mn="undefined"!=typeof window&&window,Kn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Tn="undefined"!=typeof global&&global,Yt=xt||Tn||mn||Kn,ye={},he=[],Re=ie({\u0275cmp:ie}),Ze=ie({\u0275dir:ie}),Ue=ie({\u0275pipe:ie}),Ve=ie({\u0275mod:ie}),z=ie({\u0275loc:ie}),ae=ie({\u0275fac:ie}),Je=ie({__NG_ELEMENT_ID__:ie});let yt=0;function dn(t){return me(()=>{const r={},o={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===rt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||he,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||lt.Emulated,id:"c",styles:t.styles||he,_:null,setInput:null,schemas:t.schemas||null,tView:null},u=t.directives,c=t.features,f=t.pipes;return o.id+=yt++,o.inputs=Jr(t.inputs,r),o.outputs=Jr(t.outputs),c&&c.forEach(y=>y(o)),o.directiveDefs=u?()=>("function"==typeof u?u():u).map(pn):null,o.pipeDefs=f?()=>("function"==typeof f?f():f).map(Ar):null,o})}function jt(t,n,r){const o=t.\u0275cmp;o.directiveDefs=()=>n.map(pn),o.pipeDefs=()=>r.map(Ar)}function pn(t){return Mr(t)||cr(t)}function Ar(t){return ai(t)}const Rr={};function Fr(t){return me(()=>{const n={type:t.type,bootstrap:t.bootstrap||he,declarations:t.declarations||he,imports:t.imports||he,exports:t.exports||he,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(Rr[t.id]=t.type),n})}function Mn(t,n){return me(()=>{const r=Ur(t,!0);r.declarations=n.declarations||he,r.imports=n.imports||he,r.exports=n.exports||he})}function Jr(t,n){if(null==t)return ye;const r={};for(const o in t)if(t.hasOwnProperty(o)){let u=t[o],c=u;Array.isArray(u)&&(c=u[1],u=u[0]),r[u]=o,n&&(n[u]=c)}return r}const Ki=dn;function Dr(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Mr(t){return t[Re]||null}function cr(t){return t[Ze]||null}function ai(t){return t[Ue]||null}function Ur(t,n){const r=t[Ve]||null;if(!r&&!0===n)throw new Error(`Type ${Y(t)} does not have '\u0275mod' property.`);return r}function or(t){return Array.isArray(t)&&"object"==typeof t[1]}function gr(t){return Array.isArray(t)&&!0===t[1]}function gs(t){return 0!=(8&t.flags)}function Ri(t){return 2==(2&t.flags)}function Ui(t){return 1==(1&t.flags)}function li(t){return null!==t.template}function wi(t){return 0!=(512&t[2])}function ci(t,n){return t.hasOwnProperty(ae)?t[ae]:null}class _s{constructor(n,r,o){this.previousValue=n,this.currentValue=r,this.firstChange=o}isFirstChange(){return this.firstChange}}function ii(){return pi}function pi(t){return t.type.prototype.ngOnChanges&&(t.setInput=Pn),ya}function ya(){const t=Co(this),n=null==t?void 0:t.current;if(n){const r=t.previous;if(r===ye)t.previous=n;else for(let o in n)r[o]=n[o];t.current=null,this.ngOnChanges(n)}}function Pn(t,n,r,o){const u=Co(t)||function(t,n){return t[Zi]=n}(t,{previous:ye,current:null}),c=u.current||(u.current={}),f=u.previous,y=this.declaredInputs[r],D=f[y];c[y]=new _s(D&&D.currentValue,n,f===ye),t[o]=n}ii.ngInherit=!0;const Zi="__ngSimpleChanges__";function Co(t){return t[Zi]||null}let os=null;const vs=t=>{os=t},ei=function(t,n,r){null!=os&&os(t,n,r)},Xs="http://www.w3.org/2000/svg",na="http://www.w3.org/1998/MathML/";let bo;function Us(t){bo=t}function ds(){return void 0!==bo?bo:"undefined"!=typeof document?document:void 0}function P(t){return!!t.listen}const k={createRenderer:(t,n)=>ds()};function b(t){for(;Array.isArray(t);)t=t[0];return t}function Fe(t,n){return b(n[t])}function vt(t,n){return b(n[t.index])}function Yn(t,n){return t.data[n]}function Nn(t,n){return t[n]}function hr(t,n){const r=n[t];return or(r)?r:r[0]}function Ir(t){return 4==(4&t[2])}function di(t){return 128==(128&t[2])}function Nr(t,n){return null==n?null:t[n]}function bs(t){t[18]=0}function Ts(t,n){t[5]+=n;let r=t,o=t[3];for(;null!==o&&(1===n&&1===r[5]||-1===n&&0===r[5]);)o[5]+=n,r=o,o=o[3]}const In={lFrame:yi(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ho(){return In.bindingsEnabled}function Fo(){In.bindingsEnabled=!0}function To(){In.bindingsEnabled=!1}function ht(){return In.lFrame.lView}function Hn(){return In.lFrame.tView}function Sa(t){return In.lFrame.contextLView=t,t[8]}function si(){let t=Lo();for(;null!==t&&64===t.type;)t=t.parent;return t}function Lo(){return In.lFrame.currentTNode}function Vo(){const t=In.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}function Ds(t,n){const r=In.lFrame;r.currentTNode=t,r.isParent=n}function K(){return In.lFrame.isParent}function _(){In.lFrame.isParent=!1}function H(){return In.isInCheckNoChangesMode}function se(t){In.isInCheckNoChangesMode=t}function pe(){const t=In.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function we(){return In.lFrame.bindingIndex}function He(t){return In.lFrame.bindingIndex=t}function dt(){return In.lFrame.bindingIndex++}function bt(t){const n=In.lFrame,r=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,r}function jn(t){In.lFrame.inI18n=t}function Jn(t,n){const r=In.lFrame;r.bindingIndex=r.bindingRootIndex=t,Fn(n)}function Fn(t){In.lFrame.currentDirectiveIndex=t}function Xn(t){const n=In.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}function xr(){return In.lFrame.currentQueryIndex}function Zr(t){In.lFrame.currentQueryIndex=t}function Ci(t){const n=t[1];return 2===n.type?n.declTNode:1===n.type?t[6]:null}function mi(t,n,r){if(r&Ft.SkipSelf){let u=n,c=t;for(;!(u=u.parent,null!==u||r&Ft.Host||(u=Ci(c),null===u||(c=c[15],10&u.type))););if(null===u)return!1;n=u,t=c}const o=In.lFrame=js();return o.currentTNode=n,o.lView=t,!0}function Is(t){const n=js(),r=t[1];In.lFrame=n,n.currentTNode=r.firstChild,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex,n.inI18n=!1}function js(){const t=In.lFrame,n=null===t?null:t.child;return null===n?yi(t):n}function yi(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Ss(){const t=In.lFrame;return In.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Bs=Ss;function fi(){const t=Ss();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Aa(t){return(In.lFrame.contextLView=function(t,n){for(;t>0;)n=n[15],t--;return n}(t,In.lFrame.contextLView))[8]}function ti(){return In.lFrame.selectedIndex}function Do(t){In.lFrame.selectedIndex=t}function Cr(){const t=In.lFrame;return Yn(t.tView,t.selectedIndex)}function Vt(){In.lFrame.currentNamespace=Xs}function En(){In.lFrame.currentNamespace=na}function $n(){In.lFrame.currentNamespace=null}function ji(t,n){for(let r=n.directiveStart,o=n.directiveEnd;r<o;r++){const c=t.data[r].type.prototype,{ngAfterContentInit:f,ngAfterContentChecked:y,ngAfterViewInit:D,ngAfterViewChecked:x,ngOnDestroy:B}=c;f&&(t.contentHooks||(t.contentHooks=[])).push(-r,f),y&&((t.contentHooks||(t.contentHooks=[])).push(r,y),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(r,y)),D&&(t.viewHooks||(t.viewHooks=[])).push(-r,D),x&&((t.viewHooks||(t.viewHooks=[])).push(r,x),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(r,x)),null!=B&&(t.destroyHooks||(t.destroyHooks=[])).push(r,B)}}function $r(t,n,r){hs(t,n,3,r)}function Qr(t,n,r,o){(3&t[2])===r&&hs(t,n,r,o)}function ni(t,n){let r=t[2];(3&r)===n&&(r&=2047,r+=1,t[2]=r)}function hs(t,n,r,o){const c=null!=o?o:-1,f=n.length-1;let y=0;for(let D=void 0!==o?65535&t[18]:0;D<f;D++)if("number"==typeof n[D+1]){if(y=n[D],null!=o&&y>=o)break}else n[D]<0&&(t[18]+=65536),(y<c||-1==c)&&(eo(t,r,n,D),t[18]=(4294901760&t[18])+D+2),D++}function eo(t,n,r,o){const u=r[o]<0,c=r[o+1],y=t[u?-r[o]:r[o]];if(u){if(t[2]>>11<t[18]>>16&&(3&t[2])===n){t[2]+=2048,ei(4,y,c);try{c.call(y)}finally{ei(5,y,c)}}}else{ei(4,y,c);try{c.call(y)}finally{ei(5,y,c)}}}class ws{constructor(n,r,o){this.factory=n,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=o}}function tu(t,n,r){const o=P(t);let u=0;for(;u<r.length;){const c=r[u];if("number"==typeof c){if(0!==c)break;u++;const f=r[u++],y=r[u++],D=r[u++];o?t.setAttribute(n,y,D,f):n.setAttributeNS(f,y,D)}else{const f=c,y=r[++u];Bn(f)?o&&t.setProperty(n,f,y):o?t.setAttribute(n,f,y):n.setAttribute(f,y),u++}}return u}function en(t){return 3===t||4===t||6===t}function Bn(t){return 64===t.charCodeAt(0)}function nu(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let r=-1;for(let o=0;o<n.length;o++){const u=n[o];"number"==typeof u?r=u:0===r||Bt(t,r,u,null,-1===r||2===r?n[++o]:null)}}return t}function Bt(t,n,r,o,u){let c=0,f=t.length;if(-1===n)f=-1;else for(;c<t.length;){const y=t[c++];if("number"==typeof y){if(y===n){f=-1;break}if(y>n){f=c-1;break}}}for(;c<t.length;){const y=t[c];if("number"==typeof y)break;if(y===r){if(null===o)return void(null!==u&&(t[c+1]=u));if(o===t[c+1])return void(t[c+2]=u)}c++,null!==o&&c++,null!==u&&c++}-1!==f&&(t.splice(f,0,n),c=f+1),t.splice(c++,0,r),null!==o&&t.splice(c++,0,o),null!==u&&t.splice(c++,0,u)}function st(t){return-1!==t}function _t(t){return 32767&t}function Rs(t,n){let r=function(t){return t>>16}(t),o=n;for(;r>0;)o=o[15],r--;return o}let Ma=!0;function _a(t){const n=Ma;return Ma=t,n}let Na=0;function ru(t,n){const r=iu(t,n);if(-1!==r)return r;const o=n[1];o.firstCreatePass&&(t.injectorIndex=n.length,Ni(o.data,t),Ni(n,null),Ni(o.blueprint,null));const u=po(t,n),c=t.injectorIndex;if(st(u)){const f=_t(u),y=Rs(u,n),D=y[1].data;for(let x=0;x<8;x++)n[c+x]=y[f+x]|D[f+x]}return n[c+8]=u,c}function Ni(t,n){t.push(0,0,0,0,0,0,0,0,n)}function iu(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function po(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let r=0,o=null,u=n;for(;null!==u;){const c=u[1],f=c.type;if(o=2===f?c.declTNode:1===f?u[6]:null,null===o)return-1;if(r++,u=u[15],-1!==o.injectorIndex)return o.injectorIndex|r<<16}return-1}function A(t,n,r){!function(t,n,r){let o;"string"==typeof r?o=r.charCodeAt(0)||0:r.hasOwnProperty(Je)&&(o=r[Je]),null==o&&(o=r[Je]=Na++);const u=255&o;n.data[t+(u>>5)]|=1<<u}(t,n,r)}function T(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const r=t.attrs;if(r){const o=r.length;let u=0;for(;u<o;){const c=r[u];if(en(c))break;if(0===c)u+=2;else if("number"==typeof c)for(u++;u<o&&"string"==typeof r[u];)u++;else{if(c===n)return r[u+1];u+=2}}}return null}function I(t,n,r){if(r&Ft.Optional)return t;kt(n,"NodeInjector")}function O(t,n,r,o){if(r&Ft.Optional&&void 0===o&&(o=null),0==(r&(Ft.Self|Ft.Host))){const u=t[9],c=kr(void 0);try{return u?u.get(n,o,r&Ft.Optional):$e(n,o,r&Ft.Optional)}finally{kr(c)}}return I(o,n,r)}function V(t,n,r,o=Ft.Default,u){if(null!==t){const c=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Je)?t[Je]:void 0;return"number"==typeof n?n>=0?255&n:fe:n}(r);if("function"==typeof c){if(!mi(n,t,o))return o&Ft.Host?I(u,r,o):O(n,r,o,u);try{const f=c(o);if(null!=f||o&Ft.Optional)return f;kt(r)}finally{Bs()}}else if("number"==typeof c){let f=null,y=iu(t,n),D=-1,x=o&Ft.Host?n[16][6]:null;for((-1===y||o&Ft.SkipSelf)&&(D=-1===y?po(t,n):n[y+8],-1!==D&&Or(o,!1)?(f=n[1],y=_t(D),n=Rs(D,n)):y=-1);-1!==y;){const B=n[1];if(wn(c,y,B.data)){const ne=Oe(y,n,r,f,o,x);if(ne!==X)return ne}D=n[y+8],-1!==D&&Or(o,n[1].data[y+8]===x)&&wn(c,y,n)?(f=B,y=_t(D),n=Rs(D,n)):y=-1}}}return O(n,r,o,u)}const X={};function fe(){return new fr(si(),ht())}function Oe(t,n,r,o,u,c){const f=n[1],y=f.data[t+8],B=ct(y,f,r,null==o?Ri(y)&&Ma:o!=f&&0!=(3&y.type),u&Ft.Host&&c===y);return null!==B?wt(n,f,B,y):X}function ct(t,n,r,o,u){const c=t.providerIndexes,f=n.data,y=1048575&c,D=t.directiveStart,B=c>>20,oe=u?y+B:t.directiveEnd;for(let be=o?y:y+B;be<oe;be++){const ke=f[be];if(be<D&&r===ke||be>=D&&ke.type===r)return be}if(u){const be=f[D];if(be&&li(be)&&be.type===r)return D}return null}function wt(t,n,r,o){let u=t[r];const c=n.data;if(function(t){return t instanceof ws}(u)){const f=u;f.resolving&&function(t,n){throw new ze("200",`Circular dependency in DI detected for ${t}`)}(Me(c[r]));const y=_a(f.canSeeViewProviders);f.resolving=!0;const D=f.injectImpl?kr(f.injectImpl):null;mi(t,o,Ft.Default);try{u=t[r]=f.factory(void 0,c,t,o),n.firstCreatePass&&r>=o.directiveStart&&function(t,n,r){const{ngOnChanges:o,ngOnInit:u,ngDoCheck:c}=n.type.prototype;if(o){const f=pi(n);(r.preOrderHooks||(r.preOrderHooks=[])).push(t,f),(r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(t,f)}u&&(r.preOrderHooks||(r.preOrderHooks=[])).push(0-t,u),c&&((r.preOrderHooks||(r.preOrderHooks=[])).push(t,c),(r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(t,c))}(r,c[r],n)}finally{null!==D&&kr(D),_a(y),f.resolving=!1,Bs()}}return u}function wn(t,n,r){return!!(r[n+(t>>5)]&1<<t)}function Or(t,n){return!(t&Ft.Self||t&Ft.Host&&n)}class fr{constructor(n,r){this._tNode=n,this._lView=r}get(n,r){return V(this._tNode,this._lView,n,void 0,r)}}function Hr(t){return me(()=>{const n=t.prototype.constructor,r=n[ae]||no(n),o=Object.prototype;let u=Object.getPrototypeOf(t.prototype).constructor;for(;u&&u!==o;){const c=u[ae]||no(u);if(c&&c!==r)return c;u=Object.getPrototypeOf(u)}return c=>new c})}function no(t){return ue(t)?()=>{const n=no(Z(t));return n&&n()}:ci(t)}function Yi(t){return T(si(),t)}const br="__annotations__",fs="__parameters__",Hi="__prop__metadata__";function zo(t,n,r,o,u){return me(()=>{const c=qo(n);function f(...y){if(this instanceof f)return c.call(this,...y),this;const D=new f(...y);return function(B){return u&&u(B,...y),(B.hasOwnProperty(br)?B[br]:Object.defineProperty(B,br,{value:[]})[br]).push(D),o&&o(B),B}}return r&&(f.prototype=Object.create(r.prototype)),f.prototype.ngMetadataName=t,f.annotationCls=f,f})}function qo(t){return function(...r){if(t){const o=t(...r);for(const u in o)this[u]=o[u]}}}function Zo(t,n,r){return me(()=>{const o=qo(n);function u(...c){if(this instanceof u)return o.apply(this,c),this;const f=new u(...c);return y.annotation=f,y;function y(D,x,B){const ne=D.hasOwnProperty(fs)?D[fs]:Object.defineProperty(D,fs,{value:[]})[fs];for(;ne.length<=B;)ne.push(null);return(ne[B]=ne[B]||[]).push(f),D}}return r&&(u.prototype=Object.create(r.prototype)),u.prototype.ngMetadataName=t,u.annotationCls=u,u})}function Ms(t,n,r,o){return me(()=>{const u=qo(n);function c(...f){if(this instanceof c)return u.apply(this,f),this;const y=new c(...f);return function(x,B){const ne=x.constructor,oe=ne.hasOwnProperty(Hi)?ne[Hi]:Object.defineProperty(ne,Hi,{value:{}})[Hi];oe[B]=oe.hasOwnProperty(B)&&oe[B]||[],oe[B].unshift(y),o&&o(x,B,...f)}}return r&&(c.prototype=Object.create(r.prototype)),c.prototype.ngMetadataName=t,c.annotationCls=c,c})}function su(){return Zo("Attribute",t=>({attributeName:t,__NG_ELEMENT_ID__:()=>Yi(t)}))}const tn=su();class bi{constructor(n,r){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=bn({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}toString(){return`InjectionToken ${this._desc}`}}const va=new bi("AnalyzeForEntryComponents");class Ea{}const Va=Ms("ContentChildren",(t,n={})=>Object.assign({selector:t,first:!1,isViewQuery:!1,descendants:!1,emitDistinctChangesOnly:!0},n),Ea),ll=Ms("ContentChild",(t,n={})=>Object.assign({selector:t,first:!0,isViewQuery:!1,descendants:!0},n),Ea),Ru=Ms("ViewChildren",(t,n={})=>Object.assign({selector:t,first:!1,isViewQuery:!0,descendants:!0,emitDistinctChangesOnly:!0},n),Ea),Nu=Ms("ViewChild",(t,n)=>Object.assign({selector:t,first:!0,isViewQuery:!0,descendants:!0},n),Ea);var xi=(()=>((xi=xi||{})[xi.Directive=0]="Directive",xi[xi.Component=1]="Component",xi[xi.Injectable=2]="Injectable",xi[xi.Pipe=3]="Pipe",xi[xi.NgModule=4]="NgModule",xi))();function vi(t){const n=Yt.ng;if(n&&n.\u0275compilerFacade)return n.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}const Ti=Function;function Ua(t){return"function"==typeof t}function Hs(t,n){void 0===n&&(n=t);for(let r=0;r<t.length;r++){let o=t[r];Array.isArray(o)?(n===t&&(n=t.slice(0,r)),Hs(o,n)):n!==t&&n.push(o)}return n}function go(t,n){t.forEach(r=>Array.isArray(r)?go(r,n):n(r))}function ja(t,n,r){n>=t.length?t.push(r):t.splice(n,0,r)}function Uo(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function ia(t,n){const r=[];for(let o=0;o<t;o++)r.push(n);return r}function jo(t,n,r){let o=Ba(t,n);return o>=0?t[1|o]=r:(o=~o,function(t,n,r,o){let u=t.length;if(u==n)t.push(r,o);else if(1===u)t.push(o,t[0]),t[0]=r;else{for(u--,t.push(t[u-1],t[u]);u>n;)t[u]=t[u-2],u--;t[n]=r,t[n+1]=o}}(t,o,n,r)),o}function au(t,n){const r=Ba(t,n);if(r>=0)return t[1|r]}function Ba(t,n){return function(t,n,r){let o=0,u=t.length>>r;for(;u!==o;){const c=o+(u-o>>1),f=t[c<<r];if(n===f)return c<<r;f>n?u=c:o=c+1}return~(u<<r)}(t,n,1)}const N=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\))\)/,U=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,ee=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,_e=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{\s*super\(\.\.\.arguments\)/;class et{constructor(n){this._reflect=n||Yt.Reflect}isReflectionEnabled(){return!0}factory(n){return(...r)=>new n(...r)}_zipTypesAndAnnotations(n,r){let o;o=ia(void 0===n?r.length:n.length);for(let u=0;u<o.length;u++)o[u]=void 0===n?[]:n[u]&&n[u]!=Object?[n[u]]:[],r&&null!=r[u]&&(o[u]=o[u].concat(r[u]));return o}_ownParameters(n,r){const o=n.toString();if(N.test(t=o)||_e.test(t)||U.test(t)&&!ee.test(t))return null;var t;if(n.parameters&&n.parameters!==r.parameters)return n.parameters;const u=n.ctorParameters;if(u&&u!==r.ctorParameters){const y="function"==typeof u?u():u,D=y.map(B=>B&&B.type),x=y.map(B=>B&&It(B.decorators));return this._zipTypesAndAnnotations(D,x)}const c=n.hasOwnProperty(fs)&&n[fs],f=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",n);return f||c?this._zipTypesAndAnnotations(f,c):ia(n.length)}parameters(n){if(!Ua(n))return[];const r=Ut(n);let o=this._ownParameters(n,r);return!o&&r!==Object&&(o=this.parameters(r)),o||[]}_ownAnnotations(n,r){if(n.annotations&&n.annotations!==r.annotations){let o=n.annotations;return"function"==typeof o&&o.annotations&&(o=o.annotations),o}return n.decorators&&n.decorators!==r.decorators?It(n.decorators):n.hasOwnProperty(br)?n[br]:null}annotations(n){if(!Ua(n))return[];const r=Ut(n),o=this._ownAnnotations(n,r)||[];return(r!==Object?this.annotations(r):[]).concat(o)}_ownPropMetadata(n,r){if(n.propMetadata&&n.propMetadata!==r.propMetadata){let o=n.propMetadata;return"function"==typeof o&&o.propMetadata&&(o=o.propMetadata),o}if(n.propDecorators&&n.propDecorators!==r.propDecorators){const o=n.propDecorators,u={};return Object.keys(o).forEach(c=>{u[c]=It(o[c])}),u}return n.hasOwnProperty(Hi)?n[Hi]:null}propMetadata(n){if(!Ua(n))return{};const r=Ut(n),o={};if(r!==Object){const c=this.propMetadata(r);Object.keys(c).forEach(f=>{o[f]=c[f]})}const u=this._ownPropMetadata(n,r);return u&&Object.keys(u).forEach(c=>{const f=[];o.hasOwnProperty(c)&&f.push(...o[c]),f.push(...u[c]),o[c]=f}),o}ownPropMetadata(n){return Ua(n)&&this._ownPropMetadata(n,Ut(n))||{}}hasLifecycleHook(n,r){return n instanceof Ti&&r in n.prototype}guards(n){return{}}getter(n){return new Function("o","return o."+n+";")}setter(n){return new Function("o","v","return o."+n+" = v;")}method(n){return new Function("o","args",`if (!o.${n}) throw new Error('"${n}" is undefined');\n        return o.${n}.apply(o, args);`)}importUri(n){return"object"==typeof n&&n.filePath?n.filePath:`./${Y(n)}`}resourceUri(n){return`./${Y(n)}`}resolveIdentifier(n,r,o,u){return u}resolveEnum(n,r){return n[r]}}function It(t){return t?t.map(n=>new(0,n.type.annotationCls)(...n.args?n.args:[])):[]}function Ut(t){const n=t.prototype?Object.getPrototypeOf(t.prototype):null;return(n?n.constructor:null)||Object}const tr={},Wr="__NG_DI_FLAG__",Oi="ngTempTokenPath",ps=/\n/gm,Bo="__source",$o=ie({provide:String,useValue:ie});let mo;function Qo(t){const n=mo;return mo=t,n}function dl(t,n=Ft.Default){if(void 0===mo)throw new Error("inject() must be called from an injection context");return null===mo?$e(t,void 0,n):mo.get(t,n&Ft.Optional?null:void 0,n)}function Xi(t,n=Ft.Default){return(yr()||dl)(Z(t),n)}function Ou(t){throw new Error("invalid")}const Gf=Xi;function lu(t){const n=[];for(let r=0;r<t.length;r++){const o=Z(t[r]);if(Array.isArray(o)){if(0===o.length)throw new Error("Arguments array must have arguments.");let u,c=Ft.Default;for(let f=0;f<o.length;f++){const y=o[f],D=mc(y);"number"==typeof D?-1===D?u=y.token:c|=D:u=y}n.push(Xi(u,c))}else n.push(Xi(o))}return n}function $a(t,n){return t[Wr]=n,t.prototype[Wr]=n,t}function mc(t){return t[Wr]}function Pu(t,n,r,o){const u=t[Oi];throw n[Bo]&&u.unshift(n[Bo]),t.message=function(t,n,r,o=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let u=Y(n);if(Array.isArray(n))u=n.map(Y).join(" -> ");else if("object"==typeof n){let c=[];for(let f in n)if(n.hasOwnProperty(f)){let y=n[f];c.push(f+":"+("string"==typeof y?JSON.stringify(y):Y(y)))}u=`{${c.join(", ")}}`}return`${r}${o?"("+o+")":""}[${u}]: ${t.replace(ps,"\n  ")}`}("\n"+t.message,u,r,o),t.ngTokenPath=u,t[Oi]=null,t}const ud=t=>({token:t}),cu=$a(Zo("Inject",ud),-1),Ho=$a(Zo("Optional"),8),oa=$a(Zo("Self"),2),aa=$a(Zo("SkipSelf"),4),du=$a(Zo("Host"),1);let ld=null;function xa(){return ld=ld||new et}function xl(t){return cd(xa().parameters(t))}function cd(t){return t.map(n=>function(t){const n={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(t)&&t.length>0)for(let r=0;r<t.length;r++){const o=t[r];if(void 0===o)continue;const u=Object.getPrototypeOf(o);if(o instanceof Ho||"Optional"===u.ngMetadataName)n.optional=!0;else if(o instanceof aa||"SkipSelf"===u.ngMetadataName)n.skipSelf=!0;else if(o instanceof oa||"Self"===u.ngMetadataName)n.self=!0;else if(o instanceof du||"Host"===u.ngMetadataName)n.host=!0;else if(o instanceof cu)n.token=o.token;else if(o instanceof tn){if(void 0===o.attributeName)throw new Error("Attribute name must be defined.");n.attribute=o.attributeName}else n.token=o}else n.token=void 0===t||Array.isArray(t)&&0===t.length?null:t;return n}(n))}function ph(t){const n=[],r=new Map;function o(u){let c=r.get(u);if(!c){const f=t(u);r.set(u,c=f.then(hd))}return c}return hu.forEach((u,c)=>{const f=[];u.templateUrl&&f.push(o(u.templateUrl).then(ne=>{u.template=ne}));const y=u.styleUrls,D=u.styles||(u.styles=[]),x=u.styles.length;y&&y.forEach((ne,oe)=>{D.push(""),f.push(o(ne).then(be=>{D[x+oe]=be,y.splice(y.indexOf(ne),1),0==y.length&&(u.styleUrls=void 0)}))});const B=Promise.all(f).then(()=>function(t){Ei.delete(t)}(c));n.push(B)}),vc(),Promise.all(n).then(()=>{})}let hu=new Map;const Ei=new Set;function _c(t){return!!(t.templateUrl&&!t.hasOwnProperty("template")||t.styleUrls&&t.styleUrls.length)}function vc(){const t=hu;return hu=new Map,t}function hd(t){return"string"==typeof t?t:t.text()}let Ia,Ic;function fl(){if(void 0===Ia&&(Ia=null,Yt.trustedTypes))try{Ia=Yt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return Ia}function Fu(t){var n;return(null===(n=fl())||void 0===n?void 0:n.createHTML(t))||t}function ls(){if(void 0===Ic&&(Ic=null,Yt.trustedTypes))try{Ic=Yt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return Ic}function Pr(t){var n;return(null===(n=ls())||void 0===n?void 0:n.createHTML(t))||t}function fd(t){var n;return(null===(n=ls())||void 0===n?void 0:n.createScript(t))||t}function pl(t){var n;return(null===(n=ls())||void 0===n?void 0:n.createScriptURL(t))||t}class Ii{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class wc extends Ii{getTypeName(){return"HTML"}}class so extends Ii{getTypeName(){return"Style"}}class Wi extends Ii{getTypeName(){return"Script"}}class mh extends Ii{getTypeName(){return"URL"}}class gl extends Ii{getTypeName(){return"ResourceURL"}}function Ha(t){return t instanceof Ii?t.changingThisBreaksApplicationSecurity:t}function oo(t,n){const r=Cc(t);if(null!=r&&r!==n){if("ResourceURL"===r&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${r} (see https://g.co/ng/security#xss)`)}return r===n}function Cc(t){return t instanceof Ii&&t.getTypeName()||null}function pd(t){return new wc(t)}function qf(t){return new so(t)}function Zf(t){return new Wi(t)}function oi(t){return new mh(t)}function Qf(t){return new gl(t)}function ml(t){const n=new Fl(t);return function(){try{return!!(new window.DOMParser).parseFromString(Fu(""),"text/html")}catch(t){return!1}}()?new kl(n):n}class kl{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const r=(new window.DOMParser).parseFromString(Fu(n),"text/html").body;return null===r?this.inertDocumentHelper.getInertBodyElement(n):(r.removeChild(r.firstChild),r)}catch(r){return null}}}class Fl{constructor(n){if(this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const r=this.inertDocument.createElement("html");this.inertDocument.appendChild(r);const o=this.inertDocument.createElement("body");r.appendChild(o)}}getInertBodyElement(n){const r=this.inertDocument.createElement("template");if("content"in r)return r.innerHTML=Fu(n),r;const o=this.inertDocument.createElement("body");return o.innerHTML=Fu(n),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(o),o}stripCustomNsAttrs(n){const r=n.attributes;for(let u=r.length-1;0<u;u--){const f=r.item(u).name;("xmlns:ns1"===f||0===f.indexOf("ns1:"))&&n.removeAttribute(f)}let o=n.firstChild;for(;o;)o.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(o),o=o.nextSibling}}const yh=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,_h=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Lu(t){return(t=String(t)).match(yh)||t.match(_h)?t:"unsafe:"+t}function md(t){return(t=String(t)).split(",").map(n=>Lu(n.trim())).join(", ")}function ua(t){const n={};for(const r of t.split(","))n[r]=!0;return n}function Ll(...t){const n={};for(const r of t)for(const o in r)r.hasOwnProperty(o)&&(n[o]=!0);return n}const Tc=ua("area,br,col,hr,img,wbr"),vh=ua("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Vu=ua("rp,rt"),Vl=Ll(Tc,Ll(vh,ua("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ll(Vu,ua("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ll(Vu,vh)),yd=ua("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Yo=ua("srcset"),Ul=Ll(yd,Yo,ua("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ua("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),jl=ua("script,style,template");class Dc{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let r=n.firstChild,o=!0;for(;r;)if(r.nodeType===Node.ELEMENT_NODE?o=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,o&&r.firstChild)r=r.firstChild;else for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let u=this.checkClobberedElement(r,r.nextSibling);if(u){r=u;break}r=this.checkClobberedElement(r,r.parentNode)}return this.buf.join("")}startElement(n){const r=n.nodeName.toLowerCase();if(!Vl.hasOwnProperty(r))return this.sanitizedSomething=!0,!jl.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);const o=n.attributes;for(let u=0;u<o.length;u++){const c=o.item(u),f=c.name,y=f.toLowerCase();if(!Ul.hasOwnProperty(y)){this.sanitizedSomething=!0;continue}let D=c.value;yd[y]&&(D=Lu(D)),Yo[y]&&(D=md(D)),this.buf.push(" ",f,'="',Sc(D),'"')}return this.buf.push(">"),!0}endElement(n){const r=n.nodeName.toLowerCase();Vl.hasOwnProperty(r)&&!Tc.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(n){this.buf.push(Sc(n))}checkClobberedElement(n,r){if(r&&(n.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return r}}const wh=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ch=/([^\#-~ |!])/g;function Sc(t){return t.replace(/&/g,"&amp;").replace(wh,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(Ch,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ac;function yl(t,n){let r=null;try{Ac=Ac||ml(t);let o=n?String(n):"";r=Ac.getInertBodyElement(o);let u=5,c=o;do{if(0===u)throw new Error("Failed to sanitize html because the input is unstable");u--,o=c,c=r.innerHTML,r=Ac.getInertBodyElement(o)}while(o!==c);return Fu((new Dc).sanitizeChildren(Uu(r)||r))}finally{if(r){const o=Uu(r)||r;for(;o.firstChild;)o.removeChild(o.firstChild)}}}function Uu(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var es=(()=>((es=es||{})[es.NONE=0]="NONE",es[es.HTML=1]="HTML",es[es.STYLE=2]="STYLE",es[es.SCRIPT=3]="SCRIPT",es[es.URL=4]="URL",es[es.RESOURCE_URL=5]="RESOURCE_URL",es))();function _d(t){const n=Ga();return n?Pr(n.sanitize(es.HTML,t)||""):oo(t,"HTML")?Pr(Ha(t)):yl(ds(),Te(t))}function vd(t){const n=Ga();return n?n.sanitize(es.STYLE,t)||"":oo(t,"Style")?Ha(t):Te(t)}function Ed(t){const n=Ga();return n?n.sanitize(es.URL,t)||"":oo(t,"URL")?Ha(t):Lu(Te(t))}function Bl(t){const n=Ga();if(n)return pl(n.sanitize(es.RESOURCE_URL,t)||"");if(oo(t,"ResourceURL"))return pl(Ha(t));throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)")}function Rc(t){const n=Ga();if(n)return fd(n.sanitize(es.SCRIPT,t)||"");if(oo(t,"Script"))return fd(Ha(t));throw new Error("unsafe value used in a script context")}function bh(t){return Fu(t[0])}function ju(t){return function(t){var n;return(null===(n=fl())||void 0===n?void 0:n.createScriptURL(t))||t}(t[0])}function Ka(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?Bl:Ed}function Mc(t,n,r){return Ka(n,r)(t)}function Ga(){const t=ht();return t&&t[12]}function Kr(t){let n=uo(t);if(n){if(Array.isArray(n)){const r=n;let o,u,c;if(function(t){return t&&t.constructor&&t.constructor.\u0275cmp}(t)){if(o=ts(r,t),-1==o)throw new Error("The provided component was not found in the application");u=t}else if(function(t){return t&&t.constructor&&t.constructor.\u0275dir}(t)){if(o=function(t,n){let r=t[1].firstChild;for(;r;){const u=r.directiveEnd;for(let c=r.directiveStart;c<u;c++)if(t[c]===n)return r.index;r=Dh(r)}return-1}(r,t),-1==o)throw new Error("The provided directive was not found in the application");c=Ao(o,r,!1)}else if(o=Th(r,t),-1==o)return null;const f=b(r[o]),y=uo(f),D=y&&!Array.isArray(y)?y:Id(r,o,f);if(u&&void 0===D.component&&(D.component=u,yo(D.component,D)),c&&void 0===D.directives){D.directives=c;for(let x=0;x<c.length;x++)yo(c[x],D)}yo(D.native,D),n=D}}else{const r=t;let o=r;for(;o=o.parentNode;){const u=uo(o);if(u){let c;if(c=Array.isArray(u)?u:u.lView,!c)return null;const f=Th(c,r);if(f>=0){const y=b(c[f]),D=Id(c,f,y);yo(y,D),n=D;break}}}}return n||null}function Id(t,n,r){return{lView:t,nodeIndex:n,native:r,component:void 0,directives:void 0,localRefs:void 0}}function wd(t){let r,n=uo(t);if(Array.isArray(n)){const o=ts(n,t);r=hr(o,n);const u=Id(n,o,r[0]);u.component=t,yo(t,u),yo(u.native,u)}else r=hr(n.nodeIndex,n.lView);return r}const la="__ngContext__";function yo(t,n){t[la]=n}function uo(t){return t[la]||null}function Oa(t){const n=uo(t);return n?Array.isArray(n)?n:n.lView:null}function Th(t,n){const r=t[1];for(let o=20;o<r.bindingStartIndex;o++)if(b(t[o])===n)return o;return-1}function Dh(t){if(t.child)return t.child;if(t.next)return t.next;for(;t.parent&&!t.parent.next;)t=t.parent;return t.parent&&t.parent.next}function ts(t,n){const r=t[1].components;if(r)for(let o=0;o<r.length;o++){const u=r[o];if(hr(u,t)[8]===n)return u}else if(hr(20,t)[8]===n)return 20;return-1}function Ao(t,n,r){const o=n[1].data[t];let u=o.directiveStart;return 0==u?he:(!r&&2&o.flags&&u++,n.slice(u,o.directiveEnd))}const ca="ngDebugContext",qa="ngOriginalError",Bu="ngErrorLogger";function ki(t){return t[ca]}function Fi(t){return t[qa]}function Sh(t,...n){t.error(...n)}class fu{constructor(){this._console=console}handleError(n){const r=this._findOriginalError(n),o=this._findContext(n),u=(t=n)&&t[Bu]||Sh;var t;u(this._console,"ERROR",n),r&&u(this._console,"ORIGINAL ERROR",r),o&&u(this._console,"ERROR CONTEXT",o)}_findContext(n){return n?ki(n)||this._findContext(Fi(n)):null}_findOriginalError(n){let r=n&&Fi(n);for(;r&&Fi(r);)r=Fi(r);return r||null}}const $l={name:"custom-elements"},bd={name:"no-errors-schema"},ft=/^>|^->|<!--|-->|--!>|<!-$/g,Nc=/(<|>)/;function Hl(t){return t.replace(ft,n=>n.replace(Nc,"\u200b$1\u200b"))}function pu(t){return`ng-reflect-${t=function(t){return t.replace(Jf,(...n)=>"-"+n[1].toLowerCase())}(t.replace(/[$@]/g,"_"))}`}const Jf=/([A-Z])/g;function vo(t){try{return null!=t?t.toString().slice(0,30):t}catch(n){return"[ERROR] Exception while trying to serialize the value"}}const Wl=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Yt))();function xs(t){return t.ownerDocument.defaultView}function da(t){return t.ownerDocument}function mu(t){return t.ownerDocument.body}function Ks(t){return t instanceof Function?t():t}var ha=(()=>((ha=ha||{})[ha.Important=1]="Important",ha[ha.DashCase=2]="DashCase",ha))();let Qa;function g(t,n){return Qa(t,n)}function E(t){const n=t[3];return gr(n)?n[3]:n}function G(t){return function(t){let n=or(t)?t:Oa(t);for(;n&&!(512&n[2]);)n=E(n);return n}(t)[8]}function De(t){return Pt(t[13])}function tt(t){return Pt(t[4])}function Pt(t){for(;null!==t&&!gr(t);)t=t[4];return t}function sn(t,n,r,o,u){if(null!=o){let c,f=!1;gr(o)?c=o:or(o)&&(f=!0,o=o[0]);const y=b(o);0===t&&null!==r?null==u?Jo(n,r,y):_l(n,r,y,u||null,!0):1===t&&null!==r?_l(n,r,y,u||null,!0):2===t?Nh(n,y,f):3===t&&n.destroyNode(y),null!=c&&function(t,n,r,o,u){const c=r[7];c!==b(r)&&sn(n,t,o,c,u);for(let y=10;y<r.length;y++){const D=r[y];Od(D[1],D,t,n,o,c)}}(n,t,c,r,u)}}function cn(t,n){return P(t)?t.createText(n):t.createTextNode(n)}function _r(t,n,r){P(t)?t.setValue(n,r):n.textContent=r}function Gs(t,n){return t.createComment(Hl(n))}function Ca(t,n,r){return P(t)?t.createElement(n,r):null===r?t.createElement(n):t.createElementNS(r,n)}function kc(t,n){const r=t[9],o=r.indexOf(n),u=n[3];1024&n[2]&&(n[2]&=-1025,Ts(u,-1)),r.splice(o,1)}function Gl(t,n){if(t.length<=10)return;const r=10+n,o=t[r];if(o){const u=o[17];null!==u&&u!==t&&kc(u,o),n>0&&(t[r-1][4]=o[4]);const c=Uo(t,10+n);!function(t,n){Od(t,n,n[11],2,null,null),n[0]=null,n[6]=null}(o[1],o);const f=c[19];null!==f&&f.detachView(c[1]),o[3]=null,o[4]=null,o[2]&=-129}return o}function zl(t,n){if(!(256&n[2])){const r=n[11];P(r)&&r.destroyNode&&Od(t,n,r,3,null,null),function(t){let n=t[13];if(!n)return Rd(t[1],t);for(;n;){let r=null;if(or(n))r=n[13];else{const o=n[10];o&&(r=o)}if(!r){for(;n&&!n[4]&&n!==t;)or(n)&&Rd(n[1],n),n=n[3];null===n&&(n=t),or(n)&&Rd(n[1],n),r=n&&n[4]}n=r}}(n)}}function Rd(t,n){if(!(256&n[2])){n[2]&=-129,n[2]|=256,function(t,n){let r;if(null!=t&&null!=(r=t.destroyHooks))for(let o=0;o<r.length;o+=2){const u=n[r[o]];if(!(u instanceof ws)){const c=r[o+1];if(Array.isArray(c))for(let f=0;f<c.length;f+=2){const y=u[c[f]],D=c[f+1];ei(4,y,D);try{D.call(y)}finally{ei(5,y,D)}}else{ei(4,u,c);try{c.call(u)}finally{ei(5,u,c)}}}}}(t,n),function(t,n){const r=t.cleanup,o=n[7];let u=-1;if(null!==r)for(let c=0;c<r.length-1;c+=2)if("string"==typeof r[c]){const f=r[c+1],y="function"==typeof f?f(n):b(n[f]),D=o[u=r[c+2]],x=r[c+3];"boolean"==typeof x?y.removeEventListener(r[c],D,x):x>=0?o[u=x]():o[u=-x].unsubscribe(),c+=2}else{const f=o[u=r[c+1]];r[c].call(f)}if(null!==o){for(let c=u+1;c<o.length;c++)o[c]();n[7]=null}}(t,n),1===n[1].type&&P(n[11])&&n[11].destroy();const r=n[17];if(null!==r&&gr(n[3])){r!==n[3]&&kc(r,n);const o=n[19];null!==o&&o.detachView(t)}}}function Md(t,n,r){return Nd(t,n.parent,r)}function Nd(t,n,r){let o=n;for(;null!==o&&40&o.type;)o=(n=o).parent;if(null===o)return r[0];if(2&o.flags){const u=t.data[o.directiveStart].encapsulation;if(u===lt.None||u===lt.Emulated)return null}return vt(o,r)}function _l(t,n,r,o,u){P(t)?t.insertBefore(n,r,o,u):n.insertBefore(r,o,u)}function Jo(t,n,r){P(t)?t.appendChild(n,r):n.appendChild(r)}function ep(t,n,r,o,u){null!==o?_l(t,n,r,o,u):Jo(t,n,r)}function Vc(t,n){return P(t)?t.parentNode(n):n.parentNode}function $u(t,n,r){return tp(t,n,r)}function ql(t,n,r){return 40&t.type?vt(t,r):null}let Hu,tp=ql;function im(t,n){tp=t,Hu=n}function Wu(t,n,r,o){const u=Md(t,o,n),c=n[11],y=$u(o.parent||n[6],o,n);if(null!=u)if(Array.isArray(r))for(let D=0;D<r.length;D++)ep(c,u,r[D],y,!1);else ep(c,u,r,y,!1);void 0!==Hu&&Hu(c,o,n,r,u)}function xd(t,n){if(null!==n){const r=n.type;if(3&r)return vt(n,t);if(4&r)return Gu(-1,t[n.index]);if(8&r){const o=n.child;if(null!==o)return xd(t,o);{const u=t[n.index];return gr(u)?Gu(-1,u):b(u)}}if(32&r)return g(n,t)()||b(t[n.index]);{const o=Ku(t,n);return null!==o?Array.isArray(o)?o[0]:xd(E(t[16]),o):xd(t,n.next)}}return null}function Ku(t,n){return null!==n?t[16][6].projection[n.projection]:null}function Gu(t,n){const r=10+t+1;if(r<n.length){const o=n[r],u=o[1].firstChild;if(null!==u)return xd(o,u)}return n[7]}function Nh(t,n,r){const o=Vc(t,n);o&&function(t,n,r,o){P(t)?t.removeChild(n,r,o):n.removeChild(r)}(t,o,n,r)}function xh(t,n,r,o,u,c,f){for(;null!=r;){const y=o[r.index],D=r.type;if(f&&0===n&&(y&&yo(b(y),o),r.flags|=4),64!=(64&r.flags))if(8&D)xh(t,n,r.child,o,u,c,!1),sn(n,t,u,y,c);else if(32&D){const x=g(r,o);let B;for(;B=x();)sn(n,t,u,B,c);sn(n,t,u,y,c)}else 16&D?sm(t,n,o,r,u,c):sn(n,t,u,y,c);r=f?r.projectionNext:r.next}}function Od(t,n,r,o,u,c){xh(r,o,t.firstChild,n,u,c,!1)}function sm(t,n,r,o,u,c){const f=r[16],D=f[6].projection[o.projection];if(Array.isArray(D))for(let x=0;x<D.length;x++)sn(n,t,u,D[x],c);else xh(t,n,D,f[3],u,c,!0)}function Zl(t,n,r){P(t)?t.setAttribute(n,"style",r):n.style.cssText=r}function Ph(t,n,r){P(t)?""===r?t.removeAttribute(n,"class"):t.setAttribute(n,"class",r):n.className=r}function om(t,n,r){let o=t.length;for(;;){const u=t.indexOf(n,r);if(-1===u)return u;if(0===u||t.charCodeAt(u-1)<=32){const c=n.length;if(u+c===o||t.charCodeAt(u+c)<=32)return u}r=u+1}}const np="ng-template";function vl(t,n,r){let o=0;for(;o<t.length;){let u=t[o++];if(r&&"class"===u){if(u=t[o],-1!==om(u.toLowerCase(),n,0))return!0}else if(1===u){for(;o<t.length&&"string"==typeof(u=t[o++]);)if(u.toLowerCase()===n)return!0;return!1}}return!1}function Pd(t){return 4===t.type&&t.value!==np}function o_(t,n,r){return n===(4!==t.type||r?t.value:np)}function am(t,n,r){let o=4;const u=t.attrs||[],c=function(t){for(let n=0;n<t.length;n++)if(en(t[n]))return n;return t.length}(u);let f=!1;for(let y=0;y<n.length;y++){const D=n[y];if("number"!=typeof D){if(!f)if(4&o){if(o=2|1&o,""!==D&&!o_(t,D,r)||""===D&&1===n.length){if(ba(o))return!1;f=!0}}else{const x=8&o?D:n[++y];if(8&o&&null!==t.attrs){if(!vl(t.attrs,x,r)){if(ba(o))return!1;f=!0}continue}const ne=rp(8&o?"class":D,u,Pd(t),r);if(-1===ne){if(ba(o))return!1;f=!0;continue}if(""!==x){let oe;oe=ne>c?"":u[ne+1].toLowerCase();const be=8&o?oe:null;if(be&&-1!==om(be,x,0)||2&o&&x!==oe){if(ba(o))return!1;f=!0}}}}else{if(!f&&!ba(o)&&!ba(D))return!1;if(f&&ba(D))continue;f=!1,o=D|1&o}}return ba(o)||f}function ba(t){return 0==(1&t)}function rp(t,n,r,o){if(null===n)return-1;let u=0;if(o||!r){let c=!1;for(;u<n.length;){const f=n[u];if(f===t)return u;if(3===f||6===f)c=!0;else{if(1===f||2===f){let y=n[++u];for(;"string"==typeof y;)y=n[++u];continue}if(4===f)break;if(0===f){u+=4;continue}}u+=c?1:2}return-1}return function(t,n){let r=t.indexOf(4);if(r>-1)for(r++;r<t.length;){const o=t[r];if("number"==typeof o)return-1;if(o===n)return r;r++}return-1}(n,t)}function Uc(t,n,r=!1){for(let o=0;o<n.length;o++)if(am(t,n[o],r))return!0;return!1}function u_(t,n){e:for(let r=0;r<n.length;r++){const o=n[r];if(t.length===o.length){for(let u=0;u<t.length;u++)if(t[u]!==o[u])continue e;return!0}}return!1}function Fh(t,n){return t?":not("+n.trim()+")":n}function um(t){let n=t[0],r=1,o=2,u="",c=!1;for(;r<t.length;){let f=t[r];if("string"==typeof f)if(2&o){const y=t[++r];u+="["+f+(y.length>0?'="'+y+'"':"")+"]"}else 8&o?u+="."+f:4&o&&(u+=" "+f);else""!==u&&!ba(f)&&(n+=Fh(c,u),u=""),o=f,c=c||!ba(o);r++}return""!==u&&(n+=Fh(c,u)),n}const ar={};function Lh(t){cm(Hn(),ht(),ti()+t,H())}function cm(t,n,r,o){if(!o)if(3==(3&n[2])){const c=t.preOrderCheckHooks;null!==c&&$r(n,c,r)}else{const c=t.preOrderHooks;null!==c&&Qr(n,c,0,r)}Do(r)}function kd(t,n){return t<<17|n<<2}function Ya(t){return t>>17&32767}function El(t){return 2|t}function fa(t){return(131068&t)>>2}function Fd(t,n){return-131069&t|n<<2}function Vh(t){return 1|t}const hp=(()=>Promise.resolve(null))();function Im(t,n){const r=t.contentQueries;if(null!==r)for(let o=0;o<r.length;o+=2){const u=r[o],c=r[o+1];if(-1!==c){const f=t.data[c];Zr(u),f.contentQueries(2,n[c],c)}}}function _u(t,n,r,o,u,c,f,y,D,x){const B=n.blueprint.slice();return B[0]=u,B[2]=140|o,bs(B),B[3]=B[15]=t,B[8]=r,B[10]=f||t&&t[10],B[11]=y||t&&t[11],B[12]=D||t&&t[12]||null,B[9]=x||t&&t[9]||null,B[6]=c,B[16]=2==n.type?t[16]:B,B}function wl(t,n,r,o,u){let c=t.data[n];if(null===c)c=$c(t,n,r,o,u),In.lFrame.inI18n&&(c.flags|=64);else if(64&c.type){c.type=r,c.value=o,c.attrs=u;const f=Vo();c.injectorIndex=null===f?-1:f.injectorIndex}return Ds(c,!0),c}function $c(t,n,r,o,u){const c=Lo(),f=K(),D=t.data[n]=function(t,n,r,o,u,c){return{type:r,index:o,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:u,attrs:c,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,f?c:c&&c.parent,r,n,o,u);return null===t.firstChild&&(t.firstChild=D),null!==c&&(f?null==c.child&&null!==D.parent&&(c.child=D):null===c.next&&(c.next=D)),D}function vu(t,n,r,o){if(0===r)return-1;const u=n.length;for(let c=0;c<r;c++)n.push(o),t.blueprint.push(o),t.data.push(null);return u}function Ql(t,n,r){Is(n);try{const o=t.viewQuery;null!==o&&Ap(1,o,r);const u=t.template;null!==u&&Hh(t,n,u,1,r),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Im(t,n),t.staticViewQueries&&Ap(2,t.viewQuery,r);const c=t.components;null!==c&&function(t,n){for(let r=0;r<n.length;r++)Tp(t,n[r])}(n,c)}catch(o){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),o}finally{n[2]&=-5,fi()}}function Yl(t,n,r,o){const u=n[2];if(256==(256&u))return;Is(n);const c=H();try{bs(n),He(t.bindingStartIndex),null!==r&&Hh(t,n,r,2,o);const f=3==(3&u);if(!c)if(f){const x=t.preOrderCheckHooks;null!==x&&$r(n,x,null)}else{const x=t.preOrderHooks;null!==x&&Qr(n,x,0,null),ni(n,0)}if(function(t){for(let n=De(t);null!==n;n=tt(n)){if(!n[2])continue;const r=n[9];for(let o=0;o<r.length;o++){const u=r[o],c=u[3];0==(1024&u[2])&&Ts(c,1),u[2]|=1024}}}(n),function(t){for(let n=De(t);null!==n;n=tt(n))for(let r=10;r<n.length;r++){const o=n[r],u=o[1];di(o)&&Yl(u,o,u.template,o[8])}}(n),null!==t.contentQueries&&Im(t,n),!c)if(f){const x=t.contentCheckHooks;null!==x&&$r(n,x)}else{const x=t.contentHooks;null!==x&&Qr(n,x,1),ni(n,1)}!function(t,n){const r=t.hostBindingOpCodes;if(null!==r)try{for(let o=0;o<r.length;o++){const u=r[o];if(u<0)Do(~u);else{const c=u,f=r[++o],y=r[++o];Jn(f,c),y(2,n[c])}}}finally{Do(-1)}}(t,n);const y=t.components;null!==y&&function(t,n){for(let r=0;r<n.length;r++)T_(t,n[r])}(n,y);const D=t.viewQuery;if(null!==D&&Ap(2,D,o),!c)if(f){const x=t.viewCheckHooks;null!==x&&$r(n,x)}else{const x=t.viewHooks;null!==x&&Qr(n,x,2),ni(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),c||(n[2]&=-73),1024&n[2]&&(n[2]&=-1025,Ts(n[3],-1))}finally{fi()}}function pp(t,n,r,o){const u=n[10],c=!H(),f=Ir(n);try{c&&!f&&u.begin&&u.begin(),f&&Ql(t,n,o),Yl(t,n,r,o)}finally{c&&!f&&u.end&&u.end()}}function Hh(t,n,r,o,u){const c=ti(),f=2&o;try{Do(-1),f&&n.length>20&&cm(t,n,20,H()),ei(f?2:0,u),r(o,u)}finally{Do(c),ei(f?3:1,u)}}function qu(t,n,r){if(gs(n)){const u=n.directiveEnd;for(let c=n.directiveStart;c<u;c++){const f=t.data[c];f.contentQueries&&f.contentQueries(1,r[c],c)}}}function Wh(t,n,r){!ho()||(function(t,n,r,o){const u=r.directiveStart,c=r.directiveEnd;t.firstCreatePass||ru(r,n),yo(o,n);const f=r.initialInputs;for(let y=u;y<c;y++){const D=t.data[y],x=li(D);x&&xm(n,r,D);const B=wt(n,t,y,r);yo(B,n),null!==f&&C_(0,y-u,B,D,0,f),x&&(hr(r.index,n)[8]=B)}}(t,n,r,vt(r,n)),128==(128&r.flags)&&function(t,n,r){const o=r.directiveStart,u=r.directiveEnd,f=r.index,y=In.lFrame.currentDirectiveIndex;try{Do(f);for(let D=o;D<u;D++){const x=t.data[D],B=n[D];Fn(D),(null!==x.hostBindings||0!==x.hostVars||null!==x.hostAttrs)&&qh(x,B)}}finally{Do(-1),Fn(y)}}(t,n,r))}function gp(t,n,r=vt){const o=n.localNames;if(null!==o){let u=n.index+1;for(let c=0;c<o.length;c+=2){const f=o[c+1],y=-1===f?r(n,t):t[f];t[u++]=y}}}function Kh(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Gh(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):n}function Gh(t,n,r,o,u,c,f,y,D,x){const B=20+o,ne=B+u,oe=function(t,n){const r=[];for(let o=0;o<n;o++)r.push(o<t?null:ar);return r}(B,ne),be="function"==typeof x?x():x;return oe[1]={type:t,blueprint:oe,template:r,queries:null,viewQuery:y,declTNode:n,data:oe.slice().fill(null,B),bindingStartIndex:B,expandoStartIndex:ne,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof c?c():c,pipeRegistry:"function"==typeof f?f():f,firstChild:null,schemas:D,consts:be,incompleteFirstPass:!1}}function Bd(t,n,r){if(P(t))return t.selectRootElement(n,r===lt.ShadowDom);let o="string"==typeof n?t.querySelector(n):n;return o.textContent="",o}function zh(t,n,r,o){const u=Jh(n);null===r?u.push(o):(u.push(r),t.firstCreatePass&&Xh(t).push(o,u.length-1))}function Jl(t,n,r){for(let o in t)if(t.hasOwnProperty(o)){const u=t[o];(r=null===r?{}:r).hasOwnProperty(o)?r[o].push(n,u):r[o]=[n,u]}return r}function Ta(t,n,r,o,u,c,f,y){const D=vt(n,r);let B,x=n.inputs;!y&&null!=x&&(B=x[o])?(Fm(t,r,B,o,u),Ri(n)&&function(t,n){const r=hr(n,t);16&r[2]||(r[2]|=64)}(r,n.index)):3&n.type&&(o=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(o),u=null!=f?f(u,n.value||"",o):u,P(c)?c.setProperty(D,o,u):Bn(o)||(D.setProperty?D.setProperty(o,u):D[o]=u))}function $d(t,n,r,o){let u=!1;if(ho()){const c=function(t,n,r){const o=t.directiveRegistry;let u=null;if(o)for(let c=0;c<o.length;c++){const f=o[c];Uc(r,f.selectors,!1)&&(u||(u=[]),A(ru(r,n),t,f.type),li(f)?(Xl(t,r),u.unshift(f)):u.push(f))}return u}(t,n,r),f=null===o?null:{"":-1};if(null!==c){u=!0,ec(r,t.data.length,c.length);for(let B=0;B<c.length;B++){const ne=c[B];ne.providersResolver&&ne.providersResolver(ne)}let y=!1,D=!1,x=vu(t,n,c.length,null);for(let B=0;B<c.length;B++){const ne=c[B];r.mergedAttrs=nu(r.mergedAttrs,ne.hostAttrs),tc(t,r,n,x,ne),Ip(x,ne,f),null!==ne.contentQueries&&(r.flags|=8),(null!==ne.hostBindings||null!==ne.hostAttrs||0!==ne.hostVars)&&(r.flags|=128);const oe=ne.type.prototype;!y&&(oe.ngOnChanges||oe.ngOnInit||oe.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(r.index),y=!0),!D&&(oe.ngOnChanges||oe.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(r.index),D=!0),x++}!function(t,n){const o=n.directiveEnd,u=t.data,c=n.attrs,f=[];let y=null,D=null;for(let x=n.directiveStart;x<o;x++){const B=u[x],ne=B.inputs,oe=null===c||Pd(n)?null:Cp(ne,c);f.push(oe),y=Jl(ne,x,y),D=Jl(B.outputs,x,D)}null!==y&&(y.hasOwnProperty("class")&&(n.flags|=16),y.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=f,n.inputs=y,n.outputs=D}(t,r)}f&&function(t,n,r){if(n){const o=t.localNames=[];for(let u=0;u<n.length;u+=2){const c=r[n[u+1]];if(null==c)throw new ze("301",`Export of name '${n[u+1]}' not found!`);o.push(n[u],c)}}}(r,o,f)}return r.mergedAttrs=nu(r.mergedAttrs,r.attrs),u}function Mm(t,n,r,o,u,c){const f=c.hostBindings;if(f){let y=t.hostBindingOpCodes;null===y&&(y=t.hostBindingOpCodes=[]);const D=~n.index;(function(t){let n=t.length;for(;n>0;){const r=t[--n];if("number"==typeof r&&r<0)return r}return 0})(y)!=D&&y.push(D),y.push(o,u,f)}}function qh(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Xl(t,n){n.flags|=2,(t.components||(t.components=[])).push(n.index)}function Ip(t,n,r){if(r){if(n.exportAs)for(let o=0;o<n.exportAs.length;o++)r[n.exportAs[o]]=t;li(n)&&(r[""]=t)}}function ec(t,n,r){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+r,t.providerIndexes=n}function tc(t,n,r,o,u){t.data[o]=u;const c=u.factory||(u.factory=ci(u.type)),f=new ws(c,li(u),null);t.blueprint[o]=f,r[o]=f,Mm(t,n,0,o,vu(t,r,u.hostVars,ar),u)}function xm(t,n,r){const o=vt(n,t),u=Kh(r),c=t[10],f=Wd(t,_u(t,u,null,r.onPush?64:16,o,n,c,c.createRenderer(o,r),null,null));t[n.index]=f}function Xo(t,n,r,o,u,c){const f=vt(t,n);wp(n[11],f,c,t.value,r,o,u)}function wp(t,n,r,o,u,c,f){if(null==c)P(t)?t.removeAttribute(n,u,r):n.removeAttribute(u);else{const y=null==f?Te(c):f(c,o||"",u);P(t)?t.setAttribute(n,u,y,r):r?n.setAttributeNS(r,u,y):n.setAttribute(u,y)}}function C_(t,n,r,o,u,c){const f=c[n];if(null!==f){const y=o.setInput;for(let D=0;D<f.length;){const x=f[D++],B=f[D++],ne=f[D++];null!==y?o.setInput(r,ne,x,B):r[B]=ne}}}function Cp(t,n){let r=null,o=0;for(;o<n.length;){const u=n[o];if(0!==u)if(5!==u){if("number"==typeof u)break;t.hasOwnProperty(u)&&(null===r&&(r=[]),r.push(u,t[u],n[o+1])),o+=2}else o+=2;else o+=4}return r}function Zh(t,n,r,o){return new Array(t,!0,!1,n,null,0,o,r,null,null)}function T_(t,n){const r=hr(n,t);if(di(r)){const o=r[1];80&r[2]?Yl(o,r,o.template,r[8]):r[5]>0&&Hd(r)}}function Hd(t){for(let o=De(t);null!==o;o=tt(o))for(let u=10;u<o.length;u++){const c=o[u];if(1024&c[2]){const f=c[1];Yl(f,c,f.template,c[8])}else c[5]>0&&Hd(c)}const r=t[1].components;if(null!==r)for(let o=0;o<r.length;o++){const u=hr(r[o],t);di(u)&&u[5]>0&&Hd(u)}}function Tp(t,n){const r=hr(n,t),o=r[1];(function(t,n){for(let r=n.length;r<t.blueprint.length;r++)n.push(t.blueprint[r])})(o,r),Ql(o,r,r[8])}function Wd(t,n){return t[13]?t[14][4]=n:t[13]=n,t[14]=n,n}function Dp(t){for(;t;){t[2]|=64;const n=E(t);if(wi(t)&&!n)return t;t=n}return null}function Qh(t){for(let n=0;n<t.components.length;n++){const r=t.components[n],o=Oa(r),u=o[1];pp(u,o,u.template,r)}}function Yh(t,n,r){const o=n[10];o.begin&&o.begin();try{Yl(t,n,t.template,r)}catch(u){throw ef(n,u),u}finally{o.end&&o.end()}}function Sp(t){Qh(t[8])}function Ap(t,n,r){Zr(0),n(t,r)}const Rp=hp;function Jh(t){return t[7]||(t[7]=[])}function Xh(t){return t.cleanup||(t.cleanup=[])}function km(t,n,r){return(null===t||li(t))&&(r=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(r[n.index])),r[11]}function ef(t,n){const r=t[9],o=r?r.get(fu,null):null;o&&o.handleError(n)}function Fm(t,n,r,o,u){for(let c=0;c<r.length;){const f=r[c++],y=r[c++],D=n[f],x=t.data[f];null!==x.setInput?x.setInput(D,u,o,y):D[y]=u}}function Ja(t,n,r){const o=Fe(n,t);_r(t[11],o,r)}function Kd(t,n,r){let o=r?t.styles:null,u=r?t.classes:null,c=0;if(null!==n)for(let f=0;f<n.length;f++){const y=n[f];"number"==typeof y?c=y:1==c?u=ve(u,y):2==c&&(o=ve(o,y+": "+n[++f]+";"))}r?t.styles=o:t.stylesWithoutHost=o,r?t.classes=u:t.classesWithoutHost=u}function tf(t){const n=wd(t);Yh(n[1],n,t)}function Mp(t){!function(t,n){if(0===t.flags&&t.clean==hp){let o;t.flags|=1,t.clean=new Promise(u=>o=u),t.scheduler(()=>{if(1&t.flags&&(t.flags&=-2,Qh(t)),2&t.flags){t.flags&=-3;const u=t.playerHandler;u&&u.flushPlayers()}t.clean=hp,o(null)})}}(Dp(wd(t))[8])}const Eu=new bi("INJECTOR",-1);class Np{get(n,r=tr){if(r===tr){const o=new Error(`NullInjectorError: No provider for ${Y(n)}!`);throw o.name="NullInjectorError",o}return r}}const nc=new bi("Set Injector scope."),Gd={},xp={};let Op;function nf(){return void 0===Op&&(Op=new Np),Op}function rf(t,n=null,r=null,o){const u=sf(t,n,r,o);return u._resolveInjectorDefTypes(),u}function sf(t,n=null,r=null,o){return new Hc(t,r,n||nf(),o)}class Hc{constructor(n,r,o,u=null){this.parent=o,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const c=[];r&&go(r,y=>this.processProvider(y,n,r)),go([n],y=>this.processInjectorType(y,[],c)),this.records.set(Eu,pa(void 0,this));const f=this.records.get(nc);this.scope=null!=f?f.value:null,this.source=u||("object"==typeof n?null:Y(n))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(n=>n.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(n,r=tr,o=Ft.Default){this.assertNotDestroyed();const u=Qo(this),c=kr(void 0);try{if(!(o&Ft.SkipSelf)){let y=this.records.get(n);if(void 0===y){const D=("function"==typeof(t=n)||"object"==typeof t&&t instanceof bi)&&Vn(n);y=D&&this.injectableDefInScope(D)?pa(of(n),Gd):null,this.records.set(n,y)}if(null!=y)return this.hydrate(n,y)}return(o&Ft.Self?nf():this.parent).get(n,r=o&Ft.Optional&&r===tr?null:r)}catch(f){if("NullInjectorError"===f.name){if((f[Oi]=f[Oi]||[]).unshift(Y(n)),u)throw f;return Pu(f,n,"R3InjectorError",this.source)}throw f}finally{kr(c),Qo(u)}var t}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(n=>this.get(n))}toString(){const n=[];return this.records.forEach((o,u)=>n.push(Y(u))),`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(n,r,o){if(!(n=Z(n)))return!1;let u=ir(n);const c=null==u&&n.ngModule||void 0,f=void 0===c?n:c,y=-1!==o.indexOf(f);if(void 0!==c&&(u=ir(c)),null==u)return!1;if(null!=u.imports&&!y){let B;o.push(f);try{go(u.imports,ne=>{this.processInjectorType(ne,r,o)&&(void 0===B&&(B=[]),B.push(ne))})}finally{}if(void 0!==B)for(let ne=0;ne<B.length;ne++){const{ngModule:oe,providers:be}=B[ne];go(be,ke=>this.processProvider(ke,oe,be||he))}}this.injectorDefTypes.add(f);const D=ci(f)||(()=>new f);this.records.set(f,pa(D,Gd));const x=u.providers;if(null!=x&&!y){const B=n;go(x,ne=>this.processProvider(ne,B,x))}return void 0!==c&&void 0!==n.providers}processProvider(n,r,o){let u=Wc(n=Z(n))?n:Z(n&&n.provide);const c=uf(t=n)?pa(void 0,t.useValue):pa(af(t),Gd);var t;if(Wc(n)||!0!==n.multi)this.records.get(u);else{let f=this.records.get(u);f||(f=pa(void 0,Gd,!0),f.factory=()=>lu(f.multi),this.records.set(u,f)),u=n,f.multi.push(n)}this.records.set(u,c)}hydrate(n,r){return r.value===Gd&&(r.value=xp,r.value=r.factory()),"object"==typeof r.value&&r.value&&null!==(t=r.value)&&"object"==typeof t&&"function"==typeof t.ngOnDestroy&&this.onDestroy.add(r.value),r.value;var t}injectableDefInScope(n){if(!n.providedIn)return!1;const r=Z(n.providedIn);return"string"==typeof r?"any"===r||r===this.scope:this.injectorDefTypes.has(r)}}function of(t){const n=Vn(t),r=null!==n?n.factory:ci(t);if(null!==r)return r;if(t instanceof bi)throw new Error(`Token ${Y(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const n=t.length;if(n>0){const o=ia(n,"?");throw new Error(`Can't resolve all parameters for ${Y(t)}: (${o.join(", ")}).`)}const r=function(t){const n=t&&(t[_n]||t[zn]);if(n){const r=function(t){if(t.hasOwnProperty("name"))return t.name;const n=(""+t).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${r}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${r}" class.`),n}return null}(t);return null!==r?()=>r.factory(t):()=>new t}(t);throw new Error("unreachable")}function af(t,n,r){let o;if(Wc(t)){const u=Z(t);return ci(u)||of(u)}if(uf(t))o=()=>Z(t.useValue);else if(function(t){return!(!t||!t.useFactory)}(t))o=()=>t.useFactory(...lu(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))o=()=>Xi(Z(t.useExisting));else{const u=Z(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return ci(u)||of(u);o=()=>new u(...lu(t.deps))}return o}function pa(t,n,r=!1){return{factory:t,value:n,multi:r?[]:void 0}}function uf(t){return null!==t&&"object"==typeof t&&$o in t}function Wc(t){return"function"==typeof t}function lf(t,n,r){return rf({name:r},n,t,r)}const Lm=lf;class Yr{static create(n,r){return Array.isArray(n)?Lm(n,r,""):Lm(n.providers,n.parent,n.name||"")}}function ff(t){mf(t);const n=Kr(t);return null===n?null:(void 0===n.component&&(n.component=function(t,n){const r=n[1].data[t];return 2&r.flags?n[r.directiveStart]:null}(n.nodeIndex,n.lView)),n.component)}function zd(t){mf(t);const n=Kr(t);return null===n?null:n.lView[8]}function $m(t){const n=Kr(t);if(null===n)return null;let o,r=n.lView;for(;2===r[1].type&&(o=E(r));)r=o;return 512&r[2]?null:r[8]}function Hm(t){return[...G(t).components]}function Wm(t){const n=Kr(t);return null===n?Yr.NULL:new fr(n.lView[1].data[n.nodeIndex],n.lView)}function $p(t){if(t instanceof Text)return[];const n=Kr(t);if(null===n)return[];const r=n.lView,o=r[1],u=n.nodeIndex;return(null==o?void 0:o.data[u])?(void 0===n.directives&&(n.directives=Ao(u,r,!1)),null===n.directives?[]:[...n.directives]):[]}function Hp(t){const{constructor:n}=t;if(!n)throw new Error("Unable to find the instance constructor");const r=Mr(n);if(r)return{inputs:r.inputs,outputs:r.outputs,encapsulation:r.encapsulation,changeDetection:r.onPush?rt.OnPush:rt.Default};const o=cr(n);return o?{inputs:o.inputs,outputs:o.outputs}:null}function qd(t){return Kr(t).native}function pf(t){mf(t);const n=Kr(t);if(null===n)return[];const r=n.lView,u=r[7],c=r[1].cleanup,f=[];if(c&&u)for(let y=0;y<c.length;){const D=c[y++],x=c[y++];if("string"==typeof D){const B=D,ne=b(r[x]),oe=u[c[y++]],be=c[y++],ke="boolean"==typeof be||be>=0?"dom":"output",ut="boolean"==typeof be&&be;t==ne&&f.push({element:t,name:B,callback:oe,useCapture:ut,type:ke})}}return f.sort(gf),f}function gf(t,n){return t.name==n.name?0:t.name<n.name?-1:1}function Wp(t){return void 0!==t.type&&void 0!==t.template&&void 0!==t.declaredInputs}function mf(t){if("undefined"!=typeof Element&&!(t instanceof Element))throw new Error("Expecting instance of DOM Element")}function Kp(t){Mp(t),Hm(t).forEach(n=>tf(n))}Yr.THROW_IF_NOT_FOUND=tr,Yr.NULL=new Np,Yr.\u0275prov=bn({token:Yr,providedIn:"any",factory:()=>Xi(Eu)}),Yr.__NG_ELEMENT_ID__=-1;let yf=!1;function L_(){yf||(yf=!0,ka("\u0275setProfiler",vs),ka("getDirectiveMetadata",Hp),ka("getComponent",ff),ka("getContext",zd),ka("getListeners",pf),ka("getOwningComponent",$m),ka("getHostElement",qd),ka("getInjector",Wm),ka("getRootComponents",Hm),ka("getDirectives",$p),ka("applyChanges",Kp))}function ka(t,n){if("undefined"==typeof COMPILED||!COMPILED){const r=Yt;if(r){let o=r.ng;o||(o=r.ng={}),o[t]=n}}}function U_(t,n={}){const r=n.rendererFactory||k,o=n.sanitizer||null,u=Mr(t);u.type!=t&&(u.type=t);const c=u.selectors[0][0],y=Bd(r.createRenderer(null,null),n.host||c,u.encapsulation),D=u.onPush?576:528,x=Zm(n.scheduler,n.playerHandler),B=r.createRenderer(y,u),ne=Gh(0,null,null,1,0,null,null,null,null,null),oe=_u(null,ne,x,D,null,null,r,B,null,n.injector||null);let be;Is(oe);try{r.begin&&r.begin(),be=qm(Gp(y,u,oe,r,B,o),u,oe,x,n.hostFeatures||null),Ql(ne,oe,null),Yl(ne,oe,null,null)}finally{fi(),r.end&&r.end()}return be}function Gp(t,n,r,o,u,c){const f=r[1];r[20]=t;const D=wl(f,20,2,"#host",null),x=D.mergedAttrs=n.hostAttrs;null!==x&&(Kd(D,x,!0),null!==t&&(tu(u,t,x),null!==D.classes&&Ph(u,t,D.classes),null!==D.styles&&Zl(u,t,D.styles)));const B=o.createRenderer(t,n),ne=_u(r,Kh(n),null,n.onPush?64:16,r[20],D,o,B,c||null,null);return f.firstCreatePass&&(A(ru(D,r),f,n.type),Xl(f,D),ec(D,r.length,1)),Wd(r,ne),r[20]=ne}function qm(t,n,r,o,u){const c=r[1],f=function(t,n,r){const o=si();t.firstCreatePass&&(r.providersResolver&&r.providersResolver(r),tc(t,o,n,vu(t,n,1,null),r));const u=wt(n,t,o.directiveStart,o);yo(u,n);const c=vt(o,n);return c&&yo(c,n),u}(c,r,n);if(o.components.push(f),t[8]=f,u&&u.forEach(D=>D(f,n)),n.contentQueries){const D=si();n.contentQueries(1,f,D.directiveStart)}const y=si();return!c.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(Do(y.index),Mm(r[1],y,0,y.directiveStart,y.directiveEnd,n),qh(n,f)),f}function Zm(t,n){return{components:[],scheduler:t||Wl,clean:Rp,playerHandler:n||null,flags:0}}function Qm(t,n){ji(Oa(t)[1],si())}function j_(t){return G(t).clean}function zp(t){return Object.getPrototypeOf(t.prototype).constructor}function Zd(t){let n=zp(t.type),r=!0;const o=[t];for(;n;){let u;if(li(t))u=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Error("Directives cannot inherit Components");u=n.\u0275dir}if(u){if(r){o.push(u);const f=t;f.inputs=_f(t.inputs),f.declaredInputs=_f(t.declaredInputs),f.outputs=_f(t.outputs);const y=u.hostBindings;y&&Gr(t,y);const D=u.viewQuery,x=u.contentQueries;if(D&&Jm(t,D),x&&vf(t,x),de(t.inputs,u.inputs),de(t.declaredInputs,u.declaredInputs),de(t.outputs,u.outputs),li(u)&&u.data.animation){const B=t.data;B.animation=(B.animation||[]).concat(u.data.animation)}}const c=u.features;if(c)for(let f=0;f<c.length;f++){const y=c[f];y&&y.ngInherit&&y(t),y===Zd&&(r=!1)}}n=Object.getPrototypeOf(n)}!function(t){let n=0,r=null;for(let o=t.length-1;o>=0;o--){const u=t[o];u.hostVars=n+=u.hostVars,u.hostAttrs=nu(u.hostAttrs,r=nu(r,u.hostAttrs))}}(o)}function _f(t){return t===ye?{}:t===he?[]:t}function Jm(t,n){const r=t.viewQuery;t.viewQuery=r?(o,u)=>{n(o,u),r(o,u)}:n}function vf(t,n){const r=t.contentQueries;t.contentQueries=r?(o,u,c)=>{n(o,u,c),r(o,u,c)}:n}function Gr(t,n){const r=t.hostBindings;t.hostBindings=r?(o,u)=>{n(o,u),r(o,u)}:n}const Xm=["providersResolver"],ey=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function Kc(t){let r,n=zp(t.type);r=li(t)?n.\u0275cmp:n.\u0275dir;const o=t;for(const u of Xm)o[u]=r[u];if(li(r))for(const u of ey)o[u]=r[u]}let Ef=null;function Li(){if(!Ef){const t=Yt.Symbol;if(t&&t.iterator)Ef=t.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let r=0;r<n.length;++r){const o=n[r];"entries"!==o&&"size"!==o&&Map.prototype[o]===Map.prototype.entries&&(Ef=o)}}}return Ef}function Eo(t,n){const r=Qd(t),o=Qd(n);if(r&&o)return function(t,n,r){const o=t[Li()](),u=n[Li()]();for(;;){const c=o.next(),f=u.next();if(c.done&&f.done)return!0;if(c.done||f.done||!r(c.value,f.value))return!1}}(t,n,Eo);{const u=t&&("object"==typeof t||"function"==typeof t),c=n&&("object"==typeof n||"function"==typeof n);return!(r||!u||o||!c)||Object.is(t,n)}}class Os{constructor(n){this.wrapped=n}static wrap(n){return new Os(n)}static unwrap(n){return Os.isWrapped(n)?n.wrapped:n}static isWrapped(n){return n instanceof Os}}function Qd(t){return!!qp(t)&&(Array.isArray(t)||!(t instanceof Map)&&Li()in t)}function qp(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Xa(t,n,r){return t[n]=r}function Yd(t,n){return t[n]}function Io(t,n,r){return!Object.is(t[n],r)&&(t[n]=r,!0)}function sc(t,n,r,o){const u=Io(t,n,r);return Io(t,n+1,o)||u}function If(t,n,r,o,u){const c=sc(t,n,r,o);return Io(t,n+2,u)||c}function zr(t,n,r,o,u,c){const f=sc(t,n,r,o);return sc(t,n+2,u,c)||f}function ny(t,n,r,o){const u=ht();return Io(u,dt(),n)&&(Hn(),Xo(Cr(),u,t,n,r,o)),ny}function Jd(t,n){let r=!1,o=we();for(let c=1;c<n.length;c+=2)r=Io(t,o++,n[c])||r;if(He(o),!r)return ar;let u=n[0];for(let c=1;c<n.length;c+=2)u+=Te(n[c])+n[c+1];return u}function ns(t,n,r,o){return Io(t,dt(),r)?n+Te(r)+o:ar}function oc(t,n,r,o,u,c){const y=sc(t,we(),r,u);return bt(2),y?n+Te(r)+o+Te(u)+c:ar}function Gc(t,n,r,o,u,c,f,y){const x=If(t,we(),r,u,f);return bt(3),x?n+Te(r)+o+Te(u)+c+Te(f)+y:ar}function zc(t,n,r,o,u,c,f,y,D,x){const ne=zr(t,we(),r,u,f,D);return bt(4),ne?n+Te(r)+o+Te(u)+c+Te(f)+y+Te(D)+x:ar}function ac(t,n,r,o,u,c,f,y,D,x,B,ne){const oe=we();let be=zr(t,oe,r,u,f,D);return be=Io(t,oe+4,B)||be,bt(5),be?n+Te(r)+o+Te(u)+c+Te(f)+y+Te(D)+x+Te(B)+ne:ar}function qc(t,n,r,o,u,c,f,y,D,x,B,ne,oe,be){const ke=we();let ut=zr(t,ke,r,u,f,D);return ut=sc(t,ke+4,B,oe)||ut,bt(6),ut?n+Te(r)+o+Te(u)+c+Te(f)+y+Te(D)+x+Te(B)+ne+Te(oe)+be:ar}function Zc(t,n,r,o,u,c,f,y,D,x,B,ne,oe,be,ke,ut){const Qe=we();let Ot=zr(t,Qe,r,u,f,D);return Ot=If(t,Qe+4,B,oe,ke)||Ot,bt(7),Ot?n+Te(r)+o+Te(u)+c+Te(f)+y+Te(D)+x+Te(B)+ne+Te(oe)+be+Te(ke)+ut:ar}function Qc(t,n,r,o,u,c,f,y,D,x,B,ne,oe,be,ke,ut,Qe,Ot){const mt=we();let Ln=zr(t,mt,r,u,f,D);return Ln=zr(t,mt+4,B,oe,ke,Qe)||Ln,bt(8),Ln?n+Te(r)+o+Te(u)+c+Te(f)+y+Te(D)+x+Te(B)+ne+Te(oe)+be+Te(ke)+ut+Te(Qe)+Ot:ar}function Zp(t,n,r,o,u,c){const f=ht(),y=ns(f,n,r,o);return y!==ar&&Xo(Cr(),f,t,y,u,c),Zp}function ry(t,n,r,o,u,c,f,y){const D=ht(),x=oc(D,n,r,o,u,c);return x!==ar&&Xo(Cr(),D,t,x,f,y),ry}function Qp(t,n,r,o,u,c,f,y,D,x){const B=ht(),ne=Gc(B,n,r,o,u,c,f,y);return ne!==ar&&Xo(Cr(),B,t,ne,D,x),Qp}function Yp(t,n,r,o,u,c,f,y,D,x,B,ne){const oe=ht(),be=zc(oe,n,r,o,u,c,f,y,D,x);return be!==ar&&Xo(Cr(),oe,t,be,B,ne),Yp}function wf(t,n,r,o,u,c,f,y,D,x,B,ne,oe,be){const ke=ht(),ut=ac(ke,n,r,o,u,c,f,y,D,x,B,ne);return ut!==ar&&Xo(Cr(),ke,t,ut,oe,be),wf}function wu(t,n,r,o,u,c,f,y,D,x,B,ne,oe,be,ke,ut){const Qe=ht(),Ot=qc(Qe,n,r,o,u,c,f,y,D,x,B,ne,oe,be);return Ot!==ar&&Xo(Cr(),Qe,t,Ot,ke,ut),wu}function iy(t,n,r,o,u,c,f,y,D,x,B,ne,oe,be,ke,ut,Qe,Ot){const mt=ht(),Ln=Zc(mt,n,r,o,u,c,f,y,D,x,B,ne,oe,be,ke,ut);return Ln!==ar&&Xo(Cr(),mt,t,Ln,Qe,Ot),iy}function Cu(t,n,r,o,u,c,f,y,D,x,B,ne,oe,be,ke,ut,Qe,Ot,mt,Ln){const ur=ht(),qr=Qc(ur,n,r,o,u,c,f,y,D,x,B,ne,oe,be,ke,ut,Qe,Ot);return qr!==ar&&Xo(Cr(),ur,t,qr,mt,Ln),Cu}function Zu(t,n,r,o){const u=ht(),c=Jd(u,n);return c!==ar&&Xo(Cr(),u,t,c,r,o),Zu}function sy(t,n,r,o,u,c,f,y){const D=ht(),x=Hn(),B=t+20,ne=x.firstCreatePass?function(t,n,r,o,u,c,f,y,D){const x=n.consts,B=wl(n,t,4,f||null,Nr(x,y));$d(n,r,B,Nr(x,D)),ji(n,B);const ne=B.tViews=Gh(2,B,o,u,c,n.directiveRegistry,n.pipeRegistry,null,n.schemas,x);return null!==n.queries&&(n.queries.template(n,B),ne.queries=n.queries.embeddedTView(B)),B}(B,x,D,n,r,o,u,c,f):x.data[B];Ds(ne,!1);const oe=D[11].createComment("");Wu(x,D,oe,ne),yo(oe,D),Wd(D,D[B]=Zh(oe,D,oe,ne)),Ui(ne)&&Wh(x,D,ne),null!=f&&gp(D,ne,y)}function oy(t,n,r,o){r>=t.data.length&&(t.data[r]=null,t.blueprint[r]=null),n[r]=o}function Jp(t){return Nn(In.lFrame.contextLView,20+t)}const Xp={\u0275\u0275defineInjectable:bn,\u0275\u0275defineInjector:Xt,\u0275\u0275inject:Xi,\u0275\u0275invalidFactoryDep:Ou,resolveForwardRef:Z},uc=ie({provide:String,useValue:ie});function Xd(t){return void 0!==t.useClass}function eg(t){return void 0!==t.useFactory}const uy=zo("Injectable",void 0,void 0,void 0,(t,n)=>rg(t,n)),ng=function(t,n){let r=null,o=null;t.hasOwnProperty(_n)||Object.defineProperty(t,_n,{get:()=>(null===r&&(r=vi().compileInjectable(Xp,`ng:///${t.name}/\u0275prov.js`,function(t,n){const r=n||{providedIn:null},o={name:t.name,type:t,typeArgumentCount:0,providedIn:r.providedIn};return(Xd(r)||eg(r))&&void 0!==r.deps&&(o.deps=cd(r.deps)),Xd(r)?o.useClass=r.useClass:function(t){return uc in t}(r)?o.useValue=r.useValue:eg(r)?o.useFactory=r.useFactory:function(t){return void 0!==t.useExisting}(r)&&(o.useExisting=r.useExisting),o}(t,n))),r)}),t.hasOwnProperty(ae)||Object.defineProperty(t,ae,{get:()=>{if(null===o){const u=vi();o=u.compileFactory(Xp,`ng:///${t.name}/\u0275fac.js`,{name:t.name,type:t,typeArgumentCount:0,deps:xl(t),target:u.FactoryTarget.Injectable})}return o},configurable:!0})},rg=ng;function sg(t){return t.length>1?" ("+function(t){const n=[];for(let r=0;r<t.length;++r){if(n.indexOf(t[r])>-1)return n.push(t[r]),n;n.push(t[r])}return n}(t.slice().reverse()).map(o=>Y(o.token)).join(" -> ")+")":""}function Jc(t,n,r,o){const u=[n],c=r(u),f=o?function(t,n){const r=`${t} caused by: ${n instanceof Error?n.message:n}`,o=Error(r);return o[qa]=n,o}(c,o):Error(c);return f.addKey=Df,f.keys=u,f.injectors=[t],f.constructResolvingMessage=r,f[qa]=o,f}function Df(t,n){this.injectors.push(t),this.keys.push(n),this.message=this.constructResolvingMessage(this.keys)}function bl(t,n){const r=[];for(let o=0,u=n.length;o<u;o++){const c=n[o];r.push(c&&0!=c.length?c.map(Y).join(" "):"?")}return Error("Cannot resolve all parameters for '"+Y(t)+"'("+r.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+Y(t)+"' is decorated with Injectable.")}function nh(t,n){return Error(`Cannot mix multi providers and regular providers, got: ${t} ${n}`)}class ea{constructor(n,r){if(this.token=n,this.id=r,!n)throw new Error("Token must be defined!");this.displayName=Y(this.token)}static get(n){return cy.get(Z(n))}static get numberOfKeys(){return cy.numberOfKeys}}class G_{constructor(){this._allKeys=new Map}get(n){if(n instanceof ea)return n;if(this._allKeys.has(n))return this._allKeys.get(n);const r=new ea(n,ea.numberOfKeys);return this._allKeys.set(n,r),r}get numberOfKeys(){return this._allKeys.size}}const cy=new G_;class dy{constructor(n){this.reflectionCapabilities=n}updateCapabilities(n){this.reflectionCapabilities=n}factory(n){return this.reflectionCapabilities.factory(n)}parameters(n){return this.reflectionCapabilities.parameters(n)}annotations(n){return this.reflectionCapabilities.annotations(n)}propMetadata(n){return this.reflectionCapabilities.propMetadata(n)}hasLifecycleHook(n,r){return this.reflectionCapabilities.hasLifecycleHook(n,r)}getter(n){return this.reflectionCapabilities.getter(n)}setter(n){return this.reflectionCapabilities.setter(n)}method(n){return this.reflectionCapabilities.method(n)}importUri(n){return this.reflectionCapabilities.importUri(n)}resourceUri(n){return this.reflectionCapabilities.resourceUri(n)}resolveIdentifier(n,r,o,u){return this.reflectionCapabilities.resolveIdentifier(n,r,o,u)}resolveEnum(n,r){return this.reflectionCapabilities.resolveEnum(n,r)}}const Xc=new dy(new et);class rh{constructor(n,r,o){this.key=n,this.optional=r,this.visibility=o}static fromKey(n){return new rh(n,!1,null)}}const z_=[];class hy{constructor(n,r,o){this.key=n,this.resolvedFactories=r,this.multiProvider=o,this.resolvedFactory=this.resolvedFactories[0]}}class fy{constructor(n,r){this.factory=n,this.dependencies=r}}function q_(t){let n,r;if(t.useClass){const o=Z(t.useClass);n=Xc.factory(o),r=my(o)}else t.useExisting?(n=o=>o,r=[rh.fromKey(ea.get(t.useExisting))]):t.useFactory?(n=t.useFactory,r=function(t,n){if(n){const r=n.map(o=>[o]);return n.map(o=>ag(t,o,r))}return my(t)}(t.useFactory,t.deps)):(n=()=>t.useValue,r=z_);return new fy(n,r)}function py(t){return new hy(ea.get(t.provide),[q_(t)],t.multi||!1)}function gy(t){const o=function(t,n){for(let r=0;r<t.length;r++){const o=t[r],u=n.get(o.key.id);if(u){if(o.multiProvider!==u.multiProvider)throw nh(u,o);if(o.multiProvider)for(let c=0;c<o.resolvedFactories.length;c++)u.resolvedFactories.push(o.resolvedFactories[c]);else n.set(o.key.id,o)}else{let c;c=o.multiProvider?new hy(o.key,o.resolvedFactories.slice(),o.multiProvider):o,n.set(o.key.id,c)}}return n}(og(t,[]).map(py),new Map);return Array.from(o.values())}function og(t,n){return t.forEach(r=>{if(r instanceof Ti)n.push({provide:r,useClass:r});else if(r&&"object"==typeof r&&void 0!==r.provide)n.push(r);else{if(!Array.isArray(r))throw function(t){return Error(`Invalid provider - only instances of Provider and Type are allowed, got: ${t}`)}(r);og(r,n)}}),n}function my(t){const n=Xc.parameters(t);if(!n)return[];if(n.some(r=>null==r))throw bl(t,n);return n.map(r=>ag(t,r,n))}function ag(t,n,r){let o=null,u=!1;if(!Array.isArray(n))return ug(n instanceof cu?n.token:n,u,null);let c=null;for(let f=0;f<n.length;++f){const y=n[f];y instanceof Ti?o=y:y instanceof cu?o=y.token:y instanceof Ho?u=!0:y instanceof oa||y instanceof aa?c=y:y instanceof bi&&(o=y)}if(o=Z(o),null!=o)return ug(o,u,c);throw bl(t,r)}function ug(t,n,r){return new rh(ea.get(t),n,r)}const ih={};class cc{static resolve(n){return gy(n)}static resolveAndCreate(n,r){const o=cc.resolve(n);return cc.fromResolvedProviders(o,r)}static fromResolvedProviders(n,r){return new lg(n,r)}}let lg=(()=>{class t{constructor(r,o){this._constructionCounter=0,this._providers=r,this.parent=o||null;const u=r.length;this.keyIds=[],this.objs=[];for(let c=0;c<u;c++)this.keyIds[c]=r[c].key.id,this.objs[c]=ih}get(r,o=tr){return this._getByKey(ea.get(r),null,o)}resolveAndCreateChild(r){const o=cc.resolve(r);return this.createChildFromResolved(o)}createChildFromResolved(r){const o=new t(r);return o.parent=this,o}resolveAndInstantiate(r){return this.instantiateResolved(cc.resolve([r])[0])}instantiateResolved(r){return this._instantiateProvider(r)}getProviderAtIndex(r){if(r<0||r>=this._providers.length)throw function(t){return Error(`Index ${t} is out-of-bounds.`)}(r);return this._providers[r]}_new(r){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw function(t,n){return Jc(t,n,function(r){return`Cannot instantiate cyclic dependency!${sg(r)}`})}(this,r.key);return this._instantiateProvider(r)}_getMaxNumberOfObjects(){return this.objs.length}_instantiateProvider(r){if(r.multiProvider){const o=[];for(let u=0;u<r.resolvedFactories.length;++u)o[u]=this._instantiate(r,r.resolvedFactories[u]);return o}return this._instantiate(r,r.resolvedFactories[0])}_instantiate(r,o){const u=o.factory;let c,f;try{c=o.dependencies.map(y=>this._getByReflectiveDependency(y))}catch(y){throw y.addKey&&y.addKey(this,r.key),y}try{f=u(...c)}catch(y){throw function(t,n,r,o){return Jc(t,o,function(u){const c=Y(u[0].token);return`${n.message}: Error during instantiation of ${c}!${sg(u)}.`},n)}(this,y,0,r.key)}return f}_getByReflectiveDependency(r){return this._getByKey(r.key,r.visibility,r.optional?null:tr)}_getByKey(r,o,u){return r===t.INJECTOR_KEY?this:o instanceof oa?this._getByKeySelf(r,u):this._getByKeyDefault(r,u,o)}_getObjByKeyId(r){for(let o=0;o<this.keyIds.length;o++)if(this.keyIds[o]===r)return this.objs[o]===ih&&(this.objs[o]=this._new(this._providers[o])),this.objs[o];return ih}_throwOrNull(r,o){if(o!==tr)return o;throw function(t,n){return Jc(t,n,function(r){return`No provider for ${Y(r[0].token)}!${sg(r)}`})}(this,r)}_getByKeySelf(r,o){const u=this._getObjByKeyId(r.id);return u!==ih?u:this._throwOrNull(r,o)}_getByKeyDefault(r,o,u){let c;for(c=u instanceof aa?this.parent:this;c instanceof t;){const f=c,y=f._getObjByKeyId(r.id);if(y!==ih)return y;c=f.parent}return null!==c?c.get(r.token,o):this._throwOrNull(r,o)}get displayName(){return`ReflectiveInjector(providers: [${function(t,n){const r=[];for(let o=0;o<t._providers.length;++o)r[o]=n(t.getProviderAtIndex(o));return r}(this,o=>' "'+o.key.displayName+'" ').join(", ")}])`}toString(){return this.displayName}}return t.INJECTOR_KEY=ea.get(Yr),t})();function ed(t,n=Ft.Default){const r=ht();return null===r?Xi(t,n):V(si(),r,Z(t),n)}function Af(){throw new Error("invalid")}function td(t,n,r){const o=ht();return Io(o,dt(),n)&&Ta(Hn(),Cr(),o,t,n,o[11],r,!1),td}function cg(t,n,r,o,u){const f=u?"class":"style";Fm(t,r,n.inputs[f],f,o)}function bu(t,n,r,o){const u=ht(),c=Hn(),f=20+t,y=u[11],D=u[f]=Ca(y,n,In.lFrame.currentNamespace),x=c.firstCreatePass?function(t,n,r,o,u,c,f){const y=n.consts,x=wl(n,t,2,u,Nr(y,c));return $d(n,r,x,Nr(y,f)),null!==x.attrs&&Kd(x,x.attrs,!1),null!==x.mergedAttrs&&Kd(x,x.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,x),x}(f,c,u,0,n,r,o):c.data[f];Ds(x,!0);const B=x.mergedAttrs;null!==B&&tu(y,D,B);const ne=x.classes;null!==ne&&Ph(y,D,ne);const oe=x.styles;null!==oe&&Zl(y,D,oe),64!=(64&x.flags)&&Wu(c,u,D,x),0===In.lFrame.elementDepthCount&&yo(D,u),In.lFrame.elementDepthCount++,Ui(x)&&(Wh(c,u,x),qu(c,x,u)),null!==o&&gp(u,x)}function dg(){let t=si();K()?_():(t=t.parent,Ds(t,!1));const n=t;In.lFrame.elementDepthCount--;const r=Hn();r.firstCreatePass&&(ji(r,t),gs(t)&&r.queries.elementEnd(t)),null!=n.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(n)&&cg(r,n,ht(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(n)&&cg(r,n,ht(),n.stylesWithoutHost,!1)}function Tl(t,n,r,o){bu(t,n,r,o),dg()}function hg(t,n,r){const o=ht(),u=Hn(),c=t+20,f=u.firstCreatePass?function(t,n,r,o,u){const c=n.consts,f=Nr(c,o),y=wl(n,t,8,"ng-container",f);return null!==f&&Kd(y,f,!0),$d(n,r,y,Nr(c,u)),null!==n.queries&&n.queries.elementStart(n,y),y}(c,u,o,n,r):u.data[c];Ds(f,!0);const y=o[c]=o[11].createComment("");Wu(u,o,y,f),yo(y,o),Ui(f)&&(Wh(u,o,f),qu(u,f,o)),null!=r&&gp(o,f)}function fg(){let t=si();const n=Hn();K()?_():(t=t.parent,Ds(t,!1)),n.firstCreatePass&&(ji(n,t),gs(t)&&n.queries.elementEnd(t))}function vy(t,n,r){hg(t,n,r),fg()}function Ey(){return ht()}function pg(t){return!!t&&"function"==typeof t.then}function Iy(t){return!!t&&"function"==typeof t.subscribe}const gg=Iy;function mg(t,n,r,o){const u=ht(),c=Hn(),f=si();return Rf(c,u,u[11],f,t,n,!!r,o),mg}function yg(t,n){const r=si(),o=ht(),u=Hn();return Rf(u,o,km(Xn(u.data),r,o),r,t,n,!1),yg}function Rf(t,n,r,o,u,c,f,y){const D=Ui(o),B=t.firstCreatePass&&Xh(t),ne=n[8],oe=Jh(n);let be=!0;if(3&o.type||y){const Qe=vt(o,n),Ot=y?y(Qe):Qe,mt=oe.length,Ln=y?ur=>y(b(ur[o.index])):o.index;if(P(r)){let ur=null;if(!y&&D&&(ur=function(t,n,r,o){const u=t.cleanup;if(null!=u)for(let c=0;c<u.length-1;c+=2){const f=u[c];if(f===r&&u[c+1]===o){const y=n[7],D=u[c+2];return y.length>D?y[D]:null}"string"==typeof f&&(c+=2)}return null}(t,n,u,o.index)),null!==ur)(ur.__ngLastListenerFn__||ur).__ngNextListenerFn__=c,ur.__ngLastListenerFn__=c,be=!1;else{c=_g(o,n,ne,c,!1);const qr=r.listen(Ot,u,c);oe.push(c,qr),B&&B.push(u,Ln,mt,mt+1)}}else c=_g(o,n,ne,c,!0),Ot.addEventListener(u,c,f),oe.push(c),B&&B.push(u,Ln,mt,f)}else c=_g(o,n,ne,c,!1);const ke=o.outputs;let ut;if(be&&null!==ke&&(ut=ke[u])){const Qe=ut.length;if(Qe)for(let Ot=0;Ot<Qe;Ot+=2){const Oo=n[ut[Ot]][ut[Ot+1]].subscribe(c),Su=oe.length;oe.push(c,Oo),B&&B.push(u,o.index,Su,-(Su+1))}}}function wy(t,n,r,o){try{return ei(6,n,r),!1!==r(o)}catch(u){return ef(t,u),!1}finally{ei(7,n,r)}}function _g(t,n,r,o,u){return function c(f){if(f===Function)return o;const y=2&t.flags?hr(t.index,n):n;0==(32&n[2])&&Dp(y);let D=wy(n,r,o,f),x=c.__ngNextListenerFn__;for(;x;)D=wy(n,r,x,f)&&D,x=x.__ngNextListenerFn__;return u&&!1===D&&(f.preventDefault(),f.returnValue=!1),D}}function Cy(t=1){return Aa(t)}function J_(t,n){let r=null;const o=function(t){const n=t.attrs;if(null!=n){const r=n.indexOf(5);if(0==(1&r))return n[r+1]}return null}(t);for(let u=0;u<n.length;u++){const c=n[u];if("*"!==c){if(null===o?Uc(t,c,!0):u_(o,c))return u}else r=u}return r}function by(t){const n=ht()[16][6];if(!n.projection){const o=n.projection=ia(t?t.length:1,null),u=o.slice();let c=n.child;for(;null!==c;){const f=t?J_(c,t):0;null!==f&&(u[f]?u[f].projectionNext=c:o[f]=c,u[f]=c),c=c.next}}}function Ty(t,n=0,r){const o=ht(),u=Hn(),c=wl(u,20+t,16,null,r||null);null===c.projection&&(c.projection=n),_(),64!=(64&c.flags)&&function(t,n,r){sm(n[11],0,n,r,Md(t,r,n),$u(r.parent||n[6],r,n))}(u,o,c)}function vg(t,n,r){return Eg(t,"",n,"",r),vg}function Eg(t,n,r,o,u){const c=ht(),f=ns(c,n,r,o);return f!==ar&&Ta(Hn(),Cr(),c,t,f,c[11],u,!1),Eg}function Dy(t,n,r,o,u,c,f){const y=ht(),D=oc(y,n,r,o,u,c);return D!==ar&&Ta(Hn(),Cr(),y,t,D,y[11],f,!1),Dy}function Mf(t,n,r,o,u,c,f,y,D){const x=ht(),B=Gc(x,n,r,o,u,c,f,y);return B!==ar&&Ta(Hn(),Cr(),x,t,B,x[11],D,!1),Mf}function s(t,n,r,o,u,c,f,y,D,x,B){const ne=ht(),oe=zc(ne,n,r,o,u,c,f,y,D,x);return oe!==ar&&Ta(Hn(),Cr(),ne,t,oe,ne[11],B,!1),s}function e(t,n,r,o,u,c,f,y,D,x,B,ne,oe){const be=ht(),ke=ac(be,n,r,o,u,c,f,y,D,x,B,ne);return ke!==ar&&Ta(Hn(),Cr(),be,t,ke,be[11],oe,!1),e}function i(t,n,r,o,u,c,f,y,D,x,B,ne,oe,be,ke){const ut=ht(),Qe=qc(ut,n,r,o,u,c,f,y,D,x,B,ne,oe,be);return Qe!==ar&&Ta(Hn(),Cr(),ut,t,Qe,ut[11],ke,!1),i}function a(t,n,r,o,u,c,f,y,D,x,B,ne,oe,be,ke,ut,Qe){const Ot=ht(),mt=Zc(Ot,n,r,o,u,c,f,y,D,x,B,ne,oe,be,ke,ut);return mt!==ar&&Ta(Hn(),Cr(),Ot,t,mt,Ot[11],Qe,!1),a}function l(t,n,r,o,u,c,f,y,D,x,B,ne,oe,be,ke,ut,Qe,Ot,mt){const Ln=ht(),ur=Qc(Ln,n,r,o,u,c,f,y,D,x,B,ne,oe,be,ke,ut,Qe,Ot);return ur!==ar&&Ta(Hn(),Cr(),Ln,t,ur,Ln[11],mt,!1),l}function p(t,n,r){const o=ht(),u=Jd(o,n);return u!==ar&&Ta(Hn(),Cr(),o,t,u,o[11],r,!1),p}function te(t,n,r,o,u){const c=t[r+1],f=null===n;let y=o?Ya(c):fa(c),D=!1;for(;0!==y&&(!1===D||f);){const B=t[y+1];Ee(t[y],n)&&(D=!0,t[y+1]=o?Vh(B):El(B)),y=o?Ya(B):fa(B)}D&&(t[r+1]=o?El(c):Vh(c))}function Ee(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Ba(t,n)>=0}const Ne={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function it(t){return t.substring(Ne.key,Ne.keyEnd)}function Et(t){return t.substring(Ne.value,Ne.valueEnd)}function Dn(t,n){const r=Ne.textEnd;return r===n?-1:(n=Ne.keyEnd=function(t,n,r){for(;n<r&&t.charCodeAt(n)>32;)n++;return n}(t,Ne.key=n,r),Qu(t,n,r))}function Ps(t,n){const r=Ne.textEnd;let o=Ne.key=Qu(t,n,r);return r===o?-1:(o=Ne.keyEnd=function(t,n,r){let o;for(;n<r&&(45===(o=t.charCodeAt(n))||95===o||(-33&o)>=65&&(-33&o)<=90||o>=48&&o<=57);)n++;return n}(t,o,r),o=Sy(t,o,r),o=Ne.value=Qu(t,o,r),o=Ne.valueEnd=function(t,n,r){let o=-1,u=-1,c=-1,f=n,y=f;for(;f<r;){const D=t.charCodeAt(f++);if(59===D)return y;34===D||39===D?y=f=lI(t,D,f,r):n===f-4&&85===c&&82===u&&76===o&&40===D?y=f=lI(t,41,f,r):D>32&&(y=f),c=u,u=o,o=-33&D}return y}(t,o,r),Sy(t,o,r))}function Ko(t){Ne.key=0,Ne.keyEnd=0,Ne.value=0,Ne.valueEnd=0,Ne.textEnd=t.length}function Qu(t,n,r){for(;n<r&&t.charCodeAt(n)<=32;)n++;return n}function Sy(t,n,r,o){return(n=Qu(t,n,r))<r&&n++,n}function lI(t,n,r,o){let u=-1,c=r;for(;c<o;){const f=t.charCodeAt(c++);if(f==n&&92!==u)return c;u=92==f&&92===u?0:f}throw new Error}function X_(t,n,r){return Ju(t,n,r,!1),X_}function ev(t,n){return Ju(t,n,null,!0),ev}function Yu(t){Xu(fI,mb,t,!1)}function mb(t,n){for(let r=function(t){return Ko(t),Ps(t,Qu(t,0,Ne.textEnd))}(n);r>=0;r=Ps(n,r))fI(t,it(n),Et(n))}function cI(t){Xu(jo,Dl,t,!0)}function Dl(t,n){for(let r=function(t){return Ko(t),Dn(t,Qu(t,0,Ne.textEnd))}(n);r>=0;r=Dn(n,r))jo(t,it(n),!0)}function Ju(t,n,r,o){const u=ht(),c=Hn(),f=bt(2);c.firstUpdatePass&&hI(c,t,f,o),n!==ar&&Io(u,f,n)&&pI(c,c.data[ti()],u,u[11],t,u[f+1]=function(t,n){return null==t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Y(Ha(t)))),t}(n,r),o,f)}function Xu(t,n,r,o){const u=Hn(),c=bt(2);u.firstUpdatePass&&hI(u,null,c,o);const f=ht();if(r!==ar&&Io(f,c,r)){const y=u.data[ti()];if(mI(y,o)&&!dI(u,c)){let D=o?y.classesWithoutHost:y.stylesWithoutHost;null!==D&&(r=ve(D,r||"")),cg(u,y,f,r,o)}else!function(t,n,r,o,u,c,f,y){u===ar&&(u=he);let D=0,x=0,B=0<u.length?u[0]:null,ne=0<c.length?c[0]:null;for(;null!==B||null!==ne;){const oe=D<u.length?u[D+1]:void 0,be=x<c.length?c[x+1]:void 0;let ut,ke=null;B===ne?(D+=2,x+=2,oe!==be&&(ke=ne,ut=be)):null===ne||null!==B&&B<ne?(D+=2,ke=B):(x+=2,ke=ne,ut=be),null!==ke&&pI(t,n,r,o,ke,ut,f,y),B=D<u.length?u[D]:null,ne=x<c.length?c[x]:null}}(u,y,f,f[11],f[c+1],f[c+1]=function(t,n,r){if(null==r||""===r)return he;const o=[],u=Ha(r);if(Array.isArray(u))for(let c=0;c<u.length;c++)t(o,u[c],!0);else if("object"==typeof u)for(const c in u)u.hasOwnProperty(c)&&t(o,c,u[c]);else"string"==typeof u&&n(o,u);return o}(t,n,r),o,c)}}function dI(t,n){return n>=t.expandoStartIndex}function hI(t,n,r,o){const u=t.data;if(null===u[r+1]){const c=u[ti()],f=dI(t,r);mI(c,o)&&null===n&&!f&&(n=!1),n=function(t,n,r,o){const u=Xn(t);let c=o?n.residualClasses:n.residualStyles;if(null===u)0===(o?n.classBindings:n.styleBindings)&&(r=Ig(r=tv(null,t,n,r,o),n.attrs,o),c=null);else{const f=n.directiveStylingLast;if(-1===f||t[f]!==u)if(r=tv(u,t,n,r,o),null===c){let D=function(t,n,r){const o=r?n.classBindings:n.styleBindings;if(0!==fa(o))return t[Ya(o)]}(t,n,o);void 0!==D&&Array.isArray(D)&&(D=tv(null,t,n,D[1],o),D=Ig(D,n.attrs,o),function(t,n,r,o){t[Ya(r?n.classBindings:n.styleBindings)]=o}(t,n,o,D))}else c=function(t,n,r){let o;const u=n.directiveEnd;for(let c=1+n.directiveStylingLast;c<u;c++)o=Ig(o,t[c].hostAttrs,r);return Ig(o,n.attrs,r)}(t,n,o)}return void 0!==c&&(o?n.residualClasses=c:n.residualStyles=c),r}(u,c,n,o),function(t,n,r,o,u,c){let f=c?n.classBindings:n.styleBindings,y=Ya(f),D=fa(f);t[o]=r;let B,x=!1;if(Array.isArray(r)){const ne=r;B=ne[1],(null===B||Ba(ne,B)>0)&&(x=!0)}else B=r;if(u)if(0!==D){const oe=Ya(t[y+1]);t[o+1]=kd(oe,y),0!==oe&&(t[oe+1]=Fd(t[oe+1],o)),t[y+1]=function(t,n){return 131071&t|n<<17}(t[y+1],o)}else t[o+1]=kd(y,0),0!==y&&(t[y+1]=Fd(t[y+1],o)),y=o;else t[o+1]=kd(D,0),0===y?y=o:t[D+1]=Fd(t[D+1],o),D=o;x&&(t[o+1]=El(t[o+1])),te(t,B,o,!0),te(t,B,o,!1),function(t,n,r,o,u){const c=u?t.residualClasses:t.residualStyles;null!=c&&"string"==typeof n&&Ba(c,n)>=0&&(r[o+1]=Vh(r[o+1]))}(n,B,t,o,c),f=kd(y,D),c?n.classBindings=f:n.styleBindings=f}(u,c,n,r,f,o)}}function tv(t,n,r,o,u){let c=null;const f=r.directiveEnd;let y=r.directiveStylingLast;for(-1===y?y=r.directiveStart:y++;y<f&&(c=n[y],o=Ig(o,c.hostAttrs,u),c!==t);)y++;return null!==t&&(r.directiveStylingLast=y),o}function Ig(t,n,r){const o=r?1:2;let u=-1;if(null!==n)for(let c=0;c<n.length;c++){const f=n[c];"number"==typeof f?u=f:u===o&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),jo(t,f,!!r||n[++c]))}return void 0===t?null:t}function fI(t,n,r){jo(t,n,Ha(r))}function pI(t,n,r,o,u,c,f,y){if(!(3&n.type))return;const D=t.data,x=D[y+1];Ry(function(t){return 1==(1&t)}(x)?gI(D,n,r,u,fa(x),f):void 0)||(Ry(c)||function(t){return 2==(2&t)}(x)&&(c=gI(D,null,r,u,y,f)),function(t,n,r,o,u){const c=P(t);if(n)u?c?t.addClass(r,o):r.classList.add(o):c?t.removeClass(r,o):r.classList.remove(o);else{let f=-1===o.indexOf("-")?void 0:ha.DashCase;if(null==u)c?t.removeStyle(r,o,f):r.style.removeProperty(o);else{const y="string"==typeof u&&u.endsWith("!important");y&&(u=u.slice(0,-10),f|=ha.Important),c?t.setStyle(r,o,u,f):r.style.setProperty(o,u,y?"important":"")}}}(o,f,Fe(ti(),r),u,c))}function gI(t,n,r,o,u,c){const f=null===n;let y;for(;u>0;){const D=t[u],x=Array.isArray(D),B=x?D[1]:D,ne=null===B;let oe=r[u+1];oe===ar&&(oe=ne?he:void 0);let be=ne?au(oe,o):B===o?oe:void 0;if(x&&!Ry(be)&&(be=au(D,o)),Ry(be)&&(y=be,f))return y;const ke=t[u+1];u=f?Ya(ke):fa(ke)}if(null!==n){let D=c?n.residualClasses:n.residualStyles;null!=D&&(y=au(D,o))}return y}function Ry(t){return void 0!==t}function mI(t,n){return 0!=(t.flags&(n?16:32))}function yI(t,n=""){const r=ht(),o=Hn(),u=t+20,c=o.firstCreatePass?wl(o,u,1,n,null):o.data[u],f=r[u]=cn(r[11],n);Wu(o,r,f,c),Ds(c,!1)}function nv(t){return My("",t,""),nv}function My(t,n,r){const o=ht(),u=ns(o,t,n,r);return u!==ar&&Ja(o,ti(),u),My}function rv(t,n,r,o,u){const c=ht(),f=oc(c,t,n,r,o,u);return f!==ar&&Ja(c,ti(),f),rv}function iv(t,n,r,o,u,c,f){const y=ht(),D=Gc(y,t,n,r,o,u,c,f);return D!==ar&&Ja(y,ti(),D),iv}function sv(t,n,r,o,u,c,f,y,D){const x=ht(),B=zc(x,t,n,r,o,u,c,f,y,D);return B!==ar&&Ja(x,ti(),B),sv}function ov(t,n,r,o,u,c,f,y,D,x,B){const ne=ht(),oe=ac(ne,t,n,r,o,u,c,f,y,D,x,B);return oe!==ar&&Ja(ne,ti(),oe),ov}function av(t,n,r,o,u,c,f,y,D,x,B,ne,oe){const be=ht(),ke=qc(be,t,n,r,o,u,c,f,y,D,x,B,ne,oe);return ke!==ar&&Ja(be,ti(),ke),av}function uv(t,n,r,o,u,c,f,y,D,x,B,ne,oe,be,ke){const ut=ht(),Qe=Zc(ut,t,n,r,o,u,c,f,y,D,x,B,ne,oe,be,ke);return Qe!==ar&&Ja(ut,ti(),Qe),uv}function lv(t,n,r,o,u,c,f,y,D,x,B,ne,oe,be,ke,ut,Qe){const Ot=ht(),mt=Qc(Ot,t,n,r,o,u,c,f,y,D,x,B,ne,oe,be,ke,ut,Qe);return mt!==ar&&Ja(Ot,ti(),mt),lv}function cv(t){const n=ht(),r=Jd(n,t);return r!==ar&&Ja(n,ti(),r),cv}function _I(t,n,r){Xu(jo,Dl,ns(ht(),t,n,r),!0)}function vI(t,n,r,o,u){Xu(jo,Dl,oc(ht(),t,n,r,o,u),!0)}function EI(t,n,r,o,u,c,f){Xu(jo,Dl,Gc(ht(),t,n,r,o,u,c,f),!0)}function II(t,n,r,o,u,c,f,y,D){Xu(jo,Dl,zc(ht(),t,n,r,o,u,c,f,y,D),!0)}function wI(t,n,r,o,u,c,f,y,D,x,B){Xu(jo,Dl,ac(ht(),t,n,r,o,u,c,f,y,D,x,B),!0)}function CI(t,n,r,o,u,c,f,y,D,x,B,ne,oe){Xu(jo,Dl,qc(ht(),t,n,r,o,u,c,f,y,D,x,B,ne,oe),!0)}function bI(t,n,r,o,u,c,f,y,D,x,B,ne,oe,be,ke){Xu(jo,Dl,Zc(ht(),t,n,r,o,u,c,f,y,D,x,B,ne,oe,be,ke),!0)}function TI(t,n,r,o,u,c,f,y,D,x,B,ne,oe,be,ke,ut,Qe){Xu(jo,Dl,Qc(ht(),t,n,r,o,u,c,f,y,D,x,B,ne,oe,be,ke,ut,Qe),!0)}function DI(t){Xu(jo,Dl,Jd(ht(),t),!0)}function SI(t,n,r){Yu(ns(ht(),t,n,r))}function AI(t,n,r,o,u){Yu(oc(ht(),t,n,r,o,u))}function RI(t,n,r,o,u,c,f){Yu(Gc(ht(),t,n,r,o,u,c,f))}function MI(t,n,r,o,u,c,f,y,D){Yu(zc(ht(),t,n,r,o,u,c,f,y,D))}function NI(t,n,r,o,u,c,f,y,D,x,B){Yu(ac(ht(),t,n,r,o,u,c,f,y,D,x,B))}function xI(t,n,r,o,u,c,f,y,D,x,B,ne,oe){Yu(qc(ht(),t,n,r,o,u,c,f,y,D,x,B,ne,oe))}function OI(t,n,r,o,u,c,f,y,D,x,B,ne,oe,be,ke){Yu(Zc(ht(),t,n,r,o,u,c,f,y,D,x,B,ne,oe,be,ke))}function PI(t,n,r,o,u,c,f,y,D,x,B,ne,oe,be,ke,ut,Qe){Yu(Qc(ht(),t,n,r,o,u,c,f,y,D,x,B,ne,oe,be,ke,ut,Qe))}function kI(t){Yu(Jd(ht(),t))}function dv(t,n,r,o,u){return Ju(t,ns(ht(),n,r,o),u,!1),dv}function hv(t,n,r,o,u,c,f){return Ju(t,oc(ht(),n,r,o,u,c),f,!1),hv}function fv(t,n,r,o,u,c,f,y,D){return Ju(t,Gc(ht(),n,r,o,u,c,f,y),D,!1),fv}function pv(t,n,r,o,u,c,f,y,D,x,B){return Ju(t,zc(ht(),n,r,o,u,c,f,y,D,x),B,!1),pv}function gv(t,n,r,o,u,c,f,y,D,x,B,ne,oe){return Ju(t,ac(ht(),n,r,o,u,c,f,y,D,x,B,ne),oe,!1),gv}function mv(t,n,r,o,u,c,f,y,D,x,B,ne,oe,be,ke){return Ju(t,qc(ht(),n,r,o,u,c,f,y,D,x,B,ne,oe,be),ke,!1),mv}function yv(t,n,r,o,u,c,f,y,D,x,B,ne,oe,be,ke,ut,Qe){return Ju(t,Zc(ht(),n,r,o,u,c,f,y,D,x,B,ne,oe,be,ke,ut),Qe,!1),yv}function _v(t,n,r,o,u,c,f,y,D,x,B,ne,oe,be,ke,ut,Qe,Ot,mt){return Ju(t,Qc(ht(),n,r,o,u,c,f,y,D,x,B,ne,oe,be,ke,ut,Qe,Ot),mt,!1),_v}function vv(t,n,r){return Ju(t,Jd(ht(),n),r,!1),vv}function Ev(t,n,r){const o=ht();return Io(o,dt(),n)&&Ta(Hn(),Cr(),o,t,n,o[11],r,!0),Ev}function Iv(t,n,r){const o=ht();if(Io(o,dt(),n)){const c=Hn(),f=Cr();Ta(c,f,o,t,n,km(Xn(c.data),f,o),r,!0)}return Iv}const sh=void 0;var Tb=["en",[["a","p"],["AM","PM"],sh],[["AM","PM"],sh,sh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],sh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],sh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",sh,"{1} 'at' {0}",sh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let xf={};function Db(t,n,r){"string"!=typeof n&&(r=n,n=t[Qn.LocaleId]),n=n.toLowerCase().replace(/_/g,"-"),xf[n]=t,r&&(xf[n][Qn.ExtraData]=r)}function wv(t){const n=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let r=LI(n);if(r)return r;const o=n.split("-")[0];if(r=LI(o),r)return r;if("en"===o)return Tb;throw new Error(`Missing locale data for the locale "${t}".`)}function Sb(t){return wv(t)[Qn.CurrencyCode]||null}function FI(t){return wv(t)[Qn.PluralCase]}function LI(t){return t in xf||(xf[t]=Yt.ng&&Yt.ng.common&&Yt.ng.common.locales&&Yt.ng.common.locales[t]),xf[t]}function Ab(){xf={}}var Qn=(()=>((Qn=Qn||{})[Qn.LocaleId=0]="LocaleId",Qn[Qn.DayPeriodsFormat=1]="DayPeriodsFormat",Qn[Qn.DayPeriodsStandalone=2]="DayPeriodsStandalone",Qn[Qn.DaysFormat=3]="DaysFormat",Qn[Qn.DaysStandalone=4]="DaysStandalone",Qn[Qn.MonthsFormat=5]="MonthsFormat",Qn[Qn.MonthsStandalone=6]="MonthsStandalone",Qn[Qn.Eras=7]="Eras",Qn[Qn.FirstDayOfWeek=8]="FirstDayOfWeek",Qn[Qn.WeekendRange=9]="WeekendRange",Qn[Qn.DateFormat=10]="DateFormat",Qn[Qn.TimeFormat=11]="TimeFormat",Qn[Qn.DateTimeFormat=12]="DateTimeFormat",Qn[Qn.NumberSymbols=13]="NumberSymbols",Qn[Qn.NumberFormats=14]="NumberFormats",Qn[Qn.CurrencyCode=15]="CurrencyCode",Qn[Qn.CurrencySymbol=16]="CurrencySymbol",Qn[Qn.CurrencyName=17]="CurrencyName",Qn[Qn.Currencies=18]="Currencies",Qn[Qn.Directionality=19]="Directionality",Qn[Qn.PluralCase=20]="PluralCase",Qn[Qn.ExtraData=21]="ExtraData",Qn))();const Mb=["zero","one","two","few","many"],wg="en-US",VI="USD",Ny={marker:"element"},xy={marker:"ICU"};var zs=(()=>((zs=zs||{})[zs.SHIFT=2]="SHIFT",zs[zs.APPEND_EAGERLY=1]="APPEND_EAGERLY",zs[zs.COMMENT=2]="COMMENT",zs))();let UI=wg;function Oy(t){(function(t,n){null==t&&$t(n,t,null,"!=")})(t,"Expected localeId to be defined"),"string"==typeof t&&(UI=t.toLowerCase().replace(/_/g,"-"))}function jI(t,n,r){const o=n.insertBeforeIndex,u=Array.isArray(o)?o[0]:o;return null===u?ql(t,0,r):b(r[u])}function BI(t,n,r,o,u){const c=n.insertBeforeIndex;if(Array.isArray(c)){let f=o,y=null;if(3&n.type||(y=f,f=u),null!==f&&0==(2&n.flags))for(let D=1;D<c.length;D++)_l(t,f,r[c[D]],y,!1)}}function $I(t,n){if(t.push(n),t.length>1)for(let r=t.length-2;r>=0;r--){const o=t[r];HI(o)||Ob(o,n)&&null===Pb(o)&&kb(o,n.index)}}function HI(t){return!(64&t.type)}function Ob(t,n){return HI(n)||t.index>n.index}function Pb(t){const n=t.insertBeforeIndex;return Array.isArray(n)?n[0]:n}function kb(t,n){const r=t.insertBeforeIndex;Array.isArray(r)?r[0]=n:(im(jI,BI),t.insertBeforeIndex=n)}function Cg(t,n){const r=t.data[n];return null===r||"string"==typeof r?null:r.hasOwnProperty("currentCaseLViewIndex")?r:r.value}function Vb(t,n,r){const o=$c(t,r,64,null,null);return $I(n,o),o}function Py(t,n){const r=n[t.currentCaseLViewIndex];return null===r?r:r<0?~r:r}function WI(t){return t>>>17}function KI(t){return(131070&t)>>>1}let bg=0,Tg=0;function zI(t,n,r,o){const u=r[11];let f,c=null;for(let y=0;y<n.length;y++){const D=n[y];if("string"==typeof D){const x=n[++y];null===r[x]&&(r[x]=cn(u,D))}else if("number"==typeof D)switch(1&D){case 0:const x=WI(D);let B,ne;if(null===c&&(c=x,f=Vc(u,o)),x===c?(B=o,ne=f):(B=null,ne=b(r[x])),null!==ne){const ut=KI(D);_l(u,ne,r[ut],B,!1);const Ot=Cg(t,ut);if(null!==Ot&&"object"==typeof Ot){const mt=Py(Ot,r);null!==mt&&zI(t,Ot.create[mt],r,r[Ot.anchorIdx])}}break;case 1:const be=n[++y],ke=n[++y];wp(u,Fe(D>>>1,r),null,null,be,ke,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${D}"`)}else switch(D){case xy:const x=n[++y],B=n[++y];null===r[B]&&yo(r[B]=Gs(u,x),r);break;case Ny:const ne=n[++y],oe=n[++y];null===r[oe]&&yo(r[oe]=Ca(u,ne,null),r)}}}function qI(t,n,r,o,u){for(let c=0;c<r.length;c++){const f=r[c],y=r[++c];if(f&u){let D="";for(let x=c+1;x<=c+y;x++){const B=r[x];if("string"==typeof B)D+=B;else if("number"==typeof B)if(B<0)D+=Te(n[o-B]);else{const ne=B>>>2;switch(3&B){case 1:const oe=r[++x],be=r[++x],ke=t.data[ne];"string"==typeof ke?wp(n[11],n[ne],null,ke,oe,D,be):Ta(t,ke,n,oe,D,n[11],be,!1);break;case 0:const ut=n[ne];null!==ut&&_r(n[11],ut,D);break;case 2:Hb(t,Cg(t,ne),n,D);break;case 3:ZI(t,Cg(t,ne),o,n)}}}}else{const D=r[c+1];if(D>0&&3==(3&D)){const B=Cg(t,D>>>2);n[B.currentCaseLViewIndex]<0&&ZI(t,B,o,n)}}c+=y}}function ZI(t,n,r,o){let u=o[n.currentCaseLViewIndex];if(null!==u){let c=bg;u<0&&(u=o[n.currentCaseLViewIndex]=~u,c=-1),qI(t,o,n.update[u],r,c)}}function Hb(t,n,r,o){const u=function(t,n){let r=t.cases.indexOf(n);if(-1===r)switch(t.type){case 1:{const o=function(t,n){const r=FI(n)(parseInt(t,10)),o=Mb[r];return void 0!==o?o:"other"}(n,UI);r=t.cases.indexOf(o),-1===r&&"other"!==o&&(r=t.cases.indexOf("other"));break}case 0:r=t.cases.indexOf("other")}return-1===r?null:r}(n,o);if(Py(n,r)!==u&&(QI(t,n,r),r[n.currentCaseLViewIndex]=null===u?null:~u,null!==u)){const f=r[n.anchorIdx];f&&zI(t,n.create[u],r,f)}}function QI(t,n,r){let o=Py(n,r);if(null!==o){const u=n.remove[o];for(let c=0;c<u.length;c++){const f=u[c];if(f>0){const y=Fe(f,r);null!==y&&Nh(r[11],y)}else QI(t,Cg(t,~f),r)}}}function Kb(){const t=[];let r,o,n=-1;function c(y,D){n=0;const x=Py(y,D);o=null!==x?y.remove[x]:he}function f(){if(n<o.length){const y=o[n++];return y>0?r[y]:(t.push(n,o),c(r[1].data[~y],r),f())}return 0===t.length?null:(o=t.pop(),n=t.pop(),f())}return function(y,D){for(r=D;t.length;)t.pop();return c(y.value,D),f}}const ky=/\ufffd(\d+):?\d*\ufffd/gi,Gb=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,zb=/\ufffd(\d+)\ufffd/,JI=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,qb=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Zb=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Qb=/\uE500/g;function XI(t,n,r,o,u,c,f){const y=vu(t,o,1,null);let D=y<<zs.SHIFT,x=Vo();n===x&&(x=null),null===x&&(D|=zs.APPEND_EAGERLY),f&&(D|=zs.COMMENT,function(t){void 0===Qa&&(Qa=t())}(Kb)),u.push(D,null===c?"":c);const B=$c(t,y,f?32:1,null===c?"":c,null);$I(r,B);const ne=B.index;return Ds(B,!1),null!==x&&n!==x&&function(t,n){let r=t.insertBeforeIndex;null===r?(im(jI,BI),r=t.insertBeforeIndex=[null,n]):(function(t,n,r){t!=n&&$t(r,t,n,"==")}(Array.isArray(r),!0,"Expecting array here"),r.push(n))}(x,ne),B}function Xb(t,n,r,o,u,c,f){const y=f.match(ky),D=XI(t,n,r,c,o,y?null:f,!1);y&&Of(u,f,D.index,null,0,null)}function Of(t,n,r,o,u,c){const f=t.length,y=f+1;t.push(null,null);const D=f+2,x=n.split(ky);let B=0;for(let ne=0;ne<x.length;ne++){const oe=x[ne];if(1&ne){const be=u+parseInt(oe,10);t.push(-1-be),B|=e0(be)}else""!==oe&&t.push(oe)}return t.push(r<<2|(o?1:0)),o&&t.push(o,c),t[f]=B,t[y]=t.length-D,B}function tT(t){let n=0;for(let r=0;r<t.length;r++){const o=t[r];"number"==typeof o&&o<0&&n++}return n}function e0(t){return 1<<Math.min(t,31)}function t0(t){let n,c,r="",o=0,u=!1;for(;null!==(n=qb.exec(t));)u?n[0]===`\ufffd/*${c}\ufffd`&&(o=n.index,u=!1):(r+=t.substring(o,n.index+n[0].length),c=n[1],u=!0);return r+=t.substr(o),r}function n0(t,n,r,o,u,c){let f=0;const y={type:u.type,currentCaseLViewIndex:vu(t,n,1,null),anchorIdx:c,cases:[],create:[],remove:[],update:[]};(function(t,n,r){t.push(e0(n.mainBinding),2,-1-n.mainBinding,r<<2|2)})(r,u,c),function(t,n,r){const o=t.data[n];null===o?t.data[n]=r:o.value=r}(t,c,y);const D=u.values;for(let x=0;x<D.length;x++){const B=D[x],ne=[];for(let oe=0;oe<B.length;oe++){const be=B[oe];if("string"!=typeof be){const ke=ne.push(be)-1;B[oe]=`\x3c!--\ufffd${ke}\ufffd--\x3e`}}f=sT(t,y,n,r,o,u.cases[x],B.join(""),ne)|f}f&&function(t,n,r){t.push(n,1,r<<2|3)}(r,f,c)}function iT(t){const n=[],r=[];let o=1,u=0;const c=Cv(t=t.replace(JI,function(f,y,D){return o="select"===D?0:1,u=parseInt(y.substr(1),10),""}));for(let f=0;f<c.length;){let y=c[f++].trim();1===o&&(y=y.replace(/\s*(?:=)?(\w+)\s*/,"$1")),y.length&&n.push(y);const D=Cv(c[f++]);n.length>r.length&&r.push(D)}return{type:o,mainBinding:u,cases:n,values:r}}function Cv(t){if(!t)return[];let n=0;const r=[],o=[],u=/[{}]/g;let c;for(u.lastIndex=0;c=u.exec(t);){const y=c.index;if("}"==c[0]){if(r.pop(),0==r.length){const D=t.substring(n,y);JI.test(D)?o.push(iT(D)):o.push(D),n=y+1}}else{if(0==r.length){const D=t.substring(n,y);o.push(D),n=y+1}r.push("{")}}const f=t.substring(n);return o.push(f),o}function sT(t,n,r,o,u,c,f,y){const D=[],x=[],B=[];n.cases.push(c),n.create.push(D),n.remove.push(x),n.update.push(B);const oe=ml(ds()).getInertBodyElement(f),be=Uu(oe)||oe;return be?r0(t,n,r,o,D,x,B,be,u,y,0):0}function r0(t,n,r,o,u,c,f,y,D,x,B){let ne=0,oe=y.firstChild;for(;oe;){const be=vu(t,r,1,null);switch(oe.nodeType){case Node.ELEMENT_NODE:const ke=oe,ut=ke.tagName.toLowerCase();if(Vl.hasOwnProperty(ut)){bv(u,Ny,ut,D,be),t.data[be]=ut;const Ln=ke.attributes;for(let ur=0;ur<Ln.length;ur++){const qr=Ln.item(ur),Oo=qr.name.toLowerCase();qr.value.match(ky)?Ul.hasOwnProperty(Oo)&&Of(f,qr.value,be,qr.name,0,yd[Oo]?Lu:Yo[Oo]?md:null):lT(u,be,qr)}ne=r0(t,n,r,o,u,c,f,oe,be,x,B+1)|ne,s0(c,be,B)}break;case Node.TEXT_NODE:const Qe=oe.textContent||"",Ot=Qe.match(ky);bv(u,null,Ot?"":Qe,D,be),s0(c,be,B),Ot&&(ne=Of(f,Qe,be,null,0,null)|ne);break;case Node.COMMENT_NODE:const mt=zb.exec(oe.textContent||"");if(mt){const ur=x[parseInt(mt[1],10)];bv(u,xy,"",D,be),n0(t,r,o,D,ur,be),oT(c,be,B)}}oe=oe.nextSibling}return ne}function s0(t,n,r){0===r&&t.push(n)}function oT(t,n,r){0===r&&(t.push(~n),t.push(n))}function bv(t,n,r,o,u){null!==n&&t.push(n),t.push(r,u,function(t,n,r){return 0|n<<17|r<<1}(0,o,u))}function lT(t,n,r){t.push(n<<1|1,r.name,r.value)}const cT=/\[(\ufffd.+?\ufffd?)\]/,dT=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,hT=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,fT=/{([A-Z0-9_]+)}/g,pT=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,gT=/\/\*/,mT=/\d+\:(\d+)/;function a0(t,n={}){let r=t;if(cT.test(t)){const o={},u=[0];r=r.replace(dT,(c,f,y)=>{const D=f||y,x=o[D]||[];if(x.length||(D.split("|").forEach(ut=>{const Qe=ut.match(mT),Ot=Qe?parseInt(Qe[1],10):0,mt=gT.test(ut);x.push([Ot,mt,ut])}),o[D]=x),!x.length)throw new Error(`i18n postprocess: unmatched placeholder - ${D}`);const B=u[u.length-1];let ne=0;for(let ut=0;ut<x.length;ut++)if(x[ut][0]===B){ne=ut;break}const[oe,be,ke]=x[ne];return be?u.pop():B!==oe&&u.push(oe),x.splice(ne,1),ke})}return Object.keys(n).length&&(r=r.replace(hT,(o,u,c,f,y,D)=>n.hasOwnProperty(c)?`${u}${n[c]}${D}`:o),r=r.replace(fT,(o,u)=>n.hasOwnProperty(u)?n[u]:o),r=r.replace(pT,(o,u)=>{if(n.hasOwnProperty(u)){const c=n[u];if(!c.length)throw new Error(`i18n postprocess: unmatched ICU - ${o} with key: ${u}`);return c.shift()}return o})),r}function Tv(t,n,r=-1){const o=Hn(),u=ht(),c=20+t,f=Nr(o.consts,n),y=Vo();o.firstCreatePass&&function(t,n,r,o,u,c){const f=Vo(),y=[],D=[],x=[[]],B=function(t){return t.replace(Qb," ")}(u=function(t,n){if(function(t){return-1===t}(n))return t0(t);{const r=t.indexOf(`:${n}\ufffd`)+2+n.toString().length,o=t.search(new RegExp(`\ufffd\\/\\*\\d+:${n}\ufffd`));return t0(t.substring(r,o))}}(u,c)).split(Zb);for(let ne=0;ne<B.length;ne++){let oe=B[ne];if(0==(1&ne)){const be=Cv(oe);for(let ke=0;ke<be.length;ke++){let ut=be[ke];if(0==(1&ke)){const Qe=ut;""!==Qe&&Xb(t,f,x[0],y,D,r,Qe)}else{const Qe=ut;if("object"!=typeof Qe)throw new Error(`Unable to parse ICU expression in "${u}" message.`);n0(t,r,D,n,Qe,XI(t,f,x[0],r,y,"",!0).index)}}}else{const be=47===oe.charCodeAt(0),ut=(oe.charCodeAt(be?1:0),20+Number.parseInt(oe.substring(be?2:1)));if(be)x.shift(),Ds(Vo(),!1);else{const Qe=Vb(t,x[0],ut);x.unshift([]),Ds(Qe,!0)}}}t.data[o]={create:y,update:D}}(o,null===y?0:y.index,u,c,f,r);const D=o.data[c],B=Nd(o,y===u[6]?null:y,u);(function(t,n,r,o){const u=t[11];for(let c=0;c<n.length;c++){const f=n[c++],y=n[c],D=(f&zs.COMMENT)===zs.COMMENT,x=(f&zs.APPEND_EAGERLY)===zs.APPEND_EAGERLY,B=f>>>zs.SHIFT;let ne=t[B];null===ne&&(ne=t[B]=D?u.createComment(y):cn(u,y)),x&&null!==r&&_l(u,r,ne,o,!1)}})(u,D.create,B,y&&8&y.type?u[y.index]:null),jn(!0)}function Dv(){jn(!1)}function u0(t,n,r){Tv(t,n,r),Dv()}function l0(t,n){const r=Hn();!function(t,n,r){const u=si().index,c=[];if(t.firstCreatePass&&null===t.data[n]){for(let f=0;f<r.length;f+=2){const y=r[f],D=r[f+1];if(""!==D){if(Gb.test(D))throw new Error(`ICU expressions are not supported in attributes. Message: "${D}".`);Of(c,D,u,y,tT(c),null)}}t.data[n]=c}}(r,t+20,Nr(r.consts,n))}function Sv(t){return function(t){t&&(bg|=1<<Math.min(Tg,31)),Tg++}(Io(ht(),dt(),t)),Sv}function c0(t){!function(t,n,r){if(Tg>0){const o=t.data[r];qI(t,n,Array.isArray(o)?o:o.update,we()-Tg-1,bg)}bg=0,Tg=0}(Hn(),ht(),t+20)}function d0(t,n={}){return a0(t,n)}function Av(t,n,r,o,u){if(t=Z(t),Array.isArray(t))for(let c=0;c<t.length;c++)Av(t[c],n,r,o,u);else{const c=Hn(),f=ht();let y=Wc(t)?t:Z(t.provide),D=af(t);const x=si(),B=1048575&x.providerIndexes,ne=x.directiveStart,oe=x.providerIndexes>>20;if(Wc(t)||!t.multi){const be=new ws(D,u,ed),ke=Mv(y,n,u?B:B+oe,ne);-1===ke?(A(ru(x,f),c,y),Rv(c,t,n.length),n.push(y),x.directiveStart++,x.directiveEnd++,u&&(x.providerIndexes+=1048576),r.push(be),f.push(be)):(r[ke]=be,f[ke]=be)}else{const be=Mv(y,n,B+oe,ne),ke=Mv(y,n,B,B+oe),ut=be>=0&&r[be],Qe=ke>=0&&r[ke];if(u&&!Qe||!u&&!ut){A(ru(x,f),c,y);const Ot=function(t,n,r,o,u){const c=new ws(t,r,ed);return c.multi=[],c.index=n,c.componentProviders=0,h0(c,u,o&&!r),c}(u?vT:_T,r.length,u,o,D);!u&&Qe&&(r[ke].providerFactory=Ot),Rv(c,t,n.length,0),n.push(y),x.directiveStart++,x.directiveEnd++,u&&(x.providerIndexes+=1048576),r.push(Ot),f.push(Ot)}else Rv(c,t,be>-1?be:ke,h0(r[u?ke:be],D,!u&&o));!u&&o&&Qe&&r[ke].componentProviders++}}}function Rv(t,n,r,o){const u=Wc(n);if(u||function(t){return!!t.useClass}(n)){const f=(n.useClass||n).prototype.ngOnDestroy;if(f){const y=t.destroyHooks||(t.destroyHooks=[]);if(!u&&n.multi){const D=y.indexOf(r);-1===D?y.push(r,[o,f]):y[D+1].push(o,f)}else y.push(r,f)}}}function h0(t,n,r){return r&&t.componentProviders++,t.multi.push(n)-1}function Mv(t,n,r,o){for(let u=r;u<o;u++)if(n[u]===t)return u;return-1}function _T(t,n,r,o){return Nv(this.multi,[])}function vT(t,n,r,o){const u=this.multi;let c;if(this.providerFactory){const f=this.providerFactory.componentProviders,y=wt(r,r[1],this.providerFactory.index,o);c=y.slice(0,f),Nv(u,c);for(let D=f;D<y.length;D++)c.push(y[D])}else c=[],Nv(u,c);return c}function Nv(t,n){for(let r=0;r<t.length;r++)n.push((0,t[r])());return n}function f0(t,n=[]){return r=>{r.providersResolver=(o,u)=>function(t,n,r){const o=Hn();if(o.firstCreatePass){const u=li(t);Av(r,o.data,o.blueprint,u,!0),Av(n,o.data,o.blueprint,u,!1)}}(o,u?u(t):t,n)}}class xv{}class Pf{}function p0(t){const n=Error(`No component factory found for ${Y(t)}. Did you add it to @NgModule.entryComponents?`);return n[g0]=t,n}const g0="ngComponent";class IT{resolveComponentFactory(n){throw p0(n)}}class oh{}oh.NULL=new IT;class wT{constructor(n,r,o){this._parent=r,this._ngModule=o,this._factories=new Map;for(let u=0;u<n.length;u++){const c=n[u];this._factories.set(c.componentType,c)}}resolveComponentFactory(n){let r=this._factories.get(n);if(!r&&this._parent&&(r=this._parent.resolveComponentFactory(n)),!r)throw p0(n);return new Ov(r,this._ngModule)}}class Ov extends Pf{constructor(n,r){super(),this.factory=n,this.ngModule=r,this.selector=n.selector,this.componentType=n.componentType,this.ngContentSelectors=n.ngContentSelectors,this.inputs=n.inputs,this.outputs=n.outputs}create(n,r,o,u){return this.factory.create(n,r,o,u||this.ngModule)}}function Fy(...t){}function m0(){return ah(si(),ht())}function ah(t,n){return new el(vt(t,n))}const y0=m0,CT=y0;let el=(()=>{class t{constructor(r){this.nativeElement=r}}return t.__NG_ELEMENT_ID__=CT,t})();function _0(t){return t instanceof el?t.nativeElement:t}class Ly{}let v0=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>bT(),t})();const E0=I0,bT=E0;function I0(){const t=ht(),r=hr(si().index,t);return function(t){return t[11]}(or(r)?r:t)}let Pv=(()=>{class t{}return t.\u0275prov=bn({token:t,providedIn:"root",factory:()=>null}),t})();class w0{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const kv=new w0("12.2.4");class Fv{constructor(){}supports(n){return Qd(n)}create(n){return new C0(n)}}const DT=(t,n)=>n;class C0{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||DT}forEachItem(n){let r;for(r=this._itHead;null!==r;r=r._next)n(r)}forEachOperation(n){let r=this._itHead,o=this._removalsHead,u=0,c=null;for(;r||o;){const f=!o||r&&r.currentIndex<T0(o,u,c)?r:o,y=T0(f,u,c),D=f.currentIndex;if(f===o)u--,o=o._nextRemoved;else if(r=r._next,null==f.previousIndex)u++;else{c||(c=[]);const x=y-u,B=D-u;if(x!=B){for(let oe=0;oe<x;oe++){const be=oe<c.length?c[oe]:c[oe]=0,ke=be+oe;B<=ke&&ke<x&&(c[oe]=be+1)}c[f.previousIndex]=B-x}}y!==D&&n(f,y,D)}}forEachPreviousItem(n){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)n(r)}forEachAddedItem(n){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)n(r)}forEachMovedItem(n){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)n(r)}forEachRemovedItem(n){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)n(r)}forEachIdentityChange(n){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)n(r)}diff(n){if(null==n&&(n=[]),!Qd(n))throw new Error(`Error trying to diff '${Y(n)}'. Only arrays and iterables are allowed`);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let u,c,f,r=this._itHead,o=!1;if(Array.isArray(n)){this.length=n.length;for(let y=0;y<this.length;y++)c=n[y],f=this._trackByFn(y,c),null!==r&&Object.is(r.trackById,f)?(o&&(r=this._verifyReinsertion(r,c,f,y)),Object.is(r.item,c)||this._addIdentityChange(r,c)):(r=this._mismatch(r,c,f,y),o=!0),r=r._next}else u=0,function(t,n){if(Array.isArray(t))for(let r=0;r<t.length;r++)n(t[r]);else{const r=t[Li()]();let o;for(;!(o=r.next()).done;)n(o.value)}}(n,y=>{f=this._trackByFn(u,y),null!==r&&Object.is(r.trackById,f)?(o&&(r=this._verifyReinsertion(r,y,f,u)),Object.is(r.item,y)||this._addIdentityChange(r,y)):(r=this._mismatch(r,y,f,u),o=!0),r=r._next,u++}),this.length=u;return this._truncate(r),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,r,o,u){let c;return null===n?c=this._itTail:(c=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._reinsertAfter(n,c,u)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(o,u))?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._moveAfter(n,c,u)):n=this._addAfter(new ST(r,o),c,u),n}_verifyReinsertion(n,r,o,u){let c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==c?n=this._reinsertAfter(c,n._prev,u):n.currentIndex!=u&&(n.currentIndex=u,this._addToMoves(n,u)),n}_truncate(n){for(;null!==n;){const r=n._next;this._addToRemovals(this._unlink(n)),n=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,r,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const u=n._prevRemoved,c=n._nextRemoved;return null===u?this._removalsHead=c:u._nextRemoved=c,null===c?this._removalsTail=u:c._prevRemoved=u,this._insertAfter(n,r,o),this._addToMoves(n,o),n}_moveAfter(n,r,o){return this._unlink(n),this._insertAfter(n,r,o),this._addToMoves(n,o),n}_addAfter(n,r,o){return this._insertAfter(n,r,o),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,r,o){const u=null===r?this._itHead:r._next;return n._next=u,n._prev=r,null===u?this._itTail=n:u._prev=n,null===r?this._itHead=n:r._next=n,null===this._linkedRecords&&(this._linkedRecords=new b0),this._linkedRecords.put(n),n.currentIndex=o,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const r=n._prev,o=n._next;return null===r?this._itHead=o:r._next=o,null===o?this._itTail=r:o._prev=r,n}_addToMoves(n,r){return n.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new b0),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,r){return n.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class ST{constructor(n,r){this.item=n,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class AT{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,r){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===r||r<=o.currentIndex)&&Object.is(o.trackById,n))return o;return null}remove(n){const r=n._prevDup,o=n._nextDup;return null===r?this._head=o:r._nextDup=o,null===o?this._tail=r:o._prevDup=r,null===this._head}}class b0{constructor(){this.map=new Map}put(n){const r=n.trackById;let o=this.map.get(r);o||(o=new AT,this.map.set(r,o)),o.add(n)}get(n,r){const u=this.map.get(n);return u?u.get(n,r):null}remove(n){const r=n.trackById;return this.map.get(r).remove(n)&&this.map.delete(r),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function T0(t,n,r){const o=t.previousIndex;if(null===o)return o;let u=0;return r&&o<r.length&&(u=r[o]),o+n+u}class Lv{constructor(){}supports(n){return n instanceof Map||qp(n)}create(){return new RT}}class RT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let r;for(r=this._mapHead;null!==r;r=r._next)n(r)}forEachPreviousItem(n){let r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)n(r)}forEachChangedItem(n){let r;for(r=this._changesHead;null!==r;r=r._nextChanged)n(r)}forEachAddedItem(n){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)n(r)}forEachRemovedItem(n){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)n(r)}diff(n){if(n){if(!(n instanceof Map||qp(n)))throw new Error(`Error trying to diff '${Y(n)}'. Only maps and objects are allowed`)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(n,(o,u)=>{if(r&&r.key===u)this._maybeAddToChanges(r,o),this._appendAfter=r,r=r._next;else{const c=this._getOrCreateRecordForKey(u,o);r=this._insertBeforeOrAppend(r,c)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let o=r;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,r){if(n){const o=n._prev;return r._next=n,r._prev=o,n._prev=r,o&&(o._next=r),n===this._mapHead&&(this._mapHead=r),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(n,r){if(this._records.has(n)){const u=this._records.get(n);this._maybeAddToChanges(u,r);const c=u._prev,f=u._next;return c&&(c._next=f),f&&(f._prev=c),u._next=null,u._prev=null,u}const o=new MT(n);return this._records.set(n,o),o.currentValue=r,this._addToAdditions(o),o}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,r){Object.is(r,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=r,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,r){n instanceof Map?n.forEach(r):Object.keys(n).forEach(o=>r(n[o],o))}}class MT{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Vv(){return new Vy([new Fv])}let Vy=(()=>{class t{constructor(r){this.factories=r}static create(r,o){if(null!=o){const u=o.factories.slice();r=r.concat(u)}return new t(r)}static extend(r){return{provide:t,useFactory:o=>t.create(r,o||Vv()),deps:[[t,new aa,new Ho]]}}find(r){const o=this.factories.find(u=>u.supports(r));if(null!=o)return o;throw new Error(`Cannot find a differ supporting object '${r}' of type '${function(t){return t.name||typeof t}(r)}'`)}}return t.\u0275prov=bn({token:t,providedIn:"root",factory:Vv}),t})();function Uv(){return new Uy([new Lv])}let Uy=(()=>{class t{constructor(r){this.factories=r}static create(r,o){if(o){const u=o.factories.slice();r=r.concat(u)}return new t(r)}static extend(r){return{provide:t,useFactory:o=>t.create(r,o||Uv()),deps:[[t,new aa,new Ho]]}}find(r){const o=this.factories.find(u=>u.supports(r));if(o)return o;throw new Error(`Cannot find a differ supporting object '${r}'`)}}return t.\u0275prov=bn({token:t,providedIn:"root",factory:Uv}),t})();function jy(t,n,r,o,u=!1){for(;null!==r;){const c=n[r.index];if(null!==c&&o.push(b(c)),gr(c))for(let y=10;y<c.length;y++){const D=c[y],x=D[1].firstChild;null!==x&&jy(D[1],D,x,o)}const f=r.type;if(8&f)jy(t,n,r.child,o);else if(32&f){const y=g(r,n);let D;for(;D=y();)o.push(D)}else if(16&f){const y=Ku(n,r);if(Array.isArray(y))o.push(...y);else{const D=E(n[16]);jy(D[1],D,y,o,!0)}}r=u?r.projectionNext:r.next}return o}class Sg{constructor(n,r){this._lView=n,this._cdRefInjectingView=r,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,r=n[1];return jy(r,n,r.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(gr(n)){const r=n[8],o=r?r.indexOf(this):-1;o>-1&&(Gl(n,o),Uo(r,o))}this._attachedToViewContainer=!1}zl(this._lView[1],this._lView)}onDestroy(n){zh(this._lView[1],this._lView,null,n)}markForCheck(){Dp(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Yh(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,n,r){se(!0);try{Yh(t,n,r)}finally{se(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var n;this._appRef=null,Od(this._lView[1],n=this._lView,n[11],2,null,null)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=n}}class xT extends Sg{constructor(n){super(n),this._view=n}detectChanges(){Sp(this._view)}checkNoChanges(){!function(t){se(!0);try{Sp(t)}finally{se(!1)}}(this._view)}get context(){return null}}const D0=S0,OT=D0;let jv=(()=>{class t{}return t.__NG_ELEMENT_ID__=OT,t})();function S0(t){return function(t,n,r){if(Ri(t)&&!r){const o=hr(t.index,n);return new Sg(o,o)}return 47&t.type?new Sg(n[16],n):null}(si(),ht(),16==(16&t))}const kT=[new Lv],A0=new Vy([new Fv]),R0=new Uy(kT),M0=N0,LT=M0;let uh=(()=>{class t{}return t.__NG_ELEMENT_ID__=LT,t})();const VT=uh,UT=class extends VT{constructor(n,r,o){super(),this._declarationLView=n,this._declarationTContainer=r,this.elementRef=o}createEmbeddedView(n){const r=this._declarationTContainer.tViews,o=_u(this._declarationLView,r,n,16,null,r.declTNode,null,null,null,null);o[17]=this._declarationLView[this._declarationTContainer.index];const c=this._declarationLView[19];return null!==c&&(o[19]=c.createEmbeddedView(r)),Ql(r,o,n),new Sg(o)}};function N0(){return Ag(si(),ht())}function Ag(t,n){return 4&t.type?new UT(n,t,ah(t,n)):null}class id{}class Bv{}const x0=O0,jT=x0;let Rg=(()=>{class t{}return t.__NG_ELEMENT_ID__=jT,t})();function O0(){return F0(si(),ht())}const BT=Rg,P0=class extends BT{constructor(n,r,o){super(),this._lContainer=n,this._hostTNode=r,this._hostLView=o}get element(){return ah(this._hostTNode,this._hostLView)}get injector(){return new fr(this._hostTNode,this._hostLView)}get parentInjector(){const n=po(this._hostTNode,this._hostLView);if(st(n)){const r=Rs(n,this._hostLView),o=_t(n);return new fr(r[1].data[o+8],r)}return new fr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const r=k0(this._lContainer);return null!==r&&r[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,r,o){const u=n.createEmbeddedView(r||{});return this.insert(u,o),u}createComponent(n,r,o,u,c){const f=o||this.parentInjector;if(!c&&null==n.ngModule&&f){const D=f.get(id,null);D&&(c=D)}const y=n.create(f,u,void 0,c);return this.insert(y.hostView,r),y}insert(n,r){const o=n._lView,u=o[1];if(gr(o[3])){const B=this.indexOf(n);if(-1!==B)this.detach(B);else{const ne=o[3],oe=new P0(ne,ne[6],ne[3]);oe.detach(oe.indexOf(n))}}const c=this._adjustIndex(r),f=this._lContainer;!function(t,n,r,o){const u=10+o,c=r.length;o>0&&(r[u-1][4]=n),o<c-10?(n[4]=r[u],ja(r,10+o,n)):(r.push(n),n[4]=null),n[3]=r;const f=n[17];null!==f&&r!==f&&function(t,n){const r=t[9];n[16]!==n[3][3][16]&&(t[2]=!0),null===r?t[9]=[n]:r.push(n)}(f,n);const y=n[19];null!==y&&y.insertView(t),n[2]|=128}(u,o,f,c);const y=Gu(c,f),D=o[11],x=Vc(D,f[7]);return null!==x&&function(t,n,r,o,u,c){o[0]=u,o[6]=n,Od(t,o,r,1,u,c)}(u,f[6],D,o,x,y),n.attachToViewContainerRef(),ja($v(f),c,n),n}move(n,r){return this.insert(n,r)}indexOf(n){const r=k0(this._lContainer);return null!==r?r.indexOf(n):-1}remove(n){const r=this._adjustIndex(n,-1),o=Gl(this._lContainer,r);o&&(Uo($v(this._lContainer),r),zl(o[1],o))}detach(n){const r=this._adjustIndex(n,-1),o=Gl(this._lContainer,r);return o&&null!=Uo($v(this._lContainer),r)?new Sg(o):null}_adjustIndex(n,r=0){return null==n?this.length+r:n}};function k0(t){return t[8]}function $v(t){return t[8]||(t[8]=[])}function F0(t,n){let r;const o=n[t.index];if(gr(o))r=o;else{let u;if(8&t.type)u=b(o);else{const c=n[11];u=c.createComment("");const f=vt(t,n);_l(c,Vc(c,f),u,function(t,n){return P(t)?t.nextSibling(n):n.nextSibling}(c,f),!1)}n[t.index]=r=Zh(o,n,u,t),Wd(n,r)}return new P0(r,t,n)}function L0(t,n,r,o){let u=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${n}'. Current value: '${r}'.`;return o&&(u+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,n){const r=new Error(t);return V0(r,n),r}(u,t)}function V0(t,n){t[ca]=n,t[Bu]=n.logError.bind(n)}function U0(t){return new Error(`ViewDestroyedError: Attempt to use a destroyed view: ${t}`)}function By(t,n,r){const o=t.state,u=1792&o;return u===n?(t.state=-1793&o|r,t.initIndex=-1,!0):u===r}function $y(t,n,r){return(1792&t.state)===n&&t.initIndex<=r&&(t.initIndex=r+1,!0)}function Mg(t,n){return t.nodes[n]}function Di(t,n){return t.nodes[n]}function sd(t,n){return t.nodes[n]}function kf(t,n){return t.nodes[n]}function Ng(t,n){return t.nodes[n]}class KT{}const mr={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},Tu=()=>{},Hv=new Map;function ta(t){let n=Hv.get(t);return n||(n=Y(t)+"_"+Hv.size,Hv.set(t,n)),n}function GT(t,n,r,o){if(Os.isWrapped(o)){o=Os.unwrap(o);const u=t.def.nodes[n].bindingIndex+r,c=Os.unwrap(t.oldValues[u]);t.oldValues[u]=new Os(c)}return o}const j0="$$undefined",B0="$$empty";function zT(t){return{id:j0,styles:t.styles,encapsulation:t.encapsulation,data:t.data}}let qT=0;function Du(t,n,r,o){return!(!(2&t.state)&&Object.is(t.oldValues[n.bindingIndex+r],o))}function ks(t,n,r,o){return!!Du(t,n,r,o)&&(t.oldValues[n.bindingIndex+r]=o,!0)}function tl(t,n,r,o){const u=t.oldValues[n.bindingIndex+r];if(1&t.state||!Eo(u,o)){const c=n.bindings[r].name;throw L0(mr.createDebugContext(t,n.nodeIndex),`${c}: ${u}`,`${c}: ${o}`,0!=(1&t.state))}}function $0(t){let n=t;for(;n;)2&n.def.flags&&(n.state|=8),n=n.viewContainerParent||n.parent}function QT(t,n){let r=t;for(;r&&r!==n;)r.state|=64,r=r.viewContainerParent||r.parent}function H0(t,n,r,o){try{return $0(33554432&t.def.nodes[n].flags?Di(t,n).componentView:t),mr.handleEvent(t,n,r,o)}catch(u){t.root.errorHandler.handleError(u)}}function Wv(t){return t.parent?Di(t.parent,t.parentNodeDef.nodeIndex):null}function Ff(t){return t.parent?t.parentNodeDef.parent:null}function xg(t,n){switch(201347067&n.flags){case 1:return Di(t,n.nodeIndex).renderElement;case 2:return Mg(t,n.nodeIndex).renderText}}function YT(t,n){return t?`${t}:${n}`:n}function lh(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function JT(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function W0(t){return 1<<t%32}function Kv(t){const n={};let r=0;const o={};return t&&t.forEach(([u,c])=>{"number"==typeof u?(n[u]=c,r|=W0(u)):o[u]=c}),{matchedQueries:n,references:o,matchedQueryIds:r}}function Og(t,n){return t.map(r=>{let o,u;return Array.isArray(r)?[u,o]=r:(u=0,o=r),o&&("function"==typeof o||"object"==typeof o)&&n&&Object.defineProperty(o,Bo,{value:n,configurable:!0}),{flags:u,token:o,tokenKey:ta(o)}})}function Gv(t,n,r){let o=r.renderParent;return o?0==(1&o.flags)||0==(33554432&o.flags)||o.element.componentRendererType&&(o.element.componentRendererType.encapsulation===lt.ShadowDom||1===o.element.componentRendererType.encapsulation)?Di(t,r.renderParent.nodeIndex).renderElement:void 0:n}const K0=new WeakMap;function Lf(t){let n=K0.get(t);return n||(n=t(()=>Tu),n.factory=t,K0.set(t,n)),n}function Hy(t,n,r,o,u){3===n&&(r=t.renderer.parentNode(xg(t,t.def.lastRenderRootNode))),G0(t,n,0,t.def.nodes.length-1,r,o,u)}function G0(t,n,r,o,u,c,f){for(let y=r;y<=o;y++){const D=t.def.nodes[y];11&D.flags&&q0(t,D,n,u,c,f),y+=D.childCount}}function z0(t,n,r,o,u,c){let f=t;for(;f&&!lh(f);)f=f.parent;const y=f.parent,D=Ff(f),B=D.nodeIndex+D.childCount;for(let ne=D.nodeIndex+1;ne<=B;ne++){const oe=y.def.nodes[ne];oe.ngContentIndex===n&&q0(y,oe,r,o,u,c),ne+=oe.childCount}if(!y.parent){const ne=t.root.projectableNodes[n];if(ne)for(let oe=0;oe<ne.length;oe++)Wy(t,ne[oe],r,o,u,c)}}function q0(t,n,r,o,u,c){if(8&n.flags)z0(t,n.ngContent.index,r,o,u,c);else{const f=xg(t,n);if(3===r&&33554432&n.flags&&48&n.bindingFlags?(16&n.bindingFlags&&Wy(t,f,r,o,u,c),32&n.bindingFlags&&Wy(Di(t,n.nodeIndex).componentView,f,r,o,u,c)):Wy(t,f,r,o,u,c),16777216&n.flags){const y=Di(t,n.nodeIndex).viewContainer._embeddedViews;for(let D=0;D<y.length;D++)Hy(y[D],r,o,u,c)}1&n.flags&&!n.element.name&&G0(t,r,n.nodeIndex+1,n.nodeIndex+n.childCount,o,u,c)}}function Wy(t,n,r,o,u,c){const f=t.renderer;switch(r){case 1:f.appendChild(o,n);break;case 2:f.insertBefore(o,n,u);break;case 3:f.removeChild(o,n);break;case 0:c.push(n)}}const eD=/^:([^:]+):(.+)$/;function zv(t){if(":"===t[0]){const n=t.match(eD);return[n[1],n[2]]}return["",t]}function qv(t){let n=0;for(let r=0;r<t.length;r++)n|=t[r].flags;return n}function tD(t,n){let r="";for(let o=0;o<2*t;o+=2)r=r+n[o]+pr(n[o+1]);return r+n[2*t]}function nD(t,n,r,o,u,c,f,y,D,x,B,ne,oe,be,ke,ut,Qe,Ot,mt,Ln){switch(t){case 1:return n+pr(r)+o;case 2:return n+pr(r)+o+pr(u)+c;case 3:return n+pr(r)+o+pr(u)+c+pr(f)+y;case 4:return n+pr(r)+o+pr(u)+c+pr(f)+y+pr(D)+x;case 5:return n+pr(r)+o+pr(u)+c+pr(f)+y+pr(D)+x+pr(B)+ne;case 6:return n+pr(r)+o+pr(u)+c+pr(f)+y+pr(D)+x+pr(B)+ne+pr(oe)+be;case 7:return n+pr(r)+o+pr(u)+c+pr(f)+y+pr(D)+x+pr(B)+ne+pr(oe)+be+pr(ke)+ut;case 8:return n+pr(r)+o+pr(u)+c+pr(f)+y+pr(D)+x+pr(B)+ne+pr(oe)+be+pr(ke)+ut+pr(Qe)+Ot;case 9:return n+pr(r)+o+pr(u)+c+pr(f)+y+pr(D)+x+pr(B)+ne+pr(oe)+be+pr(ke)+ut+pr(Qe)+Ot+pr(mt)+Ln;default:throw new Error("Does not support more than 9 expressions")}}function pr(t){return null!=t?t.toString():""}const rD={},Pg={},iD=ta(Yr),sD=ta(Eu),oD=ta(id);function aD(t,n,r,o){return r=Z(r),{index:-1,deps:Og(o,Y(n)),flags:t,token:n,value:r}}function uD(t){const n={},r=[];let o=null;for(let u=0;u<t.length;u++){const c=t[u];c.token===nc&&(o=c.value),1073741824&c.flags&&r.push(c.token),c.index=u,n[ta(c.token)]=c}return{factory:null,providersByKey:n,providers:t,modules:r,scope:o}}function ga(t,n,r=Yr.THROW_IF_NOT_FOUND){const o=Qo(t);try{if(8&n.flags)return n.token;if(2&n.flags&&(r=null),1&n.flags)return t._parent.get(n.token,r);const u=n.tokenKey;switch(u){case iD:case sD:case oD:return t}const c=t._def.providersByKey[u];let f;if(c){let y=t._providers[c.index];return void 0===y&&(y=t._providers[c.index]=Zv(t,c)),y===Pg?void 0:y}if((f=Vn(n.token))&&function(t,n){const r=Z(n.providedIn);return null!=r&&("any"===r||r===t._def.scope||function(t,n){return t._def.modules.indexOf(n)>-1}(t,r))}(t,f)){const y=t._providers.length;return t._def.providers[y]=t._def.providersByKey[n.tokenKey]={flags:5120,value:f.factory,deps:[],index:y,token:n.token},t._providers[y]=Pg,t._providers[y]=Zv(t,t._def.providersByKey[n.tokenKey])}return 4&n.flags?r:t._parent.get(n.token,r)}finally{Qo(o)}}function Zv(t,n){let r;switch(201347067&n.flags){case 512:r=function(t,n,r){const o=r.length;switch(o){case 0:return new n;case 1:return new n(ga(t,r[0]));case 2:return new n(ga(t,r[0]),ga(t,r[1]));case 3:return new n(ga(t,r[0]),ga(t,r[1]),ga(t,r[2]));default:const u=[];for(let c=0;c<o;c++)u[c]=ga(t,r[c]);return new n(...u)}}(t,n.value,n.deps);break;case 1024:r=function(t,n,r){const o=r.length;switch(o){case 0:return n();case 1:return n(ga(t,r[0]));case 2:return n(ga(t,r[0]),ga(t,r[1]));case 3:return n(ga(t,r[0]),ga(t,r[1]),ga(t,r[2]));default:const u=[];for(let c=0;c<o;c++)u[c]=ga(t,r[c]);return n(...u)}}(t,n.value,n.deps);break;case 2048:r=ga(t,n.deps[0]);break;case 256:r=n.value}return r!==Pg&&null!==r&&"object"==typeof r&&!(131072&n.flags)&&"function"==typeof r.ngOnDestroy&&(n.flags|=131072),void 0===r?Pg:r}function Qv(t,n){const r=t.viewContainer._embeddedViews;if((null==n||n>=r.length)&&(n=r.length-1),n<0)return null;const o=r[n];return o.viewContainerParent=null,Uo(r,n),mr.dirtyParentQueries(o),Yv(o),o}function Z0(t,n,r){const o=n?xg(n,n.def.lastRenderRootNode):t.renderElement,u=r.renderer.parentNode(o),c=r.renderer.nextSibling(o);Hy(r,2,u,c,void 0)}function Yv(t){Hy(t,3,null,null,void 0)}const ED={};function ID(t,n,r,o,u,c){return new wD(t,n,r,o,u,c)}function Q0(t){return t.viewDefFactory}class wD extends Pf{constructor(n,r,o,u,c,f){super(),this.selector=n,this.componentType=r,this._inputs=u,this._outputs=c,this.ngContentSelectors=f,this.viewDefFactory=o}get inputs(){const n=[],r=this._inputs;for(let o in r)n.push({propName:o,templateName:r[o]});return n}get outputs(){const n=[];for(let r in this._outputs)n.push({propName:r,templateName:this._outputs[r]});return n}create(n,r,o,u){if(!u)throw new Error("ngModule should be provided");const c=Lf(this.viewDefFactory),f=c.nodes[0].element.componentProvider.nodeIndex,y=mr.createRootView(n,r||[],o,c,u,ED),D=sd(y,f).instance;return o&&y.renderer.setAttribute(Di(y,0).renderElement,"ng-version",kv.full),new CD(y,new kg(y),D)}}class CD extends xv{constructor(n,r,o){super(),this._view=n,this._viewRef=r,this._component=o,this._elDef=this._view.def.nodes[0],this.hostView=r,this.changeDetectorRef=r,this.instance=o}get location(){return new el(Di(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new Fg(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(n){this._viewRef.onDestroy(n)}}function bD(t,n,r){return new TD(t,n,r)}class TD{constructor(n,r,o){this._view=n,this._elDef=r,this._data=o,this._embeddedViews=[]}get element(){return new el(this._data.renderElement)}get injector(){return new Fg(this._view,this._elDef)}get parentInjector(){let n=this._view,r=this._elDef.parent;for(;!r&&n;)r=Ff(n),n=n.parent;return n?new Fg(n,r):new Fg(this._view,null)}clear(){for(let r=this._embeddedViews.length-1;r>=0;r--){const o=Qv(this._data,r);mr.destroyView(o)}}get(n){const r=this._embeddedViews[n];if(r){const o=new kg(r);return o.attachToViewContainerRef(this),o}return null}get length(){return this._embeddedViews.length}createEmbeddedView(n,r,o){const u=n.createEmbeddedView(r||{});return this.insert(u,o),u}createComponent(n,r,o,u,c){const f=o||this.parentInjector;!c&&!(n instanceof Ov)&&(c=f.get(id));const y=n.create(f,u,void 0,c);return this.insert(y.hostView,r),y}insert(n,r){if(n.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const o=n;return function(t,n,r,o){let u=n.viewContainer._embeddedViews;null==r&&(r=u.length),o.viewContainerParent=t,ja(u,r,o),function(t,n){const r=Wv(n);if(!r||r===t||16&n.state)return;n.state|=16;let o=r.template._projectedViews;o||(o=r.template._projectedViews=[]),o.push(n),function(t,n){if(4&n.flags)return;t.nodeFlags|=4,n.flags|=4;let r=n.parent;for(;r;)r.childFlags|=4,r=r.parent}(n.parent.def,n.parentNodeDef)}(n,o),mr.dirtyParentQueries(o),Z0(n,r>0?u[r-1]:null,o)}(this._view,this._data,r,o._view),o.attachToViewContainerRef(this),n}move(n,r){if(n.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const o=this._embeddedViews.indexOf(n._view);return function(t,n,r){const o=t.viewContainer._embeddedViews,u=o[n];Uo(o,n),null==r&&(r=o.length),ja(o,r,u),mr.dirtyParentQueries(u),Yv(u),Z0(t,r>0?o[r-1]:null,u)}(this._data,o,r),n}indexOf(n){return this._embeddedViews.indexOf(n._view)}remove(n){const r=Qv(this._data,n);r&&mr.destroyView(r)}detach(n){const r=Qv(this._data,n);return r?new kg(r):null}}function DD(t){return new kg(t)}class kg{constructor(n){this._view=n,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(t){const n=[];return Hy(t,0,void 0,void 0,n),n}(this._view)}get context(){return this._view.context}set context(n){this._view.context=n}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){$0(this._view)}detach(){this._view.state&=-5}detectChanges(){const n=this._view.root.rendererFactory;n.begin&&n.begin();try{mr.checkAndUpdateView(this._view)}finally{n.end&&n.end()}}checkNoChanges(){mr.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(n){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(n)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),mr.destroyView(this._view)}detachFromAppRef(){this._appRef=null,Yv(this._view),mr.dirtyParentQueries(this._view)}attachToAppRef(n){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=n}attachToViewContainerRef(n){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=n}}function SD(t,n){return new AD(t,n)}class AD extends uh{constructor(n,r){super(),this._parentView=n,this._def=r}createEmbeddedView(n){return new kg(mr.createEmbeddedView(this._parentView,this._def,this._def.element.template,n))}get elementRef(){return new el(Di(this._parentView,this._def.nodeIndex).renderElement)}}function Y0(t,n){return new Fg(t,n)}class Fg{constructor(n,r){this.view=n,this.elDef=r}get(n,r=Yr.THROW_IF_NOT_FOUND){return mr.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:n,tokenKey:ta(n)},r)}}function RD(t,n){const r=t.def.nodes[n];if(1&r.flags){const o=Di(t,r.nodeIndex);return r.element.template?o.template:o.renderElement}if(2&r.flags)return Mg(t,r.nodeIndex).renderText;if(20240&r.flags)return sd(t,r.nodeIndex).instance;throw new Error(`Illegal state: read nodeValue for node index ${n}`)}function J0(t,n,r,o){return new MD(t,n,r,o)}class MD{constructor(n,r,o,u){this._moduleType=n,this._parent=r,this._bootstrapComponents=o,this._def=u,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){const n=t._def,r=t._providers=ia(n.providers.length);for(let o=0;o<n.providers.length;o++){const u=n.providers[o];4096&u.flags||void 0===r[o]&&(r[o]=Zv(t,u))}}(this)}get(n,r=Yr.THROW_IF_NOT_FOUND,o=Ft.Default){let u=0;return o&Ft.SkipSelf?u|=1:o&Ft.Self&&(u|=4),ga(this,{token:n,tokenKey:ta(n),flags:u},r)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(oh)}destroy(){if(this._destroyed)throw new Error(`The ng module ${Y(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(t,n){const r=t._def,o=new Set;for(let u=0;u<r.providers.length;u++)if(131072&r.providers[u].flags){const f=t._providers[u];if(f&&f!==Pg){const y=f.ngOnDestroy;"function"==typeof y&&!o.has(f)&&(y.apply(f),o.add(f))}}}(this),this._destroyListeners.forEach(n=>n())}onDestroy(n){this._destroyListeners.push(n)}}const ND=ta(v0),xD=ta(el),OD=ta(Rg),PD=ta(uh),X0=ta(jv),kD=ta(Yr),FD=ta(Eu);function LD(t,n,r,o,u,c,f,y){const D=[];if(f)for(let B in f){const[ne,oe]=f[B];D[ne]={flags:8,name:B,nonMinifiedName:oe,ns:null,securityContext:null,suffix:null}}const x=[];if(y)for(let B in y)x.push({type:1,propName:B,target:null,eventName:y[B]});return Ky(t,n|=16384,r,o,u,u,c,D,x)}function VD(t,n,r){return Ky(-1,t|=16,null,0,n,n,r)}function UD(t,n,r,o,u){return Ky(-1,t,n,0,r,o,u)}function Ky(t,n,r,o,u,c,f,y,D){const{matchedQueries:x,references:B,matchedQueryIds:ne}=Kv(r);D||(D=[]),y||(y=[]),c=Z(c);const oe=Og(f,Y(u));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:n,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:x,matchedQueryIds:ne,references:B,ngContentIndex:-1,childCount:o,bindings:y,bindingFlags:qv(y),outputs:D,element:null,provider:{token:u,value:c,deps:oe},text:null,query:null,ngContent:null}}function jD(t,n){return ew(t,n)}function BD(t,n){let r=t;for(;r.parent&&!lh(r);)r=r.parent;return Jv(r.parent,Ff(r),!0,n.provider.value,n.provider.deps)}function $D(t,n){const o=Jv(t,n.parent,(32768&n.flags)>0,n.provider.value,n.provider.deps);if(n.outputs.length)for(let u=0;u<n.outputs.length;u++){const c=n.outputs[u],f=o[c.propName];if(!gg(f))throw new Error(`@Output ${c.propName} not initialized in '${o.constructor.name}'.`);{const y=f.subscribe(HD(t,n.parent.nodeIndex,c.eventName));t.disposables[n.outputIndex+u]=y.unsubscribe.bind(y)}}return o}function HD(t,n,r){return o=>H0(t,n,r,o)}function ew(t,n){const r=(8192&n.flags)>0,o=n.provider;switch(201347067&n.flags){case 512:return Jv(t,n.parent,r,o.value,o.deps);case 1024:return function(t,n,r,o,u){const c=u.length;switch(c){case 0:return o();case 1:return o(ma(t,n,r,u[0]));case 2:return o(ma(t,n,r,u[0]),ma(t,n,r,u[1]));case 3:return o(ma(t,n,r,u[0]),ma(t,n,r,u[1]),ma(t,n,r,u[2]));default:const f=[];for(let y=0;y<c;y++)f.push(ma(t,n,r,u[y]));return o(...f)}}(t,n.parent,r,o.value,o.deps);case 2048:return ma(t,n.parent,r,o.deps[0]);case 256:return o.value}}function Jv(t,n,r,o,u){const c=u.length;switch(c){case 0:return new o;case 1:return new o(ma(t,n,r,u[0]));case 2:return new o(ma(t,n,r,u[0]),ma(t,n,r,u[1]));case 3:return new o(ma(t,n,r,u[0]),ma(t,n,r,u[1]),ma(t,n,r,u[2]));default:const f=[];for(let y=0;y<c;y++)f.push(ma(t,n,r,u[y]));return new o(...f)}}const ch={};function ma(t,n,r,o,u=Yr.THROW_IF_NOT_FOUND){if(8&o.flags)return o.token;const c=t;2&o.flags&&(u=null);const f=o.tokenKey;f===X0&&(r=!(!n||!n.element.componentView)),n&&1&o.flags&&(r=!1,n=n.parent);let y=t;for(;y;){if(n)switch(f){case ND:return tw(y,n,r).renderer;case xD:return new el(Di(y,n.nodeIndex).renderElement);case OD:return Di(y,n.nodeIndex).viewContainer;case PD:if(n.element.template)return Di(y,n.nodeIndex).template;break;case X0:return DD(tw(y,n,r));case kD:case FD:return Y0(y,n);default:const x=(r?n.element.allProviders:n.element.publicProviders)[f];if(x){let B=sd(y,x.nodeIndex);return B||(B={instance:ew(y,x)},y.nodes[x.nodeIndex]=B),B.instance}}r=lh(y),n=Ff(y),y=y.parent,4&o.flags&&(y=null)}const D=c.root.injector.get(o.token,ch);return D!==ch||u===ch?D:c.root.ngModule.injector.get(o.token,u)}function tw(t,n,r){let o;if(r)o=Di(t,n.nodeIndex).componentView;else for(o=t;o.parent&&!lh(o);)o=o.parent;return o}function nl(t,n,r,o,u,c){if(32768&r.flags){const D=Di(t,r.parent.nodeIndex).componentView;2&D.def.flags&&(D.state|=8)}if(n.instance[r.bindings[o].name]=u,524288&r.flags){c=c||{};const D=Os.unwrap(t.oldValues[r.bindingIndex+o]);c[r.bindings[o].nonMinifiedName]=new _s(D,u,0!=(2&t.state))}return t.oldValues[r.bindingIndex+o]=u,c}function Xv(t,n){if(!(t.def.nodeFlags&n))return;const r=t.def.nodes;let o=0;for(let u=0;u<r.length;u++){const c=r[u];let f=c.parent;for(!f&&c.flags&n&&nw(t,u,c.flags&n,o++),0==(c.childFlags&n)&&(u+=c.childCount);f&&1&f.flags&&u===f.nodeIndex+f.childCount;)f.directChildFlags&n&&(o=zD(t,f,n,o)),f=f.parent}}function zD(t,n,r,o){for(let u=n.nodeIndex+1;u<=n.nodeIndex+n.childCount;u++){const c=t.def.nodes[u];c.flags&r&&nw(t,u,c.flags&r,o++),u+=c.childCount}return o}function nw(t,n,r,o){const u=sd(t,n);if(!u)return;const c=u.instance;!c||(mr.setCurrentNode(t,n),1048576&r&&$y(t,512,o)&&c.ngAfterContentInit(),2097152&r&&c.ngAfterContentChecked(),4194304&r&&$y(t,768,o)&&c.ngAfterViewInit(),8388608&r&&c.ngAfterViewChecked(),131072&r&&c.ngOnDestroy())}class rw extends oh{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const r=Mr(n);return new eE(r,this.ngModule)}}function iw(t){const n=[];for(let r in t)t.hasOwnProperty(r)&&n.push({propName:t[r],templateName:r});return n}const sw=new bi("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Wl});class eE extends Pf{constructor(n,r){super(),this.componentDef=n,this.ngModule=r,this.componentType=n.type,this.selector=n.selectors.map(um).join(","),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!r}get inputs(){return iw(this.componentDef.inputs)}get outputs(){return iw(this.componentDef.outputs)}create(n,r,o,u){const c=(u=u||this.ngModule)?function(t,n){return{get:(r,o,u)=>{const c=t.get(r,ch,u);return c!==ch||o===ch?c:n.get(r,o,u)}}}(n,u.injector):n,f=c.get(Ly,k),y=c.get(Pv,null),D=f.createRenderer(null,this.componentDef),x=this.componentDef.selectors[0][0]||"div",B=o?Bd(D,o,this.componentDef.encapsulation):Ca(f.createRenderer(null,this.componentDef),x,function(t){const n=t.toLowerCase();return"svg"===n?Xs:"math"===n?na:null}(x)),ne=this.componentDef.onPush?576:528,oe=Zm(),be=Gh(0,null,null,1,0,null,null,null,null,null),ke=_u(null,be,oe,ne,null,null,f,D,y,c);let ut,Qe;Is(ke);try{const Ot=Gp(B,this.componentDef,ke,f,D);if(B)if(o)tu(D,B,["ng-version",kv.full]);else{const{attrs:mt,classes:Ln}=function(t){const n=[],r=[];let o=1,u=2;for(;o<t.length;){let c=t[o];if("string"==typeof c)2===u?""!==c&&n.push(c,t[++o]):8===u&&r.push(c);else{if(!ba(u))break;u=c}o++}return{attrs:n,classes:r}}(this.componentDef.selectors[0]);mt&&tu(D,B,mt),Ln&&Ln.length>0&&Ph(D,B,Ln.join(" "))}if(Qe=Yn(be,20),void 0!==r){const mt=Qe.projection=[];for(let Ln=0;Ln<this.ngContentSelectors.length;Ln++){const ur=r[Ln];mt.push(null!=ur?Array.from(ur):null)}}ut=qm(Ot,this.componentDef,ke,oe,[Qm]),Ql(be,ke,null)}finally{fi()}return new ow(this.componentType,ut,ah(Qe,ke),ke,Qe)}}class ow extends xv{constructor(n,r,o,u,c){super(),this.location=o,this._rootLView=u,this._tNode=c,this.instance=r,this.hostView=this.changeDetectorRef=new xT(u),this.componentType=n}get injector(){return new fr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function aw(t,n,r,o){return me(()=>{const u=t;null!==n&&(u.hasOwnProperty("decorators")&&void 0!==u.decorators?u.decorators.push(...n):u.decorators=n),null!==r&&(u.ctorParameters=r),null!==o&&(u.propDecorators=u.hasOwnProperty("propDecorators")&&void 0!==u.propDecorators?Object.assign(Object.assign({},u.propDecorators),o):o)})}const Vf=new Map;function YD(t,n){const r=Vf.get(t);uw(t,r&&r.moduleType,n.moduleType),Vf.set(t,n)}function uw(t,n,r){if(n&&n!==r)throw new Error(`Duplicate module registered for ${t} - ${Y(n)} vs ${Y(n.name)}`)}function lw(t){const n=new Set;!function r(o){const u=Ur(o,!0),c=u.id;if(null!==c){uw(c,Vf.get(c),o),Vf.set(c,o)}const f=Ks(u.imports);for(const y of f)n.has(y)||(n.add(y),r(y))}(t)}function cw(t){return Vf.get(t)||Rr[t]}class dw extends id{constructor(n,r){super(),this._parent=r,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new rw(this);const o=Ur(n),u=n[z]||null;u&&Oy(u),this._bootstrapComponents=Ks(o.bootstrap),this._r3Injector=sf(n,r,[{provide:id,useValue:this},{provide:oh,useValue:this.componentFactoryResolver}],Y(n)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(n)}get(n,r=Yr.THROW_IF_NOT_FOUND,o=Ft.Default){return n===Yr||n===id||n===Eu?this:this._r3Injector.get(n,r,o)}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Gy extends Bv{constructor(n){super(),this.moduleType=n,null!==Ur(n)&&lw(n)}create(n){return new dw(this.moduleType,n)}}function hw(t,n,r){const o=pe()+t,u=ht();return u[o]===ar?Xa(u,o,r?n.call(r):n()):Yd(u,o)}function fw(t,n,r,o){return tE(ht(),pe(),t,n,r,o)}function pw(t,n,r,o,u){return nE(ht(),pe(),t,n,r,o,u)}function gw(t,n,r,o,u,c){return rE(ht(),pe(),t,n,r,o,u,c)}function mw(t,n,r,o,u,c,f){return iE(ht(),pe(),t,n,r,o,u,c,f)}function yw(t,n,r,o,u,c,f,y){const D=pe()+t,x=ht(),B=zr(x,D,r,o,u,c);return Io(x,D+4,f)||B?Xa(x,D+5,y?n.call(y,r,o,u,c,f):n(r,o,u,c,f)):Yd(x,D+5)}function _w(t,n,r,o,u,c,f,y,D){const x=pe()+t,B=ht(),ne=zr(B,x,r,o,u,c);return sc(B,x+4,f,y)||ne?Xa(B,x+6,D?n.call(D,r,o,u,c,f,y):n(r,o,u,c,f,y)):Yd(B,x+6)}function vw(t,n,r,o,u,c,f,y,D,x){const B=pe()+t,ne=ht();let oe=zr(ne,B,r,o,u,c);return If(ne,B+4,f,y,D)||oe?Xa(ne,B+7,x?n.call(x,r,o,u,c,f,y,D):n(r,o,u,c,f,y,D)):Yd(ne,B+7)}function Ew(t,n,r,o,u,c,f,y,D,x,B){const ne=pe()+t,oe=ht(),be=zr(oe,ne,r,o,u,c);return zr(oe,ne+4,f,y,D,x)||be?Xa(oe,ne+8,B?n.call(B,r,o,u,c,f,y,D,x):n(r,o,u,c,f,y,D,x)):Yd(oe,ne+8)}function Iw(t,n,r,o){return sE(ht(),pe(),t,n,r,o)}function Lg(t,n){const r=t[n];return r===ar?void 0:r}function tE(t,n,r,o,u,c){const f=n+r;return Io(t,f,u)?Xa(t,f+1,c?o.call(c,u):o(u)):Lg(t,f+1)}function nE(t,n,r,o,u,c,f){const y=n+r;return sc(t,y,u,c)?Xa(t,y+2,f?o.call(f,u,c):o(u,c)):Lg(t,y+2)}function rE(t,n,r,o,u,c,f,y){const D=n+r;return If(t,D,u,c,f)?Xa(t,D+3,y?o.call(y,u,c,f):o(u,c,f)):Lg(t,D+3)}function iE(t,n,r,o,u,c,f,y,D){const x=n+r;return zr(t,x,u,c,f,y)?Xa(t,x+4,D?o.call(D,u,c,f,y):o(u,c,f,y)):Lg(t,x+4)}function sE(t,n,r,o,u,c){let f=n+r,y=!1;for(let D=0;D<u.length;D++)Io(t,f++,u[D])&&(y=!0);return y?Xa(t,f,o.apply(c,u)):Lg(t,f)}function ww(t,n){const r=Hn();let o;const u=t+20;r.firstCreatePass?(o=function(t,n){if(n)for(let r=n.length-1;r>=0;r--){const o=n[r];if(t===o.name)return o}throw new ze("302",`The pipe '${t}' could not be found!`)}(n,r.pipeRegistry),r.data[u]=o,o.onDestroy&&(r.destroyHooks||(r.destroyHooks=[])).push(u,o.onDestroy)):o=r.data[u];const c=o.factory||(o.factory=ci(o.type)),f=kr(ed);try{const y=_a(!1),D=c();return _a(y),oy(r,ht(),u,D),D}finally{kr(f)}}function Cw(t,n,r){const o=t+20,u=ht(),c=Nn(u,o);return Ug(u,Vg(u,o)?tE(u,pe(),n,c.transform,r,c):c.transform(r))}function bw(t,n,r,o){const u=t+20,c=ht(),f=Nn(c,u);return Ug(c,Vg(c,u)?nE(c,pe(),n,f.transform,r,o,f):f.transform(r,o))}function Tw(t,n,r,o,u){const c=t+20,f=ht(),y=Nn(f,c);return Ug(f,Vg(f,c)?rE(f,pe(),n,y.transform,r,o,u,y):y.transform(r,o,u))}function Dw(t,n,r,o,u,c){const f=t+20,y=ht(),D=Nn(y,f);return Ug(y,Vg(y,f)?iE(y,pe(),n,D.transform,r,o,u,c,D):D.transform(r,o,u,c))}function Sw(t,n,r){const o=t+20,u=ht(),c=Nn(u,o);return Ug(u,Vg(u,o)?sE(u,pe(),n,c.transform,r,c):c.transform.apply(c,r))}function Vg(t,n){return t[1].data[n].pure}function Ug(t,n){return Os.isWrapped(n)&&(n=Os.unwrap(n),t[we()]=ar),n}function oE(t){return n=>{setTimeout(t,void 0,n)}}const Sl=class extends m.xQ{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,r,o){var u,c,f;let y=n,D=r||(()=>null),x=o;if(n&&"object"==typeof n){const ne=n;y=null===(u=ne.next)||void 0===u?void 0:u.bind(ne),D=null===(c=ne.error)||void 0===c?void 0:c.bind(ne),x=null===(f=ne.complete)||void 0===f?void 0:f.bind(ne)}this.__isAsync&&(D=oE(D),y&&(y=oE(y)),x&&(x=oE(x)));const B=super.subscribe({next:y,error:D,complete:x});return n instanceof j.w&&n.add(B),B}};function eS(){return this._results[Li()]()}class jg{constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const r=Li(),o=jg.prototype;o[r]||(o[r]=eS)}get changes(){return this._changes||(this._changes=new Sl)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,r){return this._results.reduce(n,r)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,r){const o=this;o.dirty=!1;const u=Hs(n);(this._changesDetected=!function(t,n,r){if(t.length!==n.length)return!1;for(let o=0;o<t.length;o++){let u=t[o],c=n[o];if(r&&(u=r(u),c=r(c)),c!==u)return!1}return!0}(o._results,u,r))&&(o._results=u,o.length=u.length,o.last=u[this.length-1],o.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class aE{constructor(n){this.queryList=n,this.matches=null}clone(){return new aE(this.queryList)}setDirty(){this.queryList.setDirty()}}class uE{constructor(n=[]){this.queries=n}createEmbeddedView(n){const r=n.queries;if(null!==r){const o=null!==n.contentQueries?n.contentQueries[0]:r.length,u=[];for(let c=0;c<o;c++){const f=r.getByIndex(c);u.push(this.queries[f.indexInDeclarationView].clone())}return new uE(u)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let r=0;r<this.queries.length;r++)null!==Fw(n,r).matches&&this.queries[r].setDirty()}}class Aw{constructor(n,r,o=null){this.predicate=n,this.flags=r,this.read=o}}class lE{constructor(n=[]){this.queries=n}elementStart(n,r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(n,r)}elementEnd(n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(n)}embeddedTView(n){let r=null;for(let o=0;o<this.length;o++){const u=null!==r?r.length:0,c=this.getByIndex(o).embeddedTView(n,u);c&&(c.indexInDeclarationView=o,null!==r?r.push(c):r=[c])}return null!==r?new lE(r):null}template(n,r){for(let o=0;o<this.queries.length;o++)this.queries[o].template(n,r)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class cE{constructor(n,r=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(n,r){this.isApplyingToNode(r)&&this.matchTNode(n,r)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,r){this.elementStart(n,r)}embeddedTView(n,r){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,r),new cE(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const r=this._declarationNodeIndex;let o=n.parent;for(;null!==o&&8&o.type&&o.index!==r;)o=o.parent;return r===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(n,r){const o=this.metadata.predicate;if(Array.isArray(o))for(let u=0;u<o.length;u++){const c=o[u];this.matchTNodeWithReadOption(n,r,rS(r,c)),this.matchTNodeWithReadOption(n,r,ct(r,n,c,!1,!1))}else o===uh?4&r.type&&this.matchTNodeWithReadOption(n,r,-1):this.matchTNodeWithReadOption(n,r,ct(r,n,o,!1,!1))}matchTNodeWithReadOption(n,r,o){if(null!==o){const u=this.metadata.read;if(null!==u)if(u===el||u===Rg||u===uh&&4&r.type)this.addMatch(r.index,-2);else{const c=ct(r,n,u,!1,!1);null!==c&&this.addMatch(r.index,c)}else this.addMatch(r.index,o)}}addMatch(n,r){null===this.matches?this.matches=[n,r]:this.matches.push(n,r)}}function rS(t,n){const r=t.localNames;if(null!==r)for(let o=0;o<r.length;o+=2)if(r[o]===n)return r[o+1];return null}function sS(t,n,r,o){return-1===r?function(t,n){return 11&t.type?ah(t,n):4&t.type?Ag(t,n):null}(n,t):-2===r?function(t,n,r){return r===el?ah(n,t):r===uh?Ag(n,t):r===Rg?F0(n,t):void 0}(t,n,o):wt(t,t[1],r,n)}function Rw(t,n,r,o){const u=n[19].queries[o];if(null===u.matches){const c=t.data,f=r.matches,y=[];for(let D=0;D<f.length;D+=2){const x=f[D];y.push(x<0?null:sS(n,c[x],f[D+1],r.metadata.read))}u.matches=y}return u.matches}function dE(t,n,r,o){const u=t.queries.getByIndex(r),c=u.matches;if(null!==c){const f=Rw(t,n,u,r);for(let y=0;y<c.length;y+=2){const D=c[y];if(D>0)o.push(f[y/2]);else{const x=c[y+1],B=n[-D];for(let ne=10;ne<B.length;ne++){const oe=B[ne];oe[17]===oe[3]&&dE(oe[1],oe,x,o)}if(null!==B[9]){const ne=B[9];for(let oe=0;oe<ne.length;oe++){const be=ne[oe];dE(be[1],be,x,o)}}}}}return o}function Mw(t){const n=ht(),r=Hn(),o=xr();Zr(o+1);const u=Fw(r,o);if(t.dirty&&Ir(n)===(2==(2&u.metadata.flags))){if(null===u.matches)t.reset([]);else{const c=u.crossesNgTemplate?dE(r,n,o,[]):Rw(r,n,u,o);t.reset(c,_0),t.notifyOnChanges()}return!0}return!1}function Nw(t,n,r){const o=Hn();o.firstCreatePass&&(kw(o,new Aw(t,n,r),-1),2==(2&n)&&(o.staticViewQueries=!0)),Pw(o,ht(),n)}function xw(t,n,r,o){const u=Hn();if(u.firstCreatePass){const c=si();kw(u,new Aw(n,r,o),c.index),function(t,n){const r=t.contentQueries||(t.contentQueries=[]);n!==(r.length?r[r.length-1]:-1)&&r.push(t.queries.length-1,n)}(u,t),2==(2&r)&&(u.staticContentQueries=!0)}Pw(u,ht(),r)}function Ow(){return t=ht(),n=xr(),t[19].queries[n].queryList;var t,n}function Pw(t,n,r){const o=new jg(4==(4&r));zh(t,n,o,o.destroy),null===n[19]&&(n[19]=new uE),n[19].queries.push(new aE(o))}function kw(t,n,r){null===t.queries&&(t.queries=new lE),t.queries.track(new cE(n,r))}function Fw(t,n){return t.queries.getByIndex(n)}function Lw(t,n){return Ag(t,n)}const Da=(()=>({\u0275\u0275attribute:ny,\u0275\u0275attributeInterpolate1:Zp,\u0275\u0275attributeInterpolate2:ry,\u0275\u0275attributeInterpolate3:Qp,\u0275\u0275attributeInterpolate4:Yp,\u0275\u0275attributeInterpolate5:wf,\u0275\u0275attributeInterpolate6:wu,\u0275\u0275attributeInterpolate7:iy,\u0275\u0275attributeInterpolate8:Cu,\u0275\u0275attributeInterpolateV:Zu,\u0275\u0275defineComponent:dn,\u0275\u0275defineDirective:Ki,\u0275\u0275defineInjectable:bn,\u0275\u0275defineInjector:Xt,\u0275\u0275defineNgModule:Fr,\u0275\u0275definePipe:Dr,\u0275\u0275directiveInject:ed,\u0275\u0275getInheritedFactory:Hr,\u0275\u0275inject:Xi,\u0275\u0275injectAttribute:Yi,\u0275\u0275invalidFactory:Af,\u0275\u0275invalidFactoryDep:Ou,\u0275\u0275templateRefExtractor:Lw,\u0275\u0275NgOnChangesFeature:ii,\u0275\u0275ProvidersFeature:f0,\u0275\u0275CopyDefinitionFeature:Kc,\u0275\u0275InheritDefinitionFeature:Zd,\u0275\u0275nextContext:Cy,\u0275\u0275namespaceHTML:$n,\u0275\u0275namespaceMathML:En,\u0275\u0275namespaceSVG:Vt,\u0275\u0275enableBindings:Fo,\u0275\u0275disableBindings:To,\u0275\u0275elementStart:bu,\u0275\u0275elementEnd:dg,\u0275\u0275element:Tl,\u0275\u0275elementContainerStart:hg,\u0275\u0275elementContainerEnd:fg,\u0275\u0275elementContainer:vy,\u0275\u0275pureFunction0:hw,\u0275\u0275pureFunction1:fw,\u0275\u0275pureFunction2:pw,\u0275\u0275pureFunction3:gw,\u0275\u0275pureFunction4:mw,\u0275\u0275pureFunction5:yw,\u0275\u0275pureFunction6:_w,\u0275\u0275pureFunction7:vw,\u0275\u0275pureFunction8:Ew,\u0275\u0275pureFunctionV:Iw,\u0275\u0275getCurrentView:Ey,\u0275\u0275restoreView:Sa,\u0275\u0275listener:mg,\u0275\u0275projection:Ty,\u0275\u0275syntheticHostProperty:Iv,\u0275\u0275syntheticHostListener:yg,\u0275\u0275pipeBind1:Cw,\u0275\u0275pipeBind2:bw,\u0275\u0275pipeBind3:Tw,\u0275\u0275pipeBind4:Dw,\u0275\u0275pipeBindV:Sw,\u0275\u0275projectionDef:by,\u0275\u0275hostProperty:Ev,\u0275\u0275property:td,\u0275\u0275propertyInterpolate:vg,\u0275\u0275propertyInterpolate1:Eg,\u0275\u0275propertyInterpolate2:Dy,\u0275\u0275propertyInterpolate3:Mf,\u0275\u0275propertyInterpolate4:s,\u0275\u0275propertyInterpolate5:e,\u0275\u0275propertyInterpolate6:i,\u0275\u0275propertyInterpolate7:a,\u0275\u0275propertyInterpolate8:l,\u0275\u0275propertyInterpolateV:p,\u0275\u0275pipe:ww,\u0275\u0275queryRefresh:Mw,\u0275\u0275viewQuery:Nw,\u0275\u0275loadQuery:Ow,\u0275\u0275contentQuery:xw,\u0275\u0275reference:Jp,\u0275\u0275classMap:cI,\u0275\u0275classMapInterpolate1:_I,\u0275\u0275classMapInterpolate2:vI,\u0275\u0275classMapInterpolate3:EI,\u0275\u0275classMapInterpolate4:II,\u0275\u0275classMapInterpolate5:wI,\u0275\u0275classMapInterpolate6:CI,\u0275\u0275classMapInterpolate7:bI,\u0275\u0275classMapInterpolate8:TI,\u0275\u0275classMapInterpolateV:DI,\u0275\u0275styleMap:Yu,\u0275\u0275styleMapInterpolate1:SI,\u0275\u0275styleMapInterpolate2:AI,\u0275\u0275styleMapInterpolate3:RI,\u0275\u0275styleMapInterpolate4:MI,\u0275\u0275styleMapInterpolate5:NI,\u0275\u0275styleMapInterpolate6:xI,\u0275\u0275styleMapInterpolate7:OI,\u0275\u0275styleMapInterpolate8:PI,\u0275\u0275styleMapInterpolateV:kI,\u0275\u0275styleProp:X_,\u0275\u0275stylePropInterpolate1:dv,\u0275\u0275stylePropInterpolate2:hv,\u0275\u0275stylePropInterpolate3:fv,\u0275\u0275stylePropInterpolate4:pv,\u0275\u0275stylePropInterpolate5:gv,\u0275\u0275stylePropInterpolate6:mv,\u0275\u0275stylePropInterpolate7:yv,\u0275\u0275stylePropInterpolate8:_v,\u0275\u0275stylePropInterpolateV:vv,\u0275\u0275classProp:ev,\u0275\u0275advance:Lh,\u0275\u0275template:sy,\u0275\u0275text:yI,\u0275\u0275textInterpolate:nv,\u0275\u0275textInterpolate1:My,\u0275\u0275textInterpolate2:rv,\u0275\u0275textInterpolate3:iv,\u0275\u0275textInterpolate4:sv,\u0275\u0275textInterpolate5:ov,\u0275\u0275textInterpolate6:av,\u0275\u0275textInterpolate7:uv,\u0275\u0275textInterpolate8:lv,\u0275\u0275textInterpolateV:cv,\u0275\u0275i18n:u0,\u0275\u0275i18nAttributes:l0,\u0275\u0275i18nExp:Sv,\u0275\u0275i18nStart:Tv,\u0275\u0275i18nEnd:Dv,\u0275\u0275i18nApply:c0,\u0275\u0275i18nPostprocess:d0,\u0275\u0275resolveWindow:xs,\u0275\u0275resolveDocument:da,\u0275\u0275resolveBody:mu,\u0275\u0275setComponentScope:jt,\u0275\u0275setNgModuleScope:Mn,\u0275\u0275sanitizeHtml:_d,\u0275\u0275sanitizeStyle:vd,\u0275\u0275sanitizeResourceUrl:Bl,\u0275\u0275sanitizeScript:Rc,\u0275\u0275sanitizeUrl:Ed,\u0275\u0275sanitizeUrlOrResourceUrl:Mc,\u0275\u0275trustConstantHtml:bh,\u0275\u0275trustConstantResourceUrl:ju,forwardRef:re,resolveForwardRef:Z}))();let Uf=null;function dS(){Uf=null}const Bg=[];let hE=!1;function Vw(){if(!hE){hE=!0;try{for(let t=Bg.length-1;t>=0;t--){const{moduleType:n,ngModule:r}=Bg[t];r.declarations&&r.declarations.every(Uw)&&(Bg.splice(t,1),pS(n,r))}}finally{hE=!1}}}function Uw(t){return Array.isArray(t)?t.every(Uw):!!Z(t)}function jw(t,n={}){Bw(t,n),function(t,n){Bg.push({moduleType:t,ngModule:n})}(t,n)}function Bw(t,n,r=!1){const o=Hs(n.declarations||he);let u=null;Object.defineProperty(t,Ve,{configurable:!0,get:()=>(null===u&&(u=vi().compileNgModule(Da,`ng:///${t.name}/\u0275mod.js`,{type:t,bootstrap:Hs(n.bootstrap||he).map(Z),declarations:o.map(Z),imports:Hs(n.imports||he).map(Z).map(Kw),exports:Hs(n.exports||he).map(Z).map(Kw),schemas:n.schemas?Hs(n.schemas):null,id:n.id||null}),u.schemas||(u.schemas=[])),u)});let c=null;Object.defineProperty(t,ae,{get:()=>{if(null===c){const y=vi();c=y.compileFactory(Da,`ng:///${t.name}/\u0275fac.js`,{name:t.name,type:t,deps:xl(t),target:y.FactoryTarget.NgModule,typeArgumentCount:0})}return c},configurable:!1});let f=null;Object.defineProperty(t,ot,{get:()=>{if(null===f){const y={name:t.name,type:t,providers:n.providers||he,imports:[(n.imports||he).map(Z),(n.exports||he).map(Z)]};f=vi().compileInjector(Da,`ng:///${t.name}/\u0275inj.js`,y)}return f},configurable:!1})}let zy=new WeakMap,pE=new WeakMap;function fS(){zy=new WeakMap,pE=new WeakMap,Bg.length=0}function pS(t,n){const r=Hs(n.declarations||he),o=$g(t);r.forEach(u=>{u.hasOwnProperty(Re)?gE(Mr(u),o):!u.hasOwnProperty(Ze)&&!u.hasOwnProperty(Ue)&&(u.ngSelectorScope=t)})}function gE(t,n){t.directiveDefs=()=>Array.from(n.compilation.directives).map(r=>r.hasOwnProperty(Re)?Mr(r):cr(r)).filter(r=>!!r),t.pipeDefs=()=>Array.from(n.compilation.pipes).map(r=>ai(r)),t.schemas=n.schemas,t.tView=null}function $g(t){if(!mE(t))throw new Error(`${t.name} does not have a module def (\u0275mod property)`);const n=Ur(t);if(null!==n.transitiveCompileScopes)return n.transitiveCompileScopes;const r={schemas:n.schemas||null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set}};return Ks(n.imports).forEach(o=>{const u=o;if(!mE(u))throw new Error(`Importing ${u.name} which does not have a \u0275mod property`);const c=$g(u);c.exported.directives.forEach(f=>r.compilation.directives.add(f)),c.exported.pipes.forEach(f=>r.compilation.pipes.add(f))}),Ks(n.declarations).forEach(o=>{ai(o)?r.compilation.pipes.add(o):r.compilation.directives.add(o)}),Ks(n.exports).forEach(o=>{const u=o;if(mE(u)){const c=$g(u);c.exported.directives.forEach(f=>{r.compilation.directives.add(f),r.exported.directives.add(f)}),c.exported.pipes.forEach(f=>{r.compilation.pipes.add(f),r.exported.pipes.add(f)})}else ai(u)?r.exported.pipes.add(u):r.exported.directives.add(u)}),n.transitiveCompileScopes=r,r}function Kw(t){return function(t){return void 0!==t.ngModule}(t)?t.ngModule:t}function mE(t){return!!Ur(t)}let yE=0;function Gw(t,n){let r=null;(function(t,n){_c(n)&&(hu.set(t,n),Ei.add(t))})(t,n),qw(t,n),Object.defineProperty(t,Re,{get:()=>{if(null===r){const o=vi();if(_c(n)){const x=[`Component '${t.name}' is not resolved:`];throw n.templateUrl&&x.push(` - templateUrl: ${n.templateUrl}`),n.styleUrls&&n.styleUrls.length&&x.push(` - styleUrls: ${JSON.stringify(n.styleUrls)}`),x.push("Did you run and wait for 'resolveComponentResources()'?"),new Error(x.join("\n"))}const u=Uf;let c=n.preserveWhitespaces;void 0===c&&(c=null!==u&&void 0!==u.preserveWhitespaces&&u.preserveWhitespaces);let f=n.encapsulation;void 0===f&&(f=null!==u&&void 0!==u.defaultEncapsulation?u.defaultEncapsulation:lt.Emulated);const y=n.templateUrl||`ng:///${t.name}/template.html`,D=Object.assign(Object.assign({},Zw(t,n)),{typeSourceSpan:o.createParseSourceSpan("Component",t.name,y),template:n.template||"",preserveWhitespaces:c,styles:n.styles||he,animations:n.animations,directives:[],changeDetection:n.changeDetection,pipes:new Map,encapsulation:f,interpolation:n.interpolation,viewProviders:n.viewProviders||null});yE++;try{D.usesInheritance&&Qw(t),r=o.compileComponent(Da,y,D)}finally{yE--}if(0===yE&&Vw(),function(t){return void 0!==t.ngSelectorScope}(t)){const x=$g(t.ngSelectorScope);gE(r,x)}}return r},configurable:!1})}function _E(t,n){let r=null;qw(t,n||{}),Object.defineProperty(t,Ze,{get:()=>{if(null===r){const o=zw(t,n||{});r=vi().compileDirective(Da,o.sourceMapUrl,o.metadata)}return r},configurable:!1})}function zw(t,n){const r=t&&t.name,o=`ng:///${r}/\u0275dir.js`,u=vi(),c=Zw(t,n);return c.typeSourceSpan=u.createParseSourceSpan("Directive",r,o),c.usesInheritance&&Qw(t),{metadata:c,sourceMapUrl:o}}function qw(t,n){let r=null;Object.defineProperty(t,ae,{get:()=>{if(null===r){const o=zw(t,n),u=vi();r=u.compileFactory(Da,`ng:///${t.name}/\u0275fac.js`,{name:o.metadata.name,type:o.metadata.type,typeArgumentCount:0,deps:xl(t),target:u.FactoryTarget.Directive})}return r},configurable:!1})}function yS(t){return Object.getPrototypeOf(t.prototype)===Object.prototype}function Zw(t,n){const r=xa(),o=r.ownPropMetadata(t);return{name:t.name,type:t,selector:void 0!==n.selector?n.selector:null,host:n.host||ye,propMetadata:o,inputs:n.inputs||he,outputs:n.outputs||he,queries:Yw(t,o,Jw),lifecycle:{usesOnChanges:r.hasLifecycleHook(t,"ngOnChanges")},typeSourceSpan:null,usesInheritance:!yS(t),exportAs:ES(n.exportAs),providers:n.providers||null,viewQueries:Yw(t,o,Xw)}}function Qw(t){const n=Object.prototype;let r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==n;)!cr(r)&&!Mr(r)&&wS(r)&&_E(r,null),r=Object.getPrototypeOf(r)}function _S(t){return"string"==typeof t?tC(t):Z(t)}function vS(t,n){return{propertyName:t,predicate:_S(n.selector),descendants:n.descendants,first:n.first,read:n.read?n.read:null,static:!!n.static,emitDistinctChangesOnly:!!n.emitDistinctChangesOnly}}function Yw(t,n,r){const o=[];for(const u in n)if(n.hasOwnProperty(u)){const c=n[u];c.forEach(f=>{if(r(f)){if(!f.selector)throw new Error(`Can't construct a query for the property "${u}" of "${Me(t)}" since the query selector wasn't defined.`);if(c.some(eC))throw new Error("Cannot combine @Input decorators with query decorators");o.push(vS(u,f))}})}return o}function ES(t){return void 0===t?null:tC(t)}function Jw(t){const n=t.ngMetadataName;return"ContentChild"===n||"ContentChildren"===n}function Xw(t){const n=t.ngMetadataName;return"ViewChild"===n||"ViewChildren"===n}function eC(t){return"Input"===t.ngMetadataName}function tC(t){return t.split(",").map(n=>n.trim())}const IS=["ngOnChanges","ngOnInit","ngOnDestroy","ngDoCheck","ngAfterViewInit","ngAfterViewChecked","ngAfterContentInit","ngAfterContentChecked"];function wS(t){const n=xa();if(IS.some(o=>n.hasLifecycleHook(t,o)))return!0;const r=n.propMetadata(t);for(const o in r){const u=r[o];for(let c=0;c<u.length;c++){const f=u[c],y=f.ngMetadataName;if(eC(f)||Jw(f)||Xw(f)||"Output"===y||"HostBinding"===y||"HostListener"===y)return!0}}return!1}function nC(t,n){let r=null,o=null;Object.defineProperty(t,ae,{get:()=>{if(null===o){const u=rC(t,n),c=vi();o=c.compileFactory(Da,`ng:///${u.name}/\u0275fac.js`,{name:u.name,type:u.type,typeArgumentCount:0,deps:xl(t),target:c.FactoryTarget.Pipe})}return o},configurable:!1}),Object.defineProperty(t,Ue,{get:()=>{if(null===r){const u=rC(t,n);r=vi().compilePipe(Da,`ng:///${u.name}/\u0275pipe.js`,u)}return r},configurable:!1})}function rC(t,n){return{type:t,name:t.name,pipeName:n.name,pure:void 0===n.pure||n.pure}}const iC=zo("Directive",(t={})=>t,void 0,void 0,(t,n)=>MS(t,n)),CS=zo("Component",(t={})=>Object.assign({changeDetection:rt.Default},t),iC,void 0,(t,n)=>RS(t,n)),bS=zo("Pipe",t=>Object.assign({pure:!0},t),void 0,void 0,(t,n)=>NS(t,n)),TS=Ms("Input",t=>({bindingPropertyName:t})),DS=Ms("Output",t=>({bindingPropertyName:t})),SS=Ms("HostBinding",t=>({hostPropertyName:t})),AS=Ms("HostListener",(t,n)=>({eventName:t,args:n})),sC=Gw,oC=_E,aC=nC,RS=sC,MS=oC,NS=aC,xS=zo("NgModule",t=>t,void 0,void 0,(t,n)=>OS(t,n)),uC=jw,OS=uC,vE=new bi("Application Initializer");let jf=(()=>{class t{constructor(r){this.appInits=r,this.resolve=Fy,this.reject=Fy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,u)=>{this.resolve=o,this.reject=u})}runInitializers(){if(this.initialized)return;const r=[],o=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let u=0;u<this.appInits.length;u++){const c=this.appInits[u]();if(pg(c))r.push(c);else if(gg(c)){const f=new Promise((y,D)=>{c.subscribe({complete:y,error:D})});r.push(f)}}Promise.all(r).then(()=>{o()}).catch(u=>{this.reject(u)}),0===r.length&&o(),this.initialized=!0}}return t.\u0275fac=function(r){return new(r||t)(Xi(vE,8))},t.\u0275prov=bn({token:t,factory:t.\u0275fac}),t})();const lC=new bi("AppId");function cC(){return`${EE()}${EE()}${EE()}`}const dC={provide:lC,useFactory:cC,deps:[]};function EE(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const hC=new bi("Platform Initializer"),fC=new bi("Platform ID"),pC=new bi("appBootstrapListener"),PS=new bi("Application Packages Root URL");let gC=(()=>{class t{log(r){console.log(r)}warn(r){console.warn(r)}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=bn({token:t,factory:t.\u0275fac}),t})();const qy=new bi("LocaleId"),mC=new bi("DefaultCurrencyCode"),kS=new bi("Translations"),FS=new bi("TranslationsFormat");var Al=(()=>((Al=Al||{})[Al.Error=0]="Error",Al[Al.Warning=1]="Warning",Al[Al.Ignore=2]="Ignore",Al))();const yC=!0,Hg=yC;class _C{constructor(n,r){this.ngModuleFactory=n,this.componentFactories=r}}const Zy=function(t){return new Gy(t)},LS=Zy,vC=function(t){return Promise.resolve(Zy(t))},VS=vC,IE=function(t){const n=Zy(t),o=Ks(Ur(t).declarations).reduce((u,c)=>{const f=Mr(c);return f&&u.push(new eE(f)),u},[]);return new _C(n,o)},US=IE,EC=function(t){return Promise.resolve(IE(t))},jS=EC;let Wg=(()=>{class t{constructor(){this.compileModuleSync=LS,this.compileModuleAsync=VS,this.compileModuleAndAllComponentsSync=US,this.compileModuleAndAllComponentsAsync=jS}clearCache(){}clearCacheFor(r){}getModuleId(r){}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=bn({token:t,factory:t.\u0275fac}),t})();const IC=new bi("compilerOptions");class wC{}const BS=(()=>Promise.resolve(0))();function wE(t){"undefined"==typeof Zone?BS.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class eu{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Sl(!1),this.onMicrotaskEmpty=new Sl(!1),this.onStable=new Sl(!1),this.onError=new Sl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!o&&r,u.shouldCoalesceRunChangeDetection=o,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function(){let t=Yt.requestAnimationFrame,n=Yt.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&n){const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function(t){const n=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Yt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,bE(t),t.isCheckStableRunning=!0,CE(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),bE(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(r,o,u,c,f,y)=>{try{return CC(t),r.invokeTask(u,c,f,y)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===c.type||t.shouldCoalesceRunChangeDetection)&&n(),bC(t)}},onInvoke:(r,o,u,c,f,y,D)=>{try{return CC(t),r.invoke(u,c,f,y,D)}finally{t.shouldCoalesceRunChangeDetection&&n(),bC(t)}},onHasTask:(r,o,u,c)=>{r.hasTask(u,c),o===u&&("microTask"==c.change?(t._hasPendingMicrotasks=c.microTask,bE(t),CE(t)):"macroTask"==c.change&&(t.hasPendingMacrotasks=c.macroTask))},onHandleError:(r,o,u,c)=>(r.handleError(u,c),t.runOutsideAngular(()=>t.onError.emit(c)),!1)})}(u)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!eu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(eu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(n,r,o){return this._inner.run(n,r,o)}runTask(n,r,o,u){const c=this._inner,f=c.scheduleEventTask("NgZoneEvent: "+u,n,HS,Fy,Fy);try{return c.runTask(f,r,o)}finally{c.cancelTask(f)}}runGuarded(n,r,o){return this._inner.runGuarded(n,r,o)}runOutsideAngular(n){return this._outer.run(n)}}const HS={};function CE(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function bE(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function CC(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function bC(t){t._nesting--,CE(t)}class TC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Sl,this.onMicrotaskEmpty=new Sl,this.onStable=new Sl,this.onError=new Sl}run(n,r,o){return n.apply(r,o)}runGuarded(n,r,o){return n.apply(r,o)}runOutsideAngular(n){return n()}runTask(n,r,o,u){return n.apply(r,o)}}let DC=(()=>{class t{constructor(r){this._ngZone=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{eu.assertNotInAngularZone(),wE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())wE(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(r)||(clearTimeout(o.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,o,u){let c=-1;o&&o>0&&(c=setTimeout(()=>{this._callbacks=this._callbacks.filter(f=>f.timeoutId!==c),r(this._didWork,this.getPendingTasks())},o)),this._callbacks.push({doneCb:r,timeoutId:c,updateCb:u})}whenStable(r,o,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,o,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(r,o,u){return[]}}return t.\u0275fac=function(r){return new(r||t)(Xi(eu))},t.\u0275prov=bn({token:t,factory:t.\u0275fac}),t})(),TE=(()=>{class t{constructor(){this._applications=new Map,DE.addToWindow(this)}registerApplication(r,o){this._applications.set(r,o)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,o=!0){return DE.findTestabilityInTree(this,r,o)}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=bn({token:t,factory:t.\u0275fac}),t})();class GS{addToWindow(n){}findTestabilityInTree(n,r,o){return null}}function zS(t){DE=t}let DE=new GS,SC=!0,AC=!1;function SE(){return AC=!0,SC}function qS(){if(AC)throw new Error("Cannot enable prod mode after platform setup.");SC=!1}let rl,ZS=RC;function RC(t,n,r){const o=new Gy(r);return Promise.resolve(o)}let JS=MC;function MC(t){return t.isBoundToModule}const AE=new bi("AllowMultipleToken");class XS{constructor(n,r){this.name=n,this.token=r}}function NC(t){if(rl&&!rl.destroyed&&!rl.injector.get(AE,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");rl=t.get(ME);const n=t.get(hC,null);return n&&n.forEach(r=>r()),rl}function xC(t,n,r=[]){const o=`Platform: ${n}`,u=new bi(o);return(c=[])=>{let f=RE();if(!f||f.injector.get(AE,!1))if(t)t(r.concat(c).concat({provide:u,useValue:!0}));else{const y=r.concat(c).concat({provide:u,useValue:!0},{provide:nc,useValue:"platform"});NC(Yr.create({providers:y,name:o}))}return OC(u)}}function OC(t){const n=RE();if(!n)throw new Error("No platform exists!");if(!n.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return n}function eA(){rl&&!rl.destroyed&&rl.destroy()}function RE(){return rl&&!rl.destroyed?rl:null}let ME=(()=>{class t{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,o){const y=function(t,n){let r;return r="noop"===t?new TC:("zone.js"===t?void 0:t)||new eu({enableLongStackTrace:SE(),shouldCoalesceEventChangeDetection:!!(null==n?void 0:n.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==n?void 0:n.ngZoneRunCoalescing)}),r}(o?o.ngZone:void 0,{ngZoneEventCoalescing:o&&o.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:o&&o.ngZoneRunCoalescing||!1}),D=[{provide:eu,useValue:y}];return y.run(()=>{const x=Yr.create({providers:D,parent:this.injector,name:r.moduleType.name}),B=r.create(x),ne=B.injector.get(fu,null);if(!ne)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return y.runOutsideAngular(()=>{const oe=y.onError.subscribe({next:be=>{ne.handleError(be)}});B.onDestroy(()=>{NE(this._modules,B),oe.unsubscribe()})}),function(t,n,r){try{const o=r();return pg(o)?o.catch(u=>{throw n.runOutsideAngular(()=>t.handleError(u)),u}):o}catch(o){throw n.runOutsideAngular(()=>t.handleError(o)),o}}(ne,y,()=>{const oe=B.injector.get(jf);return oe.runInitializers(),oe.donePromise.then(()=>(Hg&&Oy(B.injector.get(qy,wg)||wg),this._moduleDoBootstrap(B),B))})})}bootstrapModule(r,o=[]){const u=PC({},o);return ZS(this.injector,u,r).then(c=>this.bootstrapModuleFactory(c,u))}_moduleDoBootstrap(r){const o=r.injector.get(Kg);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(u=>o.bootstrap(u));else{if(!r.instance.ngDoBootstrap)throw new Error(`The module ${Y(r.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);r.instance.ngDoBootstrap(o)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(r){return new(r||t)(Xi(Yr))},t.\u0275prov=bn({token:t,factory:t.\u0275fac}),t})();function PC(t,n){return Array.isArray(n)?n.reduce(PC,t):Object.assign(Object.assign({},t),n)}let Kg=(()=>{class t{constructor(r,o,u,c,f){this._zone=r,this._injector=o,this._exceptionHandler=u,this._componentFactoryResolver=c,this._initStatus=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new q.y(x=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{x.next(this._stable),x.complete()})}),D=new q.y(x=>{let B;this._zone.runOutsideAngular(()=>{B=this._zone.onStable.subscribe(()=>{eu.assertNotInAngularZone(),wE(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,x.next(!0))})})});const ne=this._zone.onUnstable.subscribe(()=>{eu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{x.next(!1)}))});return()=>{B.unsubscribe(),ne.unsubscribe()}});this.isStable=(0,Ce.T)(y,D.pipe((0,ce.B)()))}bootstrap(r,o){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let u;u=r instanceof Pf?r:this._componentFactoryResolver.resolveComponentFactory(r),this.componentTypes.push(u.componentType);const c=JS(u)?void 0:this._injector.get(id),y=u.create(Yr.NULL,[],o||u.selector,c),D=y.location.nativeElement,x=y.injector.get(DC,null),B=x&&y.injector.get(TE);return x&&B&&B.registerApplication(D,x),y.onDestroy(()=>{this.detachView(y.hostView),NE(this.components,y),B&&B.unregisterApplication(D)}),this._loadComponent(y),y}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(r))}finally{this._runningTick=!1}}attachView(r){const o=r;this._views.push(o),o.attachToAppRef(this)}detachView(r){const o=r;NE(this._views,o),o.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r),this._injector.get(pC,[]).concat(this._bootstrapListeners).forEach(u=>u(r))}ngOnDestroy(){this._views.slice().forEach(r=>r.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(r){return new(r||t)(Xi(eu),Xi(Yr),Xi(fu),Xi(oh),Xi(jf))},t.\u0275prov=bn({token:t,factory:t.\u0275fac}),t})();function NE(t,n){const r=t.indexOf(n);r>-1&&t.splice(r,1)}class iA{}function sA(t){const n=cw(t);if(!n)throw LC(t);return n}function FC(t){const n=cw(t);if(!n)throw LC(t);return new Gy(n)}const oA=FC;function LC(t){return new Error(`No module with ID ${t} loaded`)}class UC{}const uA={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let lA=(()=>{class t{constructor(r,o){this._compiler=r,this._config=o||uA}load(r){return!Hg&&this._compiler instanceof Wg?this.loadFactory(r):this.loadAndCompile(r)}loadAndCompile(r){let[o,u]=r.split("#");return void 0===u&&(u="default"),F(3160)(o).then(c=>c[u]).then(c=>jC(c,o,u)).then(c=>this._compiler.compileModuleAsync(c))}loadFactory(r){let[o,u]=r.split("#"),c="NgFactory";return void 0===u&&(u="default",c=""),F(3160)(this._config.factoryPathPrefix+o+this._config.factoryPathSuffix).then(f=>f[u+c]).then(f=>jC(f,o,u))}}return t.\u0275fac=function(r){return new(r||t)(Xi(Wg),Xi(UC,8))},t.\u0275prov=bn({token:t,factory:t.\u0275fac}),t})();function jC(t,n,r){if(!t)throw new Error(`Cannot find '${r}' in '${n}'`);return t}class BC extends jv{}class cA extends BC{}class $C{constructor(n,r){this.name=n,this.callback=r}}class Gg{constructor(n,r,o){this.listeners=[],this.parent=null,this._debugContext=o,this.nativeNode=n,r&&r instanceof No&&r.addChild(this)}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class No extends Gg{constructor(n,r,o){super(n,r,o),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=n}addChild(n){n&&(this.childNodes.push(n),n.parent=this)}removeChild(n){const r=this.childNodes.indexOf(n);-1!==r&&(n.parent=null,this.childNodes.splice(r,1))}insertChildrenAfter(n,r){const o=this.childNodes.indexOf(n);-1!==o&&(this.childNodes.splice(o+1,0,...r),r.forEach(u=>{u.parent&&u.parent.removeChild(u),n.parent=this}))}insertBefore(n,r){const o=this.childNodes.indexOf(n);-1===o?this.addChild(r):(r.parent&&r.parent.removeChild(r),r.parent=this,this.childNodes.splice(o,0,r))}query(n){return this.queryAll(n)[0]||null}queryAll(n){const r=[];return HC(this,n,r),r}queryAllNodes(n){const r=[];return WC(this,n,r),r}get children(){return this.childNodes.filter(n=>n instanceof No)}triggerEventHandler(n,r){this.listeners.forEach(o=>{o.name==n&&o.callback(r)})}}function dA(t){return t.map(n=>n.nativeElement)}function HC(t,n,r){t.childNodes.forEach(o=>{o instanceof No&&(n(o)&&r.push(o),HC(o,n,r))})}function WC(t,n,r){t instanceof No&&t.childNodes.forEach(o=>{n(o)&&r.push(o),o instanceof No&&WC(o,n,r)})}class xE{constructor(n){this.nativeNode=n}get parent(){const n=this.nativeNode.parentNode;return n?new zg(n):null}get injector(){return Wm(this.nativeNode)}get componentInstance(){const n=this.nativeNode;return n&&(ff(n)||$m(n))}get context(){return ff(this.nativeNode)||zd(this.nativeNode)}get listeners(){return pf(this.nativeNode).filter(n=>"dom"===n.type)}get references(){return function(t){const n=Kr(t);return null===n?{}:(void 0===n.localRefs&&(n.localRefs=function(t,n){const r=t[1].data[n];if(r&&r.localNames){const o={};let u=r.index+1;for(let c=0;c<r.localNames.length;c+=2)o[r.localNames[c]]=t[u],u++;return o}return null}(n.lView,n.nodeIndex)),n.localRefs||{})}(this.nativeNode)}get providerTokens(){return function(t){const n=Kr(t);if(null===n)return[];const o=n.lView[1],u=o.data[n.nodeIndex],c=[],y=u.directiveEnd;for(let D=1048575&u.providerIndexes;D<y;D++){let x=o.data[D];Wp(x)&&(x=x.type),c.push(x)}return c}(this.nativeNode)}}class zg extends xE{constructor(n){super(n)}get nativeElement(){return this.nativeNode.nodeType==Node.ELEMENT_NODE?this.nativeNode:null}get name(){const n=Kr(this.nativeNode);return null!==n?n.lView[1].data[n.nodeIndex].value:this.nativeNode.nodeName}get properties(){const n=Kr(this.nativeNode);if(null===n)return{};const r=n.lView,o=r[1].data,u=o[n.nodeIndex],c={};return function(t,n){if(t){let r=Object.getPrototypeOf(t);const o=Node.prototype;for(;null!==r&&r!==o;){const u=Object.getOwnPropertyDescriptors(r);for(let c in u)if(!c.startsWith("__")&&!c.startsWith("on")){const f=t[c];fA(f)&&(n[c]=f)}r=Object.getPrototypeOf(r)}}}(this.nativeElement,c),function(t,n,r,o){let u=n.propertyBindings;if(null!==u)for(let c=0;c<u.length;c++){const f=u[c],D=o[f].split("\ufffd"),x=D[0];if(D.length>1){let B=D[1];for(let ne=1;ne<D.length-1;ne++)B+=Te(r[f+ne-1])+D[ne+1];t[x]=B}else t[x]=r[f]}}(c,u,r,o),c}get attributes(){const n={},r=this.nativeElement;if(!r)return n;const o=Kr(r);if(null===o)return{};const c=o.lView[1].data[o.nodeIndex].attrs,f=[];if(c){let D=0;for(;D<c.length;){const x=c[D];if("string"!=typeof x)break;n[x]=c[D+1],f.push(x.toLowerCase()),D+=2}}const y=r.attributes;for(let D=0;D<y.length;D++){const x=y[D],B=x.name.toLowerCase();-1===f.indexOf(B)&&(n[B]=x.value)}return n}get styles(){return this.nativeElement&&this.nativeElement.style?this.nativeElement.style:{}}get classes(){const n={},o=this.nativeElement.className;return(o&&"string"!=typeof o?o.baseVal.split(" "):o.split(" ")).forEach(c=>n[c]=!0),n}get childNodes(){const n=this.nativeNode.childNodes,r=[];for(let o=0;o<n.length;o++)r.push(Yy(n[o]));return r}get children(){const n=this.nativeElement;if(!n)return[];const r=n.children,o=[];for(let u=0;u<r.length;u++)o.push(Yy(r[u]));return o}query(n){return this.queryAll(n)[0]||null}queryAll(n){const r=[];return KC(this,n,r,!0),r}queryAllNodes(n){const r=[];return KC(this,n,r,!1),r}triggerEventHandler(n,r){const o=this.nativeNode,u=[];this.listeners.forEach(c=>{if(c.name===n){const f=c.callback;f.call(o,r),u.push(f)}}),"function"==typeof o.eventListeners&&o.eventListeners(n).forEach(c=>{if(-1!==c.toString().indexOf("__ngUnwrap__")){const f=c("__ngUnwrap__");return-1===u.indexOf(f)&&f.call(o,r)}})}}function fA(t){return"string"==typeof t||"boolean"==typeof t||"number"==typeof t||null===t}function KC(t,n,r,o){const u=Kr(t.nativeNode);null!==u?dh(u.lView[1].data[u.nodeIndex],u.lView,n,r,o,t.nativeNode):PE(t.nativeNode,n,r,o)}function dh(t,n,r,o,u,c){const f=function(t,n){const r=null===t?-1:t.index;return-1!==r?b(n[r]):null}(t,n);if(11&t.type){if(OE(f,r,o,u,c),Ri(t)){const D=hr(t.index,n);D&&D[1].firstChild&&dh(D[1].firstChild,D,r,o,u,c)}else t.child&&dh(t.child,n,r,o,u,c),f&&PE(f,r,o,u);const y=n[t.index];gr(y)&&GC(y,r,o,u,c)}else if(4&t.type){const y=n[t.index];OE(y[7],r,o,u,c),GC(y,r,o,u,c)}else if(16&t.type){const y=n[16],x=y[6].projection[t.projection];if(Array.isArray(x))for(let B of x)OE(B,r,o,u,c);else if(x){const B=y[3];dh(B[1].data[x.index],B,r,o,u,c)}}else t.child&&dh(t.child,n,r,o,u,c);if(c!==f){const y=4&t.flags?t.projectionNext:t.next;y&&dh(y,n,r,o,u,c)}}function GC(t,n,r,o,u){for(let c=10;c<t.length;c++){const f=t[c],y=f[1].firstChild;y&&dh(y,f,n,r,o,u)}}function OE(t,n,r,o,u){if(u!==t){const c=xo(t);if(!c)return;(o&&c instanceof zg&&n(c)&&-1===r.indexOf(c)||!o&&n(c)&&-1===r.indexOf(c))&&r.push(c)}}function PE(t,n,r,o){const u=t.childNodes,c=u.length;for(let f=0;f<c;f++){const y=u[f],D=xo(y);D&&((o&&D instanceof zg&&n(D)&&-1===r.indexOf(D)||!o&&n(D)&&-1===r.indexOf(D))&&r.push(D),PE(y,n,r,o))}}const Qy=new Map,kE="__ng_debug__";function Yy(t){return t instanceof Node?(t.hasOwnProperty(kE)||(t[kE]=t.nodeType==Node.ELEMENT_NODE?new zg(t):new xE(t)),t[kE]):null}const xo=Yy;function mA(t){return function(t){return Qy.get(t)||null}(t)}const _A=function(t){return null};function Jy(t){Qy.set(t.nativeNode,t)}const EA=xE,IA=zg,wA=xC(null,"core",[{provide:fC,useValue:"unknown"},{provide:ME,deps:[Yr]},{provide:TE,deps:[]},{provide:gC,deps:[]}]);function zC(){return A0}function qC(){return R0}function ZC(t){return t=t||Hg&&"undefined"!=typeof $localize&&$localize.locale||wg,Hg&&Oy(t),t}const QC=[{provide:Kg,useClass:Kg,deps:[eu,Yr,fu,oh,jf]},{provide:sw,deps:[eu],useFactory:YC},{provide:jf,useClass:jf,deps:[[new Ho,vE]]},{provide:Wg,useClass:Wg,deps:[]},dC,{provide:Vy,useFactory:zC,deps:[]},{provide:Uy,useFactory:qC,deps:[]},{provide:qy,useFactory:ZC,deps:[[new cu(qy),new Ho,new aa]]},{provide:mC,useValue:VI}];function YC(t){let n=[];return t.onStable.subscribe(()=>{for(;n.length;)n.pop()()}),function(r){n.push(r)}}let bA=(()=>{class t{constructor(r){}}return t.\u0275fac=function(r){return new(r||t)(Xi(Kg))},t.\u0275mod=Fr({type:t}),t.\u0275inj=Xt({providers:QC}),t})();function TA(t,n,r,o,u,c){t|=1;const{matchedQueries:f,references:y,matchedQueryIds:D}=Kv(n);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:f,matchedQueryIds:D,references:y,ngContentIndex:r,childCount:o,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:c?Lf(c):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:u||Tu},provider:null,text:null,query:null,ngContent:null}}function DA(t,n,r,o,u,c,f=[],y,D,x,B,ne){x||(x=Tu);const{matchedQueries:oe,references:be,matchedQueryIds:ke}=Kv(r);let ut=null,Qe=null;c&&([ut,Qe]=zv(c)),y=y||[];const Ot=[];for(let ur=0;ur<y.length;ur++){const[qr,Oo,Su]=y[ur],[Xg,Hf]=zv(Oo);let Wf,Kf;switch(15&qr){case 4:Kf=Su;break;case 1:case 8:Wf=Su}Ot[ur]={flags:qr,ns:Xg,name:Hf,nonMinifiedName:Hf,securityContext:Wf,suffix:Kf}}D=D||[];const mt=[];for(let ur=0;ur<D.length;ur++){const[qr,Oo]=D[ur];mt[ur]={type:0,target:qr,eventName:Oo,propName:null}}const Ln=(f=f||[]).map(([ur,qr])=>{const[Oo,Su]=zv(ur);return[Oo,Su,qr]});return ne=function(t){return t&&t.id===j0&&(t.id=null!=t.encapsulation&&t.encapsulation!==lt.None||t.styles.length||Object.keys(t.data).length?"c"+qT++:B0),t&&t.id===B0&&(t=null),t||null}(ne),B&&(n|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:n|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:oe,matchedQueryIds:ke,references:be,ngContentIndex:o,childCount:u,bindings:Ot,bindingFlags:qv(Ot),outputs:mt,element:{ns:ut,name:Qe,attrs:Ln,template:null,componentProvider:null,componentView:B||null,componentRendererType:ne,publicProviders:null,allProviders:null,handleEvent:x||Tu},provider:null,text:null,query:null,ngContent:null}}function SA(t,n,r){const o=r.element,u=t.root.selectorOrNode,c=t.renderer;let f;if(t.parent||!u){f=o.name?c.createElement(o.name,o.ns):c.createComment("");const y=Gv(t,n,r);y&&c.appendChild(y,f)}else f=c.selectRootElement(u,!!o.componentRendererType&&o.componentRendererType.encapsulation===lt.ShadowDom);if(o.attrs)for(let y=0;y<o.attrs.length;y++){const[D,x,B]=o.attrs[y];c.setAttribute(f,x,B,D)}return f}function AA(t,n,r,o){for(let u=0;u<r.outputs.length;u++){const c=r.outputs[u],f=RA(t,r.nodeIndex,YT(c.target,c.eventName));let y=c.target,D=t;"component"===c.target&&(y=null,D=n);const x=D.renderer.listen(y||o,c.eventName,f);t.disposables[r.outputIndex+u]=x}}function RA(t,n,r){return o=>H0(t,n,r,o)}function il(t,n,r,o){if(!ks(t,n,r,o))return!1;const u=n.bindings[r],c=Di(t,n.nodeIndex),f=c.renderElement,y=u.name;switch(15&u.flags){case 1:!function(t,n,r,o,u,c){const f=n.securityContext;let y=f?t.root.sanitizer.sanitize(f,c):c;y=null!=y?y.toString():null;const D=t.renderer;null!=c?D.setAttribute(r,u,y,o):D.removeAttribute(r,u,o)}(t,u,f,u.ns,y,o);break;case 2:!function(t,n,r,o){const u=t.renderer;o?u.addClass(n,r):u.removeClass(n,r)}(t,f,y,o);break;case 4:!function(t,n,r,o,u){let c=t.root.sanitizer.sanitize(es.STYLE,u);if(null!=c){c=c.toString();const y=n.suffix;null!=y&&(c+=y)}else c=null;const f=t.renderer;null!=c?f.setStyle(r,o,c):f.removeStyle(r,o)}(t,u,f,y,o);break;case 8:!function(t,n,r,o,u){const c=n.securityContext;let f=c?t.root.sanitizer.sanitize(c,u):u;t.renderer.setProperty(r,o,f)}(33554432&n.flags&&32&u.flags?c.componentView:t,u,f,y,o)}return!0}function FA(t,n,r){let o=[];for(let u in r)o.push({propName:u,bindingType:r[u]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:n,filterId:W0(n),bindings:o},ngContent:null}}function LA(t){return new jg(t)}function VA(t){const n=t.def.nodeMatchedQueries;for(;t.parent&&JT(t);){let r=t.parentNodeDef;t=t.parent;const o=r.nodeIndex+r.childCount;for(let u=0;u<=o;u++){const c=t.def.nodes[u];67108864&c.flags&&536870912&c.flags&&(c.query.filterId&n)===c.query.filterId&&Ng(t,u).setDirty(),(1&c.flags&&u+c.childCount<r.nodeIndex||!(67108864&c.childFlags)||!(536870912&c.childFlags))&&(u+=c.childCount)}}if(134217728&t.def.nodeFlags)for(let r=0;r<t.def.nodes.length;r++){const o=t.def.nodes[r];134217728&o.flags&&536870912&o.flags&&Ng(t,r).setDirty(),r+=o.childCount}}function UA(t,n){const r=Ng(t,n.nodeIndex);if(!r.dirty)return;let o,u;if(67108864&n.flags){const y=n.parent.parent;u=qg(t,y.nodeIndex,y.nodeIndex+y.childCount,n.query,[]),o=sd(t,n.parent.nodeIndex).instance}else 134217728&n.flags&&(u=qg(t,0,t.def.nodes.length-1,n.query,[]),o=t.component);r.reset(u,_0);const c=n.query.bindings;let f=!1;for(let y=0;y<c.length;y++){const D=c[y];let x;switch(D.bindingType){case 0:x=r.first;break;case 1:x=r,f=!0}o[D.propName]=x}f&&r.notifyOnChanges()}function qg(t,n,r,o,u){for(let c=n;c<=r;c++){const f=t.def.nodes[c],y=f.matchedQueries[o.id];if(null!=y&&u.push(JC(t,f,y)),1&f.flags&&f.element.template&&(f.element.template.nodeMatchedQueries&o.filterId)===o.filterId){const D=Di(t,c);if((f.childMatchedQueries&o.filterId)===o.filterId&&(qg(t,c+1,c+f.childCount,o,u),c+=f.childCount),16777216&f.flags){const B=D.viewContainer._embeddedViews;for(let ne=0;ne<B.length;ne++){const oe=B[ne],be=Wv(oe);be&&be===D&&qg(oe,0,oe.def.nodes.length-1,o,u)}}const x=D.template._projectedViews;if(x)for(let B=0;B<x.length;B++){const ne=x[B];qg(ne,0,ne.def.nodes.length-1,o,u)}}(f.childMatchedQueries&o.filterId)!==o.filterId&&(c+=f.childCount)}return u}function JC(t,n,r){if(null!=r)switch(r){case 1:return Di(t,n.nodeIndex).renderElement;case 0:return new el(Di(t,n.nodeIndex).renderElement);case 2:return Di(t,n.nodeIndex).template;case 3:return Di(t,n.nodeIndex).viewContainer;case 4:return sd(t,n.nodeIndex).instance}}function jA(t,n){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:n}}}function BA(t,n,r){const o=Gv(t,n,r);o&&z0(t,r.ngContent.index,1,o,null,void 0)}function $A(t,n){return FE(128,t,ia(n+1))}function HA(t,n){return FE(32,t,ia(n))}function WA(t,n){const r=Object.keys(n),o=r.length,u=[];for(let c=0;c<o;c++){u.push(r[c])}return FE(64,t,u)}function FE(t,n,r){const o=[];for(let u=0;u<r.length;u++){const c=r[u];o.push({flags:8,name:c,ns:null,nonMinifiedName:c,securityContext:null,suffix:null})}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:n,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:o,bindingFlags:qv(o),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function qA(t,n,r){const o=[];for(let u=1;u<r.length;u++)o[u-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:r[u]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:n,childCount:0,bindings:o,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:r[0]},query:null,ngContent:null}}function ZA(t,n,r){let o;const u=t.renderer;o=u.createText(r.text.prefix);const c=Gv(t,n,r);return c&&u.appendChild(c,o),{renderText:o}}function sl(t,n){return(null!=t?t.toString():"")+n.suffix}function JA(t,n,r,o){let u=0,c=0,f=0,y=0,D=0,x=null,B=null,ne=!1,oe=!1,be=null;for(let ut=0;ut<n.length;ut++){const Qe=n[ut];if(Qe.nodeIndex=ut,Qe.parent=x,Qe.bindingIndex=u,Qe.outputIndex=c,Qe.renderParent=B,f|=Qe.flags,D|=Qe.matchedQueryIds,Qe.element){const Ot=Qe.element;Ot.publicProviders=x?x.element.publicProviders:Object.create(null),Ot.allProviders=Ot.publicProviders,ne=!1,oe=!1,Qe.element.template&&(D|=Qe.element.template.nodeMatchedQueries)}if(XA(x,Qe,n.length),u+=Qe.bindings.length,c+=Qe.outputs.length,!B&&3&Qe.flags&&(be=Qe),20224&Qe.flags){ne||(ne=!0,x.element.publicProviders=Object.create(x.element.publicProviders),x.element.allProviders=x.element.publicProviders);const mt=0!=(32768&Qe.flags);0==(8192&Qe.flags)||mt?x.element.publicProviders[ta(Qe.provider.token)]=Qe:(oe||(oe=!0,x.element.allProviders=Object.create(x.element.publicProviders)),x.element.allProviders[ta(Qe.provider.token)]=Qe),mt&&(x.element.componentProvider=Qe)}if(x?(x.childFlags|=Qe.flags,x.directChildFlags|=Qe.flags,x.childMatchedQueries|=Qe.matchedQueryIds,Qe.element&&Qe.element.template&&(x.childMatchedQueries|=Qe.element.template.nodeMatchedQueries)):y|=Qe.flags,Qe.childCount>0)x=Qe,XC(Qe)||(B=Qe);else for(;x&&ut===x.nodeIndex+x.childCount;){const Ot=x.parent;Ot&&(Ot.childFlags|=x.childFlags,Ot.childMatchedQueries|=x.childMatchedQueries),x=Ot,B=x&&XC(x)?x.renderParent:x}}return{factory:null,nodeFlags:f,rootNodeFlags:y,nodeMatchedQueries:D,flags:t,nodes:n,updateDirectives:r||Tu,updateRenderer:o||Tu,handleEvent:(ut,Qe,Ot,mt)=>n[Qe].element.handleEvent(ut,Ot,mt),bindingCount:u,outputCount:c,lastRenderRootNode:be}}function XC(t){return 0!=(1&t.flags)&&null===t.element.name}function XA(t,n,r){const o=n.element&&n.element.template;if(o){if(!o.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(o.lastRenderRootNode&&16777216&o.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${n.nodeIndex}!`)}if(20224&n.flags&&0==(1&(t?t.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${n.nodeIndex}!`);if(n.query){if(67108864&n.flags&&(!t||0==(16384&t.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${n.nodeIndex}!`);if(134217728&n.flags&&t)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${n.nodeIndex}!`)}if(n.childCount){const u=t?t.nodeIndex+t.childCount:r-1;if(n.nodeIndex<=u&&n.nodeIndex+n.childCount>u)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${n.nodeIndex}!`)}}function eb(t,n,r,o){const u=LE(t.root,t.renderer,t,n,r);return VE(u,t.component,o),UE(u),u}function tb(t,n,r){const o=LE(t,t.renderer,null,null,n);return VE(o,r,r),UE(o),o}function nb(t,n,r,o){const u=n.element.componentRendererType;let c;return c=u?t.root.rendererFactory.createRenderer(o,u):t.root.renderer,LE(t.root,c,t,n.element.componentProvider,r)}function LE(t,n,r,o,u){const c=new Array(u.nodes.length),f=u.outputCount?new Array(u.outputCount):null;return{def:u,parent:r,viewContainerParent:null,parentNodeDef:o,context:null,component:null,nodes:c,state:13,root:t,renderer:n,oldValues:new Array(u.bindingCount),disposables:f,initIndex:-1}}function VE(t,n,r){t.component=n,t.context=r}function UE(t){let n;lh(t)&&(n=Di(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);const r=t.def,o=t.nodes;for(let u=0;u<r.nodes.length;u++){const c=r.nodes[u];let f;switch(mr.setCurrentNode(t,u),201347067&c.flags){case 1:const y=SA(t,n,c);let D;if(33554432&c.flags){const x=Lf(c.element.componentView);D=mr.createComponentView(t,c,x,y)}AA(t,D,c,y),f={renderElement:y,componentView:D,viewContainer:null,template:c.element.template?SD(t,c):void 0},16777216&c.flags&&(f.viewContainer=bD(t,c,f));break;case 2:f=ZA(t,n,c);break;case 512:case 1024:case 2048:case 256:f=o[u],!f&&!(4096&c.flags)&&(f={instance:jD(t,c)});break;case 16:f={instance:BD(t,c)};break;case 16384:f=o[u],f||(f={instance:$D(t,c)}),32768&c.flags&&VE(Di(t,c.parent.nodeIndex).componentView,f.instance,f.instance);break;case 32:case 64:case 128:f={value:void 0};break;case 67108864:case 134217728:f=LA(-2147483648==(-2147483648&c.flags));break;case 8:BA(t,n,c),f=void 0}o[u]=f}Zg(t,Si.CreateViewNodes),BE(t,201326592,268435456,0)}function Xy(t){ib(t),mr.updateDirectives(t,1),t_(t,Si.CheckNoChanges),mr.updateRenderer(t,1),Zg(t,Si.CheckNoChanges),t.state&=-97}function e_(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,By(t,0,256),ib(t),mr.updateDirectives(t,0),t_(t,Si.CheckAndUpdate),BE(t,67108864,536870912,0);let n=By(t,256,512);Xv(t,2097152|(n?1048576:0)),mr.updateRenderer(t,0),Zg(t,Si.CheckAndUpdate),BE(t,134217728,536870912,0),n=By(t,512,768),Xv(t,8388608|(n?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,By(t,768,1024)}function rb(t,n,r,o,u,c,f,y,D,x,B,ne,oe){return 0===r?function(t,n,r,o,u,c,f,y,D,x,B,ne){switch(201347067&n.flags){case 1:return function(t,n,r,o,u,c,f,y,D,x,B,ne){const oe=n.bindings.length;let be=!1;return oe>0&&il(t,n,0,r)&&(be=!0),oe>1&&il(t,n,1,o)&&(be=!0),oe>2&&il(t,n,2,u)&&(be=!0),oe>3&&il(t,n,3,c)&&(be=!0),oe>4&&il(t,n,4,f)&&(be=!0),oe>5&&il(t,n,5,y)&&(be=!0),oe>6&&il(t,n,6,D)&&(be=!0),oe>7&&il(t,n,7,x)&&(be=!0),oe>8&&il(t,n,8,B)&&(be=!0),oe>9&&il(t,n,9,ne)&&(be=!0),be}(t,n,r,o,u,c,f,y,D,x,B,ne);case 2:return function(t,n,r,o,u,c,f,y,D,x,B,ne){let oe=!1;const be=n.bindings,ke=be.length;if(ke>0&&ks(t,n,0,r)&&(oe=!0),ke>1&&ks(t,n,1,o)&&(oe=!0),ke>2&&ks(t,n,2,u)&&(oe=!0),ke>3&&ks(t,n,3,c)&&(oe=!0),ke>4&&ks(t,n,4,f)&&(oe=!0),ke>5&&ks(t,n,5,y)&&(oe=!0),ke>6&&ks(t,n,6,D)&&(oe=!0),ke>7&&ks(t,n,7,x)&&(oe=!0),ke>8&&ks(t,n,8,B)&&(oe=!0),ke>9&&ks(t,n,9,ne)&&(oe=!0),oe){let ut=n.text.prefix;ke>0&&(ut+=sl(r,be[0])),ke>1&&(ut+=sl(o,be[1])),ke>2&&(ut+=sl(u,be[2])),ke>3&&(ut+=sl(c,be[3])),ke>4&&(ut+=sl(f,be[4])),ke>5&&(ut+=sl(y,be[5])),ke>6&&(ut+=sl(D,be[6])),ke>7&&(ut+=sl(x,be[7])),ke>8&&(ut+=sl(B,be[8])),ke>9&&(ut+=sl(ne,be[9]));const Qe=Mg(t,n.nodeIndex).renderText;t.renderer.setValue(Qe,ut)}return oe}(t,n,r,o,u,c,f,y,D,x,B,ne);case 16384:return function(t,n,r,o,u,c,f,y,D,x,B,ne){const oe=sd(t,n.nodeIndex),be=oe.instance;let ut,ke=!1;const Qe=n.bindings.length;return Qe>0&&Du(t,n,0,r)&&(ke=!0,ut=nl(t,oe,n,0,r,ut)),Qe>1&&Du(t,n,1,o)&&(ke=!0,ut=nl(t,oe,n,1,o,ut)),Qe>2&&Du(t,n,2,u)&&(ke=!0,ut=nl(t,oe,n,2,u,ut)),Qe>3&&Du(t,n,3,c)&&(ke=!0,ut=nl(t,oe,n,3,c,ut)),Qe>4&&Du(t,n,4,f)&&(ke=!0,ut=nl(t,oe,n,4,f,ut)),Qe>5&&Du(t,n,5,y)&&(ke=!0,ut=nl(t,oe,n,5,y,ut)),Qe>6&&Du(t,n,6,D)&&(ke=!0,ut=nl(t,oe,n,6,D,ut)),Qe>7&&Du(t,n,7,x)&&(ke=!0,ut=nl(t,oe,n,7,x,ut)),Qe>8&&Du(t,n,8,B)&&(ke=!0,ut=nl(t,oe,n,8,B,ut)),Qe>9&&Du(t,n,9,ne)&&(ke=!0,ut=nl(t,oe,n,9,ne,ut)),ut&&be.ngOnChanges(ut),65536&n.flags&&$y(t,256,n.nodeIndex)&&be.ngOnInit(),262144&n.flags&&be.ngDoCheck(),ke}(t,n,r,o,u,c,f,y,D,x,B,ne);case 32:case 64:case 128:return function(t,n,r,o,u,c,f,y,D,x,B,ne){const oe=n.bindings;let be=!1;const ke=oe.length;if(ke>0&&ks(t,n,0,r)&&(be=!0),ke>1&&ks(t,n,1,o)&&(be=!0),ke>2&&ks(t,n,2,u)&&(be=!0),ke>3&&ks(t,n,3,c)&&(be=!0),ke>4&&ks(t,n,4,f)&&(be=!0),ke>5&&ks(t,n,5,y)&&(be=!0),ke>6&&ks(t,n,6,D)&&(be=!0),ke>7&&ks(t,n,7,x)&&(be=!0),ke>8&&ks(t,n,8,B)&&(be=!0),ke>9&&ks(t,n,9,ne)&&(be=!0),be){const ut=kf(t,n.nodeIndex);let Qe;switch(201347067&n.flags){case 32:Qe=[],ke>0&&Qe.push(r),ke>1&&Qe.push(o),ke>2&&Qe.push(u),ke>3&&Qe.push(c),ke>4&&Qe.push(f),ke>5&&Qe.push(y),ke>6&&Qe.push(D),ke>7&&Qe.push(x),ke>8&&Qe.push(B),ke>9&&Qe.push(ne);break;case 64:Qe={},ke>0&&(Qe[oe[0].name]=r),ke>1&&(Qe[oe[1].name]=o),ke>2&&(Qe[oe[2].name]=u),ke>3&&(Qe[oe[3].name]=c),ke>4&&(Qe[oe[4].name]=f),ke>5&&(Qe[oe[5].name]=y),ke>6&&(Qe[oe[6].name]=D),ke>7&&(Qe[oe[7].name]=x),ke>8&&(Qe[oe[8].name]=B),ke>9&&(Qe[oe[9].name]=ne);break;case 128:const Ot=r;switch(ke){case 1:Qe=Ot.transform(r);break;case 2:Qe=Ot.transform(o);break;case 3:Qe=Ot.transform(o,u);break;case 4:Qe=Ot.transform(o,u,c);break;case 5:Qe=Ot.transform(o,u,c,f);break;case 6:Qe=Ot.transform(o,u,c,f,y);break;case 7:Qe=Ot.transform(o,u,c,f,y,D);break;case 8:Qe=Ot.transform(o,u,c,f,y,D,x);break;case 9:Qe=Ot.transform(o,u,c,f,y,D,x,B);break;case 10:Qe=Ot.transform(o,u,c,f,y,D,x,B,ne)}}ut.value=Qe}return be}(t,n,r,o,u,c,f,y,D,x,B,ne);default:throw"unreachable"}}(t,n,o,u,c,f,y,D,x,B,ne,oe):function(t,n,r){switch(201347067&n.flags){case 1:return function(t,n,r){let o=!1;for(let u=0;u<r.length;u++)il(t,n,u,r[u])&&(o=!0);return o}(t,n,r);case 2:return function(t,n,r){const o=n.bindings;let u=!1;for(let c=0;c<r.length;c++)ks(t,n,c,r[c])&&(u=!0);if(u){let c="";for(let y=0;y<r.length;y++)c+=sl(r[y],o[y]);c=n.text.prefix+c;const f=Mg(t,n.nodeIndex).renderText;t.renderer.setValue(f,c)}return u}(t,n,r);case 16384:return function(t,n,r){const o=sd(t,n.nodeIndex),u=o.instance;let f,c=!1;for(let y=0;y<r.length;y++)Du(t,n,y,r[y])&&(c=!0,f=nl(t,o,n,y,r[y],f));return f&&u.ngOnChanges(f),65536&n.flags&&$y(t,256,n.nodeIndex)&&u.ngOnInit(),262144&n.flags&&u.ngDoCheck(),c}(t,n,r);case 32:case 64:case 128:return function(t,n,r){const o=n.bindings;let u=!1;for(let c=0;c<r.length;c++)ks(t,n,c,r[c])&&(u=!0);if(u){const c=kf(t,n.nodeIndex);let f;switch(201347067&n.flags){case 32:f=r;break;case 64:f={};for(let x=0;x<r.length;x++)f[o[x].name]=r[x];break;case 128:const y=r[0],D=r.slice(1);f=y.transform(...D)}c.value=f}return u}(t,n,r);default:throw"unreachable"}}(t,n,o)}function ib(t){const n=t.def;if(4&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const o=n.nodes[r];if(4&o.flags){const u=Di(t,r).template._projectedViews;if(u)for(let c=0;c<u.length;c++){const f=u[c];f.state|=32,QT(f,t)}}else 0==(4&o.childFlags)&&(r+=o.childCount)}}function sb(t,n,r,o,u,c,f,y,D,x,B,ne,oe){return 0===r?function(t,n,r,o,u,c,f,y,D,x,B,ne){const oe=n.bindings.length;oe>0&&tl(t,n,0,r),oe>1&&tl(t,n,1,o),oe>2&&tl(t,n,2,u),oe>3&&tl(t,n,3,c),oe>4&&tl(t,n,4,f),oe>5&&tl(t,n,5,y),oe>6&&tl(t,n,6,D),oe>7&&tl(t,n,7,x),oe>8&&tl(t,n,8,B),oe>9&&tl(t,n,9,ne)}(t,n,o,u,c,f,y,D,x,B,ne,oe):function(t,n,r){for(let o=0;o<r.length;o++)tl(t,n,o,r[o])}(t,n,o),!1}function iR(t,n){if(Ng(t,n.nodeIndex).dirty)throw L0(mr.createDebugContext(t,n.nodeIndex),`Query ${n.query.id} not dirty`,`Query ${n.query.id} dirty`,0!=(1&t.state))}function jE(t){if(!(128&t.state)){if(t_(t,Si.Destroy),Zg(t,Si.Destroy),Xv(t,131072),t.disposables)for(let n=0;n<t.disposables.length;n++)t.disposables[n]();(function(t){if(!(16&t.state))return;const n=Wv(t);if(n){const r=n.template._projectedViews;r&&(Uo(r,r.indexOf(t)),mr.dirtyParentQueries(t))}})(t),t.renderer.destroyNode&&function(t){const n=t.def.nodes.length;for(let r=0;r<n;r++){const o=t.def.nodes[r];1&o.flags?t.renderer.destroyNode(Di(t,r).renderElement):2&o.flags?t.renderer.destroyNode(Mg(t,r).renderText):(67108864&o.flags||134217728&o.flags)&&Ng(t,r).destroy()}}(t),lh(t)&&t.renderer.destroy(),t.state|=128}}var Si=(()=>((Si=Si||{})[Si.CreateViewNodes=0]="CreateViewNodes",Si[Si.CheckNoChanges=1]="CheckNoChanges",Si[Si.CheckNoChangesProjectedViews=2]="CheckNoChangesProjectedViews",Si[Si.CheckAndUpdate=3]="CheckAndUpdate",Si[Si.CheckAndUpdateProjectedViews=4]="CheckAndUpdateProjectedViews",Si[Si.Destroy=5]="Destroy",Si))();function Zg(t,n){const r=t.def;if(33554432&r.nodeFlags)for(let o=0;o<r.nodes.length;o++){const u=r.nodes[o];33554432&u.flags?ob(Di(t,o).componentView,n):0==(33554432&u.childFlags)&&(o+=u.childCount)}}function t_(t,n){const r=t.def;if(16777216&r.nodeFlags)for(let o=0;o<r.nodes.length;o++){const u=r.nodes[o];if(16777216&u.flags){const c=Di(t,o).viewContainer._embeddedViews;for(let f=0;f<c.length;f++)ob(c[f],n)}else 0==(16777216&u.childFlags)&&(o+=u.childCount)}}function ob(t,n){const r=t.state;switch(n){case Si.CheckNoChanges:0==(128&r)&&(12==(12&r)?Xy(t):64&r&&n_(t,Si.CheckNoChangesProjectedViews));break;case Si.CheckNoChangesProjectedViews:0==(128&r)&&(32&r?Xy(t):64&r&&n_(t,n));break;case Si.CheckAndUpdate:0==(128&r)&&(12==(12&r)?e_(t):64&r&&n_(t,Si.CheckAndUpdateProjectedViews));break;case Si.CheckAndUpdateProjectedViews:0==(128&r)&&(32&r?e_(t):64&r&&n_(t,n));break;case Si.Destroy:jE(t);break;case Si.CreateViewNodes:UE(t)}}function n_(t,n){t_(t,n),Zg(t,n)}function BE(t,n,r,o){if(!(t.def.nodeFlags&n&&t.def.nodeFlags&r))return;const u=t.def.nodes.length;for(let c=0;c<u;c++){const f=t.def.nodes[c];if(f.flags&n&&f.flags&r)switch(mr.setCurrentNode(t,f.nodeIndex),o){case 0:UA(t,f);break;case 1:iR(t,f)}(!(f.childFlags&n)||!(f.childFlags&r))&&(c+=f.childCount)}}let ab=!1;function Qg(){if(ab)return;ab=!0;const t=SE()?{setCurrentNode:$f,createRootView:lR,createEmbeddedView:cR,createComponentView:dR,createNgModuleRef:hR,overrideProvider:fR,overrideComponentView:pR,clearOverrides:gR,checkAndUpdateView:yR,checkNoChangesView:_R,destroyView:vR,createDebugContext:(t,n)=>new WE(t,n),handleEvent:ER,updateDirectives:IR,updateRenderer:wR}:{setCurrentNode:()=>{},createRootView:uR,createEmbeddedView:eb,createComponentView:nb,createNgModuleRef:J0,overrideProvider:Tu,overrideComponentView:Tu,clearOverrides:Tu,checkAndUpdateView:e_,checkNoChangesView:Xy,destroyView:jE,createDebugContext:(t,n)=>new WE(t,n),handleEvent:(t,n,r,o)=>t.def.handleEvent(t,n,r,o),updateDirectives:(t,n)=>t.def.updateDirectives(0===n?lb:cb,t),updateRenderer:(t,n)=>t.def.updateRenderer(0===n?lb:cb,t)};mr.setCurrentNode=t.setCurrentNode,mr.createRootView=t.createRootView,mr.createEmbeddedView=t.createEmbeddedView,mr.createComponentView=t.createComponentView,mr.createNgModuleRef=t.createNgModuleRef,mr.overrideProvider=t.overrideProvider,mr.overrideComponentView=t.overrideComponentView,mr.clearOverrides=t.clearOverrides,mr.checkAndUpdateView=t.checkAndUpdateView,mr.checkNoChangesView=t.checkNoChangesView,mr.destroyView=t.destroyView,mr.resolveDep=ma,mr.createDebugContext=t.createDebugContext,mr.handleEvent=t.handleEvent,mr.updateDirectives=t.updateDirectives,mr.updateRenderer=t.updateRenderer,mr.dirtyParentQueries=VA}function uR(t,n,r,o,u,c){const f=u.injector.get(Ly);return tb(ub(t,u,f,n,r),o,c)}function lR(t,n,r,o,u,c){const f=u.injector.get(Ly),y=ub(t,u,new TR(f),n,r),D=HE(o);return hh(qs.create,tb,null,[y,D,c])}function ub(t,n,r,o,u){const c=n.injector.get(Pv),f=n.injector.get(fu),y=r.createRenderer(null,null);return{ngModule:n,injector:t,projectableNodes:o,selectorOrNode:u,sanitizer:c,rendererFactory:r,renderer:y,errorHandler:f}}function cR(t,n,r,o){const u=HE(r);return hh(qs.create,eb,null,[t,n,u,o])}function dR(t,n,r,o){return r=$E.get(n.element.componentProvider.provider.token)||HE(r),hh(qs.create,nb,null,[t,n,r,o])}function hR(t,n,r,o){const u=function(t){const{hasOverrides:n,hasDeprecatedOverrides:r}=function(c){let f=!1,y=!1;return 0===od.size||(c.providers.forEach(D=>{const x=od.get(D.token);3840&D.flags&&x&&(f=!0,y=y||x.deprecatedBehavior)}),c.modules.forEach(D=>{Yg.forEach((x,B)=>{Z(Vn(B).providedIn)===D&&(f=!0,y=y||x.deprecatedBehavior)})})),{hasOverrides:f,hasDeprecatedOverrides:y}}(t);return n?(function(c){for(let f=0;f<c.providers.length;f++){const y=c.providers[f];r&&(y.flags|=4096);const D=od.get(y.token);D&&(y.flags=-3841&y.flags|D.flags,y.deps=Og(D.deps),y.value=D.value)}if(Yg.size>0){let f=new Set(c.modules);Yg.forEach((y,D)=>{if(f.has(Z(Vn(D).providedIn))){let x={token:D,flags:y.flags|(r?4096:0),deps:Og(y.deps),value:y.value,index:c.providers.length};c.providers.push(x),c.providersByKey[ta(D)]=x}})}}(t=t.factory(()=>Tu)),t):t}(o);return J0(t,n,r,u)}const od=new Map,Yg=new Map,$E=new Map;function fR(t){let n;od.set(t.token,t),"function"==typeof t.token&&(n=Vn(t.token))&&"function"==typeof n.providedIn&&Yg.set(t.token,t)}function pR(t,n){const r=Lf(Q0(n)),o=Lf(r.nodes[0].element.componentView);$E.set(t,o)}function gR(){od.clear(),Yg.clear(),$E.clear()}function HE(t){if(0===od.size)return t;const n=function(u){const c=[];let f=null;for(let y=0;y<u.nodes.length;y++){const D=u.nodes[y];1&D.flags&&(f=D),f&&3840&D.flags&&od.has(D.provider.token)&&(c.push(f.nodeIndex),f=null)}return c}(t);if(0===n.length)return t;t=t.factory(()=>Tu);for(let u=0;u<n.length;u++)o(t,n[u]);return t;function o(u,c){for(let f=c+1;f<u.nodes.length;f++){const y=u.nodes[f];if(1&y.flags)return;if(3840&y.flags){const D=y.provider,x=od.get(D.token);x&&(y.flags=-3841&y.flags|x.flags,D.deps=Og(x.deps),D.value=x.value)}}}}function lb(t,n,r,o,u,c,f,y,D,x,B,ne,oe){const be=t.def.nodes[n];return rb(t,be,r,o,u,c,f,y,D,x,B,ne,oe),224&be.flags?kf(t,n).value:void 0}function cb(t,n,r,o,u,c,f,y,D,x,B,ne,oe){const be=t.def.nodes[n];return sb(t,be,r,o,u,c,f,y,D,x,B,ne,oe),224&be.flags?kf(t,n).value:void 0}function yR(t){return hh(qs.detectChanges,e_,null,[t])}function _R(t){return hh(qs.checkNoChanges,Xy,null,[t])}function vR(t){return hh(qs.destroy,jE,null,[t])}var qs=(()=>((qs=qs||{})[qs.create=0]="create",qs[qs.detectChanges=1]="detectChanges",qs[qs.checkNoChanges=2]="checkNoChanges",qs[qs.destroy=3]="destroy",qs[qs.handleEvent=4]="handleEvent",qs))();let Jg,Bf,r_;function $f(t,n){Bf=t,r_=n}function ER(t,n,r,o){return $f(t,n),hh(qs.handleEvent,t.def.handleEvent,null,[t,n,r,o])}function IR(t,n){if(128&t.state)throw U0(qs[Jg]);return $f(t,fb(t,0)),t.def.updateDirectives(function(o,u,c,...f){const y=o.def.nodes[u];return 0===n?db(o,y,c,f):hb(o,y,c,f),16384&y.flags&&$f(o,fb(o,u)),224&y.flags?kf(o,y.nodeIndex).value:void 0},t)}function wR(t,n){if(128&t.state)throw U0(qs[Jg]);return $f(t,pb(t,0)),t.def.updateRenderer(function(o,u,c,...f){const y=o.def.nodes[u];return 0===n?db(o,y,c,f):hb(o,y,c,f),3&y.flags&&$f(o,pb(o,u)),224&y.flags?kf(o,y.nodeIndex).value:void 0},t)}function db(t,n,r,o){if(rb(t,n,r,...o)){const c=1===r?o[0]:o;if(16384&n.flags){const f={};for(let x=0;x<n.bindings.length;x++){const B=n.bindings[x],ne=c[x];8&B.flags&&(f[pu(B.nonMinifiedName)]=vo(ne))}const y=n.parent,D=Di(t,y.nodeIndex).renderElement;if(y.element.name)for(let x in f){const B=f[x];null!=B?t.renderer.setAttribute(D,x,B):t.renderer.removeAttribute(D,x)}else t.renderer.setValue(D,Hl(`bindings=${JSON.stringify(f,null,2)}`))}}}function hb(t,n,r,o){sb(t,n,r,...o)}function fb(t,n){for(let r=n;r<t.def.nodes.length;r++){const o=t.def.nodes[r];if(16384&o.flags&&o.bindings&&o.bindings.length)return r}return null}function pb(t,n){for(let r=n;r<t.def.nodes.length;r++){const o=t.def.nodes[r];if(3&o.flags&&o.bindings&&o.bindings.length)return r}return null}class WE{constructor(n,r){this.view=n,this.nodeIndex=r,null==r&&(this.nodeIndex=r=0),this.nodeDef=n.def.nodes[r];let o=this.nodeDef,u=n;for(;o&&0==(1&o.flags);)o=o.parent;if(!o)for(;!o&&u;)o=Ff(u),u=u.parent;this.elDef=o,this.elView=u}get elOrCompView(){return Di(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return Y0(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const n=[];if(this.elDef)for(let r=this.elDef.nodeIndex+1;r<=this.elDef.nodeIndex+this.elDef.childCount;r++){const o=this.elView.def.nodes[r];20224&o.flags&&n.push(o.provider.token),r+=o.childCount}return n}get references(){const n={};if(this.elDef){gb(this.elView,this.elDef,n);for(let r=this.elDef.nodeIndex+1;r<=this.elDef.nodeIndex+this.elDef.childCount;r++){const o=this.elView.def.nodes[r];20224&o.flags&&gb(this.elView,o,n),r+=o.childCount}}return n}get componentRenderElement(){const n=function(t){for(;t&&!lh(t);)t=t.parent;return t.parent?Di(t.parent,Ff(t).nodeIndex):null}(this.elOrCompView);return n?n.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?xg(this.view,this.nodeDef):xg(this.elView,this.elDef)}logError(n,...r){let o,u;2&this.nodeDef.flags?(o=this.view.def,u=this.nodeDef.nodeIndex):(o=this.elView.def,u=this.elDef.nodeIndex);const c=function(t,n){let r=-1;for(let o=0;o<=n;o++)3&t.nodes[o].flags&&r++;return r}(o,u);let f=-1;o.factory(()=>(f++,f===c?n.error.bind(n,...r):Tu)),f<c&&(n.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),n.error(...r))}}function gb(t,n,r){for(let o in n.references)r[o]=JC(t,n,n.references[o])}function hh(t,n,r,o){const u=Jg,c=Bf,f=r_;try{Jg=t;const y=n.apply(r,o);return Bf=c,r_=f,Jg=u,y}catch(y){throw function(t){return!!ki(t)}(y)||!Bf?y:function(t,n){return t instanceof Error||(t=new Error(t.toString())),V0(t,n),t}(y,KE())}}function KE(){return Bf?new WE(Bf,r_):null}class TR{constructor(n){this.delegate=n}createRenderer(n,r){return new DR(this.delegate.createRenderer(n,r))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class DR{constructor(n){this.delegate=n,this.debugContextFactory=KE,this.data=this.delegate.data}createDebugContext(n){return this.debugContextFactory(n)}destroyNode(n){const r=xo(n);r&&(Qy.delete(r.nativeNode),r instanceof Gg&&(r.listeners.length=0)),this.delegate.destroyNode&&this.delegate.destroyNode(n)}destroy(){this.delegate.destroy()}createElement(n,r){const o=this.delegate.createElement(n,r),u=this.createDebugContext(o);if(u){const c=new No(o,null,u);c.name=n,Jy(c)}return o}createComment(n){const r=this.delegate.createComment(Hl(n)),o=this.createDebugContext(r);return o&&Jy(new Gg(r,null,o)),r}createText(n){const r=this.delegate.createText(n),o=this.createDebugContext(r);return o&&Jy(new Gg(r,null,o)),r}appendChild(n,r){const o=xo(n),u=xo(r);o&&u&&o instanceof No&&o.addChild(u),this.delegate.appendChild(n,r)}insertBefore(n,r,o,u){const c=xo(n),f=xo(r),y=xo(o);c&&f&&c instanceof No&&c.insertBefore(y,f),this.delegate.insertBefore(n,r,o,u)}removeChild(n,r){const o=xo(n),u=xo(r);o&&u&&o instanceof No&&o.removeChild(u),this.delegate.removeChild(n,r)}selectRootElement(n,r){const o=this.delegate.selectRootElement(n,r),u=KE();return u&&Jy(new No(o,null,u)),o}setAttribute(n,r,o,u){const c=xo(n);c&&c instanceof No&&(c.attributes[u?u+":"+r:r]=o),this.delegate.setAttribute(n,r,o,u)}removeAttribute(n,r,o){const u=xo(n);u&&u instanceof No&&(u.attributes[o?o+":"+r:r]=null),this.delegate.removeAttribute(n,r,o)}addClass(n,r){const o=xo(n);o&&o instanceof No&&(o.classes[r]=!0),this.delegate.addClass(n,r)}removeClass(n,r){const o=xo(n);o&&o instanceof No&&(o.classes[r]=!1),this.delegate.removeClass(n,r)}setStyle(n,r,o,u){const c=xo(n);c&&c instanceof No&&(c.styles[r]=o),this.delegate.setStyle(n,r,o,u)}removeStyle(n,r,o){const u=xo(n);u&&u instanceof No&&(u.styles[r]=null),this.delegate.removeStyle(n,r,o)}setProperty(n,r,o){const u=xo(n);u&&u instanceof No&&(u.properties[r]=o),this.delegate.setProperty(n,r,o)}listen(n,r,o){if("string"!=typeof n){const u=xo(n);u&&u.listeners.push(new $C(r,o))}return this.delegate.listen(n,r,o)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setValue(n,r){return this.delegate.setValue(n,r)}}function SR(t){return Qg(),mr.overrideProvider(t)}function AR(t,n){return Qg(),mr.overrideComponentView(t,n)}function RR(){return Qg(),mr.clearOverrides()}function MR(t,n,r){return new xR(t,n,r)}class xR extends Bv{constructor(n,r,o){super(),this.moduleType=n,this._bootstrapComponents=r,this._ngModuleDefFactory=o}create(n){Qg();const r=function(t){const n=Array.from(t.providers),r=Array.from(t.modules),o={};for(const u in t.providersByKey)o[u]=t.providersByKey[u];return{factory:t.factory,scope:t.scope,providers:n,modules:r,providersByKey:o}}(Lf(this._ngModuleDefFactory));return mr.createNgModuleRef(this.moduleType,n||Yr.NULL,this._bootstrapComponents,r)}}function OR(t){return vi().compileDirectiveDeclaration(Da,`ng:///${t.type.name}/\u0275fac.js`,t)}function PR(t){var n,r;aw(t.type,t.decorators,null!==(n=t.ctorParameters)&&void 0!==n?n:null,null!==(r=t.propDecorators)&&void 0!==r?r:null)}function kR(t){return vi().compileComponentDeclaration(Da,`ng:///${t.type.name}/\u0275cmp.js`,t)}function FR(t){return vi(function(t){switch(t){case xi.Directive:return"directive";case xi.Component:return"component";case xi.Injectable:return"injectable";case xi.Pipe:return"pipe";case xi.NgModule:;}}(t.target)).compileFactoryDeclaration(Da,`ng:///${t.type.name}/\u0275fac.js`,t)}function VR(t){return vi().compileInjectableDeclaration(Da,`ng:///${t.type.name}/\u0275prov.js`,t)}function UR(t){return vi().compileInjectorDeclaration(Da,`ng:///${t.type.name}/\u0275inj.js`,t)}function jR(t){return vi().compileNgModuleDeclaration(Da,`ng:///${t.type.name}/\u0275mod.js`,t)}function BR(t){return vi().compilePipeDeclaration(Da,`ng:///${t.type.name}/\u0275pipe.js`,t)}},7240:(Nt,je,F)=>{"use strict";F.d(je,{nm:()=>rs});var m=F(8682);F(2741),F(1665);var Be=F(1921),nt=F(4762),kt=F(3552),nn=F(9870),Ht=F(1773);const Zt=new Map,Qt={activated:!1,tokenObservers:[]},Wt={initialized:!1,enabled:!1};function Lt(Pe){return Zt.get(Pe)||Qt}function Ct(Pe,xe){Zt.set(Pe,xe)}function rn(){return Wt}class $t{constructor(xe,qe,gt,Tt,Gt){if(this.operation=xe,this.retryPolicy=qe,this.getWaitDuration=gt,this.lowerBound=Tt,this.upperBound=Gt,this.pending=null,this.nextErrorWaitInterval=Tt,Tt>Gt)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(xe){var qe=this;return(0,Be.Z)(function*(){qe.stop();try{qe.pending=new nn.BH,yield(Pe=qe.getNextRun(xe),new Promise(xe=>{setTimeout(xe,Pe)})),qe.pending.resolve(),yield qe.pending.promise,qe.pending=new nn.BH,yield qe.operation(),qe.pending.resolve(),yield qe.pending.promise,qe.process(!0).catch(()=>{})}catch(gt){qe.retryPolicy(gt)?qe.process(!1).catch(()=>{}):qe.stop()}var Pe})()}getNextRun(xe){if(xe)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const qe=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),qe}}}const Cn=new nn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Tr(Pe){if(!Lt(Pe).activated)throw Cn.create("use-before-activation",{appName:Pe.name})}function gn(Pe,xe){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,Be.Z)(function*({url:Pe,body:xe},qe){const gt={"Content-Type":"application/json"},Tt=qe.getImmediate({optional:!0});Tt&&(gt["X-Firebase-Client"]=Tt.getPlatformInfoString());const Gt={method:"POST",body:JSON.stringify(xe),headers:gt};let Zn,Vr;try{Zn=yield fetch(Pe,Gt)}catch(co){throw Cn.create("fetch-network-error",{originalErrorMessage:co.message})}if(200!==Zn.status)throw Cn.create("fetch-status-error",{httpStatus:Zn.status});try{Vr=yield Zn.json()}catch(co){throw Cn.create("fetch-parse-error",{originalErrorMessage:co.message})}const On=Vr.ttl.match(/^([\d.]+)(s)$/);if(!On||!On[2]||isNaN(Number(On[1])))throw Cn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Vr.ttl}`});const hi=1e3*Number(On[1]),cs=Date.now();return{token:Vr.attestationToken,expireTimeMillis:cs+hi,issuedAtTimeMillis:cs}})).apply(this,arguments)}function ot(Pe,xe){const{projectId:qe,appId:gt,apiKey:Tt}=Pe.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${qe}/apps/${gt}:exchangeDebugToken?key=${Tt}`,body:{debug_token:xe}}}const Ft="firebase-app-check-store";let yr=null;function kr(){return yr||(yr=new Promise((Pe,xe)=>{try{const qe=indexedDB.open("firebase-app-check-database",1);qe.onsuccess=gt=>{Pe(gt.target.result)},qe.onerror=gt=>{var Tt;xe(Cn.create("storage-open",{originalErrorMessage:null===(Tt=gt.target.error)||void 0===Tt?void 0:Tt.message}))},qe.onupgradeneeded=gt=>{const Tt=gt.target.result;switch(gt.oldVersion){case 0:Tt.createObjectStore(Ft,{keyPath:"compositeKey"})}}}catch(qe){xe(Cn.create("storage-open",{originalErrorMessage:qe.message}))}}),yr)}function Dt(){return(Dt=(0,Be.Z)(function*(Pe,xe){const gt=(yield kr()).transaction(Ft,"readwrite"),Gt=gt.objectStore(Ft).put({compositeKey:Pe,value:xe});return new Promise((Zn,Vr)=>{Gt.onsuccess=On=>{Zn()},gt.onerror=On=>{var hi;Vr(Cn.create("storage-set",{originalErrorMessage:null===(hi=On.target.error)||void 0===hi?void 0:hi.message}))}})})).apply(this,arguments)}const Kn=new Ht.Yd("@firebase/app-check");function xn(Pe,xe){return(0,nn.hl)()?function(Pe,xe){return function(Pe,xe){return Dt.apply(this,arguments)}(function(Pe){return`${Pe.options.appId}-${Pe.name}`}(Pe),xe)}(Pe,xe).catch(qe=>{Kn.warn(`Failed to write token to IndexedDB. Error: ${qe}`)}):Promise.resolve()}function he(){return rn().enabled}function Re(){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,Be.Z)(function*(){const Pe=rn();if(Pe.enabled&&Pe.token)return Pe.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Ve={error:"UNKNOWN_ERROR"};function z(Pe){return nn.US.encodeString(JSON.stringify(Pe),!1)}function ae(Pe){return Je.apply(this,arguments)}function Je(){return(Je=(0,Be.Z)(function*(Pe,xe=!1){const qe=Pe.app;Tr(qe);const gt=Lt(qe);let Gt,Tt=gt.token;if(!Tt){const On=yield gt.cachedTokenPromise;On&&Rr(On)&&(Tt=On)}if(!xe&&Tt&&Rr(Tt))return{token:Tt.token};let Vr,Zn=!1;if(he()){gt.exchangeTokenPromise||(gt.exchangeTokenPromise=gn(ot(qe,yield Re()),Pe.platformLoggerProvider).then(hi=>(gt.exchangeTokenPromise=void 0,hi)),Zn=!0);const On=yield gt.exchangeTokenPromise;return yield xn(qe,On),Ct(qe,Object.assign(Object.assign({},gt),{token:On})),{token:On.token}}try{gt.exchangeTokenPromise||(gt.exchangeTokenPromise=gt.provider.getToken().then(On=>(gt.exchangeTokenPromise=void 0,On)),Zn=!0),Tt=yield gt.exchangeTokenPromise}catch(On){"appCheck/throttled"===On.code?Kn.warn(On.message):Kn.error(On),Gt=On}return Tt?(Vr={token:Tt.token},Ct(qe,Object.assign(Object.assign({},gt),{token:Tt})),yield xn(qe,Tt)):Vr=Fr(Gt),Zn&&Ar(qe,Vr),Vr})).apply(this,arguments)}function dn(Pe,xe){const qe=Lt(Pe),gt=qe.tokenObservers.filter(Tt=>Tt.next!==xe);0===gt.length&&qe.tokenRefresher&&qe.tokenRefresher.isRunning()&&qe.tokenRefresher.stop(),Ct(Pe,Object.assign(Object.assign({},qe),{tokenObservers:gt}))}function jt(Pe){const{app:xe}=Pe,qe=Lt(xe);let gt=qe.tokenRefresher;gt||(gt=function(Pe){const{app:xe}=Pe;return new $t((0,Be.Z)(function*(){let gt;if(gt=Lt(xe).token?yield ae(Pe,!0):yield ae(Pe),gt.error)throw gt.error}),()=>!0,()=>{const qe=Lt(xe);if(qe.token){let gt=qe.token.issuedAtTimeMillis+.5*(qe.token.expireTimeMillis-qe.token.issuedAtTimeMillis)+3e5;return gt=Math.min(gt,qe.token.expireTimeMillis-3e5),Math.max(0,gt-Date.now())}return 0},3e4,96e4)}(Pe),Ct(xe,Object.assign(Object.assign({},qe),{tokenRefresher:gt}))),!gt.isRunning()&&qe.isTokenAutoRefreshEnabled&&gt.start()}function Ar(Pe,xe){const qe=Lt(Pe).tokenObservers;for(const gt of qe)try{"EXTERNAL"===gt.type&&null!=xe.error?gt.error(xe.error):gt.next(xe)}catch(Tt){}}function Rr(Pe){return Pe.expireTimeMillis-Date.now()>0}function Fr(Pe){return{token:z(Ve),error:Pe}}class Mn{constructor(xe,qe){this.app=xe,this.platformLoggerProvider=qe}_delete(){const{tokenObservers:xe}=Lt(this.app);for(const qe of xe)dn(this.app,qe.next);return Promise.resolve()}}const Un="app-check-internal";(0,nt._registerComponent)(new kt.wA("app-check",Pe=>function(Pe,xe){return new Mn(Pe,xe)}(Pe.getProvider("app").getImmediate(),Pe.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Pe,xe,qe)=>{Pe.getProvider(Un).initialize()})),(0,nt._registerComponent)(new kt.wA(Un,Pe=>function(Pe){return{getToken:xe=>ae(Pe,xe),addTokenListener:xe=>function(Pe,xe,qe,gt){const{app:Tt}=Pe,Gt=Lt(Tt),Zn={next:qe,error:gt,type:xe};if(Ct(Tt,Object.assign(Object.assign({},Gt),{tokenObservers:[...Gt.tokenObservers,Zn]})),Gt.token&&Rr(Gt.token)){const Vr=Gt.token;Promise.resolve().then(()=>{qe({token:Vr.token}),jt(Pe)}).catch(()=>{})}Gt.cachedTokenPromise.then(()=>jt(Pe))}(Pe,"INTERNAL",xe),removeTokenListener:xe=>dn(Pe.app,xe)}}(Pe.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,nt.registerVersion)("@firebase/app-check","0.5.3");class rs{constructor(){return(0,m.vb)("app-check")}}"undefined"!=typeof window&&window},531:(Nt,je,F)=>{"use strict";F.d(je,{zQ:()=>Wt,ww:()=>Lt,rT:()=>nn,f7:()=>Zt,L6:()=>nt,_Q:()=>kt,lh:()=>Ht,Qv:()=>Be,nw:()=>Qt});var m=F(2741),j=F(6006),q=F(267),Ce=F(3948),ce=F(2850),ie=F(636),de=F(2812);function Y(Ct,rn){return rn?(0,de.w)(()=>Ct,rn):(0,de.w)(()=>Ct)}var ve=F(8602),J=F(8561),re=F(7923),Z=F(3987),ue=F(1557),Ye=F(3305),ze=F(8682),Xe=F(9106),Ie=F(6274),Te=F(7240),Me=F(2837);const Be=new m.InjectionToken("angularfire2.auth.use-emulator"),nt=new m.InjectionToken("angularfire2.auth.settings"),kt=new m.InjectionToken("angularfire2.auth.tenant-id"),nn=new m.InjectionToken("angularfire2.auth.langugage-code"),Ht=new m.InjectionToken("angularfire2.auth.use-device-language"),Zt=new m.InjectionToken("angularfire.auth.persistence"),Qt=(Ct,rn,pt,nr,Wn,lr,Er,Jt)=>(0,Xe.cc)(`${Ct.name}.auth`,"AngularFireAuth",Ct.name,()=>{const $t=rn.runOutsideAngular(()=>Ct.auth());if(pt&&$t.useEmulator(...pt),nr&&($t.tenantId=nr),$t.languageCode=Wn,lr&&$t.useDeviceLanguage(),Er)for(const[kn,rr]of Object.entries(Er))$t.settings[kn]=rr;return Jt&&$t.setPersistence(Jt),$t},[pt,nr,Wn,lr,Er,Jt]);let Wt=(()=>{class Ct{constructor(pt,nr,Wn,lr,Er,Jt,$t,kn,rr,Cn,bn,Tr){const Xt=new j.xQ,Vn=(0,q.of)(void 0).pipe((0,ve.QV)(Er.outsideAngular),(0,de.w)(()=>lr.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,2136)))),(0,J.U)(()=>(0,Xe.on)(pt,lr,nr)),(0,J.U)(Kt=>Qt(Kt,lr,Jt,kn,rr,Cn,$t,bn)),(0,re.d)({bufferSize:1,refCount:!1}));if((0,Ie.PM)(Wn))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,q.of)(null);else{Vn.pipe((0,Z.P)()).subscribe();const gn=Vn.pipe((0,de.w)(_n=>_n.getRedirectResult().then(ot=>ot,()=>null)),ze.iC,(0,re.d)({bufferSize:1,refCount:!1})),Sn=Vn.pipe((0,de.w)(_n=>new Ce.y(ot=>({unsubscribe:lr.runOutsideAngular(()=>_n.onAuthStateChanged(zn=>ot.next(zn),zn=>ot.error(zn),()=>ot.complete()))})))),ir=Vn.pipe((0,de.w)(_n=>new Ce.y(ot=>({unsubscribe:lr.runOutsideAngular(()=>_n.onIdTokenChanged(zn=>ot.next(zn),zn=>ot.error(zn),()=>ot.complete()))}))));this.authState=gn.pipe(Y(Sn),(0,ue.R)(Er.outsideAngular),(0,ve.QV)(Er.insideAngular)),this.user=gn.pipe(Y(ir),(0,ue.R)(Er.outsideAngular),(0,ve.QV)(Er.insideAngular)),this.idToken=this.user.pipe((0,de.w)(_n=>_n?(0,ce.D)(_n.getIdToken()):(0,q.of)(null))),this.idTokenResult=this.user.pipe((0,de.w)(_n=>_n?(0,ce.D)(_n.getIdTokenResult()):(0,q.of)(null))),this.credential=(0,ie.T)(gn,Xt,this.authState.pipe((0,Ye.h)(_n=>!_n))).pipe((0,J.U)(_n=>(null==_n?void 0:_n.user)?_n:null),(0,ue.R)(Er.outsideAngular),(0,ve.QV)(Er.insideAngular))}return(0,Xe.pX)(this,Vn,lr,{spy:{apply:(Kt,gn,Sn)=>{(Kt.startsWith("signIn")||Kt.startsWith("createUser"))&&Sn.then(ir=>Xt.next(ir))}}})}}return Ct.\u0275fac=function(pt){return new(pt||Ct)(m.\u0275\u0275inject(Xe.Dh),m.\u0275\u0275inject(Xe.xv,8),m.\u0275\u0275inject(m.PLATFORM_ID),m.\u0275\u0275inject(m.NgZone),m.\u0275\u0275inject(ze.HU),m.\u0275\u0275inject(Be,8),m.\u0275\u0275inject(nt,8),m.\u0275\u0275inject(kt,8),m.\u0275\u0275inject(nn,8),m.\u0275\u0275inject(Ht,8),m.\u0275\u0275inject(Zt,8),m.\u0275\u0275inject(Te.nm,8))},Ct.\u0275prov=m.\u0275\u0275defineInjectable({token:Ct,factory:Ct.\u0275fac,providedIn:"any"}),Ct})(),Lt=(()=>{class Ct{constructor(){Me.Z.registerVersion("angularfire",ze.q4.full,"auth-compat")}}return Ct.\u0275fac=function(pt){return new(pt||Ct)},Ct.\u0275mod=m.\u0275\u0275defineNgModule({type:Ct}),Ct.\u0275inj=m.\u0275\u0275defineInjector({providers:[Wt]}),Ct})()},9805:(Nt,je,F)=>{"use strict";F.d(je,{ST:()=>Ze,yb:()=>Ue});var m=F(2741),j=F(8846),q=F(3948),Ce=F(2850),ce=F(267),ie=F(8682),de=F(8744);function Y(){return Ve=>Ve.lift(new ve)}class ve{call(z,ae){return ae.subscribe(new J(z))}}class J extends de.L{constructor(z){super(z),this.hasPrev=!1}_next(z){let ae;this.hasPrev?ae=[this.prev,z]:this.hasPrev=!0,this.prev=z,ae&&this.destination.next(ae)}}var re=F(3543),Z=F(8561),ue=F(1310),Ye=F(7689),ze=F(3305),Xe=F(9106),Ie=F(6274),Me=(F(2136),F(6043)),Se=F(9665),Be=F(9870),nt=F(3552);function Ht(Ve,z){if(void 0===z)return{merge:!1};if(void 0!==z.mergeFields&&void 0!==z.merge)throw new Se.WA("invalid-argument",`Invalid options passed to function ${Ve}(): You cannot specify both "merge" and "mergeFields".`);return z}function Zt(){if("undefined"==typeof Uint8Array)throw new Se.WA("unimplemented","Uint8Arrays are not available in this environment.")}function Qt(){if(!(0,Se.Me)())throw new Se.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Wt{constructor(z){this._delegate=z}static fromBase64String(z){return Qt(),new Wt(Se.Jj.fromBase64String(z))}static fromUint8Array(z){return Zt(),new Wt(Se.Jj.fromUint8Array(z))}toBase64(){return Qt(),this._delegate.toBase64()}toUint8Array(){return Zt(),this._delegate.toUint8Array()}isEqual(z){return this._delegate.isEqual(z._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Lt(Ve){return function(Ve,z){if("object"!=typeof Ve||null===Ve)return!1;const ae=Ve;for(const Je of["next","error","complete"])if(Je in ae&&"function"==typeof ae[Je])return!0;return!1}(Ve)}class rn{enableIndexedDbPersistence(z,ae){return(0,Se.ST)(z._delegate,{forceOwnership:ae})}enableMultiTabIndexedDbPersistence(z){return(0,Se.fH)(z._delegate)}clearIndexedDbPersistence(z){return(0,Se.Fc)(z._delegate)}}class pt{constructor(z,ae,Je){this._delegate=ae,this._persistenceProvider=Je,this.INTERNAL={delete:()=>this.terminate()},z instanceof Se.l7||(this._appCompat=z)}get _databaseId(){return this._delegate._databaseId}settings(z){const ae=this._delegate._getSettings();!z.merge&&ae.host!==z.host&&(0,Se.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),z.merge&&delete(z=Object.assign(Object.assign({},ae),z)).merge,this._delegate._setSettings(z)}useEmulator(z,ae,Je={}){(0,Se.at)(this._delegate,z,ae,Je)}enableNetwork(){return(0,Se.Ix)(this._delegate)}disableNetwork(){return(0,Se.TF)(this._delegate)}enablePersistence(z){let ae=!1,Je=!1;return z&&(ae=!!z.synchronizeTabs,Je=!!z.experimentalForceOwningTab,(0,Se.Wi)("synchronizeTabs",ae,"experimentalForceOwningTab",Je)),ae?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,Je)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,Se.Mx)(this._delegate)}onSnapshotsInSync(z){return(0,Se.sc)(this._delegate,z)}get app(){if(!this._appCompat)throw new Se.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(z){try{return new gn(this,(0,Se.hJ)(this._delegate,z))}catch(ae){throw kn(ae,"collection()","Firestore.collection()")}}doc(z){try{return new $t(this,(0,Se.JU)(this._delegate,z))}catch(ae){throw kn(ae,"doc()","Firestore.doc()")}}collectionGroup(z){try{return new Xt(this,(0,Se.B$)(this._delegate,z))}catch(ae){throw kn(ae,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(z){return(0,Se.i3)(this._delegate,ae=>z(new lr(this,ae)))}batch(){return(0,Se.qY)(this._delegate),new Er(new Se.PU(this._delegate,z=>(0,Se.GL)(this._delegate,z)))}loadBundle(z){return(0,Se.Pb)(this._delegate,z)}namedQuery(z){return(0,Se.L$)(this._delegate,z).then(ae=>ae?new Xt(this,ae):null)}}class nr extends Se.u7{constructor(z){super(),this.firestore=z}convertBytes(z){return new Wt(new Se.Jj(z))}convertReference(z){const ae=this.convertDocumentKey(z,this.firestore._databaseId);return $t.forKey(ae,this.firestore,null)}}class lr{constructor(z,ae){this._firestore=z,this._delegate=ae,this._userDataWriter=new nr(z)}get(z){const ae=Sn(z);return this._delegate.get(ae).then(Je=>new bn(this._firestore,new Se.xU(this._firestore._delegate,this._userDataWriter,Je._key,Je._document,Je.metadata,ae.converter)))}set(z,ae,Je){const yt=Sn(z);return Je?(Ht("Transaction.set",Je),this._delegate.set(yt,ae,Je)):this._delegate.set(yt,ae),this}update(z,ae,Je,...yt){const dn=Sn(z);return 2===arguments.length?this._delegate.update(dn,ae):this._delegate.update(dn,ae,Je,...yt),this}delete(z){const ae=Sn(z);return this._delegate.delete(ae),this}}class Er{constructor(z){this._delegate=z}set(z,ae,Je){const yt=Sn(z);return Je?(Ht("WriteBatch.set",Je),this._delegate.set(yt,ae,Je)):this._delegate.set(yt,ae),this}update(z,ae,Je,...yt){const dn=Sn(z);return 2===arguments.length?this._delegate.update(dn,ae):this._delegate.update(dn,ae,Je,...yt),this}delete(z){const ae=Sn(z);return this._delegate.delete(ae),this}commit(){return this._delegate.commit()}}class Jt{constructor(z,ae,Je){this._firestore=z,this._userDataWriter=ae,this._delegate=Je}fromFirestore(z,ae){const Je=new Se.$q(this._firestore._delegate,this._userDataWriter,z._key,z._document,z.metadata,null);return this._delegate.fromFirestore(new Tr(this._firestore,Je),null!=ae?ae:{})}toFirestore(z,ae){return ae?this._delegate.toFirestore(z,ae):this._delegate.toFirestore(z)}static getInstance(z,ae){const Je=Jt.INSTANCES;let yt=Je.get(z);yt||(yt=new WeakMap,Je.set(z,yt));let dn=yt.get(ae);return dn||(dn=new Jt(z,new nr(z),ae),yt.set(ae,dn)),dn}}Jt.INSTANCES=new WeakMap;class $t{constructor(z,ae){this.firestore=z,this._delegate=ae,this._userDataWriter=new nr(z)}static forPath(z,ae,Je){if(z.length%2!=0)throw new Se.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${z.canonicalString()} has ${z.length}`);return new $t(ae,new Se.my(ae._delegate,Je,new Se.Ky(z)))}static forKey(z,ae,Je){return new $t(ae,new Se.my(ae._delegate,Je,z))}get id(){return this._delegate.id}get parent(){return new gn(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(z){try{return new gn(this.firestore,(0,Se.hJ)(this._delegate,z))}catch(ae){throw kn(ae,"collection()","DocumentReference.collection()")}}isEqual(z){return(z=(0,Be.m9)(z))instanceof Se.my&&(0,Se.Eo)(this._delegate,z)}set(z,ae){ae=Ht("DocumentReference.set",ae);try{return ae?(0,Se.pl)(this._delegate,z,ae):(0,Se.pl)(this._delegate,z)}catch(Je){throw kn(Je,"setDoc()","DocumentReference.set()")}}update(z,ae,...Je){try{return 1===arguments.length?(0,Se.r7)(this._delegate,z):(0,Se.r7)(this._delegate,z,ae,...Je)}catch(yt){throw kn(yt,"updateDoc()","DocumentReference.update()")}}delete(){return(0,Se.oe)(this._delegate)}onSnapshot(...z){const ae=rr(z),Je=Cn(z,yt=>new bn(this.firestore,new Se.xU(this.firestore._delegate,this._userDataWriter,yt._key,yt._document,yt.metadata,this._delegate.converter)));return(0,Se.cf)(this._delegate,ae,Je)}get(z){let ae;return ae="cache"===(null==z?void 0:z.source)?(0,Se.kl)(this._delegate):"server"===(null==z?void 0:z.source)?(0,Se.Xk)(this._delegate):(0,Se.QT)(this._delegate),ae.then(Je=>new bn(this.firestore,new Se.xU(this.firestore._delegate,this._userDataWriter,Je._key,Je._document,Je.metadata,this._delegate.converter)))}withConverter(z){return new $t(this.firestore,this._delegate.withConverter(z?Jt.getInstance(this.firestore,z):null))}}function kn(Ve,z,ae){return Ve.message=Ve.message.replace(z,ae),Ve}function rr(Ve){for(const z of Ve)if("object"==typeof z&&!Lt(z))return z;return{}}function Cn(Ve,z){var ae,Je;let yt;return yt=Lt(Ve[0])?Ve[0]:Lt(Ve[1])?Ve[1]:"function"==typeof Ve[0]?{next:Ve[0],error:Ve[1],complete:Ve[2]}:{next:Ve[1],error:Ve[2],complete:Ve[3]},{next:dn=>{yt.next&&yt.next(z(dn))},error:null===(ae=yt.error)||void 0===ae?void 0:ae.bind(yt),complete:null===(Je=yt.complete)||void 0===Je?void 0:Je.bind(yt)}}class bn{constructor(z,ae){this._firestore=z,this._delegate=ae}get ref(){return new $t(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(z){return this._delegate.data(z)}get(z,ae){return this._delegate.get(z,ae)}isEqual(z){return(0,Se.qK)(this._delegate,z._delegate)}}class Tr extends bn{data(z){const ae=this._delegate.data(z);return(0,Se.K9)(void 0!==ae,"Document in a QueryDocumentSnapshot should exist"),ae}}class Xt{constructor(z,ae){this.firestore=z,this._delegate=ae,this._userDataWriter=new nr(z)}where(z,ae,Je){try{return new Xt(this.firestore,(0,Se.IO)(this._delegate,(0,Se.ar)(z,ae,Je)))}catch(yt){throw kn(yt,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(z,ae){try{return new Xt(this.firestore,(0,Se.IO)(this._delegate,(0,Se.Xo)(z,ae)))}catch(Je){throw kn(Je,/(orderBy|where)\(\)/,"Query.$1()")}}limit(z){try{return new Xt(this.firestore,(0,Se.IO)(this._delegate,(0,Se.b9)(z)))}catch(ae){throw kn(ae,"limit()","Query.limit()")}}limitToLast(z){try{return new Xt(this.firestore,(0,Se.IO)(this._delegate,(0,Se.vh)(z)))}catch(ae){throw kn(ae,"limitToLast()","Query.limitToLast()")}}startAt(...z){try{return new Xt(this.firestore,(0,Se.IO)(this._delegate,(0,Se.e0)(...z)))}catch(ae){throw kn(ae,"startAt()","Query.startAt()")}}startAfter(...z){try{return new Xt(this.firestore,(0,Se.IO)(this._delegate,(0,Se.TQ)(...z)))}catch(ae){throw kn(ae,"startAfter()","Query.startAfter()")}}endBefore(...z){try{return new Xt(this.firestore,(0,Se.IO)(this._delegate,(0,Se.Lx)(...z)))}catch(ae){throw kn(ae,"endBefore()","Query.endBefore()")}}endAt(...z){try{return new Xt(this.firestore,(0,Se.IO)(this._delegate,(0,Se.Wu)(...z)))}catch(ae){throw kn(ae,"endAt()","Query.endAt()")}}isEqual(z){return(0,Se.iE)(this._delegate,z._delegate)}get(z){let ae;return ae="cache"===(null==z?void 0:z.source)?(0,Se.UQ)(this._delegate):"server"===(null==z?void 0:z.source)?(0,Se.zN)(this._delegate):(0,Se.PL)(this._delegate),ae.then(Je=>new Kt(this.firestore,new Se.W(this.firestore._delegate,this._userDataWriter,this._delegate,Je._snapshot)))}onSnapshot(...z){const ae=rr(z),Je=Cn(z,yt=>new Kt(this.firestore,new Se.W(this.firestore._delegate,this._userDataWriter,this._delegate,yt._snapshot)));return(0,Se.cf)(this._delegate,ae,Je)}withConverter(z){return new Xt(this.firestore,this._delegate.withConverter(z?Jt.getInstance(this.firestore,z):null))}}class Vn{constructor(z,ae){this._firestore=z,this._delegate=ae}get type(){return this._delegate.type}get doc(){return new Tr(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Kt{constructor(z,ae){this._firestore=z,this._delegate=ae}get query(){return new Xt(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(z=>new Tr(this._firestore,z))}docChanges(z){return this._delegate.docChanges(z).map(ae=>new Vn(this._firestore,ae))}forEach(z,ae){this._delegate.forEach(Je=>{z.call(ae,new Tr(this._firestore,Je))})}isEqual(z){return(0,Se.qK)(this._delegate,z._delegate)}}class gn extends Xt{constructor(z,ae){super(z,ae),this.firestore=z,this._delegate=ae}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const z=this._delegate.parent;return z?new $t(this.firestore,z):null}doc(z){try{return new $t(this.firestore,void 0===z?(0,Se.JU)(this._delegate):(0,Se.JU)(this._delegate,z))}catch(ae){throw kn(ae,"doc()","CollectionReference.doc()")}}add(z){return(0,Se.ET)(this._delegate,z).then(ae=>new $t(this.firestore,ae))}isEqual(z){return(0,Se.Eo)(this._delegate,z._delegate)}withConverter(z){return new gn(this.firestore,this._delegate.withConverter(z?Jt.getInstance(this.firestore,z):null))}}function Sn(Ve){return(0,Se.Cf)(Ve,Se.my)}class ir{constructor(...z){this._delegate=new Se.Lz(...z)}static documentId(){return new ir(Se.Xb.keyField().canonicalString())}isEqual(z){return(z=(0,Be.m9)(z))instanceof Se.Lz&&this._delegate._internalPath.isEqual(z._internalPath)}}class _n{constructor(z){this._delegate=z}static serverTimestamp(){const z=(0,Se.Bt)();return z._methodName="FieldValue.serverTimestamp",new _n(z)}static delete(){const z=(0,Se.AK)();return z._methodName="FieldValue.delete",new _n(z)}static arrayUnion(...z){const ae=(0,Se.vr)(...z);return ae._methodName="FieldValue.arrayUnion",new _n(ae)}static arrayRemove(...z){const ae=(0,Se.Ab)(...z);return ae._methodName="FieldValue.arrayRemove",new _n(ae)}static increment(z){const ae=(0,Se.nP)(z);return ae._methodName="FieldValue.increment",new _n(ae)}isEqual(z){return this._delegate.isEqual(z._delegate)}}const ot={Firestore:pt,GeoPoint:Se.F8,Timestamp:Se.EK,Blob:Wt,Transaction:lr,WriteBatch:Er,DocumentReference:$t,DocumentSnapshot:bn,Query:Xt,QueryDocumentSnapshot:Tr,QuerySnapshot:Kt,CollectionReference:gn,FieldPath:ir,FieldValue:_n,setLogLevel:function(Ve){(0,Se.Ub)(Ve)},CACHE_SIZE_UNLIMITED:Se.IX};var Ve;(function(Ve,z){Ve.INTERNAL.registerComponent(new nt.wA("firestore-compat",ae=>((z,ae)=>new pt(z,ae,new rn))(ae.getProvider("app-compat").getImmediate(),ae.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},ot)))})(Ve=Me.Z),Ve.registerVersion("@firebase/firestore-compat","0.1.14");var Ft=F(531),An=F(7240),yr=F(2837);function $e(Ve,z){return function(Ve,z=j.z){return new q.y(ae=>{let Je;return null!=z?z.schedule(()=>{Je=Ve.onSnapshot({includeMetadataChanges:!0},ae)}):Je=Ve.onSnapshot({includeMetadataChanges:!0},ae),()=>{null!=Je&&Je()}})}(Ve,z)}function me(Ve,z){return $e(Ve,z).pipe((0,Z.U)(ae=>({payload:ae,type:"query"})))}function rt(Ve,z){return me(Ve,z).pipe((0,re.O)(void 0),Y(),(0,Z.U)(([ae,Je])=>{const yt=Je.payload.docChanges(),dn=yt.map(jt=>({type:jt.type,payload:jt}));return ae&&JSON.stringify(ae.payload.metadata)!==JSON.stringify(Je.payload.metadata)&&Je.payload.docs.forEach((jt,pn)=>{const Ar=yt.find(Fr=>Fr.doc.ref.isEqual(jt.ref)),Rr=null==ae?void 0:ae.payload.docs.find(Fr=>Fr.ref.isEqual(jt.ref));Ar&&JSON.stringify(Ar.doc.metadata)===JSON.stringify(jt.metadata)||!Ar&&Rr&&JSON.stringify(Rr.metadata)===JSON.stringify(jt.metadata)||dn.push({type:"modified",payload:{oldIndex:pn,newIndex:pn,type:"modified",doc:jt}})}),dn}))}function Ge(Ve,z,ae){return rt(Ve,ae).pipe((0,ue.R)((Je,yt)=>function(Ve,z,ae){return z.forEach(Je=>{ae.indexOf(Je.type)>-1&&(Ve=function(Ve,z){switch(z.type){case"added":if(!Ve[z.newIndex]||!Ve[z.newIndex].doc.ref.isEqual(z.doc.ref))return lt(Ve,z.newIndex,0,z);break;case"modified":if(null==Ve[z.oldIndex]||Ve[z.oldIndex].doc.ref.isEqual(z.doc.ref)){if(z.oldIndex!==z.newIndex){const ae=Ve.slice();return ae.splice(z.oldIndex,1),ae.splice(z.newIndex,0,z),ae}return lt(Ve,z.newIndex,1,z)}break;case"removed":if(Ve[z.oldIndex]&&Ve[z.oldIndex].doc.ref.isEqual(z.doc.ref))return lt(Ve,z.oldIndex,1)}return Ve}(Ve,Je))}),Ve}(Je,yt.map(dn=>dn.payload),z),[]),(0,Ye.x)(),(0,Z.U)(Je=>Je.map(yt=>({type:yt.type,payload:yt}))))}function lt(Ve,z,ae,...Je){const yt=Ve.slice();return yt.splice(z,ae,...Je),yt}function mn(Ve){return(!Ve||0===Ve.length)&&(Ve=["added","removed","modified"]),Ve}class Kn{constructor(z,ae,Je){this.ref=z,this.query=ae,this.afs=Je}stateChanges(z){let ae=rt(this.query,this.afs.schedulers.outsideAngular);return z&&z.length>0&&(ae=ae.pipe((0,Z.U)(Je=>Je.filter(yt=>z.indexOf(yt.type)>-1)))),ae.pipe((0,re.O)(void 0),Y(),(0,ze.h)(([Je,yt])=>yt.length>0||!Je),(0,Z.U)(([Je,yt])=>yt),ie.iC)}auditTrail(z){return this.stateChanges(z).pipe((0,ue.R)((ae,Je)=>[...ae,...Je],[]))}snapshotChanges(z){const ae=mn(z);return Ge(this.query,ae,this.afs.schedulers.outsideAngular).pipe(ie.iC)}valueChanges(z={}){return me(this.query,this.afs.schedulers.outsideAngular).pipe((0,Z.U)(ae=>ae.payload.docs.map(Je=>z.idField?Object.assign(Object.assign({},Je.data()),{[z.idField]:Je.id}):Je.data())),ie.iC)}get(z){return(0,Ce.D)(this.query.get(z)).pipe(ie.iC)}add(z){return this.ref.add(z)}doc(z){return new Tn(this.ref.doc(z),this.afs)}}class Tn{constructor(z,ae){this.ref=z,this.afs=ae}set(z,ae){return this.ref.set(z,ae)}update(z){return this.ref.update(z)}delete(){return this.ref.delete()}collection(z,ae){const Je=this.ref.collection(z),{ref:yt,query:dn}=Re(Je,ae);return new Kn(yt,dn,this.afs)}snapshotChanges(){return function(Ve,z){return $e(Ve,z).pipe((0,re.O)(void 0),Y(),(0,Z.U)(([ae,Je])=>Je.exists?(null==ae?void 0:ae.exists)?{payload:Je,type:"modified"}:{payload:Je,type:"added"}:{payload:Je,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ie.iC)}valueChanges(z={}){return this.snapshotChanges().pipe((0,Z.U)(({payload:ae})=>z.idField?Object.assign(Object.assign({},ae.data()),{[z.idField]:ae.id}):ae.data()))}get(z){return(0,Ce.D)(this.ref.get(z)).pipe(ie.iC)}}class Yt{constructor(z,ae){this.query=z,this.afs=ae}stateChanges(z){return z&&0!==z.length?rt(this.query,this.afs.schedulers.outsideAngular).pipe((0,Z.U)(ae=>ae.filter(Je=>z.indexOf(Je.type)>-1)),(0,ze.h)(ae=>ae.length>0),ie.iC):rt(this.query,this.afs.schedulers.outsideAngular).pipe(ie.iC)}auditTrail(z){return this.stateChanges(z).pipe((0,ue.R)((ae,Je)=>[...ae,...Je],[]))}snapshotChanges(z){const ae=mn(z);return Ge(this.query,ae,this.afs.schedulers.outsideAngular).pipe(ie.iC)}valueChanges(z={}){return me(this.query,this.afs.schedulers.outsideAngular).pipe((0,Z.U)(Je=>Je.payload.docs.map(yt=>z.idField?Object.assign({[z.idField]:yt.id},yt.data()):yt.data())),ie.iC)}get(z){return(0,Ce.D)(this.query.get(z)).pipe(ie.iC)}}const xn=new m.InjectionToken("angularfire2.enableFirestorePersistence"),Rn=new m.InjectionToken("angularfire2.firestore.persistenceSettings"),ye=new m.InjectionToken("angularfire2.firestore.settings"),he=new m.InjectionToken("angularfire2.firestore.use-emulator");function Re(Ve,z=(ae=>ae)){return{query:z(Ve),ref:Ve}}let Ze=(()=>{class Ve{constructor(ae,Je,yt,dn,jt,pn,Ar,Rr,Fr,Mn,Jr,Ki,Dr,Mr,cr,ai,Ur){this.schedulers=Ar;const Lr=(0,Xe.on)(ae,pn,Je),er=Fr;Mn&&(0,Ft.nw)(Lr,pn,Jr,Dr,Mr,cr,Ki,ai),[this.firestore,this.persistenceEnabled$]=(0,Xe.cc)(`${Lr.name}.firestore`,"AngularFirestore",Lr.name,()=>{const St=pn.runOutsideAngular(()=>Lr.firestore());if(dn&&St.settings(dn),er&&St.useEmulator(...er),yt&&!(0,Ie.PM)(jt)){const hn=()=>{try{return(0,Ce.D)(St.enablePersistence(Rr||void 0).then(()=>!0,()=>!1))}catch(Gn){return"undefined"!=typeof console&&console.warn(Gn),(0,ce.of)(!1)}};return[St,pn.runOutsideAngular(hn)]}return[St,(0,ce.of)(!1)]},[dn,er,yt])}collection(ae,Je){let yt;yt="string"==typeof ae?this.firestore.collection(ae):ae;const{ref:dn,query:jt}=Re(yt,Je),pn=this.schedulers.ngZone.run(()=>dn);return new Kn(pn,jt,this)}collectionGroup(ae,Je){const yt=Je||(jt=>jt),dn=this.firestore.collectionGroup(ae);return new Yt(yt(dn),this)}doc(ae){let Je;Je="string"==typeof ae?this.firestore.doc(ae):ae;const yt=this.schedulers.ngZone.run(()=>Je);return new Tn(yt,this)}createId(){return this.firestore.collection("_").doc().id}}return Ve.\u0275fac=function(ae){return new(ae||Ve)(m.\u0275\u0275inject(Xe.Dh),m.\u0275\u0275inject(Xe.xv,8),m.\u0275\u0275inject(xn,8),m.\u0275\u0275inject(ye,8),m.\u0275\u0275inject(m.PLATFORM_ID),m.\u0275\u0275inject(m.NgZone),m.\u0275\u0275inject(ie.HU),m.\u0275\u0275inject(Rn,8),m.\u0275\u0275inject(he,8),m.\u0275\u0275inject(Ft.zQ,8),m.\u0275\u0275inject(Ft.Qv,8),m.\u0275\u0275inject(Ft.L6,8),m.\u0275\u0275inject(Ft._Q,8),m.\u0275\u0275inject(Ft.rT,8),m.\u0275\u0275inject(Ft.lh,8),m.\u0275\u0275inject(Ft.f7,8),m.\u0275\u0275inject(An.nm,8))},Ve.\u0275prov=m.\u0275\u0275defineInjectable({token:Ve,factory:Ve.\u0275fac,providedIn:"any"}),Ve})(),Ue=(()=>{class Ve{constructor(){yr.Z.registerVersion("angularfire",ie.q4.full,"fst-compat")}static enablePersistence(ae){return{ngModule:Ve,providers:[{provide:xn,useValue:!0},{provide:Rn,useValue:ae}]}}}return Ve.\u0275fac=function(ae){return new(ae||Ve)},Ve.\u0275mod=m.\u0275\u0275defineNgModule({type:Ve}),Ve.\u0275inj=m.\u0275\u0275defineInjector({providers:[Ze]}),Ve})()},9106:(Nt,je,F)=>{"use strict";F.d(je,{hO:()=>ue,xv:()=>ve,Dh:()=>Y,GT:()=>ie,cc:()=>Ye,on:()=>J,pX:()=>ce});var m=F(2741),j=F(2837),q=F(8682);Nt=F.hmd(Nt);const Ce=["ngOnDestroy"],ce=(Te,Me,Se,Be={})=>new Proxy(Te,{get:(nt,kt)=>Se.runOutsideAngular(()=>{var nn;if(Te[kt])return(null===(nn=null==Be?void 0:Be.spy)||void 0===nn?void 0:nn.get)&&Be.spy.get(kt,Te[kt]),Te[kt];if(Ce.indexOf(kt)>-1)return()=>{};const Ht=Me.toPromise().then(Zt=>{const Qt=Zt&&Zt[kt];return"function"==typeof Qt?Qt.bind(Zt):Qt&&Qt.then?Qt.then(Wt=>Se.run(()=>Wt)):Se.run(()=>Qt)});return new Proxy(()=>{},{get:(Zt,Qt)=>Ht[Qt],apply:(Zt,Qt,Wt)=>Ht.then(Lt=>{var Ct;const rn=Lt&&Lt(...Wt);return(null===(Ct=null==Be?void 0:Be.spy)||void 0===Ct?void 0:Ct.apply)&&Be.spy.apply(kt,Wt,rn),rn})})})}),ie=(Te,Me)=>{Me.forEach(Se=>{Object.getOwnPropertyNames(Se.prototype||Se).forEach(Be=>{Object.defineProperty(Te.prototype,Be,Object.getOwnPropertyDescriptor(Se.prototype||Se,Be))})})};class de{constructor(Me){return Me}}const Y=new m.InjectionToken("angularfire2.app.options"),ve=new m.InjectionToken("angularfire2.app.name");function J(Te,Me,Se){const nt="object"==typeof Se&&Se||{};nt.name=nt.name||"string"==typeof Se&&Se||"[DEFAULT]";const nn=j.Z.apps.filter(Ht=>Ht&&Ht.name===nt.name)[0]||Me.runOutsideAngular(()=>j.Z.initializeApp(Te,nt));try{JSON.stringify(Te)!==JSON.stringify(nn.options)&&re("error",`${nn.name} Firebase App already initialized with different options${Nt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ht){}return new de(nn)}const re=(Te,...Me)=>{(0,m.isDevMode)()&&"undefined"!=typeof console&&console[Te](...Me)},Z={provide:de,useFactory:J,deps:[Y,m.NgZone,[new m.Optional,ve]]};let ue=(()=>{class Te{constructor(Se){j.Z.registerVersion("angularfire",q.q4.full,"core"),j.Z.registerVersion("angularfire",q.q4.full,"app-compat"),j.Z.registerVersion("angular",m.VERSION.full,Se.toString())}static initializeApp(Se,Be){return{ngModule:Te,providers:[{provide:Y,useValue:Se},{provide:ve,useValue:Be}]}}}return Te.\u0275fac=function(Se){return new(Se||Te)(m.\u0275\u0275inject(m.PLATFORM_ID))},Te.\u0275mod=m.\u0275\u0275defineNgModule({type:Te}),Te.\u0275inj=m.\u0275\u0275defineInjector({providers:[Z]}),Te})();function Ye(Te,Me,Se,Be,nt){const[,kt,nn]=globalThis.\u0275AngularfireInstanceCache.find(Ht=>Ht[0]===Te)||[];if(kt)return function(Te,Me){try{return Te.toString()===Me.toString()}catch(Se){return Te===Me}}(nt,nn)||(Ie("error",`${Me} was already initialized on the ${Se} Firebase App with different settings.${Xe?" You may need to reload as Firebase is not HMR aware.":""}`),Ie("warn",{is:nt,was:nn})),kt;{const Ht=Be();return globalThis.\u0275AngularfireInstanceCache.push([Te,Ht,nt]),Ht}}const Xe=!!Nt.hot,Ie=(Te,...Me)=>{(0,m.isDevMode)()&&"undefined"!=typeof console&&console[Te](...Me)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8682:(Nt,je,F)=>{"use strict";F.d(je,{q4:()=>Ru,iC:()=>au,fc:()=>cl,HU:()=>pc,vb:()=>ja,JM:()=>go});var m=F(2741),j=F(1665),q=F(1921),Ce=F(4762),ce=F(9870),ie=F(3552),de=F(1773),Y=F(2842);const ve="@firebase/installations",J="0.5.5",Z=`w:${J}`,ue="FIS_v2",Me=new ce.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Se(N){return N instanceof ce.ZR&&N.code.includes("request-failed")}function Be({projectId:N}){return`https://firebaseinstallations.googleapis.com/v1/projects/${N}/installations`}function nt(N){return{token:N.token,requestStatus:2,expiresIn:Lt(N.expiresIn),creationTime:Date.now()}}function kt(N,U){return nn.apply(this,arguments)}function nn(){return(nn=(0,q.Z)(function*(N,U){const _e=(yield U.json()).error;return Me.create("request-failed",{requestName:N,serverCode:_e.code,serverMessage:_e.message,serverStatus:_e.status})})).apply(this,arguments)}function Ht({apiKey:N}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":N})}function Zt(N,{refreshToken:U}){const ee=Ht(N);return ee.append("Authorization",function(N){return`${ue} ${N}`}(U)),ee}function Qt(N){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,q.Z)(function*(N){const U=yield N();return U.status>=500&&U.status<600?N():U})).apply(this,arguments)}function Lt(N){return Number(N.replace("s","000"))}function rn(N,U){return pt.apply(this,arguments)}function pt(){return(pt=(0,q.Z)(function*(N,{fid:U}){const ee=Be(N),et={method:"POST",headers:Ht(N),body:JSON.stringify({fid:U,authVersion:ue,appId:N.appId,sdkVersion:Z})},It=yield Qt(()=>fetch(ee,et));if(It.ok){const Ut=yield It.json();return{fid:Ut.fid||U,registrationStatus:2,refreshToken:Ut.refreshToken,authToken:nt(Ut.authToken)}}throw yield kt("Create Installation",It)})).apply(this,arguments)}function nr(N){return new Promise(U=>{setTimeout(U,N)})}const lr=/^[cdef][\w-]{21}$/;function Jt(){try{const N=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(N),N[0]=112+N[0]%16;const ee=function(N){return function(N){return btoa(String.fromCharCode(...N)).replace(/\+/g,"-").replace(/\//g,"_")}(N).substr(0,22)}(N);return lr.test(ee)?ee:""}catch(N){return""}}function kn(N){return`${N.appName}!${N.appId}`}const rr=new Map;function Cn(N,U){const ee=kn(N);Xt(ee,U),function(N,U){const ee=(!Kt&&"BroadcastChannel"in self&&(Kt=new BroadcastChannel("[Firebase] FID Change"),Kt.onmessage=N=>{Xt(N.data.key,N.data.fid)}),Kt);ee&&ee.postMessage({key:N,fid:U}),0===rr.size&&Kt&&(Kt.close(),Kt=null)}(ee,U)}function Xt(N,U){const ee=rr.get(N);if(ee)for(const _e of ee)_e(U)}let Kt=null;const ot="firebase-installations-store";let zn=null;function dr(){return zn||(zn=(0,Y.openDb)("firebase-installations-database",1,N=>{switch(N.oldVersion){case 0:N.createObjectStore(ot)}})),zn}function Ft(N,U){return An.apply(this,arguments)}function An(){return(An=(0,q.Z)(function*(N,U){const ee=kn(N),We=(yield dr()).transaction(ot,"readwrite"),et=We.objectStore(ot),It=yield et.get(ee);return yield et.put(U,ee),yield We.complete,(!It||It.fid!==U.fid)&&Cn(N,U.fid),U})).apply(this,arguments)}function yr(N){return kr.apply(this,arguments)}function kr(){return(kr=(0,q.Z)(function*(N){const U=kn(N),_e=(yield dr()).transaction(ot,"readwrite");yield _e.objectStore(ot).delete(U),yield _e.complete})).apply(this,arguments)}function $e(N,U){return ge.apply(this,arguments)}function ge(){return(ge=(0,q.Z)(function*(N,U){const ee=kn(N),We=(yield dr()).transaction(ot,"readwrite"),et=We.objectStore(ot),It=yield et.get(ee),Ut=U(It);return void 0===Ut?yield et.delete(ee):yield et.put(Ut,ee),yield We.complete,Ut&&(!It||It.fid!==Ut.fid)&&Cn(N,Ut.fid),Ut})).apply(this,arguments)}function me(N){return rt.apply(this,arguments)}function rt(){return(rt=(0,q.Z)(function*(N){let U;const ee=yield $e(N,_e=>{const We=Ge(_e),et=Dt(N,We);return U=et.registrationPromise,et.installationEntry});return""===ee.fid?{installationEntry:yield U}:{installationEntry:ee,registrationPromise:U}})).apply(this,arguments)}function Ge(N){return Yt(N||{fid:Jt(),registrationStatus:0})}function Dt(N,U){if(0===U.registrationStatus){if(!navigator.onLine)return{installationEntry:U,registrationPromise:Promise.reject(Me.create("app-offline"))};const ee={fid:U.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:ee,registrationPromise:function(N,U){return xt.apply(this,arguments)}(N,ee)}}return 1===U.registrationStatus?{installationEntry:U,registrationPromise:mn(N)}:{installationEntry:U}}function xt(){return(xt=(0,q.Z)(function*(N,U){try{return Ft(N,yield rn(N,U))}catch(ee){throw Se(ee)&&409===ee.customData.serverCode?yield yr(N):yield Ft(N,{fid:U.fid,registrationStatus:0}),ee}})).apply(this,arguments)}function mn(N){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,q.Z)(function*(N){let U=yield Tn(N);for(;1===U.registrationStatus;)yield nr(100),U=yield Tn(N);if(0===U.registrationStatus){const{installationEntry:ee,registrationPromise:_e}=yield me(N);return _e||ee}return U})).apply(this,arguments)}function Tn(N){return $e(N,U=>{if(!U)throw Me.create("installation-not-found");return Yt(U)})}function Yt(N){return function(N){return 1===N.registrationStatus&&N.registrationTime+1e4<Date.now()}(N)?{fid:N.fid,registrationStatus:0}:N}function Rn(N,U){return ye.apply(this,arguments)}function ye(){return(ye=(0,q.Z)(function*({appConfig:N,platformLoggerProvider:U},ee){const _e=he(N,ee),We=Zt(N,ee),et=U.getImmediate({optional:!0});et&&We.append("x-firebase-client",et.getPlatformInfoString());const Ut={method:"POST",headers:We,body:JSON.stringify({installation:{sdkVersion:Z}})},ln=yield Qt(()=>fetch(_e,Ut));if(ln.ok)return nt(yield ln.json());throw yield kt("Generate Auth Token",ln)})).apply(this,arguments)}function he(N,{fid:U}){return`${Be(N)}/${U}/authTokens:generate`}function Re(N){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,q.Z)(function*(N,U=!1){let ee;const _e=yield $e(N.appConfig,et=>{if(!yt(et))throw Me.create("not-registered");const It=et.authToken;if(!U&&dn(It))return et;if(1===It.requestStatus)return ee=Ue(N,U),et;{if(!navigator.onLine)throw Me.create("app-offline");const Ut=pn(et);return ee=ae(N,Ut),Ut}});return ee?yield ee:_e.authToken})).apply(this,arguments)}function Ue(N,U){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,q.Z)(function*(N,U){let ee=yield z(N.appConfig);for(;1===ee.authToken.requestStatus;)yield nr(100),ee=yield z(N.appConfig);const _e=ee.authToken;return 0===_e.requestStatus?Re(N,U):_e})).apply(this,arguments)}function z(N){return $e(N,U=>{if(!yt(U))throw Me.create("not-registered");return function(N){return 1===N.requestStatus&&N.requestTime+1e4<Date.now()}(U.authToken)?Object.assign(Object.assign({},U),{authToken:{requestStatus:0}}):U})}function ae(N,U){return Je.apply(this,arguments)}function Je(){return(Je=(0,q.Z)(function*(N,U){try{const ee=yield Rn(N,U),_e=Object.assign(Object.assign({},U),{authToken:ee});return yield Ft(N.appConfig,_e),ee}catch(ee){if(!Se(ee)||401!==ee.customData.serverCode&&404!==ee.customData.serverCode){const _e=Object.assign(Object.assign({},U),{authToken:{requestStatus:0}});yield Ft(N.appConfig,_e)}else yield yr(N.appConfig);throw ee}})).apply(this,arguments)}function yt(N){return void 0!==N&&2===N.registrationStatus}function dn(N){return 2===N.requestStatus&&!function(N){const U=Date.now();return U<N.creationTime||N.creationTime+N.expiresIn<U+36e5}(N)}function pn(N){const U={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},N),{authToken:U})}function Fr(){return(Fr=(0,q.Z)(function*(N){const U=N,{installationEntry:ee,registrationPromise:_e}=yield me(U.appConfig);return _e?_e.catch(console.error):Re(U).catch(console.error),ee.fid})).apply(this,arguments)}function Jr(){return(Jr=(0,q.Z)(function*(N,U=!1){const ee=N;return yield Ki(ee.appConfig),(yield Re(ee,U)).token})).apply(this,arguments)}function Ki(N){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,q.Z)(function*(N){const{registrationPromise:U}=yield me(N);U&&(yield U)})).apply(this,arguments)}function Gn(N){return Me.create("missing-app-config-values",{valueName:N})}const ri="installations";(0,Ce._registerComponent)(new ie.wA(ri,N=>{const U=N.getProvider("app").getImmediate();return{app:U,appConfig:function(N){if(!N||!N.options)throw Gn("App Configuration");if(!N.name)throw Gn("App Name");const U=["projectId","apiKey","appId"];for(const ee of U)if(!N.options[ee])throw Gn(ee);return{appName:N.name,projectId:N.options.projectId,apiKey:N.options.apiKey,appId:N.options.appId}}(U),platformLoggerProvider:(0,Ce._getProvider)(U,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,Ce._registerComponent)(new ie.wA("installations-internal",N=>{const U=N.getProvider("app").getImmediate(),ee=(0,Ce._getProvider)(U,ri).getImmediate();return{getId:()=>function(N){return Fr.apply(this,arguments)}(ee),getToken:We=>function(N){return Jr.apply(this,arguments)}(ee,We)}},"PRIVATE")),(0,Ce.registerVersion)(ve,J),(0,Ce.registerVersion)(ve,J,"esm2017");const ui="@firebase/remote-config",le=new ce.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ui{constructor(U,ee,_e,We){this.client=U,this.storage=ee,this.storageCache=_e,this.logger=We}isCachedDataFresh(U,ee){if(!ee)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const _e=Date.now()-ee,We=_e<=U;return this.logger.debug(`Config fetch cache check. Cache age millis: ${_e}. Cache max age millis (minimumFetchIntervalMillis setting): ${U}. Is cache hit: ${We}.`),We}fetch(U){var ee=this;return(0,q.Z)(function*(){const[_e,We]=yield Promise.all([ee.storage.getLastSuccessfulFetchTimestampMillis(),ee.storage.getLastSuccessfulFetchResponse()]);if(We&&ee.isCachedDataFresh(U.cacheMaxAgeMillis,_e))return We;U.eTag=We&&We.eTag;const et=yield ee.client.fetch(U),It=[ee.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===et.status&&It.push(ee.storage.setLastSuccessfulFetchResponse(et)),yield Promise.all(It),et})()}}function li(N=navigator){return N.languages&&N.languages[0]||N.language}class wi{constructor(U,ee,_e,We,et,It){this.firebaseInstallations=U,this.sdkVersion=ee,this.namespace=_e,this.projectId=We,this.apiKey=et,this.appId=It}fetch(U){var ee=this;return(0,q.Z)(function*(){const[_e,We]=yield Promise.all([ee.firebaseInstallations.getId(),ee.firebaseInstallations.getToken()]),It=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${ee.projectId}/namespaces/${ee.namespace}:fetch?key=${ee.apiKey}`,Ut={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":U.eTag||"*"},ln={sdk_version:ee.sdkVersion,app_instance_id:_e,app_instance_id_token:We,app_id:ee.appId,language_code:li()},tr={method:"POST",headers:Ut,body:JSON.stringify(ln)},Wr=fetch(It,tr),Oi=new Promise(($o,mo)=>{U.signal.addEventListener(()=>{const Qo=new Error("The operation was aborted.");Qo.name="AbortError",mo(Qo)})});let ro;try{yield Promise.race([Wr,Oi]),ro=yield Wr}catch($o){let mo="fetch-client-network";throw"AbortError"===$o.name&&(mo="fetch-timeout"),le.create(mo,{originalErrorMessage:$o.message})}let ps=ro.status;const uu=ro.headers.get("ETag")||void 0;let Bo,io;if(200===ro.status){let $o;try{$o=yield ro.json()}catch(mo){throw le.create("fetch-client-parse",{originalErrorMessage:mo.message})}Bo=$o.entries,io=$o.state}if("INSTANCE_STATE_UNSPECIFIED"===io?ps=500:"NO_CHANGE"===io?ps=304:("NO_TEMPLATE"===io||"EMPTY_CONFIG"===io)&&(Bo={}),304!==ps&&200!==ps)throw le.create("fetch-status",{httpStatus:ps});return{status:ps,eTag:uu,config:Bo}})()}}class Pe{constructor(U,ee){this.client=U,this.storage=ee}fetch(U){var ee=this;return(0,q.Z)(function*(){const _e=(yield ee.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return ee.attemptFetch(U,_e)})()}attemptFetch(U,{throttleEndTimeMillis:ee,backoffCount:_e}){var We=this;return(0,q.Z)(function*(){yield function(N,U){return new Promise((ee,_e)=>{const We=Math.max(U-Date.now(),0),et=setTimeout(ee,We);N.addEventListener(()=>{clearTimeout(et),_e(le.create("fetch-throttle",{throttleEndTimeMillis:U}))})})}(U.signal,ee);try{const et=yield We.client.fetch(U);return yield We.storage.deleteThrottleMetadata(),et}catch(et){if(!function(N){if(!(N instanceof ce.ZR&&N.customData))return!1;const U=Number(N.customData.httpStatus);return 429===U||500===U||503===U||504===U}(et))throw et;const It={throttleEndTimeMillis:Date.now()+(0,ce.$s)(_e),backoffCount:_e+1};return yield We.storage.setThrottleMetadata(It),We.attemptFetch(U,It)}})()}}class gt{constructor(U,ee,_e,We,et){this.app=U,this._client=ee,this._storageCache=_e,this._storage=We,this._logger=et,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Tt(N,U){const ee=N.target.error||void 0;return le.create(U,{originalErrorMessage:ee&&ee.message})}const Gt="app_namespace_store";class hi{constructor(U,ee,_e,We=function(){return new Promise((N,U)=>{try{const ee=indexedDB.open("firebase_remote_config",1);ee.onerror=_e=>{U(Tt(_e,"storage-open"))},ee.onsuccess=_e=>{N(_e.target.result)},ee.onupgradeneeded=_e=>{const We=_e.target.result;switch(_e.oldVersion){case 0:We.createObjectStore(Gt,{keyPath:"compositeKey"})}}}catch(ee){U(le.create("storage-open",{originalErrorMessage:ee}))}})}()){this.appId=U,this.appName=ee,this.namespace=_e,this.openDbPromise=We}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(U){return this.set("last_fetch_status",U)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(U){return this.set("last_successful_fetch_timestamp_millis",U)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(U){return this.set("last_successful_fetch_response",U)}getActiveConfig(){return this.get("active_config")}setActiveConfig(U){return this.set("active_config",U)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(U){return this.set("active_config_etag",U)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(U){return this.set("throttle_metadata",U)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(U){var ee=this;return(0,q.Z)(function*(){const _e=yield ee.openDbPromise;return new Promise((We,et)=>{const Ut=_e.transaction([Gt],"readonly").objectStore(Gt),ln=ee.createCompositeKey(U);try{const tr=Ut.get(ln);tr.onerror=Wr=>{et(Tt(Wr,"storage-get"))},tr.onsuccess=Wr=>{const Oi=Wr.target.result;We(Oi?Oi.value:void 0)}}catch(tr){et(le.create("storage-get",{originalErrorMessage:tr&&tr.message}))}})})()}set(U,ee){var _e=this;return(0,q.Z)(function*(){const We=yield _e.openDbPromise;return new Promise((et,It)=>{const ln=We.transaction([Gt],"readwrite").objectStore(Gt),tr=_e.createCompositeKey(U);try{const Wr=ln.put({compositeKey:tr,value:ee});Wr.onerror=Oi=>{It(Tt(Oi,"storage-set"))},Wr.onsuccess=()=>{et()}}catch(Wr){It(le.create("storage-set",{originalErrorMessage:Wr&&Wr.message}))}})})()}delete(U){var ee=this;return(0,q.Z)(function*(){const _e=yield ee.openDbPromise;return new Promise((We,et)=>{const Ut=_e.transaction([Gt],"readwrite").objectStore(Gt),ln=ee.createCompositeKey(U);try{const tr=Ut.delete(ln);tr.onerror=Wr=>{et(Tt(Wr,"storage-delete"))},tr.onsuccess=()=>{We()}}catch(tr){et(le.create("storage-delete",{originalErrorMessage:tr&&tr.message}))}})})()}createCompositeKey(U){return[this.appId,this.appName,this.namespace,U].join()}}class cs{constructor(U){this.storage=U}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var U=this;return(0,q.Z)(function*(){const ee=U.storage.getLastFetchStatus(),_e=U.storage.getLastSuccessfulFetchTimestampMillis(),We=U.storage.getActiveConfig(),et=yield ee;et&&(U.lastFetchStatus=et);const It=yield _e;It&&(U.lastSuccessfulFetchTimestampMillis=It);const Ut=yield We;Ut&&(U.activeConfig=Ut)})()}setLastFetchStatus(U){return this.lastFetchStatus=U,this.storage.setLastFetchStatus(U)}setLastSuccessfulFetchTimestampMillis(U){return this.lastSuccessfulFetchTimestampMillis=U,this.storage.setLastSuccessfulFetchTimestampMillis(U)}setActiveConfig(U){return this.activeConfig=U,this.storage.setActiveConfig(U)}}function ss(){return ms.apply(this,arguments)}function ms(){return(ms=(0,q.Z)(function*(){if(!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch(N){return!1}})).apply(this,arguments)}(0,Ce._registerComponent)(new ie.wA("remote-config",function(U,{instanceIdentifier:ee}){const _e=U.getProvider("app").getImmediate(),We=U.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw le.create("registration-window");if(!(0,ce.hl)())throw le.create("indexed-db-unavailable");const{projectId:et,apiKey:It,appId:Ut}=_e.options;if(!et)throw le.create("registration-project-id");if(!It)throw le.create("registration-api-key");if(!Ut)throw le.create("registration-app-id");const ln=new hi(Ut,_e.name,ee=ee||"firebase"),tr=new cs(ln),Wr=new de.Yd(ui);Wr.logLevel=de.in.ERROR;const Oi=new wi(We,Ce.SDK_VERSION,ee,et,It,Ut),ro=new Pe(Oi,ln),ps=new Ui(ro,ln,tr,Wr),uu=new gt(_e,ps,tr,ln,Wr);return function(N){const U=(0,ce.m9)(N);U._initializePromise||(U._initializePromise=U._storageCache.loadFromStorage().then(()=>{U._isInitializationComplete=!0}))}(uu),uu},"PUBLIC").setMultipleInstances(!0)),(0,Ce.registerVersion)(ui,"0.3.4"),(0,Ce.registerVersion)(ui,"0.3.4","esm2017");const qi="/firebase-messaging-sw.js",Vs="/firebase-cloud-messaging-push-scope",Js="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ci="google.c.a.c_id",_s="google.c.a.c_l",ii="google.c.a.ts",pi="google.c.a.e";var Pn=(()=>{return(N=Pn||(Pn={})).PUSH_RECEIVED="push-received",N.NOTIFICATION_CLICKED="notification-clicked",Pn;var N})();function Zi(N){const U=new Uint8Array(N);return btoa(String.fromCharCode(...U)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Co(N){const ee=(N+"=".repeat((4-N.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),_e=atob(ee),We=new Uint8Array(_e.length);for(let et=0;et<_e.length;++et)We[et]=_e.charCodeAt(et);return We}const Po="fcm_token_details_db",vs="fcm_token_object_Store";function ei(N){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,q.Z)(function*(N){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(et=>et.name).includes(Po))return null;let U=null;return(yield(0,Y.openDb)(Po,5,function(){var _e=(0,q.Z)(function*(We){var et;if(We.oldVersion<2||!We.objectStoreNames.contains(vs))return;const It=We.transaction.objectStore(vs),Ut=yield It.index("fcmSenderId").get(N);if(yield It.clear(),Ut)if(2===We.oldVersion){const ln=Ut;if(!ln.auth||!ln.p256dh||!ln.endpoint)return;U={token:ln.fcmToken,createTime:null!==(et=ln.createTime)&&void 0!==et?et:Date.now(),subscriptionOptions:{auth:ln.auth,p256dh:ln.p256dh,endpoint:ln.endpoint,swScope:ln.swScope,vapidKey:"string"==typeof ln.vapidKey?ln.vapidKey:Zi(ln.vapidKey)}}}else if(3===We.oldVersion){const ln=Ut;U={token:ln.fcmToken,createTime:ln.createTime,subscriptionOptions:{auth:Zi(ln.auth),p256dh:Zi(ln.p256dh),endpoint:ln.endpoint,swScope:ln.swScope,vapidKey:Zi(ln.vapidKey)}}}else if(4===We.oldVersion){const ln=Ut;U={token:ln.fcmToken,createTime:ln.createTime,subscriptionOptions:{auth:Zi(ln.auth),p256dh:Zi(ln.p256dh),endpoint:ln.endpoint,swScope:ln.swScope,vapidKey:Zi(ln.vapidKey)}}}});return function(We){return _e.apply(this,arguments)}}())).close(),yield(0,Y.deleteDb)(Po),yield(0,Y.deleteDb)("fcm_vapid_details_db"),yield(0,Y.deleteDb)("undefined"),na(U)?U:null})).apply(this,arguments)}function na(N){if(!N||!N.subscriptionOptions)return!1;const{subscriptionOptions:U}=N;return"number"==typeof N.createTime&&N.createTime>0&&"string"==typeof N.token&&N.token.length>0&&"string"==typeof U.auth&&U.auth.length>0&&"string"==typeof U.p256dh&&U.p256dh.length>0&&"string"==typeof U.endpoint&&U.endpoint.length>0&&"string"==typeof U.swScope&&U.swScope.length>0&&"string"==typeof U.vapidKey&&U.vapidKey.length>0}const ds="firebase-messaging-store";let gi=null;function P(){return gi||(gi=(0,Y.openDb)("firebase-messaging-database",1,N=>{switch(N.oldVersion){case 0:N.createObjectStore(ds)}})),gi}function Q(N){return k.apply(this,arguments)}function k(){return(k=(0,q.Z)(function*(N){const U=Fe(N),_e=yield(yield P()).transaction(ds).objectStore(ds).get(U);if(_e)return _e;{const We=yield ei(N.appConfig.senderId);if(We)return yield w(N,We),We}})).apply(this,arguments)}function w(N,U){return b.apply(this,arguments)}function b(){return(b=(0,q.Z)(function*(N,U){const ee=Fe(N),We=(yield P()).transaction(ds,"readwrite");return yield We.objectStore(ds).put(U,ee),yield We.complete,U})).apply(this,arguments)}function S(N){return $.apply(this,arguments)}function $(){return($=(0,q.Z)(function*(N){const U=Fe(N),_e=(yield P()).transaction(ds,"readwrite");yield _e.objectStore(ds).delete(U),yield _e.complete})).apply(this,arguments)}function Fe({appConfig:N}){return N.appId}const un=new ce.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Yn(N,U){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,q.Z)(function*(N,U){const ee=yield bs(N),_e=In(U),We={method:"POST",headers:ee,body:JSON.stringify(_e)};let et;try{et=yield(yield fetch(Nr(N.appConfig),We)).json()}catch(It){throw un.create("token-subscribe-failed",{errorInfo:It})}if(et.error)throw un.create("token-subscribe-failed",{errorInfo:et.error.message});if(!et.token)throw un.create("token-subscribe-no-token");return et.token})).apply(this,arguments)}function hr(N,U){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,q.Z)(function*(N,U){const ee=yield bs(N),_e=In(U.subscriptionOptions),We={method:"PATCH",headers:ee,body:JSON.stringify(_e)};let et;try{et=yield(yield fetch(`${Nr(N.appConfig)}/${U.token}`,We)).json()}catch(It){throw un.create("token-update-failed",{errorInfo:It})}if(et.error)throw un.create("token-update-failed",{errorInfo:et.error.message});if(!et.token)throw un.create("token-update-no-token");return et.token})).apply(this,arguments)}function di(N,U){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,q.Z)(function*(N,U){const _e={method:"DELETE",headers:yield bs(N)};try{const et=yield(yield fetch(`${Nr(N.appConfig)}/${U}`,_e)).json();if(et.error)throw un.create("token-unsubscribe-failed",{errorInfo:et.error.message})}catch(We){throw un.create("token-unsubscribe-failed",{errorInfo:We})}})).apply(this,arguments)}function Nr({projectId:N}){return`https://fcmregistrations.googleapis.com/v1/projects/${N}/registrations`}function bs(N){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,q.Z)(function*({appConfig:N,installations:U}){const ee=yield U.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":N.apiKey,"x-goog-firebase-installations-auth":`FIS ${ee}`})})).apply(this,arguments)}function In({p256dh:N,auth:U,endpoint:ee,vapidKey:_e}){const We={web:{endpoint:ee,auth:U,p256dh:N}};return _e!==Js&&(We.web.applicationPubKey=_e),We}const Es=6048e5;function ko(N){return Go.apply(this,arguments)}function Go(){return(Go=(0,q.Z)(function*(N){const U=yield Sa(N.swRegistration,N.vapidKey),ee={vapidKey:N.vapidKey,swScope:N.swRegistration.scope,endpoint:U.endpoint,auth:Zi(U.getKey("auth")),p256dh:Zi(U.getKey("p256dh"))},_e=yield Q(N.firebaseDependencies);if(_e){if(Lo(_e.subscriptionOptions,ee))return Date.now()>=_e.createTime+Es?Fo(N,{token:_e.token,createTime:Date.now(),subscriptionOptions:ee}):_e.token;try{yield di(N.firebaseDependencies,_e.token)}catch(We){console.warn(We)}return ht(N.firebaseDependencies,ee)}return ht(N.firebaseDependencies,ee)})).apply(this,arguments)}function ra(N){return ho.apply(this,arguments)}function ho(){return(ho=(0,q.Z)(function*(N){const U=yield Q(N.firebaseDependencies);U&&(yield di(N.firebaseDependencies,U.token),yield S(N.firebaseDependencies));const ee=yield N.swRegistration.pushManager.getSubscription();return!ee||ee.unsubscribe()})).apply(this,arguments)}function Fo(N,U){return To.apply(this,arguments)}function To(){return(To=(0,q.Z)(function*(N,U){try{const ee=yield hr(N.firebaseDependencies,U),_e=Object.assign(Object.assign({},U),{token:ee,createTime:Date.now()});return yield w(N.firebaseDependencies,_e),ee}catch(ee){throw yield ra(N),ee}})).apply(this,arguments)}function ht(N,U){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,q.Z)(function*(N,U){const _e={token:yield Yn(N,U),createTime:Date.now(),subscriptionOptions:U};return yield w(N,_e),_e.token})).apply(this,arguments)}function Sa(N,U){return si.apply(this,arguments)}function si(){return(si=(0,q.Z)(function*(N,U){return(yield N.pushManager.getSubscription())||N.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Co(U)})})).apply(this,arguments)}function Lo(N,U){return U.vapidKey===N.vapidKey&&U.endpoint===N.endpoint&&U.auth===N.auth&&U.p256dh===N.p256dh}function Vo(N){const U={from:N.from,collapseKey:N.collapse_key,messageId:N.fcmMessageId};return function(N,U){if(!U.notification)return;N.notification={};const ee=U.notification.title;ee&&(N.notification.title=ee);const _e=U.notification.body;_e&&(N.notification.body=_e);const We=U.notification.image;We&&(N.notification.image=We)}(U,N),function(N,U){!U.data||(N.data=U.data)}(U,N),function(N,U){if(!U.fcmOptions)return;N.fcmOptions={};const ee=U.fcmOptions.link;ee&&(N.fcmOptions.link=ee);const _e=U.fcmOptions.analytics_label;_e&&(N.fcmOptions.analyticsLabel=_e)}(U,N),U}function v(N){return"object"==typeof N&&!!N&&ci in N}function R(N,U){const ee=[];for(let _e=0;_e<N.length;_e++)ee.push(N.charAt(_e)),_e<U.length&&ee.push(U.charAt(_e));return ee.join("")}function se(N){return un.create("missing-app-config-values",{valueName:N})}R("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),R("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class pe{constructor(U,ee,_e){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const We=function(N){if(!N||!N.options)throw se("App Configuration Object");if(!N.name)throw se("App Name");const U=["projectId","apiKey","appId","messagingSenderId"],{options:ee}=N;for(const _e of U)if(!ee[_e])throw se(_e);return{appName:N.name,projectId:ee.projectId,apiKey:ee.apiKey,appId:ee.appId,senderId:ee.messagingSenderId}}(U);this.firebaseDependencies={app:U,appConfig:We,installations:ee,analyticsProvider:_e}}_delete(){return Promise.resolve()}}function we(N){return He.apply(this,arguments)}function He(){return(He=(0,q.Z)(function*(N){try{N.swRegistration=yield navigator.serviceWorker.register(qi,{scope:Vs}),N.swRegistration.update().catch(()=>{})}catch(U){throw un.create("failed-service-worker-registration",{browserErrorMessage:U.message})}})).apply(this,arguments)}function dt(N,U){return bt.apply(this,arguments)}function bt(){return(bt=(0,q.Z)(function*(N,U){if(!U&&!N.swRegistration&&(yield we(N)),U||!N.swRegistration){if(!(U instanceof ServiceWorkerRegistration))throw un.create("invalid-sw-registration");N.swRegistration=U}})).apply(this,arguments)}function zt(N,U){return jn.apply(this,arguments)}function jn(){return(jn=(0,q.Z)(function*(N,U){U?N.vapidKey=U:N.vapidKey||(N.vapidKey=Js)})).apply(this,arguments)}function vn(){return(vn=(0,q.Z)(function*(N,U){if(!navigator)throw un.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw un.create("permission-blocked");return yield zt(N,null==U?void 0:U.vapidKey),yield dt(N,null==U?void 0:U.serviceWorkerRegistration),ko(N)})).apply(this,arguments)}function Fn(N,U,ee){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,q.Z)(function*(N,U,ee){const _e=xr(U);(yield N.firebaseDependencies.analyticsProvider.get()).logEvent(_e,{message_id:ee[ci],message_name:ee[_s],message_time:ee[ii],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function xr(N){switch(N){case Pn.NOTIFICATION_CLICKED:return"notification_open";case Pn.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ci(){return(Ci=(0,q.Z)(function*(N,U){const ee=U.data;if(!ee.isFirebaseMessaging)return;N.onMessageHandler&&ee.messageType===Pn.PUSH_RECEIVED&&("function"==typeof N.onMessageHandler?N.onMessageHandler(Vo(ee)):N.onMessageHandler.next(Vo(ee)));const _e=ee.data;v(_e)&&"1"===_e[pi]&&(yield Fn(N,ee.messageType,_e))})).apply(this,arguments)}const mi="@firebase/messaging";function Bs(){return fi.apply(this,arguments)}function fi(){return(fi=(0,q.Z)(function*(){try{yield(0,ce.eu)()}catch(N){return!1}return"undefined"!=typeof window&&(0,ce.hl)()&&(0,ce.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,Ce._registerComponent)(new ie.wA("messaging",N=>{const U=new pe(N.getProvider("app").getImmediate(),N.getProvider("installations-internal").getImmediate(),N.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",ee=>function(N,U){return Ci.apply(this,arguments)}(U,ee)),U},"PUBLIC")),(0,Ce._registerComponent)(new ie.wA("messaging-internal",N=>{const U=N.getProvider("messaging").getImmediate();return{getToken:_e=>function(N,U){return vn.apply(this,arguments)}(U,_e)}},"PRIVATE")),(0,Ce.registerVersion)(mi,"0.9.8"),(0,Ce.registerVersion)(mi,"0.9.8","esm2017");const qn="analytics",Mi="firebase_id",$r="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Qr="https://www.googletagmanager.com/gtag/js",ni=new de.Yd("@firebase/analytics");function hs(N){return Promise.all(N.map(U=>U.catch(ee=>ee)))}function eo(N,U){const ee=document.createElement("script");ee.src=`${Qr}?l=${N}&id=${U}`,ee.async=!0,document.head.appendChild(ee)}function ws(N,U,ee,_e,We,et){return _i.apply(this,arguments)}function _i(){return(_i=(0,q.Z)(function*(N,U,ee,_e,We,et){const It=_e[We];try{if(It)yield U[It];else{const ln=(yield hs(ee)).find(tr=>tr.measurementId===We);ln&&(yield U[ln.appId])}}catch(Ut){ni.error(Ut)}N("config",We,et)})).apply(this,arguments)}function to(N,U,ee,_e,We){return As.apply(this,arguments)}function As(){return(As=(0,q.Z)(function*(N,U,ee,_e,We){try{let et=[];if(We&&We.send_to){let It=We.send_to;Array.isArray(It)||(It=[It]);const Ut=yield hs(ee);for(const ln of It){const tr=Ut.find(Oi=>Oi.measurementId===ln),Wr=tr&&U[tr.appId];if(!Wr){et=[];break}et.push(Wr)}}0===et.length&&(et=Object.values(U)),yield Promise.all(et),N("event",_e,We||{})}catch(et){ni.error(et)}})).apply(this,arguments)}function Mt(){const N=window.document.getElementsByTagName("script");for(const U of Object.values(N))if(U.src&&U.src.includes(Qr))return U;return null}const as=new ce.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),nu=new class{constructor(U={},ee=1e3){this.throttleMetadata=U,this.intervalMillis=ee}getThrottleMetadata(U){return this.throttleMetadata[U]}setThrottleMetadata(U,ee){this.throttleMetadata[U]=ee}deleteThrottleMetadata(U){delete this.throttleMetadata[U]}};function Bt(N){return new Headers({Accept:"application/json","x-goog-api-key":N})}function st(N){return _t.apply(this,arguments)}function _t(){return(_t=(0,q.Z)(function*(N){var U;const{appId:ee,apiKey:_e}=N,We={method:"GET",headers:Bt(_e)},et=$r.replace("{app-id}",ee),It=yield fetch(et,We);if(200!==It.status&&304!==It.status){let Ut="";try{const ln=yield It.json();(null===(U=ln.error)||void 0===U?void 0:U.message)&&(Ut=ln.error.message)}catch(ln){}throw as.create("config-fetch-failed",{httpStatus:It.status,responseMessage:Ut})}return It.json()})).apply(this,arguments)}function $i(N){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,q.Z)(function*(N,U=nu,ee){const{appId:_e,apiKey:We,measurementId:et}=N.options;if(!_e)throw as.create("no-app-id");if(!We){if(et)return{measurementId:et,appId:_e};throw as.create("no-api-key")}const It=U.getThrottleMetadata(_e)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ut=new al;return setTimeout((0,q.Z)(function*(){Ut.abort()}),void 0!==ee?ee:6e4),Ma({appId:_e,apiKey:We,measurementId:et},It,Ut,U)})).apply(this,arguments)}function Ma(N,U,ee){return _a.apply(this,arguments)}function _a(){return(_a=(0,q.Z)(function*(N,{throttleEndTimeMillis:U,backoffCount:ee},_e,We=nu){const{appId:et,measurementId:It}=N;try{yield dc(_e,U)}catch(Ut){if(It)return ni.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${It} provided in the "measurementId" field in the local Firebase config. [${Ut.message}]`),{appId:et,measurementId:It};throw Ut}try{const Ut=yield st(N);return We.deleteThrottleMetadata(et),Ut}catch(Ut){if(!ol(Ut)){if(We.deleteThrottleMetadata(et),It)return ni.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${It} provided in the "measurementId" field in the local Firebase config. [${Ut.message}]`),{appId:et,measurementId:It};throw Ut}const ln=503===Number(Ut.customData.httpStatus)?(0,ce.$s)(ee,We.intervalMillis,30):(0,ce.$s)(ee,We.intervalMillis),tr={throttleEndTimeMillis:Date.now()+ln,backoffCount:ee+1};return We.setThrottleMetadata(et,tr),ni.debug(`Calling attemptFetch again in ${ln} millis`),Ma(N,tr,_e,We)}})).apply(this,arguments)}function dc(N,U){return new Promise((ee,_e)=>{const We=Math.max(U-Date.now(),0),et=setTimeout(ee,We);N.addEventListener(()=>{clearTimeout(et),_e(as.create("fetch-throttle",{throttleEndTimeMillis:U}))})})}function ol(N){if(!(N instanceof ce.ZR&&N.customData))return!1;const U=Number(N.customData.httpStatus);return 429===U||500===U||503===U||504===U}class al{constructor(){this.listeners=[]}addEventListener(U){this.listeners.push(U)}abort(){this.listeners.forEach(U=>U())}}function Na(){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,q.Z)(function*(){if(!(0,ce.hl)())return ni.warn(as.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ce.eu)()}catch(N){return ni.warn(as.create("indexeddb-unavailable",{errorInfo:N}).message),!1}return!0})).apply(this,arguments)}function Ni(){return(Ni=(0,q.Z)(function*(N,U,ee,_e,We,et,It){var Ut;const ln=$i(N);ln.then(ps=>{ee[ps.measurementId]=ps.appId,N.options.measurementId&&ps.measurementId!==N.options.measurementId&&ni.warn(`The measurement ID in the local Firebase config (${N.options.measurementId}) does not match the measurement ID fetched from the server (${ps.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ps=>ni.error(ps)),U.push(ln);const tr=Na().then(ps=>{if(ps)return _e.getId()}),[Wr,Oi]=yield Promise.all([ln,tr]);Mt()||eo(et,Wr.measurementId),We("js",new Date);const ro=null!==(Ut=null==It?void 0:It.config)&&void 0!==Ut?Ut:{};return ro.origin="firebase",ro.update=!0,null!=Oi&&(ro[Mi]=Oi),We("config",Wr.measurementId,ro),Wr.measurementId})).apply(this,arguments)}class iu{constructor(U){this.app=U}_delete(){return delete po[this.app.options.appId],Promise.resolve()}}let po={},A=[];const T={};let V,X,I="dataLayer",fe=!1;function wt(N,U,ee){!function(){const N=[];if((0,ce.ru)()&&N.push("This is a browser extension environment."),(0,ce.zI)()||N.push("Cookies are not available."),N.length>0){const U=N.map((_e,We)=>`(${We+1}) ${_e}`).join(" "),ee=as.create("invalid-analytics-context",{errorInfo:U});ni.warn(ee.message)}}();const _e=N.options.appId;if(!_e)throw as.create("no-app-id");if(!N.options.apiKey){if(!N.options.measurementId)throw as.create("no-api-key");ni.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${N.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=po[_e])throw as.create("already-exists",{id:_e});if(!fe){!function(N){let U=[];Array.isArray(window[N])?U=window[N]:window[N]=U}(I);const{wrappedGtag:et,gtagCore:It}=function(N,U,ee,_e,We){let et=function(...It){window[_e].push(arguments)};return window[We]&&"function"==typeof window[We]&&(et=window[We]),window[We]=function(N,U,ee,_e){function et(){return(et=(0,q.Z)(function*(It,Ut,ln){try{"event"===It?yield to(N,U,ee,Ut,ln):"config"===It?yield ws(N,U,ee,_e,Ut,ln):N("set",Ut)}catch(tr){ni.error(tr)}})).apply(this,arguments)}return function(It,Ut,ln){return et.apply(this,arguments)}}(et,N,U,ee),{gtagCore:et,wrappedGtag:window[We]}}(po,A,T,I,"gtag");X=et,V=It,fe=!0}return po[_e]=function(N,U,ee,_e,We,et,It){return Ni.apply(this,arguments)}(N,A,T,U,V,I,ee),new iu(N)}function wn(){return(wn=(0,q.Z)(function*(N,U,ee,_e,We){if(We&&We.global)N("event",ee,_e);else{const et=yield U;N("event",ee,Object.assign(Object.assign({},_e),{send_to:et}))}})).apply(this,arguments)}function Zo(){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,q.Z)(function*(){if((0,ce.ru)()||!(0,ce.zI)()||!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch(N){return!1}})).apply(this,arguments)}const va="@firebase/analytics";(0,Ce._registerComponent)(new ie.wA(qn,(U,{options:ee})=>wt(U.getProvider("app").getImmediate(),U.getProvider("installations-internal").getImmediate(),ee),"PUBLIC")),(0,Ce._registerComponent)(new ie.wA("analytics-internal",function(U){try{const ee=U.getProvider(qn).getImmediate();return{logEvent:(_e,We,et)=>function(N,U,ee,_e){N=(0,ce.m9)(N),function(N,U,ee,_e,We){return wn.apply(this,arguments)}(X,po[N.app.options.appId],U,ee,_e).catch(We=>ni.error(We))}(ee,_e,We,et)}}catch(ee){throw as.create("interop-component-reg-failed",{reason:ee})}},"PRIVATE")),(0,Ce.registerVersion)(va,"0.7.5"),(0,Ce.registerVersion)(va,"0.7.5","esm2017");var ul=F(6511),Va=F(8846),Au=F(6286),ll=F(8602),Ml=F(1557);const Ru=new m.Version("7.2.1"),Mu="__angularfire_symbol__analyticsIsSupportedValue",Nu="__angularfire_symbol__analyticsIsSupported",xi="__angularfire_symbol__remoteConfigIsSupportedValue",xu="__angularfire_symbol__remoteConfigIsSupported",vi="__angularfire_symbol__messagingIsSupportedValue",Ti="__angularfire_symbol__messagingIsSupported";function go(N,U,ee){if(U){if(1===U.length)return U[0];const et=U.filter(It=>It.app===ee);if(1===et.length)return et[0]}return ee.container.getProvider(N).getImmediate({optional:!0})}globalThis[Nu]||(globalThis[Nu]=Zo().then(N=>globalThis[Mu]=N).catch(()=>globalThis[Mu]=!1)),globalThis[Ti]||(globalThis[Ti]=Bs().then(N=>globalThis[vi]=N).catch(()=>globalThis[vi]=!1)),globalThis[xu]||(globalThis[xu]=ss().then(N=>globalThis[xi]=N).catch(()=>globalThis[xi]=!1));const ja=(N,U)=>{const ee=U?[U]:(0,j.C6)(),_e=[];return ee.forEach(We=>{We.container.getProvider(N).instances.forEach(It=>{_e.includes(It)||_e.push(It)})}),_e};function Uo(){}class ia{constructor(U,ee=ul.N){this.zone=U,this.delegate=ee}now(){return this.delegate.now()}schedule(U,ee,_e){const We=this.zone;return this.delegate.schedule(function(It){We.runGuarded(()=>{U.apply(this,[It])})},ee,_e)}}class ou{constructor(U){this.zone=U,this.task=null}call(U,ee){const _e=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Uo,{},Uo,Uo)),ee.pipe((0,Au.b)({next:_e,complete:_e,error:_e})).subscribe(U).add(_e)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let pc=(()=>{class N{constructor(ee){this.ngZone=ee,this.outsideAngular=ee.runOutsideAngular(()=>new ia(Zone.current)),this.insideAngular=ee.run(()=>new ia(Zone.current,Va.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return N.\u0275fac=function(ee){return new(ee||N)(m.\u0275\u0275inject(m.NgZone))},N.\u0275prov=m.\u0275\u0275defineInjectable({token:N,factory:N.\u0275fac,providedIn:"root"}),N})();function sa(){const N=globalThis.\u0275AngularFireScheduler;if(!N)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return N}function cl(N){return N.pipe((0,ll.QV)(sa().outsideAngular))}function au(N){return sa(),function(N){return function(ee){return(ee=ee.lift(new ou(N.ngZone))).pipe((0,Ml.R)(N.outsideAngular),(0,ll.QV)(N.insideAngular))}}(sa())(N)}},3324:(Nt,je,F)=>{"use strict";F.d(je,{Fj:()=>Ye,NI:()=>hn,u:()=>qe,cw:()=>Gn,sg:()=>Ui,u5:()=>ds,nD:()=>os,qQ:()=>ys,Cf:()=>Ie,JU:()=>Y,a5:()=>ir,JJ:()=>dr,JL:()=>Ft,F:()=>sr,On:()=>Un,YN:()=>Vr,wV:()=>wr,UX:()=>gi,Q7:()=>ii,EJ:()=>Zn,kI:()=>Se,_Y:()=>an,Kr:()=>wo});var m=F(2741),j=F(6274),q=F(2850),Ce=F(714),ce=F(8561);let ie=(()=>{class w{constructor(S,$){this._renderer=S,this._elementRef=$,this.onChange=Fe=>{},this.onTouched=()=>{}}setProperty(S,$){this._renderer.setProperty(this._elementRef.nativeElement,S,$)}registerOnTouched(S){this.onTouched=S}registerOnChange(S){this.onChange=S}setDisabledState(S){this.setProperty("disabled",S)}}return w.\u0275fac=function(S){return new(S||w)(m.\u0275\u0275directiveInject(m.Renderer2),m.\u0275\u0275directiveInject(m.ElementRef))},w.\u0275dir=m.\u0275\u0275defineDirective({type:w}),w})(),de=(()=>{class w extends ie{}return w.\u0275fac=function(){let b;return function($){return(b||(b=m.\u0275\u0275getInheritedFactory(w)))($||w)}}(),w.\u0275dir=m.\u0275\u0275defineDirective({type:w,features:[m.\u0275\u0275InheritDefinitionFeature]}),w})();const Y=new m.InjectionToken("NgValueAccessor"),re={provide:Y,useExisting:(0,m.forwardRef)(()=>Ye),multi:!0},ue=new m.InjectionToken("CompositionEventMode");let Ye=(()=>{class w extends ie{constructor(S,$,Fe){super(S,$),this._compositionMode=Fe,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const w=(0,j.q)()?(0,j.q)().getUserAgent():"";return/android (\d+)/.test(w.toLowerCase())}())}writeValue(S){this.setProperty("value",null==S?"":S)}_handleInput(S){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(S)}_compositionStart(){this._composing=!0}_compositionEnd(S){this._composing=!1,this._compositionMode&&this.onChange(S)}}return w.\u0275fac=function(S){return new(S||w)(m.\u0275\u0275directiveInject(m.Renderer2),m.\u0275\u0275directiveInject(m.ElementRef),m.\u0275\u0275directiveInject(ue,8))},w.\u0275dir=m.\u0275\u0275defineDirective({type:w,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(S,$){1&S&&m.\u0275\u0275listener("input",function(vt){return $._handleInput(vt.target.value)})("blur",function(){return $.onTouched()})("compositionstart",function(){return $._compositionStart()})("compositionend",function(vt){return $._compositionEnd(vt.target.value)})},features:[m.\u0275\u0275ProvidersFeature([re]),m.\u0275\u0275InheritDefinitionFeature]}),w})();function ze(w){return null==w||0===w.length}function Xe(w){return null!=w&&"number"==typeof w.length}const Ie=new m.InjectionToken("NgValidators"),Te=new m.InjectionToken("NgAsyncValidators"),Me=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Se{static min(b){return Be(b)}static max(b){return w=b,b=>{if(ze(b.value)||ze(w))return null;const S=parseFloat(b.value);return!isNaN(S)&&S>w?{max:{max:w,actual:b.value}}:null};var w}static required(b){return kt(b)}static requiredTrue(b){return!0===b.value?null:{required:!0}}static email(b){return ze((w=b).value)||Me.test(w.value)?null:{email:!0};var w}static minLength(b){return w=b,b=>ze(b.value)||!Xe(b.value)?null:b.value.length<w?{minlength:{requiredLength:w,actualLength:b.value.length}}:null;var w}static maxLength(b){return Qt(b)}static pattern(b){return function(w){if(!w)return Lt;let b,S;return"string"==typeof w?(S="","^"!==w.charAt(0)&&(S+="^"),S+=w,"$"!==w.charAt(w.length-1)&&(S+="$"),b=new RegExp(S)):(S=w.toString(),b=w),$=>{if(ze($.value))return null;const Fe=$.value;return b.test(Fe)?null:{pattern:{requiredPattern:S,actualValue:Fe}}}}(b)}static nullValidator(b){return null}static compose(b){return Er(b)}static composeAsync(b){return $t(b)}}function Be(w){return b=>{if(ze(b.value)||ze(w))return null;const S=parseFloat(b.value);return!isNaN(S)&&S<w?{min:{min:w,actual:b.value}}:null}}function kt(w){return ze(w.value)?{required:!0}:null}function Qt(w){return b=>Xe(b.value)&&b.value.length>w?{maxlength:{requiredLength:w,actualLength:b.value.length}}:null}function Lt(w){return null}function Ct(w){return null!=w}function rn(w){const b=(0,m.\u0275isPromise)(w)?(0,q.D)(w):w;return(0,m.\u0275isObservable)(b),b}function pt(w){let b={};return w.forEach(S=>{b=null!=S?Object.assign(Object.assign({},b),S):b}),0===Object.keys(b).length?null:b}function nr(w,b){return b.map(S=>S(w))}function lr(w){return w.map(b=>function(w){return!w.validate}(b)?b:S=>b.validate(S))}function Er(w){if(!w)return null;const b=w.filter(Ct);return 0==b.length?null:function(S){return pt(nr(S,b))}}function Jt(w){return null!=w?Er(lr(w)):null}function $t(w){if(!w)return null;const b=w.filter(Ct);return 0==b.length?null:function(S){const $=nr(S,b).map(rn);return(0,Ce.D)($).pipe((0,ce.U)(pt))}}function kn(w){return null!=w?$t(lr(w)):null}function rr(w,b){return null===w?[b]:Array.isArray(w)?[...w,b]:[w,b]}function Cn(w){return w._rawValidators}function bn(w){return w._rawAsyncValidators}function Tr(w){return w?Array.isArray(w)?w:[w]:[]}function Xt(w,b){return Array.isArray(w)?w.includes(b):w===b}function Vn(w,b){const S=Tr(b);return Tr(w).forEach(Fe=>{Xt(S,Fe)||S.push(Fe)}),S}function Kt(w,b){return Tr(b).filter(S=>!Xt(w,S))}let gn=(()=>{class w{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(S){this._rawValidators=S||[],this._composedValidatorFn=Jt(this._rawValidators)}_setAsyncValidators(S){this._rawAsyncValidators=S||[],this._composedAsyncValidatorFn=kn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(S){this._onDestroyCallbacks.push(S)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(S=>S()),this._onDestroyCallbacks=[]}reset(S){this.control&&this.control.reset(S)}hasError(S,$){return!!this.control&&this.control.hasError(S,$)}getError(S,$){return this.control?this.control.getError(S,$):null}}return w.\u0275fac=function(S){return new(S||w)},w.\u0275dir=m.\u0275\u0275defineDirective({type:w}),w})(),Sn=(()=>{class w extends gn{get formDirective(){return null}get path(){return null}}return w.\u0275fac=function(){let b;return function($){return(b||(b=m.\u0275\u0275getInheritedFactory(w)))($||w)}}(),w.\u0275dir=m.\u0275\u0275defineDirective({type:w,features:[m.\u0275\u0275InheritDefinitionFeature]}),w})();class ir extends gn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class _n{constructor(b){this._cd=b}is(b){var S,$,Fe;return"submitted"===b?!!(null===(S=this._cd)||void 0===S?void 0:S.submitted):!!(null===(Fe=null===($=this._cd)||void 0===$?void 0:$.control)||void 0===Fe?void 0:Fe[b])}}let dr=(()=>{class w extends _n{constructor(S){super(S)}}return w.\u0275fac=function(S){return new(S||w)(m.\u0275\u0275directiveInject(ir,2))},w.\u0275dir=m.\u0275\u0275defineDirective({type:w,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(S,$){2&S&&m.\u0275\u0275classProp("ng-untouched",$.is("untouched"))("ng-touched",$.is("touched"))("ng-pristine",$.is("pristine"))("ng-dirty",$.is("dirty"))("ng-valid",$.is("valid"))("ng-invalid",$.is("invalid"))("ng-pending",$.is("pending"))},features:[m.\u0275\u0275InheritDefinitionFeature]}),w})(),Ft=(()=>{class w extends _n{constructor(S){super(S)}}return w.\u0275fac=function(S){return new(S||w)(m.\u0275\u0275directiveInject(Sn,10))},w.\u0275dir=m.\u0275\u0275defineDirective({type:w,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(S,$){2&S&&m.\u0275\u0275classProp("ng-untouched",$.is("untouched"))("ng-touched",$.is("touched"))("ng-pristine",$.is("pristine"))("ng-dirty",$.is("dirty"))("ng-valid",$.is("valid"))("ng-invalid",$.is("invalid"))("ng-pending",$.is("pending"))("ng-submitted",$.is("submitted"))},features:[m.\u0275\u0275InheritDefinitionFeature]}),w})();function Kn(w,b){return[...b.path,w]}function Tn(w,b){ye(w,b),b.valueAccessor.writeValue(w.value),function(w,b){b.valueAccessor.registerOnChange(S=>{w._pendingValue=S,w._pendingChange=!0,w._pendingDirty=!0,"change"===w.updateOn&&Ue(w,b)})}(w,b),function(w,b){const S=($,Fe)=>{b.valueAccessor.writeValue($),Fe&&b.viewToModelUpdate($)};w.registerOnChange(S),b._registerOnDestroy(()=>{w._unregisterOnChange(S)})}(w,b),function(w,b){b.valueAccessor.registerOnTouched(()=>{w._pendingTouched=!0,"blur"===w.updateOn&&w._pendingChange&&Ue(w,b),"submit"!==w.updateOn&&w.markAsTouched()})}(w,b),function(w,b){if(b.valueAccessor.setDisabledState){const S=$=>{b.valueAccessor.setDisabledState($)};w.registerOnDisabledChange(S),b._registerOnDestroy(()=>{w._unregisterOnDisabledChange(S)})}}(w,b)}function Yt(w,b,S=!0){const $=()=>{};b.valueAccessor&&(b.valueAccessor.registerOnChange($),b.valueAccessor.registerOnTouched($)),he(w,b),w&&(b._invokeOnDestroyCallbacks(),w._registerOnCollectionChange(()=>{}))}function xn(w,b){w.forEach(S=>{S.registerOnValidatorChange&&S.registerOnValidatorChange(b)})}function ye(w,b){const S=Cn(w);null!==b.validator?w.setValidators(rr(S,b.validator)):"function"==typeof S&&w.setValidators([S]);const $=bn(w);null!==b.asyncValidator?w.setAsyncValidators(rr($,b.asyncValidator)):"function"==typeof $&&w.setAsyncValidators([$]);const Fe=()=>w.updateValueAndValidity();xn(b._rawValidators,Fe),xn(b._rawAsyncValidators,Fe)}function he(w,b){let S=!1;if(null!==w){if(null!==b.validator){const Fe=Cn(w);if(Array.isArray(Fe)&&Fe.length>0){const vt=Fe.filter(un=>un!==b.validator);vt.length!==Fe.length&&(S=!0,w.setValidators(vt))}}if(null!==b.asyncValidator){const Fe=bn(w);if(Array.isArray(Fe)&&Fe.length>0){const vt=Fe.filter(un=>un!==b.asyncValidator);vt.length!==Fe.length&&(S=!0,w.setAsyncValidators(vt))}}}const $=()=>{};return xn(b._rawValidators,$),xn(b._rawAsyncValidators,$),S}function Ue(w,b){w._pendingDirty&&w.markAsDirty(),w.setValue(w._pendingValue,{emitModelToViewChange:!1}),b.viewToModelUpdate(w._pendingValue),w._pendingChange=!1}function z(w,b){ye(w,b)}function dn(w,b){if(!w.hasOwnProperty("model"))return!1;const S=w.model;return!!S.isFirstChange()||!Object.is(b,S.currentValue)}function pn(w,b){w._syncPendingControls(),b.forEach(S=>{const $=S.control;"submit"===$.updateOn&&$._pendingChange&&(S.viewToModelUpdate($._pendingValue),$._pendingChange=!1)})}function Ar(w,b){if(!b)return null;let S,$,Fe;return Array.isArray(b),b.forEach(vt=>{vt.constructor===Ye?S=vt:function(w){return Object.getPrototypeOf(w.constructor)===de}(vt)?$=vt:Fe=vt}),Fe||$||S||null}function Rr(w,b){const S=w.indexOf(b);S>-1&&w.splice(S,1)}const Mn="VALID",Jr="INVALID",Ki="PENDING",Dr="DISABLED";function cr(w){return(er(w)?w.validators:w)||null}function ai(w){return Array.isArray(w)?Jt(w):w||null}function Ur(w,b){return(er(b)?b.asyncValidators:w)||null}function Lr(w){return Array.isArray(w)?kn(w):w||null}function er(w){return null!=w&&!Array.isArray(w)&&"object"==typeof w}class St{constructor(b,S){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=b,this._rawAsyncValidators=S,this._composedValidatorFn=ai(this._rawValidators),this._composedAsyncValidatorFn=Lr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(b){this._rawValidators=this._composedValidatorFn=b}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(b){this._rawAsyncValidators=this._composedAsyncValidatorFn=b}get parent(){return this._parent}get valid(){return this.status===Mn}get invalid(){return this.status===Jr}get pending(){return this.status==Ki}get disabled(){return this.status===Dr}get enabled(){return this.status!==Dr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(b){this._rawValidators=b,this._composedValidatorFn=ai(b)}setAsyncValidators(b){this._rawAsyncValidators=b,this._composedAsyncValidatorFn=Lr(b)}addValidators(b){this.setValidators(Vn(b,this._rawValidators))}addAsyncValidators(b){this.setAsyncValidators(Vn(b,this._rawAsyncValidators))}removeValidators(b){this.setValidators(Kt(b,this._rawValidators))}removeAsyncValidators(b){this.setAsyncValidators(Kt(b,this._rawAsyncValidators))}hasValidator(b){return Xt(this._rawValidators,b)}hasAsyncValidator(b){return Xt(this._rawAsyncValidators,b)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(b={}){this.touched=!0,this._parent&&!b.onlySelf&&this._parent.markAsTouched(b)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(b=>b.markAllAsTouched())}markAsUntouched(b={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(S=>{S.markAsUntouched({onlySelf:!0})}),this._parent&&!b.onlySelf&&this._parent._updateTouched(b)}markAsDirty(b={}){this.pristine=!1,this._parent&&!b.onlySelf&&this._parent.markAsDirty(b)}markAsPristine(b={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(S=>{S.markAsPristine({onlySelf:!0})}),this._parent&&!b.onlySelf&&this._parent._updatePristine(b)}markAsPending(b={}){this.status=Ki,!1!==b.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!b.onlySelf&&this._parent.markAsPending(b)}disable(b={}){const S=this._parentMarkedDirty(b.onlySelf);this.status=Dr,this.errors=null,this._forEachChild($=>{$.disable(Object.assign(Object.assign({},b),{onlySelf:!0}))}),this._updateValue(),!1!==b.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},b),{skipPristineCheck:S})),this._onDisabledChange.forEach($=>$(!0))}enable(b={}){const S=this._parentMarkedDirty(b.onlySelf);this.status=Mn,this._forEachChild($=>{$.enable(Object.assign(Object.assign({},b),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:b.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},b),{skipPristineCheck:S})),this._onDisabledChange.forEach($=>$(!1))}_updateAncestors(b){this._parent&&!b.onlySelf&&(this._parent.updateValueAndValidity(b),b.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(b){this._parent=b}updateValueAndValidity(b={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Mn||this.status===Ki)&&this._runAsyncValidator(b.emitEvent)),!1!==b.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!b.onlySelf&&this._parent.updateValueAndValidity(b)}_updateTreeValidity(b={emitEvent:!0}){this._forEachChild(S=>S._updateTreeValidity(b)),this.updateValueAndValidity({onlySelf:!0,emitEvent:b.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Dr:Mn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(b){if(this.asyncValidator){this.status=Ki,this._hasOwnPendingAsyncValidator=!0;const S=rn(this.asyncValidator(this));this._asyncValidationSubscription=S.subscribe($=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors($,{emitEvent:b})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(b,S={}){this.errors=b,this._updateControlsErrors(!1!==S.emitEvent)}get(b){return function(w,b,S){if(null==b||(Array.isArray(b)||(b=b.split(".")),Array.isArray(b)&&0===b.length))return null;let $=w;return b.forEach(Fe=>{$=$ instanceof Gn?$.controls.hasOwnProperty(Fe)?$.controls[Fe]:null:$ instanceof ri&&$.at(Fe)||null}),$}(this,b)}getError(b,S){const $=S?this.get(S):this;return $&&$.errors?$.errors[b]:null}hasError(b,S){return!!this.getError(b,S)}get root(){let b=this;for(;b._parent;)b=b._parent;return b}_updateControlsErrors(b){this.status=this._calculateStatus(),b&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(b)}_initObservables(){this.valueChanges=new m.EventEmitter,this.statusChanges=new m.EventEmitter}_calculateStatus(){return this._allControlsDisabled()?Dr:this.errors?Jr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ki)?Ki:this._anyControlsHaveStatus(Jr)?Jr:Mn}_anyControlsHaveStatus(b){return this._anyControls(S=>S.status===b)}_anyControlsDirty(){return this._anyControls(b=>b.dirty)}_anyControlsTouched(){return this._anyControls(b=>b.touched)}_updatePristine(b={}){this.pristine=!this._anyControlsDirty(),this._parent&&!b.onlySelf&&this._parent._updatePristine(b)}_updateTouched(b={}){this.touched=this._anyControlsTouched(),this._parent&&!b.onlySelf&&this._parent._updateTouched(b)}_isBoxedValue(b){return"object"==typeof b&&null!==b&&2===Object.keys(b).length&&"value"in b&&"disabled"in b}_registerOnCollectionChange(b){this._onCollectionChange=b}_setUpdateStrategy(b){er(b)&&null!=b.updateOn&&(this._updateOn=b.updateOn)}_parentMarkedDirty(b){return!b&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class hn extends St{constructor(b=null,S,$){super(cr(S),Ur($,S)),this._onChange=[],this._applyFormState(b),this._setUpdateStrategy(S),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(b,S={}){this.value=this._pendingValue=b,this._onChange.length&&!1!==S.emitModelToViewChange&&this._onChange.forEach($=>$(this.value,!1!==S.emitViewToModelChange)),this.updateValueAndValidity(S)}patchValue(b,S={}){this.setValue(b,S)}reset(b=null,S={}){this._applyFormState(b),this.markAsPristine(S),this.markAsUntouched(S),this.setValue(this.value,S),this._pendingChange=!1}_updateValue(){}_anyControls(b){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(b){this._onChange.push(b)}_unregisterOnChange(b){Rr(this._onChange,b)}registerOnDisabledChange(b){this._onDisabledChange.push(b)}_unregisterOnDisabledChange(b){Rr(this._onDisabledChange,b)}_forEachChild(b){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(b){this._isBoxedValue(b)?(this.value=this._pendingValue=b.value,b.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=b}}class Gn extends St{constructor(b,S,$){super(cr(S),Ur($,S)),this.controls=b,this._initObservables(),this._setUpdateStrategy(S),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(b,S){return this.controls[b]?this.controls[b]:(this.controls[b]=S,S.setParent(this),S._registerOnCollectionChange(this._onCollectionChange),S)}addControl(b,S,$={}){this.registerControl(b,S),this.updateValueAndValidity({emitEvent:$.emitEvent}),this._onCollectionChange()}removeControl(b,S={}){this.controls[b]&&this.controls[b]._registerOnCollectionChange(()=>{}),delete this.controls[b],this.updateValueAndValidity({emitEvent:S.emitEvent}),this._onCollectionChange()}setControl(b,S,$={}){this.controls[b]&&this.controls[b]._registerOnCollectionChange(()=>{}),delete this.controls[b],S&&this.registerControl(b,S),this.updateValueAndValidity({emitEvent:$.emitEvent}),this._onCollectionChange()}contains(b){return this.controls.hasOwnProperty(b)&&this.controls[b].enabled}setValue(b,S={}){this._checkAllValuesPresent(b),Object.keys(b).forEach($=>{this._throwIfControlMissing($),this.controls[$].setValue(b[$],{onlySelf:!0,emitEvent:S.emitEvent})}),this.updateValueAndValidity(S)}patchValue(b,S={}){null!=b&&(Object.keys(b).forEach($=>{this.controls[$]&&this.controls[$].patchValue(b[$],{onlySelf:!0,emitEvent:S.emitEvent})}),this.updateValueAndValidity(S))}reset(b={},S={}){this._forEachChild(($,Fe)=>{$.reset(b[Fe],{onlySelf:!0,emitEvent:S.emitEvent})}),this._updatePristine(S),this._updateTouched(S),this.updateValueAndValidity(S)}getRawValue(){return this._reduceChildren({},(b,S,$)=>(b[$]=S instanceof hn?S.value:S.getRawValue(),b))}_syncPendingControls(){let b=this._reduceChildren(!1,(S,$)=>!!$._syncPendingControls()||S);return b&&this.updateValueAndValidity({onlySelf:!0}),b}_throwIfControlMissing(b){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[b])throw new Error(`Cannot find form control with name: ${b}.`)}_forEachChild(b){Object.keys(this.controls).forEach(S=>{const $=this.controls[S];$&&b($,S)})}_setUpControls(){this._forEachChild(b=>{b.setParent(this),b._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(b){for(const S of Object.keys(this.controls)){const $=this.controls[S];if(this.contains(S)&&b($))return!0}return!1}_reduceValue(){return this._reduceChildren({},(b,S,$)=>((S.enabled||this.disabled)&&(b[$]=S.value),b))}_reduceChildren(b,S){let $=b;return this._forEachChild((Fe,vt)=>{$=S($,Fe,vt)}),$}_allControlsDisabled(){for(const b of Object.keys(this.controls))if(this.controls[b].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(b){this._forEachChild((S,$)=>{if(void 0===b[$])throw new Error(`Must supply a value for form control with name: '${$}'.`)})}}class ri extends St{constructor(b,S,$){super(cr(S),Ur($,S)),this.controls=b,this._initObservables(),this._setUpdateStrategy(S),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(b){return this.controls[b]}push(b,S={}){this.controls.push(b),this._registerControl(b),this.updateValueAndValidity({emitEvent:S.emitEvent}),this._onCollectionChange()}insert(b,S,$={}){this.controls.splice(b,0,S),this._registerControl(S),this.updateValueAndValidity({emitEvent:$.emitEvent})}removeAt(b,S={}){this.controls[b]&&this.controls[b]._registerOnCollectionChange(()=>{}),this.controls.splice(b,1),this.updateValueAndValidity({emitEvent:S.emitEvent})}setControl(b,S,$={}){this.controls[b]&&this.controls[b]._registerOnCollectionChange(()=>{}),this.controls.splice(b,1),S&&(this.controls.splice(b,0,S),this._registerControl(S)),this.updateValueAndValidity({emitEvent:$.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(b,S={}){this._checkAllValuesPresent(b),b.forEach(($,Fe)=>{this._throwIfControlMissing(Fe),this.at(Fe).setValue($,{onlySelf:!0,emitEvent:S.emitEvent})}),this.updateValueAndValidity(S)}patchValue(b,S={}){null!=b&&(b.forEach(($,Fe)=>{this.at(Fe)&&this.at(Fe).patchValue($,{onlySelf:!0,emitEvent:S.emitEvent})}),this.updateValueAndValidity(S))}reset(b=[],S={}){this._forEachChild(($,Fe)=>{$.reset(b[Fe],{onlySelf:!0,emitEvent:S.emitEvent})}),this._updatePristine(S),this._updateTouched(S),this.updateValueAndValidity(S)}getRawValue(){return this.controls.map(b=>b instanceof hn?b.value:b.getRawValue())}clear(b={}){this.controls.length<1||(this._forEachChild(S=>S._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:b.emitEvent}))}_syncPendingControls(){let b=this.controls.reduce((S,$)=>!!$._syncPendingControls()||S,!1);return b&&this.updateValueAndValidity({onlySelf:!0}),b}_throwIfControlMissing(b){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(b))throw new Error(`Cannot find form control at index ${b}`)}_forEachChild(b){this.controls.forEach((S,$)=>{b(S,$)})}_updateValue(){this.value=this.controls.filter(b=>b.enabled||this.disabled).map(b=>b.value)}_anyControls(b){return this.controls.some(S=>S.enabled&&b(S))}_setUpControls(){this._forEachChild(b=>this._registerControl(b))}_checkAllValuesPresent(b){this._forEachChild((S,$)=>{if(void 0===b[$])throw new Error(`Must supply a value for form control at index: ${$}.`)})}_allControlsDisabled(){for(const b of this.controls)if(b.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(b){b.setParent(this),b._registerOnCollectionChange(this._onCollectionChange)}}const Ai={provide:Sn,useExisting:(0,m.forwardRef)(()=>sr)},jr=(()=>Promise.resolve(null))();let sr=(()=>{class w extends Sn{constructor(S,$){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new m.EventEmitter,this.form=new Gn({},Jt(S),kn($))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(S){jr.then(()=>{const $=this._findContainer(S.path);S.control=$.registerControl(S.name,S.control),Tn(S.control,S),S.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(S)})}getControl(S){return this.form.get(S.path)}removeControl(S){jr.then(()=>{const $=this._findContainer(S.path);$&&$.removeControl(S.name),Rr(this._directives,S)})}addFormGroup(S){jr.then(()=>{const $=this._findContainer(S.path),Fe=new Gn({});z(Fe,S),$.registerControl(S.name,Fe),Fe.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(S){jr.then(()=>{const $=this._findContainer(S.path);$&&$.removeControl(S.name)})}getFormGroup(S){return this.form.get(S.path)}updateModel(S,$){jr.then(()=>{this.form.get(S.path).setValue($)})}setValue(S){this.control.setValue(S)}onSubmit(S){return this.submitted=!0,pn(this.form,this._directives),this.ngSubmit.emit(S),!1}onReset(){this.resetForm()}resetForm(S){this.form.reset(S),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(S){return S.pop(),S.length?this.form.get(S):this.form}}return w.\u0275fac=function(S){return new(S||w)(m.\u0275\u0275directiveInject(Ie,10),m.\u0275\u0275directiveInject(Te,10))},w.\u0275dir=m.\u0275\u0275defineDirective({type:w,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(S,$){1&S&&m.\u0275\u0275listener("submit",function(vt){return $.onSubmit(vt)})("reset",function(){return $.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[m.\u0275\u0275ProvidersFeature([Ai]),m.\u0275\u0275InheritDefinitionFeature]}),w})();const at={provide:ir,useExisting:(0,m.forwardRef)(()=>Un)},yn=(()=>Promise.resolve(null))();let Un=(()=>{class w extends ir{constructor(S,$,Fe,vt){super(),this.control=new hn,this._registered=!1,this.update=new m.EventEmitter,this._parent=S,this._setValidators($),this._setAsyncValidators(Fe),this.valueAccessor=Ar(0,vt)}ngOnChanges(S){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in S&&this._updateDisabled(S),dn(S,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?Kn(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(S){this.viewModel=S,this.update.emit(S)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Tn(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(S){yn.then(()=>{this.control.setValue(S,{emitViewToModelChange:!1})})}_updateDisabled(S){const $=S.isDisabled.currentValue,Fe=""===$||$&&"false"!==$;yn.then(()=>{Fe&&!this.control.disabled?this.control.disable():!Fe&&this.control.disabled&&this.control.enable()})}}return w.\u0275fac=function(S){return new(S||w)(m.\u0275\u0275directiveInject(Sn,9),m.\u0275\u0275directiveInject(Ie,10),m.\u0275\u0275directiveInject(Te,10),m.\u0275\u0275directiveInject(Y,10))},w.\u0275dir=m.\u0275\u0275defineDirective({type:w,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[m.\u0275\u0275ProvidersFeature([at]),m.\u0275\u0275InheritDefinitionFeature,m.\u0275\u0275NgOnChangesFeature]}),w})(),an=(()=>{class w{}return w.\u0275fac=function(S){return new(S||w)},w.\u0275dir=m.\u0275\u0275defineDirective({type:w,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),w})();const zi={provide:Y,useExisting:(0,m.forwardRef)(()=>wr),multi:!0};let wr=(()=>{class w extends de{writeValue(S){this.setProperty("value",null==S?"":S)}registerOnChange(S){this.onChange=$=>{S(""==$?null:parseFloat($))}}}return w.\u0275fac=function(){let b;return function($){return(b||(b=m.\u0275\u0275getInheritedFactory(w)))($||w)}}(),w.\u0275dir=m.\u0275\u0275defineDirective({type:w,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(S,$){1&S&&m.\u0275\u0275listener("input",function(vt){return $.onChange(vt.target.value)})("blur",function(){return $.onTouched()})},features:[m.\u0275\u0275ProvidersFeature([zi]),m.\u0275\u0275InheritDefinitionFeature]}),w})(),Xr=(()=>{class w{}return w.\u0275fac=function(S){return new(S||w)},w.\u0275mod=m.\u0275\u0275defineNgModule({type:w}),w.\u0275inj=m.\u0275\u0275defineInjector({}),w})();const or=new m.InjectionToken("NgModelWithFormControlWarning"),Ri={provide:Sn,useExisting:(0,m.forwardRef)(()=>Ui)};let Ui=(()=>{class w extends Sn{constructor(S,$){super(),this.validators=S,this.asyncValidators=$,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new m.EventEmitter,this._setValidators(S),this._setAsyncValidators($)}ngOnChanges(S){this._checkFormPresent(),S.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(he(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(S){const $=this.form.get(S.path);return Tn($,S),$.updateValueAndValidity({emitEvent:!1}),this.directives.push(S),$}getControl(S){return this.form.get(S.path)}removeControl(S){Yt(S.control||null,S,!1),Rr(this.directives,S)}addFormGroup(S){this._setUpFormContainer(S)}removeFormGroup(S){this._cleanUpFormContainer(S)}getFormGroup(S){return this.form.get(S.path)}addFormArray(S){this._setUpFormContainer(S)}removeFormArray(S){this._cleanUpFormContainer(S)}getFormArray(S){return this.form.get(S.path)}updateModel(S,$){this.form.get(S.path).setValue($)}onSubmit(S){return this.submitted=!0,pn(this.form,this.directives),this.ngSubmit.emit(S),!1}onReset(){this.resetForm()}resetForm(S){this.form.reset(S),this.submitted=!1}_updateDomValue(){this.directives.forEach(S=>{const $=S.control,Fe=this.form.get(S.path);$!==Fe&&(Yt($||null,S),Fe instanceof hn&&(Tn(Fe,S),S.control=Fe))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(S){const $=this.form.get(S.path);z($,S),$.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(S){if(this.form){const $=this.form.get(S.path);$&&function(w,b){return he(w,b)}($,S)&&$.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ye(this.form,this),this._oldForm&&he(this._oldForm,this)}_checkFormPresent(){}}return w.\u0275fac=function(S){return new(S||w)(m.\u0275\u0275directiveInject(Ie,10),m.\u0275\u0275directiveInject(Te,10))},w.\u0275dir=m.\u0275\u0275defineDirective({type:w,selectors:[["","formGroup",""]],hostBindings:function(S,$){1&S&&m.\u0275\u0275listener("submit",function(vt){return $.onSubmit(vt)})("reset",function(){return $.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[m.\u0275\u0275ProvidersFeature([Ri]),m.\u0275\u0275InheritDefinitionFeature,m.\u0275\u0275NgOnChangesFeature]}),w})();const xe={provide:ir,useExisting:(0,m.forwardRef)(()=>qe)};let qe=(()=>{class w extends ir{constructor(S,$,Fe,vt,un){super(),this._ngModelWarningConfig=un,this._added=!1,this.update=new m.EventEmitter,this._ngModelWarningSent=!1,this._parent=S,this._setValidators($),this._setAsyncValidators(Fe),this.valueAccessor=Ar(0,vt)}set isDisabled(S){}ngOnChanges(S){this._added||this._setUpControl(),dn(S,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(S){this.viewModel=S,this.update.emit(S)}get path(){return Kn(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return w.\u0275fac=function(S){return new(S||w)(m.\u0275\u0275directiveInject(Sn,13),m.\u0275\u0275directiveInject(Ie,10),m.\u0275\u0275directiveInject(Te,10),m.\u0275\u0275directiveInject(Y,10),m.\u0275\u0275directiveInject(or,8))},w.\u0275dir=m.\u0275\u0275defineDirective({type:w,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[m.\u0275\u0275ProvidersFeature([xe]),m.\u0275\u0275InheritDefinitionFeature,m.\u0275\u0275NgOnChangesFeature]}),w._ngModelWarningSentOnce=!1,w})();const gt={provide:Y,useExisting:(0,m.forwardRef)(()=>Zn),multi:!0};function Tt(w,b){return null==w?`${b}`:(b&&"object"==typeof b&&(b="Object"),`${w}: ${b}`.slice(0,50))}let Zn=(()=>{class w extends de{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(S){this._compareWith=S}writeValue(S){this.value=S;const $=this._getOptionId(S);null==$&&this.setProperty("selectedIndex",-1);const Fe=Tt($,S);this.setProperty("value",Fe)}registerOnChange(S){this.onChange=$=>{this.value=this._getOptionValue($),S(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(S){for(const $ of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get($),S))return $;return null}_getOptionValue(S){const $=function(w){return w.split(":")[0]}(S);return this._optionMap.has($)?this._optionMap.get($):S}}return w.\u0275fac=function(){let b;return function($){return(b||(b=m.\u0275\u0275getInheritedFactory(w)))($||w)}}(),w.\u0275dir=m.\u0275\u0275defineDirective({type:w,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(S,$){1&S&&m.\u0275\u0275listener("change",function(vt){return $.onChange(vt.target.value)})("blur",function(){return $.onTouched()})},inputs:{compareWith:"compareWith"},features:[m.\u0275\u0275ProvidersFeature([gt]),m.\u0275\u0275InheritDefinitionFeature]}),w})(),Vr=(()=>{class w{constructor(S,$,Fe){this._element=S,this._renderer=$,this._select=Fe,this._select&&(this.id=this._select._registerOption())}set ngValue(S){null!=this._select&&(this._select._optionMap.set(this.id,S),this._setElementValue(Tt(this.id,S)),this._select.writeValue(this._select.value))}set value(S){this._setElementValue(S),this._select&&this._select.writeValue(this._select.value)}_setElementValue(S){this._renderer.setProperty(this._element.nativeElement,"value",S)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return w.\u0275fac=function(S){return new(S||w)(m.\u0275\u0275directiveInject(m.ElementRef),m.\u0275\u0275directiveInject(m.Renderer2),m.\u0275\u0275directiveInject(Zn,9))},w.\u0275dir=m.\u0275\u0275defineDirective({type:w,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),w})();const On={provide:Y,useExisting:(0,m.forwardRef)(()=>Ys),multi:!0};function hi(w,b){return null==w?`${b}`:("string"==typeof b&&(b=`'${b}'`),b&&"object"==typeof b&&(b="Object"),`${w}: ${b}`.slice(0,50))}let Ys=(()=>{class w extends de{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(S){this._compareWith=S}writeValue(S){let $;if(this.value=S,Array.isArray(S)){const Fe=S.map(vt=>this._getOptionId(vt));$=(vt,un)=>{vt._setSelected(Fe.indexOf(un.toString())>-1)}}else $=(Fe,vt)=>{Fe._setSelected(!1)};this._optionMap.forEach($)}registerOnChange(S){this.onChange=$=>{const Fe=[];if(void 0!==$.selectedOptions){const vt=$.selectedOptions;for(let un=0;un<vt.length;un++){const Yn=vt.item(un),Nn=this._getOptionValue(Yn.value);Fe.push(Nn)}}else{const vt=$.options;for(let un=0;un<vt.length;un++){const Yn=vt.item(un);if(Yn.selected){const Nn=this._getOptionValue(Yn.value);Fe.push(Nn)}}}this.value=Fe,S(Fe)}}_registerOption(S){const $=(this._idCounter++).toString();return this._optionMap.set($,S),$}_getOptionId(S){for(const $ of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get($)._value,S))return $;return null}_getOptionValue(S){const $=function(w){return w.split(":")[0]}(S);return this._optionMap.has($)?this._optionMap.get($)._value:S}}return w.\u0275fac=function(){let b;return function($){return(b||(b=m.\u0275\u0275getInheritedFactory(w)))($||w)}}(),w.\u0275dir=m.\u0275\u0275defineDirective({type:w,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(S,$){1&S&&m.\u0275\u0275listener("change",function(vt){return $.onChange(vt.target)})("blur",function(){return $.onTouched()})},inputs:{compareWith:"compareWith"},features:[m.\u0275\u0275ProvidersFeature([On]),m.\u0275\u0275InheritDefinitionFeature]}),w})(),wo=(()=>{class w{constructor(S,$,Fe){this._element=S,this._renderer=$,this._select=Fe,this._select&&(this.id=this._select._registerOption(this))}set ngValue(S){null!=this._select&&(this._value=S,this._setElementValue(hi(this.id,S)),this._select.writeValue(this._select.value))}set value(S){this._select?(this._value=S,this._setElementValue(hi(this.id,S)),this._select.writeValue(this._select.value)):this._setElementValue(S)}_setElementValue(S){this._renderer.setProperty(this._element.nativeElement,"value",S)}_setSelected(S){this._renderer.setProperty(this._element.nativeElement,"selected",S)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return w.\u0275fac=function(S){return new(S||w)(m.\u0275\u0275directiveInject(m.ElementRef),m.\u0275\u0275directiveInject(m.Renderer2),m.\u0275\u0275directiveInject(Ys,9))},w.\u0275dir=m.\u0275\u0275defineDirective({type:w,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),w})();let ms=(()=>{class w{constructor(){this._validator=Lt}handleChanges(S){if(this.inputName in S){const $=this.normalizeInput(S[this.inputName].currentValue);this._validator=this.createValidator($),this._onChange&&this._onChange()}}validate(S){return this._validator(S)}registerOnValidatorChange(S){this._onChange=S}}return w.\u0275fac=function(S){return new(S||w)},w.\u0275dir=m.\u0275\u0275defineDirective({type:w}),w})();const Js={provide:Ie,useExisting:(0,m.forwardRef)(()=>ys),multi:!0};let ys=(()=>{class w extends ms{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=S=>parseFloat(S),this.createValidator=S=>Be(S)}ngOnChanges(S){this.handleChanges(S)}}return w.\u0275fac=function(){let b;return function($){return(b||(b=m.\u0275\u0275getInheritedFactory(w)))($||w)}}(),w.\u0275dir=m.\u0275\u0275defineDirective({type:w,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(S,$){if(2&S){let Fe;m.\u0275\u0275attribute("min",null!==(Fe=$.min)&&void 0!==Fe?Fe:null)}},inputs:{min:"min"},features:[m.\u0275\u0275ProvidersFeature([Js]),m.\u0275\u0275InheritDefinitionFeature,m.\u0275\u0275NgOnChangesFeature]}),w})();const ci={provide:Ie,useExisting:(0,m.forwardRef)(()=>ii),multi:!0};let ii=(()=>{class w{constructor(){this._required=!1}get required(){return this._required}set required(S){this._required=null!=S&&!1!==S&&"false"!=`${S}`,this._onChange&&this._onChange()}validate(S){return this.required?kt(S):null}registerOnValidatorChange(S){this._onChange=S}}return w.\u0275fac=function(S){return new(S||w)},w.\u0275dir=m.\u0275\u0275defineDirective({type:w,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(S,$){2&S&&m.\u0275\u0275attribute("required",$.required?"":null)},inputs:{required:"required"},features:[m.\u0275\u0275ProvidersFeature([ci])]}),w})();const Po={provide:Ie,useExisting:(0,m.forwardRef)(()=>os),multi:!0};let os=(()=>{class w{constructor(){this._validator=Lt}ngOnChanges(S){"maxlength"in S&&(this._createValidator(),this._onChange&&this._onChange())}validate(S){return this.enabled()?this._validator(S):null}registerOnValidatorChange(S){this._onChange=S}_createValidator(){this._validator=this.enabled()?Qt(function(w){return"number"==typeof w?w:parseInt(w,10)}(this.maxlength)):Lt}enabled(){return null!=this.maxlength}}return w.\u0275fac=function(S){return new(S||w)},w.\u0275dir=m.\u0275\u0275defineDirective({type:w,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(S,$){2&S&&m.\u0275\u0275attribute("maxlength",$.enabled()?$.maxlength:null)},inputs:{maxlength:"maxlength"},features:[m.\u0275\u0275ProvidersFeature([Po]),m.\u0275\u0275NgOnChangesFeature]}),w})(),Us=(()=>{class w{}return w.\u0275fac=function(S){return new(S||w)},w.\u0275mod=m.\u0275\u0275defineNgModule({type:w}),w.\u0275inj=m.\u0275\u0275defineInjector({imports:[[Xr]]}),w})(),ds=(()=>{class w{}return w.\u0275fac=function(S){return new(S||w)},w.\u0275mod=m.\u0275\u0275defineNgModule({type:w}),w.\u0275inj=m.\u0275\u0275defineInjector({imports:[Us]}),w})(),gi=(()=>{class w{static withConfig(S){return{ngModule:w,providers:[{provide:or,useValue:S.warnOnNgModelWithFormControl}]}}}return w.\u0275fac=function(S){return new(S||w)},w.\u0275mod=m.\u0275\u0275defineNgModule({type:w}),w.\u0275inj=m.\u0275\u0275defineInjector({imports:[Us]}),w})()},1728:(Nt,je,F)=>{"use strict";F.d(je,{Qb:()=>Hn,PW:()=>Vo});var m=F(2741),j=F(3220),q=F(8638);function Ce(){return"undefined"!=typeof window&&void 0!==window.document}function ce(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function ie(K){switch(K.length){case 0:return new q.ZN;case 1:return K[0];default:return new q.ZE(K)}}function de(K,_,v,R,H={},se={}){const pe=[],we=[];let He=-1,dt=null;if(R.forEach(bt=>{const zt=bt.offset,jn=zt==He,Jn=jn&&dt||{};Object.keys(bt).forEach(vn=>{let Fn=vn,Xn=bt[vn];if("offset"!==vn)switch(Fn=_.normalizePropertyName(Fn,pe),Xn){case q.k1:Xn=H[vn];break;case q.l3:Xn=se[vn];break;default:Xn=_.normalizeStyleValue(vn,Fn,Xn,pe)}Jn[Fn]=Xn}),jn||we.push(Jn),dt=Jn,He=zt}),pe.length){const bt="\n - ";throw new Error(`Unable to animate due to the following errors:${bt}${pe.join(bt)}`)}return we}function Y(K,_,v,R){switch(_){case"start":K.onStart(()=>R(v&&ve(v,"start",K)));break;case"done":K.onDone(()=>R(v&&ve(v,"done",K)));break;case"destroy":K.onDestroy(()=>R(v&&ve(v,"destroy",K)))}}function ve(K,_,v){const R=v.totalTime,se=J(K.element,K.triggerName,K.fromState,K.toState,_||K.phaseName,null==R?K.totalTime:R,!!v.disabled),pe=K._data;return null!=pe&&(se._data=pe),se}function J(K,_,v,R,H="",se=0,pe){return{element:K,triggerName:_,fromState:v,toState:R,phaseName:H,totalTime:se,disabled:!!pe}}function re(K,_,v){let R;return K instanceof Map?(R=K.get(_),R||K.set(_,R=v)):(R=K[_],R||(R=K[_]=v)),R}function Z(K){const _=K.indexOf(":");return[K.substring(1,_),K.substr(_+1)]}let ue=(K,_)=>!1,ze=(K,_)=>!1,Ie=(K,_,v)=>[];const Me=ce();(Me||"undefined"!=typeof Element)&&(ue=Ce()?(K,_)=>{for(;_&&_!==document.documentElement;){if(_===K)return!0;_=_.parentNode||_.host}return!1}:(K,_)=>K.contains(_),ze=(()=>{if(Me||Element.prototype.matches)return(K,_)=>K.matches(_);{const K=Element.prototype,_=K.matchesSelector||K.mozMatchesSelector||K.msMatchesSelector||K.oMatchesSelector||K.webkitMatchesSelector;return _?(v,R)=>_.apply(v,[R]):ze}})(),Ie=(K,_,v)=>{let R=[];if(v){const H=K.querySelectorAll(_);for(let se=0;se<H.length;se++)R.push(H[se])}else{const H=K.querySelector(_);H&&R.push(H)}return R});let Be=null,nt=!1;function kt(K){Be||(Be=("undefined"!=typeof document?document.body:null)||{},nt=!!Be.style&&"WebkitAppearance"in Be.style);let _=!0;return Be.style&&!function(K){return"ebkit"==K.substring(1,6)}(K)&&(_=K in Be.style,!_&&nt&&(_="Webkit"+K.charAt(0).toUpperCase()+K.substr(1)in Be.style)),_}const Ht=ze,Zt=ue,Qt=Ie;function Wt(K){const _={};return Object.keys(K).forEach(v=>{const R=v.replace(/([a-z])([A-Z])/g,"$1-$2");_[R]=K[v]}),_}let Lt=(()=>{class K{validateStyleProperty(v){return kt(v)}matchesElement(v,R){return Ht(v,R)}containsElement(v,R){return Zt(v,R)}query(v,R,H){return Qt(v,R,H)}computeStyle(v,R,H){return H||""}animate(v,R,H,se,pe,we=[],He){return new q.ZN(H,se)}}return K.\u0275fac=function(v){return new(v||K)},K.\u0275prov=m.\u0275\u0275defineInjectable({token:K,factory:K.\u0275fac}),K})();class Ct{}Ct.NOOP=new Lt;const Wn="ng-enter",lr="ng-leave",$t="ng-trigger",kn=".ng-trigger",rr="ng-animating",Cn=".ng-animating";function bn(K){if("number"==typeof K)return K;const _=K.match(/^(-?[\.\d]+)(m?s)/);return!_||_.length<2?0:Tr(parseFloat(_[1]),_[2])}function Tr(K,_){switch(_){case"s":return 1e3*K;default:return K}}function Xt(K,_,v){return K.hasOwnProperty("duration")?K:function(K,_,v){let H,se=0,pe="";if("string"==typeof K){const we=K.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===we)return _.push(`The provided timing value "${K}" is invalid.`),{duration:0,delay:0,easing:""};H=Tr(parseFloat(we[1]),we[2]);const He=we[3];null!=He&&(se=Tr(parseFloat(He),we[4]));const dt=we[5];dt&&(pe=dt)}else H=K;if(!v){let we=!1,He=_.length;H<0&&(_.push("Duration values below 0 are not allowed for this animation step."),we=!0),se<0&&(_.push("Delay values below 0 are not allowed for this animation step."),we=!0),we&&_.splice(He,0,`The provided timing value "${K}" is invalid.`)}return{duration:H,delay:se,easing:pe}}(K,_,v)}function Kt(K,_={}){return Object.keys(K).forEach(v=>{_[v]=K[v]}),_}function Sn(K,_,v={}){if(_)for(let R in K)v[R]=K[R];else Kt(K,v);return v}function ir(K,_,v){return v?_+":"+v+";":""}function _n(K){let _="";for(let v=0;v<K.style.length;v++){const R=K.style.item(v);_+=ir(0,R,K.style.getPropertyValue(R))}for(const v in K.style)K.style.hasOwnProperty(v)&&!v.startsWith("_")&&(_+=ir(0,rt(v),K.style[v]));K.setAttribute("style",_)}function ot(K,_,v){K.style&&(Object.keys(_).forEach(R=>{const H=me(R);v&&!v.hasOwnProperty(R)&&(v[R]=K.style[H]),K.style[H]=_[R]}),ce()&&_n(K))}function zn(K,_){K.style&&(Object.keys(_).forEach(v=>{const R=me(v);K.style[R]=""}),ce()&&_n(K))}function dr(K){return Array.isArray(K)?1==K.length?K[0]:(0,q.vP)(K):K}const An=new RegExp("{{\\s*(.+?)\\s*}}","g");function yr(K){let _=[];if("string"==typeof K){let v;for(;v=An.exec(K);)_.push(v[1]);An.lastIndex=0}return _}function kr(K,_,v){const R=K.toString(),H=R.replace(An,(se,pe)=>{let we=_[pe];return _.hasOwnProperty(pe)||(v.push(`Please provide a value for the animation param ${pe}`),we=""),we.toString()});return H==R?K:H}function $e(K){const _=[];let v=K.next();for(;!v.done;)_.push(v.value),v=K.next();return _}const ge=/-+([a-z0-9])/g;function me(K){return K.replace(ge,(..._)=>_[1].toUpperCase())}function rt(K){return K.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ge(K,_){return 0===K||0===_}function Dt(K,_,v){const R=Object.keys(v);if(R.length&&_.length){let se=_[0],pe=[];if(R.forEach(we=>{se.hasOwnProperty(we)||pe.push(we),se[we]=v[we]}),pe.length)for(var H=1;H<_.length;H++){let we=_[H];pe.forEach(function(He){we[He]=xt(K,He)})}}return _}function lt(K,_,v){switch(_.type){case 7:return K.visitTrigger(_,v);case 0:return K.visitState(_,v);case 1:return K.visitTransition(_,v);case 2:return K.visitSequence(_,v);case 3:return K.visitGroup(_,v);case 4:return K.visitAnimate(_,v);case 5:return K.visitKeyframes(_,v);case 6:return K.visitStyle(_,v);case 8:return K.visitReference(_,v);case 9:return K.visitAnimateChild(_,v);case 10:return K.visitAnimateRef(_,v);case 11:return K.visitQuery(_,v);case 12:return K.visitStagger(_,v);default:throw new Error(`Unable to resolve animation metadata node #${_.type}`)}}function xt(K,_){return window.getComputedStyle(K)[_]}function Kn(K,_){const v=[];return"string"==typeof K?K.split(/\s*,\s*/).forEach(R=>function(K,_,v){if(":"==K[0]){const He=function(K,_){switch(K){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(v,R)=>parseFloat(R)>parseFloat(v);case":decrement":return(v,R)=>parseFloat(R)<parseFloat(v);default:return _.push(`The transition alias value "${K}" is not supported`),"* => *"}}(K,v);if("function"==typeof He)return void _.push(He);K=He}const R=K.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==R||R.length<4)return v.push(`The provided transition expression "${K}" is not supported`),_;const H=R[1],se=R[2],pe=R[3];_.push(ye(H,pe));"<"==se[0]&&!("*"==H&&"*"==pe)&&_.push(ye(pe,H))}(R,v,_)):v.push(K),v}const xn=new Set(["true","1"]),Rn=new Set(["false","0"]);function ye(K,_){const v=xn.has(K)||Rn.has(K),R=xn.has(_)||Rn.has(_);return(H,se)=>{let pe="*"==K||K==H,we="*"==_||_==se;return!pe&&v&&"boolean"==typeof H&&(pe=H?xn.has(K):Rn.has(K)),!we&&R&&"boolean"==typeof se&&(we=se?xn.has(_):Rn.has(_)),pe&&we}}const Re=new RegExp("s*:selfs*,?","g");function Ze(K,_,v){return new Ve(K).build(_,v)}class Ve{constructor(_){this._driver=_}build(_,v){const R=new Je(v);return this._resetContextStyleTimingState(R),lt(this,dr(_),R)}_resetContextStyleTimingState(_){_.currentQuerySelector="",_.collectedStyles={},_.collectedStyles[""]={},_.currentTime=0}visitTrigger(_,v){let R=v.queryCount=0,H=v.depCount=0;const se=[],pe=[];return"@"==_.name.charAt(0)&&v.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),_.definitions.forEach(we=>{if(this._resetContextStyleTimingState(v),0==we.type){const He=we,dt=He.name;dt.toString().split(/\s*,\s*/).forEach(bt=>{He.name=bt,se.push(this.visitState(He,v))}),He.name=dt}else if(1==we.type){const He=this.visitTransition(we,v);R+=He.queryCount,H+=He.depCount,pe.push(He)}else v.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:_.name,states:se,transitions:pe,queryCount:R,depCount:H,options:null}}visitState(_,v){const R=this.visitStyle(_.styles,v),H=_.options&&_.options.params||null;if(R.containsDynamicStyles){const se=new Set,pe=H||{};if(R.styles.forEach(we=>{if(dn(we)){const He=we;Object.keys(He).forEach(dt=>{yr(He[dt]).forEach(bt=>{pe.hasOwnProperty(bt)||se.add(bt)})})}}),se.size){const we=$e(se.values());v.errors.push(`state("${_.name}", ...) must define default values for all the following style substitutions: ${we.join(", ")}`)}}return{type:0,name:_.name,style:R,options:H?{params:H}:null}}visitTransition(_,v){v.queryCount=0,v.depCount=0;const R=lt(this,dr(_.animation),v);return{type:1,matchers:Kn(_.expr,v.errors),animation:R,queryCount:v.queryCount,depCount:v.depCount,options:pn(_.options)}}visitSequence(_,v){return{type:2,steps:_.steps.map(R=>lt(this,R,v)),options:pn(_.options)}}visitGroup(_,v){const R=v.currentTime;let H=0;const se=_.steps.map(pe=>{v.currentTime=R;const we=lt(this,pe,v);return H=Math.max(H,v.currentTime),we});return v.currentTime=H,{type:3,steps:se,options:pn(_.options)}}visitAnimate(_,v){const R=function(K,_){let v=null;if(K.hasOwnProperty("duration"))v=K;else if("number"==typeof K)return Ar(Xt(K,_).duration,0,"");const R=K;if(R.split(/\s+/).some(se=>"{"==se.charAt(0)&&"{"==se.charAt(1))){const se=Ar(0,0,"");return se.dynamic=!0,se.strValue=R,se}return v=v||Xt(R,_),Ar(v.duration,v.delay,v.easing)}(_.timings,v.errors);v.currentAnimateTimings=R;let H,se=_.styles?_.styles:(0,q.oB)({});if(5==se.type)H=this.visitKeyframes(se,v);else{let pe=_.styles,we=!1;if(!pe){we=!0;const dt={};R.easing&&(dt.easing=R.easing),pe=(0,q.oB)(dt)}v.currentTime+=R.duration+R.delay;const He=this.visitStyle(pe,v);He.isEmptyStep=we,H=He}return v.currentAnimateTimings=null,{type:4,timings:R,style:H,options:null}}visitStyle(_,v){const R=this._makeStyleAst(_,v);return this._validateStyleAst(R,v),R}_makeStyleAst(_,v){const R=[];Array.isArray(_.styles)?_.styles.forEach(pe=>{"string"==typeof pe?pe==q.l3?R.push(pe):v.errors.push(`The provided style string value ${pe} is not allowed.`):R.push(pe)}):R.push(_.styles);let H=!1,se=null;return R.forEach(pe=>{if(dn(pe)){const we=pe,He=we.easing;if(He&&(se=He,delete we.easing),!H)for(let dt in we)if(we[dt].toString().indexOf("{{")>=0){H=!0;break}}}),{type:6,styles:R,easing:se,offset:_.offset,containsDynamicStyles:H,options:null}}_validateStyleAst(_,v){const R=v.currentAnimateTimings;let H=v.currentTime,se=v.currentTime;R&&se>0&&(se-=R.duration+R.delay),_.styles.forEach(pe=>{"string"!=typeof pe&&Object.keys(pe).forEach(we=>{if(!this._driver.validateStyleProperty(we))return void v.errors.push(`The provided animation property "${we}" is not a supported CSS property for animations`);const He=v.collectedStyles[v.currentQuerySelector],dt=He[we];let bt=!0;dt&&(se!=H&&se>=dt.startTime&&H<=dt.endTime&&(v.errors.push(`The CSS property "${we}" that exists between the times of "${dt.startTime}ms" and "${dt.endTime}ms" is also being animated in a parallel animation between the times of "${se}ms" and "${H}ms"`),bt=!1),se=dt.startTime),bt&&(He[we]={startTime:se,endTime:H}),v.options&&function(K,_,v){const R=_.params||{},H=yr(K);H.length&&H.forEach(se=>{R.hasOwnProperty(se)||v.push(`Unable to resolve the local animation param ${se} in the given list of values`)})}(pe[we],v.options,v.errors)})})}visitKeyframes(_,v){const R={type:5,styles:[],options:null};if(!v.currentAnimateTimings)return v.errors.push("keyframes() must be placed inside of a call to animate()"),R;let se=0;const pe=[];let we=!1,He=!1,dt=0;const bt=_.steps.map(xr=>{const Zr=this._makeStyleAst(xr,v);let Ci=null!=Zr.offset?Zr.offset:function(K){if("string"==typeof K)return null;let _=null;if(Array.isArray(K))K.forEach(v=>{if(dn(v)&&v.hasOwnProperty("offset")){const R=v;_=parseFloat(R.offset),delete R.offset}});else if(dn(K)&&K.hasOwnProperty("offset")){const v=K;_=parseFloat(v.offset),delete v.offset}return _}(Zr.styles),mi=0;return null!=Ci&&(se++,mi=Zr.offset=Ci),He=He||mi<0||mi>1,we=we||mi<dt,dt=mi,pe.push(mi),Zr});He&&v.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),we&&v.errors.push("Please ensure that all keyframe offsets are in order");const zt=_.steps.length;let jn=0;se>0&&se<zt?v.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==se&&(jn=1/(zt-1));const Jn=zt-1,vn=v.currentTime,Fn=v.currentAnimateTimings,Xn=Fn.duration;return bt.forEach((xr,Zr)=>{const Ci=jn>0?Zr==Jn?1:jn*Zr:pe[Zr],mi=Ci*Xn;v.currentTime=vn+Fn.delay+mi,Fn.duration=mi,this._validateStyleAst(xr,v),xr.offset=Ci,R.styles.push(xr)}),R}visitReference(_,v){return{type:8,animation:lt(this,dr(_.animation),v),options:pn(_.options)}}visitAnimateChild(_,v){return v.depCount++,{type:9,options:pn(_.options)}}visitAnimateRef(_,v){return{type:10,animation:this.visitReference(_.animation,v),options:pn(_.options)}}visitQuery(_,v){const R=v.currentQuerySelector,H=_.options||{};v.queryCount++,v.currentQuery=_;const[se,pe]=function(K){const _=!!K.split(/\s*,\s*/).find(v=>":self"==v);return _&&(K=K.replace(Re,"")),[K=K.replace(/@\*/g,kn).replace(/@\w+/g,v=>kn+"-"+v.substr(1)).replace(/:animating/g,Cn),_]}(_.selector);v.currentQuerySelector=R.length?R+" "+se:se,re(v.collectedStyles,v.currentQuerySelector,{});const we=lt(this,dr(_.animation),v);return v.currentQuery=null,v.currentQuerySelector=R,{type:11,selector:se,limit:H.limit||0,optional:!!H.optional,includeSelf:pe,animation:we,originalSelector:_.selector,options:pn(_.options)}}visitStagger(_,v){v.currentQuery||v.errors.push("stagger() can only be used inside of query()");const R="full"===_.timings?{duration:0,delay:0,easing:"full"}:Xt(_.timings,v.errors,!0);return{type:12,animation:lt(this,dr(_.animation),v),timings:R,options:null}}}class Je{constructor(_){this.errors=_,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function dn(K){return!Array.isArray(K)&&"object"==typeof K}function pn(K){return K?(K=Kt(K)).params&&(K.params=function(K){return K?Kt(K):null}(K.params)):K={},K}function Ar(K,_,v){return{duration:K,delay:_,easing:v}}function Rr(K,_,v,R,H,se,pe=null,we=!1){return{type:1,element:K,keyframes:_,preStyleProps:v,postStyleProps:R,duration:H,delay:se,totalTime:H+se,easing:pe,subTimeline:we}}class Fr{constructor(){this._map=new Map}consume(_){let v=this._map.get(_);return v?this._map.delete(_):v=[],v}append(_,v){let R=this._map.get(_);R||this._map.set(_,R=[]),R.push(...v)}has(_){return this._map.has(_)}clear(){this._map.clear()}}const Ki=new RegExp(":enter","g"),Mr=new RegExp(":leave","g");function cr(K,_,v,R,H,se={},pe={},we,He,dt=[]){return(new ai).buildKeyframes(K,_,v,R,H,se,pe,we,He,dt)}class ai{buildKeyframes(_,v,R,H,se,pe,we,He,dt,bt=[]){dt=dt||new Fr;const zt=new Lr(_,v,dt,H,se,bt,[]);zt.options=He,zt.currentTimeline.setStyles([pe],null,zt.errors,He),lt(this,R,zt);const jn=zt.timelines.filter(Jn=>Jn.containsAnimation());if(jn.length&&Object.keys(we).length){const Jn=jn[jn.length-1];Jn.allowOnlyTimelineStyles()||Jn.setStyles([we],null,zt.errors,He)}return jn.length?jn.map(Jn=>Jn.buildKeyframes()):[Rr(v,[],[],[],0,0,"",!1)]}visitTrigger(_,v){}visitState(_,v){}visitTransition(_,v){}visitAnimateChild(_,v){const R=v.subInstructions.consume(v.element);if(R){const H=v.createSubContext(_.options),se=v.currentTimeline.currentTime,pe=this._visitSubInstructions(R,H,H.options);se!=pe&&v.transformIntoNewTimeline(pe)}v.previousNode=_}visitAnimateRef(_,v){const R=v.createSubContext(_.options);R.transformIntoNewTimeline(),this.visitReference(_.animation,R),v.transformIntoNewTimeline(R.currentTimeline.currentTime),v.previousNode=_}_visitSubInstructions(_,v,R){let se=v.currentTimeline.currentTime;const pe=null!=R.duration?bn(R.duration):null,we=null!=R.delay?bn(R.delay):null;return 0!==pe&&_.forEach(He=>{const dt=v.appendInstructionToTimeline(He,pe,we);se=Math.max(se,dt.duration+dt.delay)}),se}visitReference(_,v){v.updateOptions(_.options,!0),lt(this,_.animation,v),v.previousNode=_}visitSequence(_,v){const R=v.subContextCount;let H=v;const se=_.options;if(se&&(se.params||se.delay)&&(H=v.createSubContext(se),H.transformIntoNewTimeline(),null!=se.delay)){6==H.previousNode.type&&(H.currentTimeline.snapshotCurrentStyles(),H.previousNode=Ur);const pe=bn(se.delay);H.delayNextStep(pe)}_.steps.length&&(_.steps.forEach(pe=>lt(this,pe,H)),H.currentTimeline.applyStylesToKeyframe(),H.subContextCount>R&&H.transformIntoNewTimeline()),v.previousNode=_}visitGroup(_,v){const R=[];let H=v.currentTimeline.currentTime;const se=_.options&&_.options.delay?bn(_.options.delay):0;_.steps.forEach(pe=>{const we=v.createSubContext(_.options);se&&we.delayNextStep(se),lt(this,pe,we),H=Math.max(H,we.currentTimeline.currentTime),R.push(we.currentTimeline)}),R.forEach(pe=>v.currentTimeline.mergeTimelineCollectedStyles(pe)),v.transformIntoNewTimeline(H),v.previousNode=_}_visitTiming(_,v){if(_.dynamic){const R=_.strValue;return Xt(v.params?kr(R,v.params,v.errors):R,v.errors)}return{duration:_.duration,delay:_.delay,easing:_.easing}}visitAnimate(_,v){const R=v.currentAnimateTimings=this._visitTiming(_.timings,v),H=v.currentTimeline;R.delay&&(v.incrementTime(R.delay),H.snapshotCurrentStyles());const se=_.style;5==se.type?this.visitKeyframes(se,v):(v.incrementTime(R.duration),this.visitStyle(se,v),H.applyStylesToKeyframe()),v.currentAnimateTimings=null,v.previousNode=_}visitStyle(_,v){const R=v.currentTimeline,H=v.currentAnimateTimings;!H&&R.getCurrentStyleProperties().length&&R.forwardFrame();const se=H&&H.easing||_.easing;_.isEmptyStep?R.applyEmptyStep(se):R.setStyles(_.styles,se,v.errors,v.options),v.previousNode=_}visitKeyframes(_,v){const R=v.currentAnimateTimings,H=v.currentTimeline.duration,se=R.duration,we=v.createSubContext().currentTimeline;we.easing=R.easing,_.styles.forEach(He=>{we.forwardTime((He.offset||0)*se),we.setStyles(He.styles,He.easing,v.errors,v.options),we.applyStylesToKeyframe()}),v.currentTimeline.mergeTimelineCollectedStyles(we),v.transformIntoNewTimeline(H+se),v.previousNode=_}visitQuery(_,v){const R=v.currentTimeline.currentTime,H=_.options||{},se=H.delay?bn(H.delay):0;se&&(6===v.previousNode.type||0==R&&v.currentTimeline.getCurrentStyleProperties().length)&&(v.currentTimeline.snapshotCurrentStyles(),v.previousNode=Ur);let pe=R;const we=v.invokeQuery(_.selector,_.originalSelector,_.limit,_.includeSelf,!!H.optional,v.errors);v.currentQueryTotal=we.length;let He=null;we.forEach((dt,bt)=>{v.currentQueryIndex=bt;const zt=v.createSubContext(_.options,dt);se&&zt.delayNextStep(se),dt===v.element&&(He=zt.currentTimeline),lt(this,_.animation,zt),zt.currentTimeline.applyStylesToKeyframe(),pe=Math.max(pe,zt.currentTimeline.currentTime)}),v.currentQueryIndex=0,v.currentQueryTotal=0,v.transformIntoNewTimeline(pe),He&&(v.currentTimeline.mergeTimelineCollectedStyles(He),v.currentTimeline.snapshotCurrentStyles()),v.previousNode=_}visitStagger(_,v){const R=v.parentContext,H=v.currentTimeline,se=_.timings,pe=Math.abs(se.duration),we=pe*(v.currentQueryTotal-1);let He=pe*v.currentQueryIndex;switch(se.duration<0?"reverse":se.easing){case"reverse":He=we-He;break;case"full":He=R.currentStaggerTime}const bt=v.currentTimeline;He&&bt.delayNextStep(He);const zt=bt.currentTime;lt(this,_.animation,v),v.previousNode=_,R.currentStaggerTime=H.currentTime-zt+(H.startTime-R.currentTimeline.startTime)}}const Ur={};class Lr{constructor(_,v,R,H,se,pe,we,He){this._driver=_,this.element=v,this.subInstructions=R,this._enterClassName=H,this._leaveClassName=se,this.errors=pe,this.timelines=we,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ur,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=He||new er(this._driver,v,0),we.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(_,v){if(!_)return;const R=_;let H=this.options;null!=R.duration&&(H.duration=bn(R.duration)),null!=R.delay&&(H.delay=bn(R.delay));const se=R.params;if(se){let pe=H.params;pe||(pe=this.options.params={}),Object.keys(se).forEach(we=>{(!v||!pe.hasOwnProperty(we))&&(pe[we]=kr(se[we],pe,this.errors))})}}_copyOptions(){const _={};if(this.options){const v=this.options.params;if(v){const R=_.params={};Object.keys(v).forEach(H=>{R[H]=v[H]})}}return _}createSubContext(_=null,v,R){const H=v||this.element,se=new Lr(this._driver,H,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(H,R||0));return se.previousNode=this.previousNode,se.currentAnimateTimings=this.currentAnimateTimings,se.options=this._copyOptions(),se.updateOptions(_),se.currentQueryIndex=this.currentQueryIndex,se.currentQueryTotal=this.currentQueryTotal,se.parentContext=this,this.subContextCount++,se}transformIntoNewTimeline(_){return this.previousNode=Ur,this.currentTimeline=this.currentTimeline.fork(this.element,_),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(_,v,R){const H={duration:null!=v?v:_.duration,delay:this.currentTimeline.currentTime+(null!=R?R:0)+_.delay,easing:""},se=new St(this._driver,_.element,_.keyframes,_.preStyleProps,_.postStyleProps,H,_.stretchStartingKeyframe);return this.timelines.push(se),H}incrementTime(_){this.currentTimeline.forwardTime(this.currentTimeline.duration+_)}delayNextStep(_){_>0&&this.currentTimeline.delayNextStep(_)}invokeQuery(_,v,R,H,se,pe){let we=[];if(H&&we.push(this.element),_.length>0){_=(_=_.replace(Ki,"."+this._enterClassName)).replace(Mr,"."+this._leaveClassName);let dt=this._driver.query(this.element,_,1!=R);0!==R&&(dt=R<0?dt.slice(dt.length+R,dt.length):dt.slice(0,R)),we.push(...dt)}return!se&&0==we.length&&pe.push(`\`query("${v}")\` returned zero elements. (Use \`query("${v}", { optional: true })\` if you wish to allow this.)`),we}}class er{constructor(_,v,R,H){this._driver=_,this.element=v,this.startTime=R,this._elementTimelineStylesLookup=H,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(v),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(v,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(_){const v=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||v?(this.forwardTime(this.currentTime+_),v&&this.snapshotCurrentStyles()):this.startTime+=_}fork(_,v){return this.applyStylesToKeyframe(),new er(this._driver,_,v||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(_){this.applyStylesToKeyframe(),this.duration=_,this._loadKeyframe()}_updateStyle(_,v){this._localTimelineStyles[_]=v,this._globalTimelineStyles[_]=v,this._styleSummary[_]={time:this.currentTime,value:v}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(_){_&&(this._previousKeyframe.easing=_),Object.keys(this._globalTimelineStyles).forEach(v=>{this._backFill[v]=this._globalTimelineStyles[v]||q.l3,this._currentKeyframe[v]=q.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(_,v,R,H){v&&(this._previousKeyframe.easing=v);const se=H&&H.params||{},pe=function(K,_){const v={};let R;return K.forEach(H=>{"*"===H?(R=R||Object.keys(_),R.forEach(se=>{v[se]=q.l3})):Sn(H,!1,v)}),v}(_,this._globalTimelineStyles);Object.keys(pe).forEach(we=>{const He=kr(pe[we],se,R);this._pendingStyles[we]=He,this._localTimelineStyles.hasOwnProperty(we)||(this._backFill[we]=this._globalTimelineStyles.hasOwnProperty(we)?this._globalTimelineStyles[we]:q.l3),this._updateStyle(we,He)})}applyStylesToKeyframe(){const _=this._pendingStyles,v=Object.keys(_);0!=v.length&&(this._pendingStyles={},v.forEach(R=>{this._currentKeyframe[R]=_[R]}),Object.keys(this._localTimelineStyles).forEach(R=>{this._currentKeyframe.hasOwnProperty(R)||(this._currentKeyframe[R]=this._localTimelineStyles[R])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(_=>{const v=this._localTimelineStyles[_];this._pendingStyles[_]=v,this._updateStyle(_,v)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const _=[];for(let v in this._currentKeyframe)_.push(v);return _}mergeTimelineCollectedStyles(_){Object.keys(_._styleSummary).forEach(v=>{const R=this._styleSummary[v],H=_._styleSummary[v];(!R||H.time>R.time)&&this._updateStyle(v,H.value)})}buildKeyframes(){this.applyStylesToKeyframe();const _=new Set,v=new Set,R=1===this._keyframes.size&&0===this.duration;let H=[];this._keyframes.forEach((we,He)=>{const dt=Sn(we,!0);Object.keys(dt).forEach(bt=>{const zt=dt[bt];zt==q.k1?_.add(bt):zt==q.l3&&v.add(bt)}),R||(dt.offset=He/this.duration),H.push(dt)});const se=_.size?$e(_.values()):[],pe=v.size?$e(v.values()):[];if(R){const we=H[0],He=Kt(we);we.offset=0,He.offset=1,H=[we,He]}return Rr(this.element,H,se,pe,this.duration,this.startTime,this.easing,!1)}}class St extends er{constructor(_,v,R,H,se,pe,we=!1){super(_,v,pe.delay),this.keyframes=R,this.preStyleProps=H,this.postStyleProps=se,this._stretchStartingKeyframe=we,this.timings={duration:pe.duration,delay:pe.delay,easing:pe.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let _=this.keyframes,{delay:v,duration:R,easing:H}=this.timings;if(this._stretchStartingKeyframe&&v){const se=[],pe=R+v,we=v/pe,He=Sn(_[0],!1);He.offset=0,se.push(He);const dt=Sn(_[0],!1);dt.offset=hn(we),se.push(dt);const bt=_.length-1;for(let zt=1;zt<=bt;zt++){let jn=Sn(_[zt],!1);jn.offset=hn((v+jn.offset*R)/pe),se.push(jn)}R=pe,v=0,H="",_=se}return Rr(this.element,_,this.preStyleProps,this.postStyleProps,R,v,H,!0)}}function hn(K,_=3){const v=Math.pow(10,_-1);return Math.round(K*v)/v}class Ai{}class jr extends Ai{normalizePropertyName(_,v){return me(_)}normalizeStyleValue(_,v,R,H){let se="";const pe=R.toString().trim();if(ui[v]&&0!==R&&"0"!==R)if("number"==typeof R)se="px";else{const we=R.match(/^[+-]?[\d\.]+([a-z]*)$/);we&&0==we[1].length&&H.push(`Please provide a CSS unit value for ${_}:${R}`)}return pe+se}}const ui=(()=>function(K){const _={};return K.forEach(v=>_[v]=!0),_}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function fn(K,_,v,R,H,se,pe,we,He,dt,bt,zt,jn){return{type:0,element:K,triggerName:_,isRemovalTransition:H,fromState:v,fromStyles:se,toState:R,toStyles:pe,timelines:we,queriedElements:He,preStyleProps:dt,postStyleProps:bt,totalTime:zt,errors:jn}}const Le={};class Ae{constructor(_,v,R){this._triggerName=_,this.ast=v,this._stateStyles=R}match(_,v,R,H){return function(K,_,v,R,H){return K.some(se=>se(_,v,R,H))}(this.ast.matchers,_,v,R,H)}buildStyles(_,v,R){const H=this._stateStyles["*"],se=this._stateStyles[_],pe=H?H.buildStyles(v,R):{};return se?se.buildStyles(v,R):pe}build(_,v,R,H,se,pe,we,He,dt,bt){const zt=[],jn=this.ast.options&&this.ast.options.params||Le,vn=this.buildStyles(R,we&&we.params||Le,zt),Fn=He&&He.params||Le,Xn=this.buildStyles(H,Fn,zt),xr=new Set,Zr=new Map,Ci=new Map,mi="void"===H,Is={params:Object.assign(Object.assign({},jn),Fn)},js=bt?[]:cr(_,v,this.ast.animation,se,pe,vn,Xn,Is,dt,zt);let yi=0;if(js.forEach(Bs=>{yi=Math.max(Bs.duration+Bs.delay,yi)}),zt.length)return fn(v,this._triggerName,R,H,mi,vn,Xn,[],[],Zr,Ci,yi,zt);js.forEach(Bs=>{const fi=Bs.element,Aa=re(Zr,fi,{});Bs.preStyleProps.forEach(ti=>Aa[ti]=!0);const fo=re(Ci,fi,{});Bs.postStyleProps.forEach(ti=>fo[ti]=!0),fi!==v&&xr.add(fi)});const Ss=$e(xr.values());return fn(v,this._triggerName,R,H,mi,vn,Xn,js,Ss,Zr,Ci,yi)}}class Ke{constructor(_,v,R){this.styles=_,this.defaultParams=v,this.normalizer=R}buildStyles(_,v){const R={},H=Kt(this.defaultParams);return Object.keys(_).forEach(se=>{const pe=_[se];null!=pe&&(H[se]=pe)}),this.styles.styles.forEach(se=>{if("string"!=typeof se){const pe=se;Object.keys(pe).forEach(we=>{let He=pe[we];He.length>1&&(He=kr(He,H,v));const dt=this.normalizer.normalizePropertyName(we,v);He=this.normalizer.normalizeStyleValue(we,dt,He,v),R[dt]=He})}}),R}}class on{constructor(_,v,R){this.name=_,this.ast=v,this._normalizer=R,this.transitionFactories=[],this.states={},v.states.forEach(H=>{this.states[H.name]=new Ke(H.style,H.options&&H.options.params||{},R)}),Un(this.states,"true","1"),Un(this.states,"false","0"),v.transitions.forEach(H=>{this.transitionFactories.push(new Ae(_,H,this.states))}),this.fallbackTransition=function(K,_,v){return new Ae(K,{type:1,animation:{type:2,steps:[],options:null},matchers:[(pe,we)=>!0],options:null,queryCount:0,depCount:0},_)}(_,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(_,v,R,H){return this.transitionFactories.find(pe=>pe.match(_,v,R,H))||null}matchStyles(_,v,R){return this.fallbackTransition.buildStyles(_,v,R)}}function Un(K,_,v){K.hasOwnProperty(_)?K.hasOwnProperty(v)||(K[v]=K[_]):K.hasOwnProperty(v)&&(K[_]=K[v])}const an=new Fr;class zi{constructor(_,v,R){this.bodyNode=_,this._driver=v,this._normalizer=R,this._animations={},this._playersById={},this.players=[]}register(_,v){const R=[],H=Ze(this._driver,v,R);if(R.length)throw new Error(`Unable to build the animation due to the following errors: ${R.join("\n")}`);this._animations[_]=H}_buildPlayer(_,v,R){const H=_.element,se=de(0,this._normalizer,0,_.keyframes,v,R);return this._driver.animate(H,se,_.duration,_.delay,_.easing,[],!0)}create(_,v,R={}){const H=[],se=this._animations[_];let pe;const we=new Map;if(se?(pe=cr(this._driver,v,se,Wn,lr,{},{},R,an,H),pe.forEach(bt=>{const zt=re(we,bt.element,{});bt.postStyleProps.forEach(jn=>zt[jn]=null)})):(H.push("The requested animation doesn't exist or has already been destroyed"),pe=[]),H.length)throw new Error(`Unable to create the animation due to the following errors: ${H.join("\n")}`);we.forEach((bt,zt)=>{Object.keys(bt).forEach(jn=>{bt[jn]=this._driver.computeStyle(zt,jn,q.l3)})});const dt=ie(pe.map(bt=>{const zt=we.get(bt.element);return this._buildPlayer(bt,{},zt)}));return this._playersById[_]=dt,dt.onDestroy(()=>this.destroy(_)),this.players.push(dt),dt}destroy(_){const v=this._getPlayer(_);v.destroy(),delete this._playersById[_];const R=this.players.indexOf(v);R>=0&&this.players.splice(R,1)}_getPlayer(_){const v=this._playersById[_];if(!v)throw new Error(`Unable to find the timeline player referenced by ${_}`);return v}listen(_,v,R,H){const se=J(v,"","","");return Y(this._getPlayer(_),R,se,H),()=>{}}command(_,v,R,H){if("register"==R)return void this.register(_,H[0]);if("create"==R)return void this.create(_,v,H[0]||{});const se=this._getPlayer(_);switch(R){case"play":se.play();break;case"pause":se.pause();break;case"reset":se.reset();break;case"restart":se.restart();break;case"finish":se.finish();break;case"init":se.init();break;case"setPosition":se.setPosition(parseFloat(H[0]));break;case"destroy":this.destroy(_)}}}const wr="ng-animate-queued",Fs="ng-animate-disabled",Xr=".ng-animate-disabled",Br=[],Zs={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},or={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},gr="__ng_removed";class gs{constructor(_,v=""){this.namespaceId=v;const R=_&&_.hasOwnProperty("value");if(this.value=null!=(K=R?_.value:_)?K:null,R){const se=Kt(_);delete se.value,this.options=se}else this.options={};var K;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(_){const v=_.params;if(v){const R=this.options.params;Object.keys(v).forEach(H=>{null==R[H]&&(R[H]=v[H])})}}}const Ri="void",Ui=new gs(Ri);class li{constructor(_,v,R){this.id=_,this.hostElement=v,this._engine=R,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+_,On(v,this._hostClassName)}listen(_,v,R,H){if(!this._triggers.hasOwnProperty(v))throw new Error(`Unable to listen on the animation trigger event "${R}" because the animation trigger "${v}" doesn't exist!`);if(null==R||0==R.length)throw new Error(`Unable to listen on the animation trigger "${v}" because the provided event is undefined!`);if("start"!=(K=R)&&"done"!=K)throw new Error(`The provided animation trigger event "${R}" for the animation trigger "${v}" is not supported!`);var K;const se=re(this._elementListeners,_,[]),pe={name:v,phase:R,callback:H};se.push(pe);const we=re(this._engine.statesByElement,_,{});return we.hasOwnProperty(v)||(On(_,$t),On(_,$t+"-"+v),we[v]=Ui),()=>{this._engine.afterFlush(()=>{const He=se.indexOf(pe);He>=0&&se.splice(He,1),this._triggers[v]||delete we[v]})}}register(_,v){return!this._triggers[_]&&(this._triggers[_]=v,!0)}_getTrigger(_){const v=this._triggers[_];if(!v)throw new Error(`The provided animation trigger "${_}" has not been registered!`);return v}trigger(_,v,R,H=!0){const se=this._getTrigger(v),pe=new Ls(this.id,v,_);let we=this._engine.statesByElement.get(_);we||(On(_,$t),On(_,$t+"-"+v),this._engine.statesByElement.set(_,we={}));let He=we[v];const dt=new gs(R,this.id);if(!(R&&R.hasOwnProperty("value"))&&He&&dt.absorbOptions(He.options),we[v]=dt,He||(He=Ui),dt.value!==Ri&&He.value===dt.value){if(!function(K,_){const v=Object.keys(K),R=Object.keys(_);if(v.length!=R.length)return!1;for(let H=0;H<v.length;H++){const se=v[H];if(!_.hasOwnProperty(se)||K[se]!==_[se])return!1}return!0}(He.params,dt.params)){const Fn=[],Xn=se.matchStyles(He.value,He.params,Fn),xr=se.matchStyles(dt.value,dt.params,Fn);Fn.length?this._engine.reportError(Fn):this._engine.afterFlush(()=>{zn(_,Xn),ot(_,xr)})}return}const jn=re(this._engine.playersByElement,_,[]);jn.forEach(Fn=>{Fn.namespaceId==this.id&&Fn.triggerName==v&&Fn.queued&&Fn.destroy()});let Jn=se.matchTransition(He.value,dt.value,_,dt.params),vn=!1;if(!Jn){if(!H)return;Jn=se.fallbackTransition,vn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:_,triggerName:v,transition:Jn,fromState:He,toState:dt,player:pe,isFallbackTransition:vn}),vn||(On(_,wr),pe.onStart(()=>{hi(_,wr)})),pe.onDone(()=>{let Fn=this.players.indexOf(pe);Fn>=0&&this.players.splice(Fn,1);const Xn=this._engine.playersByElement.get(_);if(Xn){let xr=Xn.indexOf(pe);xr>=0&&Xn.splice(xr,1)}}),this.players.push(pe),jn.push(pe),pe}deregister(_){delete this._triggers[_],this._engine.statesByElement.forEach((v,R)=>{delete v[_]}),this._elementListeners.forEach((v,R)=>{this._elementListeners.set(R,v.filter(H=>H.name!=_))})}clearElementCache(_){this._engine.statesByElement.delete(_),this._elementListeners.delete(_);const v=this._engine.playersByElement.get(_);v&&(v.forEach(R=>R.destroy()),this._engine.playersByElement.delete(_))}_signalRemovalForInnerTriggers(_,v){const R=this._engine.driver.query(_,kn,!0);R.forEach(H=>{if(H[gr])return;const se=this._engine.fetchNamespacesByElement(H);se.size?se.forEach(pe=>pe.triggerLeaveAnimation(H,v,!1,!0)):this.clearElementCache(H)}),this._engine.afterFlushAnimationsDone(()=>R.forEach(H=>this.clearElementCache(H)))}triggerLeaveAnimation(_,v,R,H){const se=this._engine.statesByElement.get(_);if(se){const pe=[];if(Object.keys(se).forEach(we=>{if(this._triggers[we]){const He=this.trigger(_,we,Ri,H);He&&pe.push(He)}}),pe.length)return this._engine.markElementAsRemoved(this.id,_,!0,v),R&&ie(pe).onDone(()=>this._engine.processLeaveNode(_)),!0}return!1}prepareLeaveAnimationListeners(_){const v=this._elementListeners.get(_),R=this._engine.statesByElement.get(_);if(v&&R){const H=new Set;v.forEach(se=>{const pe=se.name;if(H.has(pe))return;H.add(pe);const He=this._triggers[pe].fallbackTransition,dt=R[pe]||Ui,bt=new gs(Ri),zt=new Ls(this.id,pe,_);this._engine.totalQueuedPlayers++,this._queue.push({element:_,triggerName:pe,transition:He,fromState:dt,toState:bt,player:zt,isFallbackTransition:!0})})}}removeNode(_,v){const R=this._engine;if(_.childElementCount&&this._signalRemovalForInnerTriggers(_,v),this.triggerLeaveAnimation(_,v,!0))return;let H=!1;if(R.totalAnimations){const se=R.players.length?R.playersByQueriedElement.get(_):[];if(se&&se.length)H=!0;else{let pe=_;for(;pe=pe.parentNode;)if(R.statesByElement.get(pe)){H=!0;break}}}if(this.prepareLeaveAnimationListeners(_),H)R.markElementAsRemoved(this.id,_,!1,v);else{const se=_[gr];(!se||se===Zs)&&(R.afterFlush(()=>this.clearElementCache(_)),R.destroyInnerAnimations(_),R._onRemovalComplete(_,v))}}insertNode(_,v){On(_,this._hostClassName)}drainQueuedTransitions(_){const v=[];return this._queue.forEach(R=>{const H=R.player;if(H.destroyed)return;const se=R.element,pe=this._elementListeners.get(se);pe&&pe.forEach(we=>{if(we.name==R.triggerName){const He=J(se,R.triggerName,R.fromState.value,R.toState.value);He._data=_,Y(R.player,we.phase,He,we.callback)}}),H.markedForDestroy?this._engine.afterFlush(()=>{H.destroy()}):v.push(R)}),this._queue=[],v.sort((R,H)=>{const se=R.transition.ast.depCount,pe=H.transition.ast.depCount;return 0==se||0==pe?se-pe:this._engine.driver.containsElement(R.element,H.element)?1:-1})}destroy(_){this.players.forEach(v=>v.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,_)}elementContainsData(_){let v=!1;return this._elementListeners.has(_)&&(v=!0),v=!!this._queue.find(R=>R.element===_)||v,v}}class wi{constructor(_,v,R){this.bodyNode=_,this.driver=v,this._normalizer=R,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(H,se)=>{}}_onRemovalComplete(_,v){this.onRemovalComplete(_,v)}get queuedPlayers(){const _=[];return this._namespaceList.forEach(v=>{v.players.forEach(R=>{R.queued&&_.push(R)})}),_}createNamespace(_,v){const R=new li(_,v,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,v)?this._balanceNamespaceList(R,v):(this.newHostElements.set(v,R),this.collectEnterElement(v)),this._namespaceLookup[_]=R}_balanceNamespaceList(_,v){const R=this._namespaceList.length-1;if(R>=0){let H=!1;for(let se=R;se>=0;se--)if(this.driver.containsElement(this._namespaceList[se].hostElement,v)){this._namespaceList.splice(se+1,0,_),H=!0;break}H||this._namespaceList.splice(0,0,_)}else this._namespaceList.push(_);return this.namespacesByHostElement.set(v,_),_}register(_,v){let R=this._namespaceLookup[_];return R||(R=this.createNamespace(_,v)),R}registerTrigger(_,v,R){let H=this._namespaceLookup[_];H&&H.register(v,R)&&this.totalAnimations++}destroy(_,v){if(!_)return;const R=this._fetchNamespace(_);this.afterFlush(()=>{this.namespacesByHostElement.delete(R.hostElement),delete this._namespaceLookup[_];const H=this._namespaceList.indexOf(R);H>=0&&this._namespaceList.splice(H,1)}),this.afterFlushAnimationsDone(()=>R.destroy(v))}_fetchNamespace(_){return this._namespaceLookup[_]}fetchNamespacesByElement(_){const v=new Set,R=this.statesByElement.get(_);if(R){const H=Object.keys(R);for(let se=0;se<H.length;se++){const pe=R[H[se]].namespaceId;if(pe){const we=this._fetchNamespace(pe);we&&v.add(we)}}}return v}trigger(_,v,R,H){if(xe(v)){const se=this._fetchNamespace(_);if(se)return se.trigger(v,R,H),!0}return!1}insertNode(_,v,R,H){if(!xe(v))return;const se=v[gr];if(se&&se.setForRemoval){se.setForRemoval=!1,se.setForMove=!0;const pe=this.collectedLeaveElements.indexOf(v);pe>=0&&this.collectedLeaveElements.splice(pe,1)}if(_){const pe=this._fetchNamespace(_);pe&&pe.insertNode(v,R)}H&&this.collectEnterElement(v)}collectEnterElement(_){this.collectedEnterElements.push(_)}markElementAsDisabled(_,v){v?this.disabledNodes.has(_)||(this.disabledNodes.add(_),On(_,Fs)):this.disabledNodes.has(_)&&(this.disabledNodes.delete(_),hi(_,Fs))}removeNode(_,v,R,H){if(xe(v)){const se=_?this._fetchNamespace(_):null;if(se?se.removeNode(v,H):this.markElementAsRemoved(_,v,!1,H),R){const pe=this.namespacesByHostElement.get(v);pe&&pe.id!==_&&pe.removeNode(v,H)}}else this._onRemovalComplete(v,H)}markElementAsRemoved(_,v,R,H){this.collectedLeaveElements.push(v),v[gr]={namespaceId:_,setForRemoval:H,hasAnimation:R,removedBeforeQueried:!1}}listen(_,v,R,H,se){return xe(v)?this._fetchNamespace(_).listen(v,R,H,se):()=>{}}_buildInstruction(_,v,R,H,se){return _.transition.build(this.driver,_.element,_.fromState.value,_.toState.value,R,H,_.fromState.options,_.toState.options,v,se)}destroyInnerAnimations(_){let v=this.driver.query(_,kn,!0);v.forEach(R=>this.destroyActiveAnimationsForElement(R)),0!=this.playersByQueriedElement.size&&(v=this.driver.query(_,Cn,!0),v.forEach(R=>this.finishActiveQueriedAnimationOnElement(R)))}destroyActiveAnimationsForElement(_){const v=this.playersByElement.get(_);v&&v.forEach(R=>{R.queued?R.markedForDestroy=!0:R.destroy()})}finishActiveQueriedAnimationOnElement(_){const v=this.playersByQueriedElement.get(_);v&&v.forEach(R=>R.finish())}whenRenderingDone(){return new Promise(_=>{if(this.players.length)return ie(this.players).onDone(()=>_());_()})}processLeaveNode(_){const v=_[gr];if(v&&v.setForRemoval){if(_[gr]=Zs,v.namespaceId){this.destroyInnerAnimations(_);const R=this._fetchNamespace(v.namespaceId);R&&R.clearElementCache(_)}this._onRemovalComplete(_,v.setForRemoval)}this.driver.matchesElement(_,Xr)&&this.markElementAsDisabled(_,!1),this.driver.query(_,Xr,!0).forEach(R=>{this.markElementAsDisabled(R,!1)})}flush(_=-1){let v=[];if(this.newHostElements.size&&(this.newHostElements.forEach((R,H)=>this._balanceNamespaceList(R,H)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let R=0;R<this.collectedEnterElements.length;R++)On(this.collectedEnterElements[R],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const R=[];try{v=this._flushAnimations(R,_)}finally{for(let H=0;H<R.length;H++)R[H]()}}else for(let R=0;R<this.collectedLeaveElements.length;R++)this.processLeaveNode(this.collectedLeaveElements[R]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(R=>R()),this._flushFns=[],this._whenQuietFns.length){const R=this._whenQuietFns;this._whenQuietFns=[],v.length?ie(v).onDone(()=>{R.forEach(H=>H())}):R.forEach(H=>H())}}reportError(_){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${_.join("\n")}`)}_flushAnimations(_,v){const R=new Fr,H=[],se=new Map,pe=[],we=new Map,He=new Map,dt=new Map,bt=new Set;this.disabledNodes.forEach(Vt=>{bt.add(Vt);const En=this.driver.query(Vt,".ng-animate-queued",!0);for(let $n=0;$n<En.length;$n++)bt.add(En[$n])});const zt=this.bodyNode,jn=Array.from(this.statesByElement.keys()),Jn=Gt(jn,this.collectedEnterElements),vn=new Map;let Fn=0;Jn.forEach((Vt,En)=>{const $n=Wn+Fn++;vn.set(En,$n),Vt.forEach(qn=>On(qn,$n))});const Xn=[],xr=new Set,Zr=new Set;for(let Vt=0;Vt<this.collectedLeaveElements.length;Vt++){const En=this.collectedLeaveElements[Vt],$n=En[gr];$n&&$n.setForRemoval&&(Xn.push(En),xr.add(En),$n.hasAnimation?this.driver.query(En,".ng-star-inserted",!0).forEach(qn=>xr.add(qn)):Zr.add(En))}const Ci=new Map,mi=Gt(jn,Array.from(xr));mi.forEach((Vt,En)=>{const $n=lr+Fn++;Ci.set(En,$n),Vt.forEach(qn=>On(qn,$n))}),_.push(()=>{Jn.forEach((Vt,En)=>{const $n=vn.get(En);Vt.forEach(qn=>hi(qn,$n))}),mi.forEach((Vt,En)=>{const $n=Ci.get(En);Vt.forEach(qn=>hi(qn,$n))}),Xn.forEach(Vt=>{this.processLeaveNode(Vt)})});const Is=[],js=[];for(let Vt=this._namespaceList.length-1;Vt>=0;Vt--)this._namespaceList[Vt].drainQueuedTransitions(v).forEach($n=>{const qn=$n.player,Mi=$n.element;if(Is.push(qn),this.collectedEnterElements.length){const hs=Mi[gr];if(hs&&hs.setForMove)return void qn.destroy()}const $s=!zt||!this.driver.containsElement(zt,Mi),ji=Ci.get(Mi),$r=vn.get(Mi),Qr=this._buildInstruction($n,R,$r,ji,$s);if(Qr.errors&&Qr.errors.length)js.push(Qr);else{if($s)return qn.onStart(()=>zn(Mi,Qr.fromStyles)),qn.onDestroy(()=>ot(Mi,Qr.toStyles)),void H.push(qn);if($n.isFallbackTransition)return qn.onStart(()=>zn(Mi,Qr.fromStyles)),qn.onDestroy(()=>ot(Mi,Qr.toStyles)),void H.push(qn);Qr.timelines.forEach(hs=>hs.stretchStartingKeyframe=!0),R.append(Mi,Qr.timelines),pe.push({instruction:Qr,player:qn,element:Mi}),Qr.queriedElements.forEach(hs=>re(we,hs,[]).push(qn)),Qr.preStyleProps.forEach((hs,eo)=>{const Qi=Object.keys(hs);if(Qi.length){let ws=He.get(eo);ws||He.set(eo,ws=new Set),Qi.forEach(_i=>ws.add(_i))}}),Qr.postStyleProps.forEach((hs,eo)=>{const Qi=Object.keys(hs);let ws=dt.get(eo);ws||dt.set(eo,ws=new Set),Qi.forEach(_i=>ws.add(_i))})}});if(js.length){const Vt=[];js.forEach(En=>{Vt.push(`@${En.triggerName} has failed due to:\n`),En.errors.forEach($n=>Vt.push(`- ${$n}\n`))}),Is.forEach(En=>En.destroy()),this.reportError(Vt)}const yi=new Map,Ss=new Map;pe.forEach(Vt=>{const En=Vt.element;R.has(En)&&(Ss.set(En,En),this._beforeAnimationBuild(Vt.player.namespaceId,Vt.instruction,yi))}),H.forEach(Vt=>{const En=Vt.element;this._getPreviousPlayers(En,!1,Vt.namespaceId,Vt.triggerName,null).forEach(qn=>{re(yi,En,[]).push(qn),qn.destroy()})});const Bs=Xn.filter(Vt=>ss(Vt,He,dt)),fi=new Map;Tt(fi,this.driver,Zr,dt,q.l3).forEach(Vt=>{ss(Vt,He,dt)&&Bs.push(Vt)});const fo=new Map;Jn.forEach((Vt,En)=>{Tt(fo,this.driver,new Set(Vt),He,q.k1)}),Bs.forEach(Vt=>{const En=fi.get(Vt),$n=fo.get(Vt);fi.set(Vt,Object.assign(Object.assign({},En),$n))});const ti=[],Do=[],Cr={};pe.forEach(Vt=>{const{element:En,player:$n,instruction:qn}=Vt;if(R.has(En)){if(bt.has(En))return $n.onDestroy(()=>ot(En,qn.toStyles)),$n.disabled=!0,$n.overrideTotalTime(qn.totalTime),void H.push($n);let Mi=Cr;if(Ss.size>1){let ji=En;const $r=[];for(;ji=ji.parentNode;){const Qr=Ss.get(ji);if(Qr){Mi=Qr;break}$r.push(ji)}$r.forEach(Qr=>Ss.set(Qr,Mi))}const $s=this._buildAnimation($n.namespaceId,qn,yi,se,fo,fi);if($n.setRealPlayer($s),Mi===Cr)ti.push($n);else{const ji=this.playersByElement.get(Mi);ji&&ji.length&&($n.parentPlayer=ie(ji)),H.push($n)}}else zn(En,qn.fromStyles),$n.onDestroy(()=>ot(En,qn.toStyles)),Do.push($n),bt.has(En)&&H.push($n)}),Do.forEach(Vt=>{const En=se.get(Vt.element);if(En&&En.length){const $n=ie(En);Vt.setRealPlayer($n)}}),H.forEach(Vt=>{Vt.parentPlayer?Vt.syncPlayerEvents(Vt.parentPlayer):Vt.destroy()});for(let Vt=0;Vt<Xn.length;Vt++){const En=Xn[Vt],$n=En[gr];if(hi(En,lr),$n&&$n.hasAnimation)continue;let qn=[];if(we.size){let $s=we.get(En);$s&&$s.length&&qn.push(...$s);let ji=this.driver.query(En,Cn,!0);for(let $r=0;$r<ji.length;$r++){let Qr=we.get(ji[$r]);Qr&&Qr.length&&qn.push(...Qr)}}const Mi=qn.filter($s=>!$s.destroyed);Mi.length?cs(this,En,Mi):this.processLeaveNode(En)}return Xn.length=0,ti.forEach(Vt=>{this.players.push(Vt),Vt.onDone(()=>{Vt.destroy();const En=this.players.indexOf(Vt);this.players.splice(En,1)}),Vt.play()}),ti}elementContainsData(_,v){let R=!1;const H=v[gr];return H&&H.setForRemoval&&(R=!0),this.playersByElement.has(v)&&(R=!0),this.playersByQueriedElement.has(v)&&(R=!0),this.statesByElement.has(v)&&(R=!0),this._fetchNamespace(_).elementContainsData(v)||R}afterFlush(_){this._flushFns.push(_)}afterFlushAnimationsDone(_){this._whenQuietFns.push(_)}_getPreviousPlayers(_,v,R,H,se){let pe=[];if(v){const we=this.playersByQueriedElement.get(_);we&&(pe=we)}else{const we=this.playersByElement.get(_);if(we){const He=!se||se==Ri;we.forEach(dt=>{dt.queued||!He&&dt.triggerName!=H||pe.push(dt)})}}return(R||H)&&(pe=pe.filter(we=>!(R&&R!=we.namespaceId||H&&H!=we.triggerName))),pe}_beforeAnimationBuild(_,v,R){const se=v.element,pe=v.isRemovalTransition?void 0:_,we=v.isRemovalTransition?void 0:v.triggerName;for(const He of v.timelines){const dt=He.element,bt=dt!==se,zt=re(R,dt,[]);this._getPreviousPlayers(dt,bt,pe,we,v.toState).forEach(Jn=>{const vn=Jn.getRealPlayer();vn.beforeDestroy&&vn.beforeDestroy(),Jn.destroy(),zt.push(Jn)})}zn(se,v.fromStyles)}_buildAnimation(_,v,R,H,se,pe){const we=v.triggerName,He=v.element,dt=[],bt=new Set,zt=new Set,jn=v.timelines.map(vn=>{const Fn=vn.element;bt.add(Fn);const Xn=Fn[gr];if(Xn&&Xn.removedBeforeQueried)return new q.ZN(vn.duration,vn.delay);const xr=Fn!==He,Zr=function(K){const _=[];return Ys(K,_),_}((R.get(Fn)||Br).map(yi=>yi.getRealPlayer())).filter(yi=>!!yi.element&&yi.element===Fn),Ci=se.get(Fn),mi=pe.get(Fn),Is=de(0,this._normalizer,0,vn.keyframes,Ci,mi),js=this._buildPlayer(vn,Is,Zr);if(vn.subTimeline&&H&&zt.add(Fn),xr){const yi=new Ls(_,we,Fn);yi.setRealPlayer(js),dt.push(yi)}return js});dt.forEach(vn=>{re(this.playersByQueriedElement,vn.element,[]).push(vn),vn.onDone(()=>function(K,_,v){let R;if(K instanceof Map){if(R=K.get(_),R){if(R.length){const H=R.indexOf(v);R.splice(H,1)}0==R.length&&K.delete(_)}}else if(R=K[_],R){if(R.length){const H=R.indexOf(v);R.splice(H,1)}0==R.length&&delete K[_]}return R}(this.playersByQueriedElement,vn.element,vn))}),bt.forEach(vn=>On(vn,rr));const Jn=ie(jn);return Jn.onDestroy(()=>{bt.forEach(vn=>hi(vn,rr)),ot(He,v.toStyles)}),zt.forEach(vn=>{re(H,vn,[]).push(Jn)}),Jn}_buildPlayer(_,v,R){return v.length>0?this.driver.animate(_.element,v,_.duration,_.delay,_.easing,R):new q.ZN(_.duration,_.delay)}}class Ls{constructor(_,v,R){this.namespaceId=_,this.triggerName=v,this.element=R,this._player=new q.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(_){this._containsRealPlayer||(this._player=_,Object.keys(this._queuedCallbacks).forEach(v=>{this._queuedCallbacks[v].forEach(R=>Y(_,v,void 0,R))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(_.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(_){this.totalTime=_}syncPlayerEvents(_){const v=this._player;v.triggerCallback&&_.onStart(()=>v.triggerCallback("start")),_.onDone(()=>this.finish()),_.onDestroy(()=>this.destroy())}_queueEvent(_,v){re(this._queuedCallbacks,_,[]).push(v)}onDone(_){this.queued&&this._queueEvent("done",_),this._player.onDone(_)}onStart(_){this.queued&&this._queueEvent("start",_),this._player.onStart(_)}onDestroy(_){this.queued&&this._queueEvent("destroy",_),this._player.onDestroy(_)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(_){this.queued||this._player.setPosition(_)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(_){const v=this._player;v.triggerCallback&&v.triggerCallback(_)}}function xe(K){return K&&1===K.nodeType}function gt(K,_){const v=K.style.display;return K.style.display=null!=_?_:"none",v}function Tt(K,_,v,R,H){const se=[];v.forEach(He=>se.push(gt(He)));const pe=[];R.forEach((He,dt)=>{const bt={};He.forEach(zt=>{const jn=bt[zt]=_.computeStyle(dt,zt,H);(!jn||0==jn.length)&&(dt[gr]=or,pe.push(dt))}),K.set(dt,bt)});let we=0;return v.forEach(He=>gt(He,se[we++])),pe}function Gt(K,_){const v=new Map;if(K.forEach(we=>v.set(we,[])),0==_.length)return v;const H=new Set(_),se=new Map;function pe(we){if(!we)return 1;let He=se.get(we);if(He)return He;const dt=we.parentNode;return He=v.has(dt)?dt:H.has(dt)?1:pe(dt),se.set(we,He),He}return _.forEach(we=>{const He=pe(we);1!==He&&v.get(He).push(we)}),v}const Zn="$$classes";function On(K,_){if(K.classList)K.classList.add(_);else{let v=K[Zn];v||(v=K[Zn]={}),v[_]=!0}}function hi(K,_){if(K.classList)K.classList.remove(_);else{let v=K[Zn];v&&delete v[_]}}function cs(K,_,v){ie(v).onDone(()=>K.processLeaveNode(_))}function Ys(K,_){for(let v=0;v<K.length;v++){const R=K[v];R instanceof q.ZE?Ys(R.players,_):_.push(R)}}function ss(K,_,v){const R=v.get(K);if(!R)return!1;let H=_.get(K);return H?R.forEach(se=>H.add(se)):_.set(K,R),v.delete(K),!0}class ms{constructor(_,v,R){this.bodyNode=_,this._driver=v,this._normalizer=R,this._triggerCache={},this.onRemovalComplete=(H,se)=>{},this._transitionEngine=new wi(_,v,R),this._timelineEngine=new zi(_,v,R),this._transitionEngine.onRemovalComplete=(H,se)=>this.onRemovalComplete(H,se)}registerTrigger(_,v,R,H,se){const pe=_+"-"+H;let we=this._triggerCache[pe];if(!we){const He=[],dt=Ze(this._driver,se,He);if(He.length)throw new Error(`The animation trigger "${H}" has failed to build due to the following errors:\n - ${He.join("\n - ")}`);we=function(K,_,v){return new on(K,_,v)}(H,dt,this._normalizer),this._triggerCache[pe]=we}this._transitionEngine.registerTrigger(v,H,we)}register(_,v){this._transitionEngine.register(_,v)}destroy(_,v){this._transitionEngine.destroy(_,v)}onInsert(_,v,R,H){this._transitionEngine.insertNode(_,v,R,H)}onRemove(_,v,R,H){this._transitionEngine.removeNode(_,v,H||!1,R)}disableAnimations(_,v){this._transitionEngine.markElementAsDisabled(_,v)}process(_,v,R,H){if("@"==R.charAt(0)){const[se,pe]=Z(R);this._timelineEngine.command(se,v,pe,H)}else this._transitionEngine.trigger(_,v,R,H)}listen(_,v,R,H,se){if("@"==R.charAt(0)){const[pe,we]=Z(R);return this._timelineEngine.listen(pe,v,we,se)}return this._transitionEngine.listen(_,v,R,H,se)}flush(_=-1){this._transitionEngine.flush(_)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function qi(K,_){let v=null,R=null;return Array.isArray(_)&&_.length?(v=Js(_[0]),_.length>1&&(R=Js(_[_.length-1]))):_&&(v=Js(_)),v||R?new Vs(K,v,R):null}class Vs{constructor(_,v,R){this._element=_,this._startStyles=v,this._endStyles=R,this._state=0;let H=Vs.initialStylesByElement.get(_);H||Vs.initialStylesByElement.set(_,H={}),this._initialStyles=H}start(){this._state<1&&(this._startStyles&&ot(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ot(this._element,this._initialStyles),this._endStyles&&(ot(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Vs.initialStylesByElement.delete(this._element),this._startStyles&&(zn(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(zn(this._element,this._endStyles),this._endStyles=null),ot(this._element,this._initialStyles),this._state=3)}}function Js(K){let _=null;const v=Object.keys(K);for(let R=0;R<v.length;R++){const H=v[R];ys(H)&&(_=_||{},_[H]=K[H])}return _}function ys(K){return"display"===K||"position"===K}Vs.initialStylesByElement=new WeakMap;const _s="animation",ii="animationend";class ya{constructor(_,v,R,H,se,pe,we){this._element=_,this._name=v,this._duration=R,this._delay=H,this._easing=se,this._fillMode=pe,this._onDoneFn=we,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=He=>this._handleCallback(He)}apply(){(function(K,_){const v=Xs(K,"").trim();let R=0;v.length&&(function(K,_){let v=0;for(let R=0;R<K.length;R++)","===K.charAt(R)&&v++;return v}(v)+1,_=`${v}, ${_}`),ei(K,"",_)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),vs(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Pn(this._element,this._name,"paused")}resume(){Pn(this._element,this._name,"running")}setPosition(_){const v=Po(this._element,this._name);this._position=_*this._duration,ei(this._element,"Delay",`-${this._position}ms`,v)}getPosition(){return this._position}_handleCallback(_){const v=_._ngTestManualTimestamp||Date.now(),R=1e3*parseFloat(_.elapsedTime.toFixed(3));_.animationName==this._name&&Math.max(v-this._startTime,0)>=this._delay&&R>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),vs(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(K,_){const R=Xs(K,"").split(","),H=os(R,_);H>=0&&(R.splice(H,1),ei(K,"",R.join(",")))}(this._element,this._name))}}function Pn(K,_,v){ei(K,"PlayState",v,Po(K,_))}function Po(K,_){const v=Xs(K,"");return v.indexOf(",")>0?os(v.split(","),_):os([v],_)}function os(K,_){for(let v=0;v<K.length;v++)if(K[v].indexOf(_)>=0)return v;return-1}function vs(K,_,v){v?K.removeEventListener(ii,_):K.addEventListener(ii,_)}function ei(K,_,v,R){const H=_s+_;if(null!=R){const se=K.style[H];if(se.length){const pe=se.split(",");pe[R]=v,v=pe.join(",")}}K.style[H]=v}function Xs(K,_){return K.style[_s+_]||""}class ds{constructor(_,v,R,H,se,pe,we,He){this.element=_,this.keyframes=v,this.animationName=R,this._duration=H,this._delay=se,this._finalStyles=we,this._specialStyles=He,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=pe||"linear",this.totalTime=H+se,this._buildStyler()}onStart(_){this._onStartFns.push(_)}onDone(_){this._onDoneFns.push(_)}onDestroy(_){this._onDestroyFns.push(_)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(_=>_()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(_=>_()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(_=>_()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(_){this._styler.setPosition(_)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new ya(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(_){const v="start"==_?this._onStartFns:this._onDoneFns;v.forEach(R=>R()),v.length=0}beforeDestroy(){this.init();const _={};if(this.hasStarted()){const v=this._state>=3;Object.keys(this._finalStyles).forEach(R=>{"offset"!=R&&(_[R]=v?this._finalStyles[R]:xt(this.element,R))})}this.currentSnapshot=_}}class gi extends q.ZN{constructor(_,v){super(),this.element=_,this._startingStyles={},this.__initialized=!1,this._styles=Wt(v)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(_=>{this._startingStyles[_]=this.element.style[_]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(_=>this.element.style.setProperty(_,this._styles[_])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(_=>{const v=this._startingStyles[_];v?this.element.style.setProperty(_,v):this.element.style.removeProperty(_)}),this._startingStyles=null,super.destroy())}}class k{constructor(){this._count=0}validateStyleProperty(_){return kt(_)}matchesElement(_,v){return Ht(_,v)}containsElement(_,v){return Zt(_,v)}query(_,v,R){return Qt(_,v,R)}computeStyle(_,v,R){return window.getComputedStyle(_)[v]}buildKeyframeElement(_,v,R){R=R.map(we=>Wt(we));let H=`@keyframes ${v} {\n`,se="";R.forEach(we=>{se=" ";const He=parseFloat(we.offset);H+=`${se}${100*He}% {\n`,se+=" ",Object.keys(we).forEach(dt=>{const bt=we[dt];switch(dt){case"offset":return;case"easing":return void(bt&&(H+=`${se}animation-timing-function: ${bt};\n`));default:return void(H+=`${se}${dt}: ${bt};\n`)}}),H+=`${se}}\n`}),H+="}\n";const pe=document.createElement("style");return pe.textContent=H,pe}animate(_,v,R,H,se,pe=[],we){const He=pe.filter(Xn=>Xn instanceof ds),dt={};Ge(R,H)&&He.forEach(Xn=>{let xr=Xn.currentSnapshot;Object.keys(xr).forEach(Zr=>dt[Zr]=xr[Zr])});const bt=function(K){let _={};return K&&(Array.isArray(K)?K:[K]).forEach(R=>{Object.keys(R).forEach(H=>{"offset"==H||"easing"==H||(_[H]=R[H])})}),_}(v=Dt(_,v,dt));if(0==R)return new gi(_,bt);const zt="gen_css_kf_"+this._count++,jn=this.buildKeyframeElement(_,zt,v);(function(K){var _;const v=null===(_=K.getRootNode)||void 0===_?void 0:_.call(K);return"undefined"!=typeof ShadowRoot&&v instanceof ShadowRoot?v:document.head})(_).appendChild(jn);const vn=qi(_,v),Fn=new ds(_,v,zt,R,H,se,bt,vn);return Fn.onDestroy(()=>{var K;(K=jn).parentNode.removeChild(K)}),Fn}}class vt{constructor(_,v,R,H){this.element=_,this.keyframes=v,this.options=R,this._specialStyles=H,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=R.duration,this._delay=R.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(_=>_()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const _=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,_,this.options),this._finalKeyframe=_.length?_[_.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(_,v,R){return _.animate(v,R)}onStart(_){this._onStartFns.push(_)}onDone(_){this._onDoneFns.push(_)}onDestroy(_){this._onDestroyFns.push(_)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(_=>_()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(_=>_()),this._onDestroyFns=[])}setPosition(_){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=_*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const _={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(v=>{"offset"!=v&&(_[v]=this._finished?this._finalKeyframe[v]:xt(this.element,v))}),this.currentSnapshot=_}triggerCallback(_){const v="start"==_?this._onStartFns:this._onDoneFns;v.forEach(R=>R()),v.length=0}}class un{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Nn().toString()),this._cssKeyframesDriver=new k}validateStyleProperty(_){return kt(_)}matchesElement(_,v){return Ht(_,v)}containsElement(_,v){return Zt(_,v)}query(_,v,R){return Qt(_,v,R)}computeStyle(_,v,R){return window.getComputedStyle(_)[v]}overrideWebAnimationsSupport(_){this._isNativeImpl=_}animate(_,v,R,H,se,pe=[],we){if(!we&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(_,v,R,H,se,pe);const bt={duration:R,delay:H,fill:0==H?"both":"forwards"};se&&(bt.easing=se);const zt={},jn=pe.filter(vn=>vn instanceof vt);Ge(R,H)&&jn.forEach(vn=>{let Fn=vn.currentSnapshot;Object.keys(Fn).forEach(Xn=>zt[Xn]=Fn[Xn])});const Jn=qi(_,v=Dt(_,v=v.map(vn=>Sn(vn,!1)),zt));return new vt(_,v,bt,Jn)}}function Nn(){return Ce()&&Element.prototype.animate||{}}var hr=F(6274);let Ir=(()=>{class K extends q._j{constructor(v,R){super(),this._nextAnimationId=0,this._renderer=v.createRenderer(R.body,{id:"0",encapsulation:m.ViewEncapsulation.None,styles:[],data:{animation:[]}})}build(v){const R=this._nextAnimationId.toString();this._nextAnimationId++;const H=Array.isArray(v)?(0,q.vP)(v):v;return Nr(this._renderer,null,R,"register",[H]),new di(R,this._renderer)}}return K.\u0275fac=function(v){return new(v||K)(m.\u0275\u0275inject(m.RendererFactory2),m.\u0275\u0275inject(hr.K0))},K.\u0275prov=m.\u0275\u0275defineInjectable({token:K,factory:K.\u0275fac}),K})();class di extends q.LC{constructor(_,v){super(),this._id=_,this._renderer=v}create(_,v){return new Cs(this._id,_,v||{},this._renderer)}}class Cs{constructor(_,v,R,H){this.id=_,this.element=v,this._renderer=H,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",R)}_listen(_,v){return this._renderer.listen(this.element,`@@${this.id}:${_}`,v)}_command(_,...v){return Nr(this._renderer,this.element,this.id,_,v)}onDone(_){this._listen("done",_)}onStart(_){this._listen("start",_)}onDestroy(_){this._listen("destroy",_)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(_){this._command("setPosition",_)}getPosition(){var _,v;return null!==(v=null===(_=this._renderer.engine.players[+this.id])||void 0===_?void 0:_.getPosition())&&void 0!==v?v:0}}function Nr(K,_,v,R,H){return K.setProperty(_,`@@${v}:${R}`,H)}const Ts="@.disabled";let In=(()=>{class K{constructor(v,R,H){this.delegate=v,this.engine=R,this._zone=H,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),R.onRemovalComplete=(se,pe)=>{pe&&pe.parentNode(se)&&pe.removeChild(se.parentNode,se)}}createRenderer(v,R){const se=this.delegate.createRenderer(v,R);if(!(v&&R&&R.data&&R.data.animation)){let bt=this._rendererCache.get(se);return bt||(bt=new Es("",se,this.engine),this._rendererCache.set(se,bt)),bt}const pe=R.id,we=R.id+"-"+this._currentId;this._currentId++,this.engine.register(we,v);const He=bt=>{Array.isArray(bt)?bt.forEach(He):this.engine.registerTrigger(pe,we,v,bt.name,bt)};return R.data.animation.forEach(He),new ko(this,we,se,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(v,R,H){v>=0&&v<this._microtaskId?this._zone.run(()=>R(H)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(se=>{const[pe,we]=se;pe(we)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([R,H]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return K.\u0275fac=function(v){return new(v||K)(m.\u0275\u0275inject(m.RendererFactory2),m.\u0275\u0275inject(ms),m.\u0275\u0275inject(m.NgZone))},K.\u0275prov=m.\u0275\u0275defineInjectable({token:K,factory:K.\u0275fac}),K})();class Es{constructor(_,v,R){this.namespaceId=_,this.delegate=v,this.engine=R,this.destroyNode=this.delegate.destroyNode?H=>v.destroyNode(H):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(_,v){return this.delegate.createElement(_,v)}createComment(_){return this.delegate.createComment(_)}createText(_){return this.delegate.createText(_)}appendChild(_,v){this.delegate.appendChild(_,v),this.engine.onInsert(this.namespaceId,v,_,!1)}insertBefore(_,v,R,H=!0){this.delegate.insertBefore(_,v,R),this.engine.onInsert(this.namespaceId,v,_,H)}removeChild(_,v,R){this.engine.onRemove(this.namespaceId,v,this.delegate,R)}selectRootElement(_,v){return this.delegate.selectRootElement(_,v)}parentNode(_){return this.delegate.parentNode(_)}nextSibling(_){return this.delegate.nextSibling(_)}setAttribute(_,v,R,H){this.delegate.setAttribute(_,v,R,H)}removeAttribute(_,v,R){this.delegate.removeAttribute(_,v,R)}addClass(_,v){this.delegate.addClass(_,v)}removeClass(_,v){this.delegate.removeClass(_,v)}setStyle(_,v,R,H){this.delegate.setStyle(_,v,R,H)}removeStyle(_,v,R){this.delegate.removeStyle(_,v,R)}setProperty(_,v,R){"@"==v.charAt(0)&&v==Ts?this.disableAnimations(_,!!R):this.delegate.setProperty(_,v,R)}setValue(_,v){this.delegate.setValue(_,v)}listen(_,v,R){return this.delegate.listen(_,v,R)}disableAnimations(_,v){this.engine.disableAnimations(_,v)}}class ko extends Es{constructor(_,v,R,H){super(v,R,H),this.factory=_,this.namespaceId=v}setProperty(_,v,R){"@"==v.charAt(0)?"."==v.charAt(1)&&v==Ts?this.disableAnimations(_,R=void 0===R||!!R):this.engine.process(this.namespaceId,_,v.substr(1),R):this.delegate.setProperty(_,v,R)}listen(_,v,R){if("@"==v.charAt(0)){const H=function(K){switch(K){case"body":return document.body;case"document":return document;case"window":return window;default:return K}}(_);let se=v.substr(1),pe="";return"@"!=se.charAt(0)&&([se,pe]=function(K){const _=K.indexOf(".");return[K.substring(0,_),K.substr(_+1)]}(se)),this.engine.listen(this.namespaceId,H,se,pe,we=>{this.factory.scheduleListenerCallback(we._data||-1,R,we)})}return this.delegate.listen(_,v,R)}}let ho=(()=>{class K extends ms{constructor(v,R,H){super(v.body,R,H)}ngOnDestroy(){this.flush()}}return K.\u0275fac=function(v){return new(v||K)(m.\u0275\u0275inject(hr.K0),m.\u0275\u0275inject(Ct),m.\u0275\u0275inject(Ai))},K.\u0275prov=m.\u0275\u0275defineInjectable({token:K,factory:K.\u0275fac}),K})();const Hn=new m.InjectionToken("AnimationModuleType"),Sa=[{provide:q._j,useClass:Ir},{provide:Ai,useFactory:function(){return new jr}},{provide:ms,useClass:ho},{provide:m.RendererFactory2,useFactory:function(K,_,v){return new In(K,_,v)},deps:[j.se,ms,m.NgZone]}],si=[{provide:Ct,useFactory:function(){return"function"==typeof Nn()?new un:new k}},{provide:Hn,useValue:"BrowserAnimations"},...Sa],Lo=[{provide:Ct,useClass:Lt},{provide:Hn,useValue:"NoopAnimations"},...Sa];let Vo=(()=>{class K{static withConfig(v){return{ngModule:K,providers:v.disableAnimations?Lo:si}}}return K.\u0275fac=function(v){return new(v||K)},K.\u0275mod=m.\u0275\u0275defineNgModule({type:K}),K.\u0275inj=m.\u0275\u0275defineInjector({providers:si,imports:[j.b2]}),K})()},3220:(Nt,je,F)=>{"use strict";F.d(je,{b2:()=>Fr,H7:()=>Re,q6:()=>Ar,se:()=>Kt});var m=F(6274),j=F(2741);class q extends m.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ce extends q{static makeCurrent(){(0,m.HT)(new Ce)}onAndCancel(Ae,le,Ke){return Ae.addEventListener(le,Ke,!1),()=>{Ae.removeEventListener(le,Ke,!1)}}dispatchEvent(Ae,le){Ae.dispatchEvent(le)}remove(Ae){Ae.parentNode&&Ae.parentNode.removeChild(Ae)}createElement(Ae,le){return(le=le||this.getDefaultDocument()).createElement(Ae)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Ae){return Ae.nodeType===Node.ELEMENT_NODE}isShadowRoot(Ae){return Ae instanceof DocumentFragment}getGlobalEventTarget(Ae,le){return"window"===le?window:"document"===le?Ae:"body"===le?Ae.body:null}getBaseHref(Ae){const le=(ce=ce||document.querySelector("base"),ce?ce.getAttribute("href"):null);return null==le?null:function(Le){de=de||document.createElement("a"),de.setAttribute("href",Le);const Ae=de.pathname;return"/"===Ae.charAt(0)?Ae:`/${Ae}`}(le)}resetBaseElement(){ce=null}getUserAgent(){return window.navigator.userAgent}getCookie(Ae){return(0,m.Mx)(document.cookie,Ae)}}let de,ce=null;const ve=new j.InjectionToken("TRANSITION_ID"),re=[{provide:j.APP_INITIALIZER,useFactory:function(Le,Ae,le){return()=>{le.get(j.ApplicationInitStatus).donePromise.then(()=>{const Ke=(0,m.q)(),at=Ae.querySelectorAll(`style[ng-transition="${Le}"]`);for(let on=0;on<at.length;on++)Ke.remove(at[on])})}},deps:[ve,m.K0,j.Injector],multi:!0}];class Z{static init(){(0,j.setTestabilityGetter)(new Z)}addToWindow(Ae){j.\u0275global.getAngularTestability=(Ke,at=!0)=>{const on=Ae.findTestabilityInTree(Ke,at);if(null==on)throw new Error("Could not find testability for element.");return on},j.\u0275global.getAllAngularTestabilities=()=>Ae.getAllTestabilities(),j.\u0275global.getAllAngularRootElements=()=>Ae.getAllRootElements(),j.\u0275global.frameworkStabilizers||(j.\u0275global.frameworkStabilizers=[]),j.\u0275global.frameworkStabilizers.push(Ke=>{const at=j.\u0275global.getAllAngularTestabilities();let on=at.length,yn=!1;const Un=function(an){yn=yn||an,on--,0==on&&Ke(yn)};at.forEach(function(an){an.whenStable(Un)})})}findTestabilityInTree(Ae,le,Ke){if(null==le)return null;const at=Ae.getTestability(le);return null!=at?at:Ke?(0,m.q)().isShadowRoot(le)?this.findTestabilityInTree(Ae,le.host,!0):this.findTestabilityInTree(Ae,le.parentElement,!0):null}}let ue=(()=>{class Le{build(){return new XMLHttpRequest}}return Le.\u0275fac=function(le){return new(le||Le)},Le.\u0275prov=j.\u0275\u0275defineInjectable({token:Le,factory:Le.\u0275fac}),Le})();const Lt=new j.InjectionToken("EventManagerPlugins");let Ct=(()=>{class Le{constructor(le,Ke){this._zone=Ke,this._eventNameToPlugin=new Map,le.forEach(at=>at.manager=this),this._plugins=le.slice().reverse()}addEventListener(le,Ke,at){return this._findPluginFor(Ke).addEventListener(le,Ke,at)}addGlobalEventListener(le,Ke,at){return this._findPluginFor(Ke).addGlobalEventListener(le,Ke,at)}getZone(){return this._zone}_findPluginFor(le){const Ke=this._eventNameToPlugin.get(le);if(Ke)return Ke;const at=this._plugins;for(let on=0;on<at.length;on++){const yn=at[on];if(yn.supports(le))return this._eventNameToPlugin.set(le,yn),yn}throw new Error(`No event manager plugin found for event ${le}`)}}return Le.\u0275fac=function(le){return new(le||Le)(j.\u0275\u0275inject(Lt),j.\u0275\u0275inject(j.NgZone))},Le.\u0275prov=j.\u0275\u0275defineInjectable({token:Le,factory:Le.\u0275fac}),Le})();class rn{constructor(Ae){this._doc=Ae}addGlobalEventListener(Ae,le,Ke){const at=(0,m.q)().getGlobalEventTarget(this._doc,Ae);if(!at)throw new Error(`Unsupported event target ${at} for event ${le}`);return this.addEventListener(at,le,Ke)}}let pt=(()=>{class Le{constructor(){this._stylesSet=new Set}addStyles(le){const Ke=new Set;le.forEach(at=>{this._stylesSet.has(at)||(this._stylesSet.add(at),Ke.add(at))}),this.onStylesAdded(Ke)}onStylesAdded(le){}getAllStyles(){return Array.from(this._stylesSet)}}return Le.\u0275fac=function(le){return new(le||Le)},Le.\u0275prov=j.\u0275\u0275defineInjectable({token:Le,factory:Le.\u0275fac}),Le})(),nr=(()=>{class Le extends pt{constructor(le){super(),this._doc=le,this._hostNodes=new Map,this._hostNodes.set(le.head,[])}_addStylesToHost(le,Ke,at){le.forEach(on=>{const yn=this._doc.createElement("style");yn.textContent=on,at.push(Ke.appendChild(yn))})}addHost(le){const Ke=[];this._addStylesToHost(this._stylesSet,le,Ke),this._hostNodes.set(le,Ke)}removeHost(le){const Ke=this._hostNodes.get(le);Ke&&Ke.forEach(Wn),this._hostNodes.delete(le)}onStylesAdded(le){this._hostNodes.forEach((Ke,at)=>{this._addStylesToHost(le,at,Ke)})}ngOnDestroy(){this._hostNodes.forEach(le=>le.forEach(Wn))}}return Le.\u0275fac=function(le){return new(le||Le)(j.\u0275\u0275inject(m.K0))},Le.\u0275prov=j.\u0275\u0275defineInjectable({token:Le,factory:Le.\u0275fac}),Le})();function Wn(Le){(0,m.q)().remove(Le)}const lr={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Er=/%COMP%/g;function Tr(Le,Ae,le){for(let Ke=0;Ke<Ae.length;Ke++){let at=Ae[Ke];Array.isArray(at)?Tr(Le,at,le):(at=at.replace(Er,Le),le.push(at))}return le}function Xt(Le){return Ae=>{if("__ngUnwrap__"===Ae)return Le;!1===Le(Ae)&&(Ae.preventDefault(),Ae.returnValue=!1)}}let Kt=(()=>{class Le{constructor(le,Ke,at){this.eventManager=le,this.sharedStylesHost=Ke,this.appId=at,this.rendererByCompId=new Map,this.defaultRenderer=new gn(le)}createRenderer(le,Ke){if(!le||!Ke)return this.defaultRenderer;switch(Ke.encapsulation){case j.ViewEncapsulation.Emulated:{let at=this.rendererByCompId.get(Ke.id);return at||(at=new ot(this.eventManager,this.sharedStylesHost,Ke,this.appId),this.rendererByCompId.set(Ke.id,at)),at.applyToHost(le),at}case 1:case j.ViewEncapsulation.ShadowDom:return new zn(this.eventManager,this.sharedStylesHost,le,Ke);default:if(!this.rendererByCompId.has(Ke.id)){const at=Tr(Ke.id,Ke.styles,[]);this.sharedStylesHost.addStyles(at),this.rendererByCompId.set(Ke.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Le.\u0275fac=function(le){return new(le||Le)(j.\u0275\u0275inject(Ct),j.\u0275\u0275inject(nr),j.\u0275\u0275inject(j.APP_ID))},Le.\u0275prov=j.\u0275\u0275defineInjectable({token:Le,factory:Le.\u0275fac}),Le})();class gn{constructor(Ae){this.eventManager=Ae,this.data=Object.create(null)}destroy(){}createElement(Ae,le){return le?document.createElementNS(lr[le]||le,Ae):document.createElement(Ae)}createComment(Ae){return document.createComment(Ae)}createText(Ae){return document.createTextNode(Ae)}appendChild(Ae,le){Ae.appendChild(le)}insertBefore(Ae,le,Ke){Ae&&Ae.insertBefore(le,Ke)}removeChild(Ae,le){Ae&&Ae.removeChild(le)}selectRootElement(Ae,le){let Ke="string"==typeof Ae?document.querySelector(Ae):Ae;if(!Ke)throw new Error(`The selector "${Ae}" did not match any elements`);return le||(Ke.textContent=""),Ke}parentNode(Ae){return Ae.parentNode}nextSibling(Ae){return Ae.nextSibling}setAttribute(Ae,le,Ke,at){if(at){le=at+":"+le;const on=lr[at];on?Ae.setAttributeNS(on,le,Ke):Ae.setAttribute(le,Ke)}else Ae.setAttribute(le,Ke)}removeAttribute(Ae,le,Ke){if(Ke){const at=lr[Ke];at?Ae.removeAttributeNS(at,le):Ae.removeAttribute(`${Ke}:${le}`)}else Ae.removeAttribute(le)}addClass(Ae,le){Ae.classList.add(le)}removeClass(Ae,le){Ae.classList.remove(le)}setStyle(Ae,le,Ke,at){at&(j.RendererStyleFlags2.DashCase|j.RendererStyleFlags2.Important)?Ae.style.setProperty(le,Ke,at&j.RendererStyleFlags2.Important?"important":""):Ae.style[le]=Ke}removeStyle(Ae,le,Ke){Ke&j.RendererStyleFlags2.DashCase?Ae.style.removeProperty(le):Ae.style[le]=""}setProperty(Ae,le,Ke){Ae[le]=Ke}setValue(Ae,le){Ae.nodeValue=le}listen(Ae,le,Ke){return"string"==typeof Ae?this.eventManager.addGlobalEventListener(Ae,le,Xt(Ke)):this.eventManager.addEventListener(Ae,le,Xt(Ke))}}class ot extends gn{constructor(Ae,le,Ke,at){super(Ae),this.component=Ke;const on=Tr(at+"-"+Ke.id,Ke.styles,[]);le.addStyles(on),this.contentAttr="_ngcontent-%COMP%".replace(Er,at+"-"+Ke.id),this.hostAttr="_nghost-%COMP%".replace(Er,at+"-"+Ke.id)}applyToHost(Ae){super.setAttribute(Ae,this.hostAttr,"")}createElement(Ae,le){const Ke=super.createElement(Ae,le);return super.setAttribute(Ke,this.contentAttr,""),Ke}}class zn extends gn{constructor(Ae,le,Ke,at){super(Ae),this.sharedStylesHost=le,this.hostEl=Ke,this.shadowRoot=Ke.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const on=Tr(at.id,at.styles,[]);for(let yn=0;yn<on.length;yn++){const Un=document.createElement("style");Un.textContent=on[yn],this.shadowRoot.appendChild(Un)}}nodeOrShadowRoot(Ae){return Ae===this.hostEl?this.shadowRoot:Ae}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(Ae,le){return super.appendChild(this.nodeOrShadowRoot(Ae),le)}insertBefore(Ae,le,Ke){return super.insertBefore(this.nodeOrShadowRoot(Ae),le,Ke)}removeChild(Ae,le){return super.removeChild(this.nodeOrShadowRoot(Ae),le)}parentNode(Ae){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Ae)))}}let dr=(()=>{class Le extends rn{constructor(le){super(le)}supports(le){return!0}addEventListener(le,Ke,at){return le.addEventListener(Ke,at,!1),()=>this.removeEventListener(le,Ke,at)}removeEventListener(le,Ke,at){return le.removeEventListener(Ke,at)}}return Le.\u0275fac=function(le){return new(le||Le)(j.\u0275\u0275inject(m.K0))},Le.\u0275prov=j.\u0275\u0275defineInjectable({token:Le,factory:Le.\u0275fac}),Le})();const Dt=["alt","control","meta","shift"],xt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},mn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Rn={alt:Le=>Le.altKey,control:Le=>Le.ctrlKey,meta:Le=>Le.metaKey,shift:Le=>Le.shiftKey};let ye=(()=>{class Le extends rn{constructor(le){super(le)}supports(le){return null!=Le.parseEventName(le)}addEventListener(le,Ke,at){const on=Le.parseEventName(Ke),yn=Le.eventCallback(on.fullKey,at,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,m.q)().onAndCancel(le,on.domEventName,yn))}static parseEventName(le){const Ke=le.toLowerCase().split("."),at=Ke.shift();if(0===Ke.length||"keydown"!==at&&"keyup"!==at)return null;const on=Le._normalizeKey(Ke.pop());let yn="";if(Dt.forEach(an=>{const zi=Ke.indexOf(an);zi>-1&&(Ke.splice(zi,1),yn+=an+".")}),yn+=on,0!=Ke.length||0===on.length)return null;const Un={};return Un.domEventName=at,Un.fullKey=yn,Un}static getEventFullKey(le){let Ke="",at=function(Le){let Ae=Le.key;if(null==Ae){if(Ae=Le.keyIdentifier,null==Ae)return"Unidentified";Ae.startsWith("U+")&&(Ae=String.fromCharCode(parseInt(Ae.substring(2),16)),3===Le.location&&mn.hasOwnProperty(Ae)&&(Ae=mn[Ae]))}return xt[Ae]||Ae}(le);return at=at.toLowerCase()," "===at?at="space":"."===at&&(at="dot"),Dt.forEach(on=>{on!=at&&Rn[on](le)&&(Ke+=on+".")}),Ke+=at,Ke}static eventCallback(le,Ke,at){return on=>{Le.getEventFullKey(on)===le&&at.runGuarded(()=>Ke(on))}}static _normalizeKey(le){switch(le){case"esc":return"escape";default:return le}}}return Le.\u0275fac=function(le){return new(le||Le)(j.\u0275\u0275inject(m.K0))},Le.\u0275prov=j.\u0275\u0275defineInjectable({token:Le,factory:Le.\u0275fac}),Le})(),Re=(()=>{class Le{}return Le.\u0275fac=function(le){return new(le||Le)},Le.\u0275prov=(0,j.\u0275\u0275defineInjectable)({factory:function(){return(0,j.\u0275\u0275inject)(Ue)},token:Le,providedIn:"root"}),Le})(),Ue=(()=>{class Le extends Re{constructor(le){super(),this._doc=le}sanitize(le,Ke){if(null==Ke)return null;switch(le){case j.SecurityContext.NONE:return Ke;case j.SecurityContext.HTML:return(0,j.\u0275allowSanitizationBypassAndThrow)(Ke,"HTML")?(0,j.\u0275unwrapSafeValue)(Ke):(0,j.\u0275_sanitizeHtml)(this._doc,String(Ke)).toString();case j.SecurityContext.STYLE:return(0,j.\u0275allowSanitizationBypassAndThrow)(Ke,"Style")?(0,j.\u0275unwrapSafeValue)(Ke):Ke;case j.SecurityContext.SCRIPT:if((0,j.\u0275allowSanitizationBypassAndThrow)(Ke,"Script"))return(0,j.\u0275unwrapSafeValue)(Ke);throw new Error("unsafe value used in a script context");case j.SecurityContext.URL:return(0,j.\u0275getSanitizationBypassType)(Ke),(0,j.\u0275allowSanitizationBypassAndThrow)(Ke,"URL")?(0,j.\u0275unwrapSafeValue)(Ke):(0,j.\u0275_sanitizeUrl)(String(Ke));case j.SecurityContext.RESOURCE_URL:if((0,j.\u0275allowSanitizationBypassAndThrow)(Ke,"ResourceURL"))return(0,j.\u0275unwrapSafeValue)(Ke);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${le} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(le){return(0,j.\u0275bypassSanitizationTrustHtml)(le)}bypassSecurityTrustStyle(le){return(0,j.\u0275bypassSanitizationTrustStyle)(le)}bypassSecurityTrustScript(le){return(0,j.\u0275bypassSanitizationTrustScript)(le)}bypassSecurityTrustUrl(le){return(0,j.\u0275bypassSanitizationTrustUrl)(le)}bypassSecurityTrustResourceUrl(le){return(0,j.\u0275bypassSanitizationTrustResourceUrl)(le)}}return Le.\u0275fac=function(le){return new(le||Le)(j.\u0275\u0275inject(m.K0))},Le.\u0275prov=(0,j.\u0275\u0275defineInjectable)({factory:function(){return function(Le){return new Ue(Le.get(m.K0))}((0,j.\u0275\u0275inject)(j.INJECTOR))},token:Le,providedIn:"root"}),Le})();const Ar=(0,j.createPlatformFactory)(j.platformCore,"browser",[{provide:j.PLATFORM_ID,useValue:m.bD},{provide:j.PLATFORM_INITIALIZER,useValue:function(){Ce.makeCurrent(),Z.init()},multi:!0},{provide:m.K0,useFactory:function(){return(0,j.\u0275setDocument)(document),document},deps:[]}]),Rr=[[],{provide:j.\u0275INJECTOR_SCOPE,useValue:"root"},{provide:j.ErrorHandler,useFactory:function(){return new j.ErrorHandler},deps:[]},{provide:Lt,useClass:dr,multi:!0,deps:[m.K0,j.NgZone,j.PLATFORM_ID]},{provide:Lt,useClass:ye,multi:!0,deps:[m.K0]},[],{provide:Kt,useClass:Kt,deps:[Ct,nr,j.APP_ID]},{provide:j.RendererFactory2,useExisting:Kt},{provide:pt,useExisting:nr},{provide:nr,useClass:nr,deps:[m.K0]},{provide:j.Testability,useClass:j.Testability,deps:[j.NgZone]},{provide:Ct,useClass:Ct,deps:[Lt,j.NgZone]},{provide:m.JF,useClass:ue,deps:[]},[]];let Fr=(()=>{class Le{constructor(le){if(le)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(le){return{ngModule:Le,providers:[{provide:j.APP_ID,useValue:le.appId},{provide:ve,useExisting:j.APP_ID},re]}}}return Le.\u0275fac=function(le){return new(le||Le)(j.\u0275\u0275inject(Le,12))},Le.\u0275mod=j.\u0275\u0275defineNgModule({type:Le}),Le.\u0275inj=j.\u0275\u0275defineInjector({providers:Rr,imports:[m.ez,j.ApplicationModule]}),Le})();"undefined"!=typeof window&&window},9202:(Nt,je,F)=>{"use strict";F.d(je,{gz:()=>Xr,F0:()=>$r,rH:()=>hs,yS:()=>eo,Bz:()=>_t,lC:()=>to});var m=F(6274),j=F(2741),q=F(7204),Ce=F(9622),ce=F(2167),ie=F(5348),de=F(6431);const Y={};class J{constructor(T){this.resultSelector=T}call(T,I){return I.subscribe(new re(T,this.resultSelector))}}class re extends ce.L{constructor(T,I){super(T),this.resultSelector=I,this.active=0,this.values=[],this.observables=[]}_next(T){this.values.push(Y),this.observables.push(T)}_complete(){const T=this.observables,I=T.length;if(0===I)this.destination.complete();else{this.active=I,this.toRespond=I;for(let O=0;O<I;O++){const V=T[O];this.add((0,ie.D)(this,V,V,O))}}}notifyComplete(T){0==(this.active-=1)&&this.destination.complete()}notifyNext(T,I,O,V,X){const fe=this.values,ct=this.toRespond?fe[O]===Y?--this.toRespond:this.toRespond:0;fe[O]=I,0===ct&&(this.resultSelector?this._tryResultSelector(fe):this.destination.next(fe.slice()))}_tryResultSelector(T){let I;try{I=this.resultSelector.apply(this,T)}catch(O){return void this.destination.error(O)}this.destination.next(I)}}var Z=F(2850),ue=F(267),Ye=F(9923),ze=F(3948),Xe=F(6507),Ie=F(8895),Te=F(9765),Me=F(3974),Se=F(955),Be=F(6006),nt=F(3305),kt=F(8744),nn=F(9862);function Ht(A){return function(I){return 0===A?(0,Me.c)():I.lift(new Zt(A))}}class Zt{constructor(T){if(this.total=T,this.total<0)throw new nn.W}call(T,I){return I.subscribe(new Qt(T,this.total))}}class Qt extends kt.L{constructor(T,I){super(T),this.total=I,this.ring=new Array,this.count=0}_next(T){const I=this.ring,O=this.total,V=this.count++;I.length<O?I.push(T):I[V%O]=T}_complete(){const T=this.destination;let I=this.count;if(I>0){const O=this.count>=this.total?this.total:this.count,V=this.ring;for(let X=0;X<O;X++){const fe=I++%O;T.next(V[fe])}}T.complete()}}var Wt=F(3369),Lt=F(395),Ct=F(7846),pt=F(8561),nr=F(2812),Wn=F(9917),lr=F(3543),Er=F(1310),Jt=F(367),$t=F(3748),kn=F(3987),rr=F(6513),Cn=F(6286),bn=F(5290),Tr=F(7813),Xt=F(4540);class Vn{constructor(T,I){this.id=T,this.url=I}}class Kt extends Vn{constructor(T,I,O="imperative",V=null){super(T,I),this.navigationTrigger=O,this.restoredState=V}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class gn extends Vn{constructor(T,I,O){super(T,I),this.urlAfterRedirects=O}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Sn extends Vn{constructor(T,I,O){super(T,I),this.reason=O}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ir extends Vn{constructor(T,I,O){super(T,I),this.error=O}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class _n extends Vn{constructor(T,I,O,V){super(T,I),this.urlAfterRedirects=O,this.state=V}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ot extends Vn{constructor(T,I,O,V){super(T,I),this.urlAfterRedirects=O,this.state=V}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zn extends Vn{constructor(T,I,O,V,X){super(T,I),this.urlAfterRedirects=O,this.state=V,this.shouldActivate=X}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class dr extends Vn{constructor(T,I,O,V){super(T,I),this.urlAfterRedirects=O,this.state=V}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ft extends Vn{constructor(T,I,O,V){super(T,I),this.urlAfterRedirects=O,this.state=V}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class An{constructor(T){this.route=T}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class yr{constructor(T){this.route=T}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class kr{constructor(T){this.snapshot=T}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $e{constructor(T){this.snapshot=T}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ge{constructor(T){this.snapshot=T}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class me{constructor(T){this.snapshot=T}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rt{constructor(T,I,O){this.routerEvent=T,this.position=I,this.anchor=O}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ge="primary";class Dt{constructor(T){this.params=T||{}}has(T){return Object.prototype.hasOwnProperty.call(this.params,T)}get(T){if(this.has(T)){const I=this.params[T];return Array.isArray(I)?I[0]:I}return null}getAll(T){if(this.has(T)){const I=this.params[T];return Array.isArray(I)?I:[I]}return[]}get keys(){return Object.keys(this.params)}}function lt(A){return new Dt(A)}const xt="ngNavigationCancelingError";function mn(A){const T=Error("NavigationCancelingError: "+A);return T[xt]=!0,T}function Tn(A,T,I){const O=I.path.split("/");if(O.length>A.length||"full"===I.pathMatch&&(T.hasChildren()||O.length<A.length))return null;const V={};for(let X=0;X<O.length;X++){const fe=O[X],Oe=A[X];if(fe.startsWith(":"))V[fe.substring(1)]=Oe;else if(fe!==Oe.path)return null}return{consumed:A.slice(0,O.length),posParams:V}}function xn(A,T){const I=A?Object.keys(A):void 0,O=T?Object.keys(T):void 0;if(!I||!O||I.length!=O.length)return!1;let V;for(let X=0;X<I.length;X++)if(V=I[X],!Rn(A[V],T[V]))return!1;return!0}function Rn(A,T){if(Array.isArray(A)&&Array.isArray(T)){if(A.length!==T.length)return!1;const I=[...A].sort(),O=[...T].sort();return I.every((V,X)=>O[X]===V)}return A===T}function ye(A){return Array.prototype.concat.apply([],A)}function he(A){return A.length>0?A[A.length-1]:null}function Ze(A,T){for(const I in A)A.hasOwnProperty(I)&&T(A[I],I)}function Ue(A){return(0,j.\u0275isObservable)(A)?A:(0,j.\u0275isPromise)(A)?(0,Z.D)(Promise.resolve(A)):(0,ue.of)(A)}const z={exact:function dn(A,T,I){if(!Dr(A.segments,T.segments)||!Rr(A.segments,T.segments,I)||A.numberOfChildren!==T.numberOfChildren)return!1;for(const O in T.children)if(!A.children[O]||!dn(A.children[O],T.children[O],I))return!1;return!0},subset:pn},ae={exact:function(A,T){return xn(A,T)},subset:function(A,T){return Object.keys(T).length<=Object.keys(A).length&&Object.keys(T).every(I=>Rn(A[I],T[I]))},ignored:()=>!0};function Je(A,T,I){return z[I.paths](A.root,T.root,I.matrixParams)&&ae[I.queryParams](A.queryParams,T.queryParams)&&!("exact"===I.fragment&&A.fragment!==T.fragment)}function pn(A,T,I){return Ar(A,T,T.segments,I)}function Ar(A,T,I,O){if(A.segments.length>I.length){const V=A.segments.slice(0,I.length);return!(!Dr(V,I)||T.hasChildren()||!Rr(V,I,O))}if(A.segments.length===I.length){if(!Dr(A.segments,I)||!Rr(A.segments,I,O))return!1;for(const V in T.children)if(!A.children[V]||!pn(A.children[V],T.children[V],O))return!1;return!0}{const V=I.slice(0,A.segments.length),X=I.slice(A.segments.length);return!!(Dr(A.segments,V)&&Rr(A.segments,V,O)&&A.children[Ge])&&Ar(A.children[Ge],T,X,O)}}function Rr(A,T,I){return T.every((O,V)=>ae[I](A[V].parameters,O.parameters))}class Fr{constructor(T,I,O){this.root=T,this.queryParams=I,this.fragment=O}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=lt(this.queryParams)),this._queryParamMap}toString(){return Ur.serialize(this)}}class Mn{constructor(T,I){this.segments=T,this.children=I,this.parent=null,Ze(I,(O,V)=>O.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Lr(this)}}class Jr{constructor(T,I){this.path=T,this.parameters=I}get parameterMap(){return this._parameterMap||(this._parameterMap=lt(this.parameters)),this._parameterMap}toString(){return jr(this)}}function Dr(A,T){return A.length===T.length&&A.every((I,O)=>I.path===T[O].path)}class cr{}class ai{parse(T){const I=new at(T);return new Fr(I.parseRootSegment(),I.parseQueryParams(),I.parseFragment())}serialize(T){var A;return`${`/${er(T.root,!0)}`}${function(A){const T=Object.keys(A).map(I=>{const O=A[I];return Array.isArray(O)?O.map(V=>`${hn(I)}=${hn(V)}`).join("&"):`${hn(I)}=${hn(O)}`}).filter(I=>!!I);return T.length?`?${T.join("&")}`:""}(T.queryParams)}${"string"==typeof T.fragment?`#${A=T.fragment,encodeURI(A)}`:""}`}}const Ur=new ai;function Lr(A){return A.segments.map(T=>jr(T)).join("/")}function er(A,T){if(!A.hasChildren())return Lr(A);if(T){const I=A.children[Ge]?er(A.children[Ge],!1):"",O=[];return Ze(A.children,(V,X)=>{X!==Ge&&O.push(`${X}:${er(V,!1)}`)}),O.length>0?`${I}(${O.join("//")})`:I}{const I=function(A,T){let I=[];return Ze(A.children,(O,V)=>{V===Ge&&(I=I.concat(T(O,V)))}),Ze(A.children,(O,V)=>{V!==Ge&&(I=I.concat(T(O,V)))}),I}(A,(O,V)=>V===Ge?[er(A.children[Ge],!1)]:[`${V}:${er(O,!1)}`]);return 1===Object.keys(A.children).length&&null!=A.children[Ge]?`${Lr(A)}/${I[0]}`:`${Lr(A)}/(${I.join("//")})`}}function St(A){return encodeURIComponent(A).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function hn(A){return St(A).replace(/%3B/gi,";")}function ri(A){return St(A).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ai(A){return decodeURIComponent(A)}function Sr(A){return Ai(A.replace(/\+/g,"%20"))}function jr(A){return`${ri(A.path)}${function(A){return Object.keys(A).map(T=>`;${ri(T)}=${ri(A[T])}`).join("")}(A.parameters)}`}const Gi=/^[^\/()?;=#]+/;function fn(A){const T=A.match(Gi);return T?T[0]:""}const Le=/^[^=?&#]+/,le=/^[^?&#]+/;class at{constructor(T){this.url=T,this.remaining=T}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Mn([],{}):new Mn([],this.parseChildren())}parseQueryParams(){const T={};if(this.consumeOptional("?"))do{this.parseQueryParam(T)}while(this.consumeOptional("&"));return T}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const T=[];for(this.peekStartsWith("(")||T.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),T.push(this.parseSegment());let I={};this.peekStartsWith("/(")&&(this.capture("/"),I=this.parseParens(!0));let O={};return this.peekStartsWith("(")&&(O=this.parseParens(!1)),(T.length>0||Object.keys(I).length>0)&&(O[Ge]=new Mn(T,I)),O}parseSegment(){const T=fn(this.remaining);if(""===T&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(T),new Jr(Ai(T),this.parseMatrixParams())}parseMatrixParams(){const T={};for(;this.consumeOptional(";");)this.parseParam(T);return T}parseParam(T){const I=fn(this.remaining);if(!I)return;this.capture(I);let O="";if(this.consumeOptional("=")){const V=fn(this.remaining);V&&(O=V,this.capture(O))}T[Ai(I)]=Ai(O)}parseQueryParam(T){const I=function(A){const T=A.match(Le);return T?T[0]:""}(this.remaining);if(!I)return;this.capture(I);let O="";if(this.consumeOptional("=")){const fe=function(A){const T=A.match(le);return T?T[0]:""}(this.remaining);fe&&(O=fe,this.capture(O))}const V=Sr(I),X=Sr(O);if(T.hasOwnProperty(V)){let fe=T[V];Array.isArray(fe)||(fe=[fe],T[V]=fe),fe.push(X)}else T[V]=X}parseParens(T){const I={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const O=fn(this.remaining),V=this.remaining[O.length];if("/"!==V&&")"!==V&&";"!==V)throw new Error(`Cannot parse url '${this.url}'`);let X;O.indexOf(":")>-1?(X=O.substr(0,O.indexOf(":")),this.capture(X),this.capture(":")):T&&(X=Ge);const fe=this.parseChildren();I[X]=1===Object.keys(fe).length?fe[Ge]:new Mn([],fe),this.consumeOptional("//")}return I}peekStartsWith(T){return this.remaining.startsWith(T)}consumeOptional(T){return!!this.peekStartsWith(T)&&(this.remaining=this.remaining.substring(T.length),!0)}capture(T){if(!this.consumeOptional(T))throw new Error(`Expected "${T}".`)}}class on{constructor(T){this._root=T}get root(){return this._root.value}parent(T){const I=this.pathFromRoot(T);return I.length>1?I[I.length-2]:null}children(T){const I=yn(T,this._root);return I?I.children.map(O=>O.value):[]}firstChild(T){const I=yn(T,this._root);return I&&I.children.length>0?I.children[0].value:null}siblings(T){const I=Un(T,this._root);return I.length<2?[]:I[I.length-2].children.map(V=>V.value).filter(V=>V!==T)}pathFromRoot(T){return Un(T,this._root).map(I=>I.value)}}function yn(A,T){if(A===T.value)return T;for(const I of T.children){const O=yn(A,I);if(O)return O}return null}function Un(A,T){if(A===T.value)return[T];for(const I of T.children){const O=Un(A,I);if(O.length)return O.unshift(T),O}return[]}class an{constructor(T,I){this.value=T,this.children=I}toString(){return`TreeNode(${this.value})`}}function zi(A){const T={};return A&&A.children.forEach(I=>T[I.value.outlet]=I),T}class wr extends on{constructor(T,I){super(T),this.snapshot=I,or(this,T)}toString(){return this.snapshot.toString()}}function rs(A,T){const I=function(A,T){const fe=new Br([],{},{},"",{},Ge,T,null,A.root,-1,{});return new Zs("",new an(fe,[]))}(A,T),O=new Ye.X([new Jr("",{})]),V=new Ye.X({}),X=new Ye.X({}),fe=new Ye.X({}),Oe=new Ye.X(""),ct=new Xr(O,V,fe,Oe,X,Ge,T,I.root);return ct.snapshot=I.root,new wr(new an(ct,[]),I)}class Xr{constructor(T,I,O,V,X,fe,Oe,ct){this.url=T,this.params=I,this.queryParams=O,this.fragment=V,this.data=X,this.outlet=fe,this.component=Oe,this._futureSnapshot=ct}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,pt.U)(T=>lt(T)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,pt.U)(T=>lt(T)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function is(A,T="emptyOnly"){const I=A.pathFromRoot;let O=0;if("always"!==T)for(O=I.length-1;O>=1;){const V=I[O],X=I[O-1];if(V.routeConfig&&""===V.routeConfig.path)O--;else{if(X.component)break;O--}}return function(A){return A.reduce((T,I)=>({params:Object.assign(Object.assign({},T.params),I.params),data:Object.assign(Object.assign({},T.data),I.data),resolve:Object.assign(Object.assign({},T.resolve),I._resolvedData)}),{params:{},data:{},resolve:{}})}(I.slice(O))}class Br{constructor(T,I,O,V,X,fe,Oe,ct,wt,qt,wn){this.url=T,this.params=I,this.queryParams=O,this.fragment=V,this.data=X,this.outlet=fe,this.component=Oe,this.routeConfig=ct,this._urlSegment=wt,this._lastPathIndex=qt,this._resolve=wn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=lt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=lt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(O=>O.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Zs extends on{constructor(T,I){super(I),this.url=T,or(this,I)}toString(){return gr(this._root)}}function or(A,T){T.value._routerState=A,T.children.forEach(I=>or(A,I))}function gr(A){const T=A.children.length>0?` { ${A.children.map(gr).join(", ")} } `:"";return`${A.value}${T}`}function gs(A){if(A.snapshot){const T=A.snapshot,I=A._futureSnapshot;A.snapshot=I,xn(T.queryParams,I.queryParams)||A.queryParams.next(I.queryParams),T.fragment!==I.fragment&&A.fragment.next(I.fragment),xn(T.params,I.params)||A.params.next(I.params),function(A,T){if(A.length!==T.length)return!1;for(let I=0;I<A.length;++I)if(!xn(A[I],T[I]))return!1;return!0}(T.url,I.url)||A.url.next(I.url),xn(T.data,I.data)||A.data.next(I.data)}else A.snapshot=A._futureSnapshot,A.data.next(A._futureSnapshot.data)}function Ri(A,T){return xn(A.params,T.params)&&function(A,T){return Dr(A,T)&&A.every((I,O)=>xn(I.parameters,T[O].parameters))}(A.url,T.url)&&!(!A.parent!=!T.parent)&&(!A.parent||Ri(A.parent,T.parent))}function li(A,T,I){if(I&&A.shouldReuseRoute(T.value,I.value.snapshot)){const O=I.value;O._futureSnapshot=T.value;const V=function(A,T,I){return T.children.map(O=>{for(const V of I.children)if(A.shouldReuseRoute(O.value,V.value.snapshot))return li(A,O,V);return li(A,O)})}(A,T,I);return new an(O,V)}{if(A.shouldAttach(T.value)){const X=A.retrieve(T.value);if(null!==X){const fe=X.route;return wi(T,fe),fe}}const O=function(A){return new Xr(new Ye.X(A.url),new Ye.X(A.params),new Ye.X(A.queryParams),new Ye.X(A.fragment),new Ye.X(A.data),A.outlet,A.component,A)}(T.value),V=T.children.map(X=>li(A,X));return new an(O,V)}}function wi(A,T){if(A.value.routeConfig!==T.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(A.children.length!==T.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");T.value._futureSnapshot=A.value;for(let I=0;I<A.children.length;++I)wi(A.children[I],T.children[I])}function xe(A){return"object"==typeof A&&null!=A&&!A.outlets&&!A.segmentPath}function qe(A){return"object"==typeof A&&null!=A&&A.outlets}function gt(A,T,I,O,V){let X={};return O&&Ze(O,(fe,Oe)=>{X[Oe]=Array.isArray(fe)?fe.map(ct=>`${ct}`):`${fe}`}),new Fr(I.root===A?T:Tt(I.root,A,T),X,V)}function Tt(A,T,I){const O={};return Ze(A.children,(V,X)=>{O[X]=V===T?I:Tt(V,T,I)}),new Mn(A.segments,O)}class Gt{constructor(T,I,O){if(this.isAbsolute=T,this.numberOfDoubleDots=I,this.commands=O,T&&O.length>0&&xe(O[0]))throw new Error("Root segment cannot have matrix parameters");const V=O.find(qe);if(V&&V!==he(O))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Vr{constructor(T,I,O){this.segmentGroup=T,this.processChildren=I,this.index=O}}function co(A,T,I){if(A||(A=new Mn([],{})),0===A.segments.length&&A.hasChildren())return Ys(A,T,I);const O=function(A,T,I){let O=0,V=T;const X={match:!1,pathIndex:0,commandIndex:0};for(;V<A.segments.length;){if(O>=I.length)return X;const fe=A.segments[V],Oe=I[O];if(qe(Oe))break;const ct=`${Oe}`,wt=O<I.length-1?I[O+1]:null;if(V>0&&void 0===ct)break;if(ct&&wt&&"object"==typeof wt&&void 0===wt.outlets){if(!Vs(ct,wt,fe))return X;O+=2}else{if(!Vs(ct,{},fe))return X;O++}V++}return{match:!0,pathIndex:V,commandIndex:O}}(A,T,I),V=I.slice(O.commandIndex);if(O.match&&O.pathIndex<A.segments.length){const X=new Mn(A.segments.slice(0,O.pathIndex),{});return X.children[Ge]=new Mn(A.segments.slice(O.pathIndex),A.children),Ys(X,0,V)}return O.match&&0===V.length?new Mn(A.segments,{}):O.match&&!A.hasChildren()?ss(A,T,I):O.match?Ys(A,0,V):ss(A,T,I)}function Ys(A,T,I){if(0===I.length)return new Mn(A.segments,{});{const O=function(A){return qe(A[0])?A[0].outlets:{[Ge]:A}}(I),V={};return Ze(O,(X,fe)=>{"string"==typeof X&&(X=[X]),null!==X&&(V[fe]=co(A.children[fe],T,X))}),Ze(A.children,(X,fe)=>{void 0===O[fe]&&(V[fe]=X)}),new Mn(A.segments,V)}}function ss(A,T,I){const O=A.segments.slice(0,T);let V=0;for(;V<I.length;){const X=I[V];if(qe(X)){const ct=ms(X.outlets);return new Mn(O,ct)}if(0===V&&xe(I[0])){O.push(new Jr(A.segments[T].path,qi(I[0]))),V++;continue}const fe=qe(X)?X.outlets[Ge]:`${X}`,Oe=V<I.length-1?I[V+1]:null;fe&&Oe&&xe(Oe)?(O.push(new Jr(fe,qi(Oe))),V+=2):(O.push(new Jr(fe,{})),V++)}return new Mn(O,{})}function ms(A){const T={};return Ze(A,(I,O)=>{"string"==typeof I&&(I=[I]),null!==I&&(T[O]=ss(new Mn([],{}),0,I))}),T}function qi(A){const T={};return Ze(A,(I,O)=>T[O]=`${I}`),T}function Vs(A,T,I){return A==I.path&&xn(T,I.parameters)}class ys{constructor(T,I,O,V){this.routeReuseStrategy=T,this.futureState=I,this.currState=O,this.forwardEvent=V}activate(T){const I=this.futureState._root,O=this.currState?this.currState._root:null;this.deactivateChildRoutes(I,O,T),gs(this.futureState.root),this.activateChildRoutes(I,O,T)}deactivateChildRoutes(T,I,O){const V=zi(I);T.children.forEach(X=>{const fe=X.value.outlet;this.deactivateRoutes(X,V[fe],O),delete V[fe]}),Ze(V,(X,fe)=>{this.deactivateRouteAndItsChildren(X,O)})}deactivateRoutes(T,I,O){const V=T.value,X=I?I.value:null;if(V===X)if(V.component){const fe=O.getContext(V.outlet);fe&&this.deactivateChildRoutes(T,I,fe.children)}else this.deactivateChildRoutes(T,I,O);else X&&this.deactivateRouteAndItsChildren(I,O)}deactivateRouteAndItsChildren(T,I){this.routeReuseStrategy.shouldDetach(T.value.snapshot)?this.detachAndStoreRouteSubtree(T,I):this.deactivateRouteAndOutlet(T,I)}detachAndStoreRouteSubtree(T,I){const O=I.getContext(T.value.outlet);if(O&&O.outlet){const V=O.outlet.detach(),X=O.children.onOutletDeactivated();this.routeReuseStrategy.store(T.value.snapshot,{componentRef:V,route:T,contexts:X})}}deactivateRouteAndOutlet(T,I){const O=I.getContext(T.value.outlet),V=O&&T.value.component?O.children:I,X=zi(T);for(const fe of Object.keys(X))this.deactivateRouteAndItsChildren(X[fe],V);O&&O.outlet&&(O.outlet.deactivate(),O.children.onOutletDeactivated(),O.attachRef=null,O.resolver=null,O.route=null)}activateChildRoutes(T,I,O){const V=zi(I);T.children.forEach(X=>{this.activateRoutes(X,V[X.value.outlet],O),this.forwardEvent(new me(X.value.snapshot))}),T.children.length&&this.forwardEvent(new $e(T.value.snapshot))}activateRoutes(T,I,O){const V=T.value,X=I?I.value:null;if(gs(V),V===X)if(V.component){const fe=O.getOrCreateContext(V.outlet);this.activateChildRoutes(T,I,fe.children)}else this.activateChildRoutes(T,I,O);else if(V.component){const fe=O.getOrCreateContext(V.outlet);if(this.routeReuseStrategy.shouldAttach(V.snapshot)){const Oe=this.routeReuseStrategy.retrieve(V.snapshot);this.routeReuseStrategy.store(V.snapshot,null),fe.children.onOutletReAttached(Oe.contexts),fe.attachRef=Oe.componentRef,fe.route=Oe.route.value,fe.outlet&&fe.outlet.attach(Oe.componentRef,Oe.route.value),ci(Oe.route)}else{const Oe=function(A){for(let T=A.parent;T;T=T.parent){const I=T.routeConfig;if(I&&I._loadedConfig)return I._loadedConfig;if(I&&I.component)return null}return null}(V.snapshot),ct=Oe?Oe.module.componentFactoryResolver:null;fe.attachRef=null,fe.route=V,fe.resolver=ct,fe.outlet&&fe.outlet.activateWith(V,ct),this.activateChildRoutes(T,null,fe.children)}}else this.activateChildRoutes(T,null,O)}}function ci(A){gs(A.value),A.children.forEach(ci)}class ii{constructor(T,I){this.routes=T,this.module=I}}function pi(A){return"function"==typeof A}function Pn(A){return A instanceof Fr}const vs=Symbol("INITIAL_VALUE");function ei(){return(0,nr.w)(A=>function(...A){let T=null,I=null;return(0,q.K)(A[A.length-1])&&(I=A.pop()),"function"==typeof A[A.length-1]&&(T=A.pop()),1===A.length&&(0,Ce.k)(A[0])&&(A=A[0]),(0,de.n)(A,I).lift(new J(T))}(A.map(T=>T.pipe((0,Wn.q)(1),(0,lr.O)(vs)))).pipe((0,Er.R)((T,I)=>{let O=!1;return I.reduce((V,X,fe)=>V!==vs?V:(X===vs&&(O=!0),O||!1!==X&&fe!==I.length-1&&!Pn(X)?V:X),T)},vs),(0,nt.h)(T=>T!==vs),(0,pt.U)(T=>Pn(T)?T:!0===T),(0,Wn.q)(1)))}let Xs=(()=>{class A{}return A.\u0275fac=function(I){return new(I||A)},A.\u0275cmp=j.\u0275\u0275defineComponent({type:A,selectors:[["ng-component"]],decls:1,vars:0,template:function(I,O){1&I&&j.\u0275\u0275element(0,"router-outlet")},directives:function(){return[to]},encapsulation:2}),A})();function na(A,T=""){for(let I=0;I<A.length;I++){const O=A[I];bo(O,Us(T,O))}}function bo(A,T){A.children&&na(A.children,T)}function Us(A,T){return T?A||T.path?A&&!T.path?`${A}/`:!A&&T.path?T.path:`${A}/${T.path}`:"":A}function ds(A){const T=A.children&&A.children.map(ds),I=T?Object.assign(Object.assign({},A),{children:T}):Object.assign({},A);return!I.component&&(T||I.loadChildren)&&I.outlet&&I.outlet!==Ge&&(I.component=Xs),I}function gi(A){return A.outlet||Ge}function P(A,T){const I=A.filter(O=>gi(O)===T);return I.push(...A.filter(O=>gi(O)!==T)),I}const Q={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function k(A,T,I){var O;if(""===T.path)return"full"===T.pathMatch&&(A.hasChildren()||I.length>0)?Object.assign({},Q):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const X=(T.matcher||Tn)(I,A,T);if(!X)return Object.assign({},Q);const fe={};Ze(X.posParams,(ct,wt)=>{fe[wt]=ct.path});const Oe=X.consumed.length>0?Object.assign(Object.assign({},fe),X.consumed[X.consumed.length-1].parameters):fe;return{matched:!0,consumedSegments:X.consumed,lastChild:X.consumed.length,parameters:Oe,positionalParamSegments:null!==(O=X.posParams)&&void 0!==O?O:{}}}function w(A,T,I,O,V="corrected"){if(I.length>0&&function(A,T,I){return I.some(O=>vt(A,T,O)&&gi(O)!==Ge)}(A,I,O)){const fe=new Mn(T,function(A,T,I,O){const V={};V[Ge]=O,O._sourceSegment=A,O._segmentIndexShift=T.length;for(const X of I)if(""===X.path&&gi(X)!==Ge){const fe=new Mn([],{});fe._sourceSegment=A,fe._segmentIndexShift=T.length,V[gi(X)]=fe}return V}(A,T,O,new Mn(I,A.children)));return fe._sourceSegment=A,fe._segmentIndexShift=T.length,{segmentGroup:fe,slicedSegments:[]}}if(0===I.length&&function(A,T,I){return I.some(O=>vt(A,T,O))}(A,I,O)){const fe=new Mn(A.segments,function(A,T,I,O,V,X){const fe={};for(const Oe of O)if(vt(A,I,Oe)&&!V[gi(Oe)]){const ct=new Mn([],{});ct._sourceSegment=A,ct._segmentIndexShift="legacy"===X?A.segments.length:T.length,fe[gi(Oe)]=ct}return Object.assign(Object.assign({},V),fe)}(A,T,I,O,A.children,V));return fe._sourceSegment=A,fe._segmentIndexShift=T.length,{segmentGroup:fe,slicedSegments:I}}const X=new Mn(A.segments,A.children);return X._sourceSegment=A,X._segmentIndexShift=T.length,{segmentGroup:X,slicedSegments:I}}function vt(A,T,I){return(!(A.hasChildren()||T.length>0)||"full"!==I.pathMatch)&&""===I.path}function un(A,T,I,O){return!!(gi(A)===O||O!==Ge&&vt(T,I,A))&&("**"===A.path||k(T,A,I).matched)}function Yn(A,T,I){return 0===T.length&&!A.children[I]}class Nn{constructor(T){this.segmentGroup=T||null}}class hr{constructor(T){this.urlTree=T}}function Ir(A){return new ze.y(T=>T.error(new Nn(A)))}function di(A){return new ze.y(T=>T.error(new hr(A)))}function Cs(A){return new ze.y(T=>T.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${A}'`)))}class Ts{constructor(T,I,O,V,X){this.configLoader=I,this.urlSerializer=O,this.urlTree=V,this.config=X,this.allowRedirects=!0,this.ngModule=T.get(j.NgModuleRef)}apply(){const T=w(this.urlTree.root,[],[],this.config).segmentGroup,I=new Mn(T.segments,T.children);return this.expandSegmentGroup(this.ngModule,this.config,I,Ge).pipe((0,pt.U)(X=>this.createUrlTree(Es(X),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Jt.K)(X=>{if(X instanceof hr)return this.allowRedirects=!1,this.match(X.urlTree);throw X instanceof Nn?this.noMatchError(X):X}))}match(T){return this.expandSegmentGroup(this.ngModule,this.config,T.root,Ge).pipe((0,pt.U)(V=>this.createUrlTree(Es(V),T.queryParams,T.fragment))).pipe((0,Jt.K)(V=>{throw V instanceof Nn?this.noMatchError(V):V}))}noMatchError(T){return new Error(`Cannot match any routes. URL Segment: '${T.segmentGroup}'`)}createUrlTree(T,I,O){const V=T.segments.length>0?new Mn([],{[Ge]:T}):T;return new Fr(V,I,O)}expandSegmentGroup(T,I,O,V){return 0===O.segments.length&&O.hasChildren()?this.expandChildren(T,I,O).pipe((0,pt.U)(X=>new Mn([],X))):this.expandSegment(T,O,I,O.segments,V,!0)}expandChildren(T,I,O){const V=[];for(const X of Object.keys(O.children))"primary"===X?V.unshift(X):V.push(X);return(0,Z.D)(V).pipe((0,$t.b)(X=>{const fe=O.children[X],Oe=P(I,X);return this.expandSegmentGroup(T,Oe,fe,X).pipe((0,pt.U)(ct=>({segment:ct,outlet:X})))}),(0,Er.R)((X,fe)=>(X[fe.outlet]=fe.segment,X),{}),function(A,T){const I=arguments.length>=2;return O=>O.pipe(A?(0,nt.h)((V,X)=>A(V,X,O)):Ct.y,Ht(1),I?(0,Lt.d)(T):(0,Wt.T)(()=>new Xe.K))}())}expandSegment(T,I,O,V,X,fe){return(0,Z.D)(O).pipe((0,$t.b)(Oe=>this.expandSegmentAgainstRoute(T,I,O,Oe,V,X,fe).pipe((0,Jt.K)(wt=>{if(wt instanceof Nn)return(0,ue.of)(null);throw wt}))),(0,kn.P)(Oe=>!!Oe),(0,Jt.K)((Oe,ct)=>{if(Oe instanceof Xe.K||"EmptyError"===Oe.name){if(Yn(I,V,X))return(0,ue.of)(new Mn([],{}));throw new Nn(I)}throw Oe}))}expandSegmentAgainstRoute(T,I,O,V,X,fe,Oe){return un(V,I,X,fe)?void 0===V.redirectTo?this.matchSegmentAgainstRoute(T,I,V,X,fe):Oe&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(T,I,O,V,X,fe):Ir(I):Ir(I)}expandSegmentAgainstRouteUsingRedirect(T,I,O,V,X,fe){return"**"===V.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(T,O,V,fe):this.expandRegularSegmentAgainstRouteUsingRedirect(T,I,O,V,X,fe)}expandWildCardWithParamsAgainstRouteUsingRedirect(T,I,O,V){const X=this.applyRedirectCommands([],O.redirectTo,{});return O.redirectTo.startsWith("/")?di(X):this.lineralizeSegments(O,X).pipe((0,rr.zg)(fe=>{const Oe=new Mn(fe,{});return this.expandSegment(T,Oe,I,fe,V,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(T,I,O,V,X,fe){const{matched:Oe,consumedSegments:ct,lastChild:wt,positionalParamSegments:qt}=k(I,V,X);if(!Oe)return Ir(I);const wn=this.applyRedirectCommands(ct,V.redirectTo,qt);return V.redirectTo.startsWith("/")?di(wn):this.lineralizeSegments(V,wn).pipe((0,rr.zg)(Or=>this.expandSegment(T,I,O,Or.concat(X.slice(wt)),fe,!1)))}matchSegmentAgainstRoute(T,I,O,V,X){if("**"===O.path)return O.loadChildren?(O._loadedConfig?(0,ue.of)(O._loadedConfig):this.configLoader.load(T.injector,O)).pipe((0,pt.U)(Or=>(O._loadedConfig=Or,new Mn(V,{})))):(0,ue.of)(new Mn(V,{}));const{matched:fe,consumedSegments:Oe,lastChild:ct}=k(I,O,V);if(!fe)return Ir(I);const wt=V.slice(ct);return this.getChildConfig(T,O,V).pipe((0,rr.zg)(wn=>{const Or=wn.module,fr=wn.routes,{segmentGroup:Hr,slicedSegments:no}=w(I,Oe,wt,fr),Yi=new Mn(Hr.segments,Hr.children);if(0===no.length&&Yi.hasChildren())return this.expandChildren(Or,fr,Yi).pipe((0,pt.U)(zo=>new Mn(Oe,zo)));if(0===fr.length&&0===no.length)return(0,ue.of)(new Mn(Oe,{}));const br=gi(O)===X;return this.expandSegment(Or,Yi,fr,no,br?Ge:X,!0).pipe((0,pt.U)(Hi=>new Mn(Oe.concat(Hi.segments),Hi.children)))}))}getChildConfig(T,I,O){return I.children?(0,ue.of)(new ii(I.children,T)):I.loadChildren?void 0!==I._loadedConfig?(0,ue.of)(I._loadedConfig):this.runCanLoadGuards(T.injector,I,O).pipe((0,rr.zg)(V=>{return V?this.configLoader.load(T.injector,I).pipe((0,pt.U)(X=>(I._loadedConfig=X,X))):(A=I,new ze.y(T=>T.error(mn(`Cannot load children because the guard of the route "path: '${A.path}'" returned false`))));var A})):(0,ue.of)(new ii([],T))}runCanLoadGuards(T,I,O){const V=I.canLoad;if(!V||0===V.length)return(0,ue.of)(!0);const X=V.map(fe=>{const Oe=T.get(fe);let ct;if((A=Oe)&&pi(A.canLoad))ct=Oe.canLoad(I,O);else{if(!pi(Oe))throw new Error("Invalid CanLoad guard");ct=Oe(I,O)}var A;return Ue(ct)});return(0,ue.of)(X).pipe(ei(),(0,Cn.b)(fe=>{if(!Pn(fe))return;const Oe=mn(`Redirecting to "${this.urlSerializer.serialize(fe)}"`);throw Oe.url=fe,Oe}),(0,pt.U)(fe=>!0===fe))}lineralizeSegments(T,I){let O=[],V=I.root;for(;;){if(O=O.concat(V.segments),0===V.numberOfChildren)return(0,ue.of)(O);if(V.numberOfChildren>1||!V.children[Ge])return Cs(T.redirectTo);V=V.children[Ge]}}applyRedirectCommands(T,I,O){return this.applyRedirectCreatreUrlTree(I,this.urlSerializer.parse(I),T,O)}applyRedirectCreatreUrlTree(T,I,O,V){const X=this.createSegmentGroup(T,I.root,O,V);return new Fr(X,this.createQueryParams(I.queryParams,this.urlTree.queryParams),I.fragment)}createQueryParams(T,I){const O={};return Ze(T,(V,X)=>{if("string"==typeof V&&V.startsWith(":")){const Oe=V.substring(1);O[X]=I[Oe]}else O[X]=V}),O}createSegmentGroup(T,I,O,V){const X=this.createSegments(T,I.segments,O,V);let fe={};return Ze(I.children,(Oe,ct)=>{fe[ct]=this.createSegmentGroup(T,Oe,O,V)}),new Mn(X,fe)}createSegments(T,I,O,V){return I.map(X=>X.path.startsWith(":")?this.findPosParam(T,X,V):this.findOrReturn(X,O))}findPosParam(T,I,O){const V=O[I.path.substring(1)];if(!V)throw new Error(`Cannot redirect to '${T}'. Cannot find '${I.path}'.`);return V}findOrReturn(T,I){let O=0;for(const V of I){if(V.path===T.path)return I.splice(O),V;O++}return T}}function Es(A){const T={};for(const O of Object.keys(A.children)){const X=Es(A.children[O]);(X.segments.length>0||X.hasChildren())&&(T[O]=X)}return function(A){if(1===A.numberOfChildren&&A.children[Ge]){const T=A.children[Ge];return new Mn(A.segments.concat(T.segments),T.children)}return A}(new Mn(A.segments,T))}class Go{constructor(T){this.path=T,this.route=this.path[this.path.length-1]}}class ra{constructor(T,I){this.component=T,this.route=I}}function ho(A,T,I){const O=A._root;return Hn(O,T?T._root:null,I,[O.value])}function To(A,T,I){const O=function(A){if(!A)return null;for(let T=A.parent;T;T=T.parent){const I=T.routeConfig;if(I&&I._loadedConfig)return I._loadedConfig}return null}(T);return(O?O.module.injector:I).get(A)}function Hn(A,T,I,O,V={canDeactivateChecks:[],canActivateChecks:[]}){const X=zi(T);return A.children.forEach(fe=>{(function(A,T,I,O,V={canDeactivateChecks:[],canActivateChecks:[]}){const X=A.value,fe=T?T.value:null,Oe=I?I.getContext(A.value.outlet):null;if(fe&&X.routeConfig===fe.routeConfig){const ct=function(A,T,I){if("function"==typeof I)return I(A,T);switch(I){case"pathParamsChange":return!Dr(A.url,T.url);case"pathParamsOrQueryParamsChange":return!Dr(A.url,T.url)||!xn(A.queryParams,T.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ri(A,T)||!xn(A.queryParams,T.queryParams);case"paramsChange":default:return!Ri(A,T)}}(fe,X,X.routeConfig.runGuardsAndResolvers);ct?V.canActivateChecks.push(new Go(O)):(X.data=fe.data,X._resolvedData=fe._resolvedData),Hn(A,T,X.component?Oe?Oe.children:null:I,O,V),ct&&Oe&&Oe.outlet&&Oe.outlet.isActivated&&V.canDeactivateChecks.push(new ra(Oe.outlet.component,fe))}else fe&&Lo(T,Oe,V),V.canActivateChecks.push(new Go(O)),Hn(A,null,X.component?Oe?Oe.children:null:I,O,V)})(fe,X[fe.value.outlet],I,O.concat([fe.value]),V),delete X[fe.value.outlet]}),Ze(X,(fe,Oe)=>Lo(fe,I.getContext(Oe),V)),V}function Lo(A,T,I){const O=zi(A),V=A.value;Ze(O,(X,fe)=>{Lo(X,V.component?T?T.children.getContext(fe):null:T,I)}),I.canDeactivateChecks.push(new ra(V.component&&T&&T.outlet&&T.outlet.isActivated?T.outlet.component:null,V))}class pe{}function we(A){return new ze.y(T=>T.error(A))}class dt{constructor(T,I,O,V,X,fe){this.rootComponentType=T,this.config=I,this.urlTree=O,this.url=V,this.paramsInheritanceStrategy=X,this.relativeLinkResolution=fe}recognize(){const T=w(this.urlTree.root,[],[],this.config.filter(fe=>void 0===fe.redirectTo),this.relativeLinkResolution).segmentGroup,I=this.processSegmentGroup(this.config,T,Ge);if(null===I)return null;const O=new Br([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ge,this.rootComponentType,null,this.urlTree.root,-1,{}),V=new an(O,I),X=new Zs(this.url,V);return this.inheritParamsAndData(X._root),X}inheritParamsAndData(T){const I=T.value,O=is(I,this.paramsInheritanceStrategy);I.params=Object.freeze(O.params),I.data=Object.freeze(O.data),T.children.forEach(V=>this.inheritParamsAndData(V))}processSegmentGroup(T,I,O){return 0===I.segments.length&&I.hasChildren()?this.processChildren(T,I):this.processSegment(T,I,I.segments,O)}processChildren(T,I){const O=[];for(const X of Object.keys(I.children)){const fe=I.children[X],Oe=P(T,X),ct=this.processSegmentGroup(Oe,fe,X);if(null===ct)return null;O.push(...ct)}const V=Jn(O);return V.sort((T,I)=>T.value.outlet===Ge?-1:I.value.outlet===Ge?1:T.value.outlet.localeCompare(I.value.outlet)),V}processSegment(T,I,O,V){for(const X of T){const fe=this.processSegmentAgainstRoute(X,I,O,V);if(null!==fe)return fe}return Yn(I,O,V)?[]:null}processSegmentAgainstRoute(T,I,O,V){if(T.redirectTo||!un(T,I,O,V))return null;let X,fe=[],Oe=[];if("**"===T.path){const fr=O.length>0?he(O).parameters:{};X=new Br(O,fr,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,xr(T),gi(T),T.component,T,Fn(I),Xn(I)+O.length,Zr(T))}else{const fr=k(I,T,O);if(!fr.matched)return null;fe=fr.consumedSegments,Oe=O.slice(fr.lastChild),X=new Br(fe,fr.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,xr(T),gi(T),T.component,T,Fn(I),Xn(I)+fe.length,Zr(T))}const ct=(A=T).children?A.children:A.loadChildren?A._loadedConfig.routes:[],{segmentGroup:wt,slicedSegments:qt}=w(I,fe,Oe,ct.filter(fr=>void 0===fr.redirectTo),this.relativeLinkResolution);var A;if(0===qt.length&&wt.hasChildren()){const fr=this.processChildren(ct,wt);return null===fr?null:[new an(X,fr)]}if(0===ct.length&&0===qt.length)return[new an(X,[])];const wn=gi(T)===V,Or=this.processSegment(ct,wt,qt,wn?Ge:V);return null===Or?null:[new an(X,Or)]}}function jn(A){const T=A.value.routeConfig;return T&&""===T.path&&void 0===T.redirectTo}function Jn(A){const T=[],I=new Set;for(const O of A){if(!jn(O)){T.push(O);continue}const V=T.find(X=>O.value.routeConfig===X.value.routeConfig);void 0!==V?(V.children.push(...O.children),I.add(V)):T.push(O)}for(const O of I){const V=Jn(O.children);T.push(new an(O.value,V))}return T.filter(O=>!I.has(O))}function Fn(A){let T=A;for(;T._sourceSegment;)T=T._sourceSegment;return T}function Xn(A){let T=A,I=T._segmentIndexShift?T._segmentIndexShift:0;for(;T._sourceSegment;)T=T._sourceSegment,I+=T._segmentIndexShift?T._segmentIndexShift:0;return I-1}function xr(A){return A.data||{}}function Zr(A){return A.resolve||{}}function Ss(A){return(0,nr.w)(T=>{const I=A(T);return I?(0,Z.D)(I).pipe((0,pt.U)(()=>T)):(0,ue.of)(T)})}class Aa extends class{shouldDetach(T){return!1}store(T,I){}shouldAttach(T){return!1}retrieve(T){return null}shouldReuseRoute(T,I){return T.routeConfig===I.routeConfig}}{}const fo=new j.InjectionToken("ROUTES");class ti{constructor(T,I,O,V){this.loader=T,this.compiler=I,this.onLoadStartListener=O,this.onLoadEndListener=V}load(T,I){if(I._loader$)return I._loader$;this.onLoadStartListener&&this.onLoadStartListener(I);const V=this.loadModuleFactory(I.loadChildren).pipe((0,pt.U)(X=>{this.onLoadEndListener&&this.onLoadEndListener(I);const fe=X.create(T);return new ii(ye(fe.injector.get(fo,void 0,j.InjectFlags.Self|j.InjectFlags.Optional)).map(ds),fe)}),(0,Jt.K)(X=>{throw I._loader$=void 0,X}));return I._loader$=new Se.c(V,()=>new Be.xQ).pipe((0,bn.x)()),I._loader$}loadModuleFactory(T){return"string"==typeof T?(0,Z.D)(this.loader.load(T)):Ue(T()).pipe((0,rr.zg)(I=>I instanceof j.NgModuleFactory?(0,ue.of)(I):(0,Z.D)(this.compiler.compileModuleAsync(I))))}}class Do{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Cr,this.attachRef=null}}class Cr{constructor(){this.contexts=new Map}onChildOutletCreated(T,I){const O=this.getOrCreateContext(T);O.outlet=I,this.contexts.set(T,O)}onChildOutletDestroyed(T){const I=this.getContext(T);I&&(I.outlet=null)}onOutletDeactivated(){const T=this.contexts;return this.contexts=new Map,T}onOutletReAttached(T){this.contexts=T}getOrCreateContext(T){let I=this.getContext(T);return I||(I=new Do,this.contexts.set(T,I)),I}getContext(T){return this.contexts.get(T)||null}}class En{shouldProcessUrl(T){return!0}extract(T){return T}merge(T,I){return T}}function $n(A){throw A}function qn(A,T,I){return T.parse("/")}function Mi(A,T){return(0,ue.of)(null)}const $s={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ji={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let $r=(()=>{class A{constructor(I,O,V,X,fe,Oe,ct,wt){this.rootComponentType=I,this.urlSerializer=O,this.rootContexts=V,this.location=X,this.config=wt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Be.xQ,this.errorHandler=$n,this.malformedUriErrorHandler=qn,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Mi,afterPreactivation:Mi},this.urlHandlingStrategy=new En,this.routeReuseStrategy=new Aa,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=fe.get(j.NgModuleRef),this.console=fe.get(j.\u0275Console);const Or=fe.get(j.NgZone);this.isNgZoneEnabled=Or instanceof j.NgZone&&j.NgZone.isInAngularZone(),this.resetConfig(wt),this.currentUrlTree=new Fr(new Mn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ti(Oe,ct,fr=>this.triggerEvent(new An(fr)),fr=>this.triggerEvent(new yr(fr))),this.routerState=rs(this.currentUrlTree,this.rootComponentType),this.transitions=new Ye.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var I;return null===(I=this.location.getState())||void 0===I?void 0:I.\u0275routerPageId}setupNavigations(I){const O=this.events;return I.pipe((0,nt.h)(V=>0!==V.id),(0,pt.U)(V=>Object.assign(Object.assign({},V),{extractedUrl:this.urlHandlingStrategy.extract(V.rawUrl)})),(0,nr.w)(V=>{let X=!1,fe=!1;return(0,ue.of)(V).pipe((0,Cn.b)(Oe=>{this.currentNavigation={id:Oe.id,initialUrl:Oe.currentRawUrl,extractedUrl:Oe.extractedUrl,trigger:Oe.source,extras:Oe.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,nr.w)(Oe=>{const ct=!this.navigated||Oe.extractedUrl.toString()!==this.browserUrlTree.toString(),wt=("reload"===this.onSameUrlNavigation||ct)&&this.urlHandlingStrategy.shouldProcessUrl(Oe.rawUrl);if(ni(Oe.source)&&(this.browserUrlTree=Oe.rawUrl),wt)return(0,ue.of)(Oe).pipe((0,nr.w)(qt=>{const wn=this.transitions.getValue();return O.next(new Kt(qt.id,this.serializeUrl(qt.extractedUrl),qt.source,qt.restoredState)),wn!==this.transitions.getValue()?Me.E:Promise.resolve(qt)}),function(A,T,I,O){return(0,nr.w)(V=>function(A,T,I,O,V){return new Ts(A,T,I,O,V).apply()}(A,T,I,V.extractedUrl,O).pipe((0,pt.U)(X=>Object.assign(Object.assign({},V),{urlAfterRedirects:X}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Cn.b)(qt=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:qt.urlAfterRedirects})}),function(A,T,I,O,V){return(0,rr.zg)(X=>function(A,T,I,O,V="emptyOnly",X="legacy"){try{const fe=new dt(A,T,I,O,V,X).recognize();return null===fe?we(new pe):(0,ue.of)(fe)}catch(fe){return we(fe)}}(A,T,X.urlAfterRedirects,I(X.urlAfterRedirects),O,V).pipe((0,pt.U)(fe=>Object.assign(Object.assign({},X),{targetSnapshot:fe}))))}(this.rootComponentType,this.config,qt=>this.serializeUrl(qt),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Cn.b)(qt=>{"eager"===this.urlUpdateStrategy&&(qt.extras.skipLocationChange||this.setBrowserUrl(qt.urlAfterRedirects,qt),this.browserUrlTree=qt.urlAfterRedirects);const wn=new _n(qt.id,this.serializeUrl(qt.extractedUrl),this.serializeUrl(qt.urlAfterRedirects),qt.targetSnapshot);O.next(wn)}));if(ct&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:wn,extractedUrl:Or,source:fr,restoredState:Hr,extras:no}=Oe,Yi=new Kt(wn,this.serializeUrl(Or),fr,Hr);O.next(Yi);const br=rs(Or,this.rootComponentType).snapshot;return(0,ue.of)(Object.assign(Object.assign({},Oe),{targetSnapshot:br,urlAfterRedirects:Or,extras:Object.assign(Object.assign({},no),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=Oe.rawUrl,this.browserUrlTree=Oe.urlAfterRedirects,Oe.resolve(null),Me.E}),Ss(Oe=>{const{targetSnapshot:ct,id:wt,extractedUrl:qt,rawUrl:wn,extras:{skipLocationChange:Or,replaceUrl:fr}}=Oe;return this.hooks.beforePreactivation(ct,{navigationId:wt,appliedUrlTree:qt,rawUrlTree:wn,skipLocationChange:!!Or,replaceUrl:!!fr})}),(0,Cn.b)(Oe=>{const ct=new ot(Oe.id,this.serializeUrl(Oe.extractedUrl),this.serializeUrl(Oe.urlAfterRedirects),Oe.targetSnapshot);this.triggerEvent(ct)}),(0,pt.U)(Oe=>Object.assign(Object.assign({},Oe),{guards:ho(Oe.targetSnapshot,Oe.currentSnapshot,this.rootContexts)})),function(A,T){return(0,rr.zg)(I=>{const{targetSnapshot:O,currentSnapshot:V,guards:{canActivateChecks:X,canDeactivateChecks:fe}}=I;return 0===fe.length&&0===X.length?(0,ue.of)(Object.assign(Object.assign({},I),{guardsResult:!0})):function(A,T,I,O){return(0,Z.D)(A).pipe((0,rr.zg)(V=>function(A,T,I,O,V){const X=T&&T.routeConfig?T.routeConfig.canDeactivate:null;if(!X||0===X.length)return(0,ue.of)(!0);const fe=X.map(Oe=>{const ct=To(Oe,T,V);let wt;if(function(A){return A&&pi(A.canDeactivate)}(ct))wt=Ue(ct.canDeactivate(A,T,I,O));else{if(!pi(ct))throw new Error("Invalid CanDeactivate guard");wt=Ue(ct(A,T,I,O))}return wt.pipe((0,kn.P)())});return(0,ue.of)(fe).pipe(ei())}(V.component,V.route,I,T,O)),(0,kn.P)(V=>!0!==V,!0))}(fe,O,V,A).pipe((0,rr.zg)(Oe=>Oe&&function(A){return"boolean"==typeof A}(Oe)?function(A,T,I,O){return(0,Z.D)(T).pipe((0,$t.b)(V=>(0,Ie.z)(function(A,T){return null!==A&&T&&T(new kr(A)),(0,ue.of)(!0)}(V.route.parent,O),function(A,T){return null!==A&&T&&T(new ge(A)),(0,ue.of)(!0)}(V.route,O),function(A,T,I){const O=T[T.length-1],X=T.slice(0,T.length-1).reverse().map(fe=>function(A){const T=A.routeConfig?A.routeConfig.canActivateChild:null;return T&&0!==T.length?{node:A,guards:T}:null}(fe)).filter(fe=>null!==fe).map(fe=>(0,Te.P)(()=>{const Oe=fe.guards.map(ct=>{const wt=To(ct,fe.node,I);let qt;if(function(A){return A&&pi(A.canActivateChild)}(wt))qt=Ue(wt.canActivateChild(O,A));else{if(!pi(wt))throw new Error("Invalid CanActivateChild guard");qt=Ue(wt(O,A))}return qt.pipe((0,kn.P)())});return(0,ue.of)(Oe).pipe(ei())}));return(0,ue.of)(X).pipe(ei())}(A,V.path,I),function(A,T,I){const O=T.routeConfig?T.routeConfig.canActivate:null;if(!O||0===O.length)return(0,ue.of)(!0);const V=O.map(X=>(0,Te.P)(()=>{const fe=To(X,T,I);let Oe;if(function(A){return A&&pi(A.canActivate)}(fe))Oe=Ue(fe.canActivate(T,A));else{if(!pi(fe))throw new Error("Invalid CanActivate guard");Oe=Ue(fe(T,A))}return Oe.pipe((0,kn.P)())}));return(0,ue.of)(V).pipe(ei())}(A,V.route,I))),(0,kn.P)(V=>!0!==V,!0))}(O,X,A,T):(0,ue.of)(Oe)),(0,pt.U)(Oe=>Object.assign(Object.assign({},I),{guardsResult:Oe})))})}(this.ngModule.injector,Oe=>this.triggerEvent(Oe)),(0,Cn.b)(Oe=>{if(Pn(Oe.guardsResult)){const wt=mn(`Redirecting to "${this.serializeUrl(Oe.guardsResult)}"`);throw wt.url=Oe.guardsResult,wt}const ct=new zn(Oe.id,this.serializeUrl(Oe.extractedUrl),this.serializeUrl(Oe.urlAfterRedirects),Oe.targetSnapshot,!!Oe.guardsResult);this.triggerEvent(ct)}),(0,nt.h)(Oe=>!!Oe.guardsResult||(this.restoreHistory(Oe),this.cancelNavigationTransition(Oe,""),!1)),Ss(Oe=>{if(Oe.guards.canActivateChecks.length)return(0,ue.of)(Oe).pipe((0,Cn.b)(ct=>{const wt=new dr(ct.id,this.serializeUrl(ct.extractedUrl),this.serializeUrl(ct.urlAfterRedirects),ct.targetSnapshot);this.triggerEvent(wt)}),(0,nr.w)(ct=>{let wt=!1;return(0,ue.of)(ct).pipe(function(A,T){return(0,rr.zg)(I=>{const{targetSnapshot:O,guards:{canActivateChecks:V}}=I;if(!V.length)return(0,ue.of)(I);let X=0;return(0,Z.D)(V).pipe((0,$t.b)(fe=>function(A,T,I,O){return function(A,T,I,O){const V=Object.keys(A);if(0===V.length)return(0,ue.of)({});const X={};return(0,Z.D)(V).pipe((0,rr.zg)(fe=>function(A,T,I,O){const V=To(A,T,O);return Ue(V.resolve?V.resolve(T,I):V(T,I))}(A[fe],T,I,O).pipe((0,Cn.b)(Oe=>{X[fe]=Oe}))),Ht(1),(0,rr.zg)(()=>Object.keys(X).length===V.length?(0,ue.of)(X):Me.E))}(A._resolve,A,T,O).pipe((0,pt.U)(X=>(A._resolvedData=X,A.data=Object.assign(Object.assign({},A.data),is(A,I).resolve),null)))}(fe.route,O,A,T)),(0,Cn.b)(()=>X++),Ht(1),(0,rr.zg)(fe=>X===V.length?(0,ue.of)(I):Me.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Cn.b)({next:()=>wt=!0,complete:()=>{wt||(this.restoreHistory(ct),this.cancelNavigationTransition(ct,"At least one route resolver didn't emit any value."))}}))}),(0,Cn.b)(ct=>{const wt=new Ft(ct.id,this.serializeUrl(ct.extractedUrl),this.serializeUrl(ct.urlAfterRedirects),ct.targetSnapshot);this.triggerEvent(wt)}))}),Ss(Oe=>{const{targetSnapshot:ct,id:wt,extractedUrl:qt,rawUrl:wn,extras:{skipLocationChange:Or,replaceUrl:fr}}=Oe;return this.hooks.afterPreactivation(ct,{navigationId:wt,appliedUrlTree:qt,rawUrlTree:wn,skipLocationChange:!!Or,replaceUrl:!!fr})}),(0,pt.U)(Oe=>{const ct=function(A,T,I){const O=li(A,T._root,I?I._root:void 0);return new wr(O,T)}(this.routeReuseStrategy,Oe.targetSnapshot,Oe.currentRouterState);return Object.assign(Object.assign({},Oe),{targetRouterState:ct})}),(0,Cn.b)(Oe=>{this.currentUrlTree=Oe.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,Oe.rawUrl),this.routerState=Oe.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Oe.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Oe),this.browserUrlTree=Oe.urlAfterRedirects)}),((A,T,I)=>(0,pt.U)(O=>(new ys(T,O.targetRouterState,O.currentRouterState,I).activate(A),O)))(this.rootContexts,this.routeReuseStrategy,Oe=>this.triggerEvent(Oe)),(0,Cn.b)({next(){X=!0},complete(){X=!0}}),(0,Tr.x)(()=>{if(!X&&!fe){const Oe=`Navigation ID ${V.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(V),this.cancelNavigationTransition(V,Oe)):this.cancelNavigationTransition(V,Oe)}this.currentNavigation=null}),(0,Jt.K)(Oe=>{if(fe=!0,function(A){return A&&A[xt]}(Oe)){const ct=Pn(Oe.url);ct||(this.navigated=!0,this.restoreHistory(V,!0));const wt=new Sn(V.id,this.serializeUrl(V.extractedUrl),Oe.message);O.next(wt),ct?setTimeout(()=>{const qt=this.urlHandlingStrategy.merge(Oe.url,this.rawUrlTree),wn={skipLocationChange:V.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ni(V.source)};this.scheduleNavigation(qt,"imperative",null,wn,{resolve:V.resolve,reject:V.reject,promise:V.promise})},0):V.resolve(!1)}else{this.restoreHistory(V,!0);const ct=new ir(V.id,this.serializeUrl(V.extractedUrl),Oe);O.next(ct);try{V.resolve(this.errorHandler(Oe))}catch(wt){V.reject(wt)}}return Me.E}))}))}resetRootComponentType(I){this.rootComponentType=I,this.routerState.root.component=this.rootComponentType}getTransition(){const I=this.transitions.value;return I.urlAfterRedirects=this.browserUrlTree,I}setTransition(I){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),I))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(I=>{const O=this.extractLocationChangeInfoFromEvent(I);this.shouldScheduleNavigation(this.lastLocationChangeInfo,O)&&setTimeout(()=>{const{source:V,state:X,urlTree:fe}=O,Oe={replaceUrl:!0};if(X){const ct=Object.assign({},X);delete ct.navigationId,delete ct.\u0275routerPageId,0!==Object.keys(ct).length&&(Oe.state=ct)}this.scheduleNavigation(fe,V,X,Oe)},0),this.lastLocationChangeInfo=O}))}extractLocationChangeInfoFromEvent(I){var O;return{source:"popstate"===I.type?"popstate":"hashchange",urlTree:this.parseUrl(I.url),state:(null===(O=I.state)||void 0===O?void 0:O.navigationId)?I.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(I,O){if(!I)return!0;const V=O.urlTree.toString()===I.urlTree.toString();return O.transitionId!==I.transitionId||!V||!("hashchange"===O.source&&"popstate"===I.source||"popstate"===O.source&&"hashchange"===I.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(I){this.events.next(I)}resetConfig(I){na(I),this.config=I.map(ds),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(I,O={}){const{relativeTo:V,queryParams:X,fragment:fe,queryParamsHandling:Oe,preserveFragment:ct}=O,wt=V||this.routerState.root,qt=ct?this.currentUrlTree.fragment:fe;let wn=null;switch(Oe){case"merge":wn=Object.assign(Object.assign({},this.currentUrlTree.queryParams),X);break;case"preserve":wn=this.currentUrlTree.queryParams;break;default:wn=X||null}return null!==wn&&(wn=this.removeEmptyProps(wn)),function(A,T,I,O,V){if(0===I.length)return gt(T.root,T.root,T,O,V);const X=function(A){if("string"==typeof A[0]&&1===A.length&&"/"===A[0])return new Gt(!0,0,A);let T=0,I=!1;const O=A.reduce((V,X,fe)=>{if("object"==typeof X&&null!=X){if(X.outlets){const Oe={};return Ze(X.outlets,(ct,wt)=>{Oe[wt]="string"==typeof ct?ct.split("/"):ct}),[...V,{outlets:Oe}]}if(X.segmentPath)return[...V,X.segmentPath]}return"string"!=typeof X?[...V,X]:0===fe?(X.split("/").forEach((Oe,ct)=>{0==ct&&"."===Oe||(0==ct&&""===Oe?I=!0:".."===Oe?T++:""!=Oe&&V.push(Oe))}),V):[...V,X]},[]);return new Gt(I,T,O)}(I);if(X.toRoot())return gt(T.root,new Mn([],{}),T,O,V);const fe=function(A,T,I){if(A.isAbsolute)return new Vr(T.root,!0,0);if(-1===I.snapshot._lastPathIndex){const X=I.snapshot._urlSegment;return new Vr(X,X===T.root,0)}const O=xe(A.commands[0])?0:1;return function(A,T,I){let O=A,V=T,X=I;for(;X>V;){if(X-=V,O=O.parent,!O)throw new Error("Invalid number of '../'");V=O.segments.length}return new Vr(O,!1,V-X)}(I.snapshot._urlSegment,I.snapshot._lastPathIndex+O,A.numberOfDoubleDots)}(X,T,A),Oe=fe.processChildren?Ys(fe.segmentGroup,fe.index,X.commands):co(fe.segmentGroup,fe.index,X.commands);return gt(fe.segmentGroup,Oe,T,O,V)}(wt,this.currentUrlTree,I,wn,null!=qt?qt:null)}navigateByUrl(I,O={skipLocationChange:!1}){const V=Pn(I)?I:this.parseUrl(I),X=this.urlHandlingStrategy.merge(V,this.rawUrlTree);return this.scheduleNavigation(X,"imperative",null,O)}navigate(I,O={skipLocationChange:!1}){return function(A){for(let T=0;T<A.length;T++){const I=A[T];if(null==I)throw new Error(`The requested path contains ${I} segment at index ${T}`)}}(I),this.navigateByUrl(this.createUrlTree(I,O),O)}serializeUrl(I){return this.urlSerializer.serialize(I)}parseUrl(I){let O;try{O=this.urlSerializer.parse(I)}catch(V){O=this.malformedUriErrorHandler(V,this.urlSerializer,I)}return O}isActive(I,O){let V;if(V=!0===O?Object.assign({},$s):!1===O?Object.assign({},ji):O,Pn(I))return Je(this.currentUrlTree,I,V);const X=this.parseUrl(I);return Je(this.currentUrlTree,X,V)}removeEmptyProps(I){return Object.keys(I).reduce((O,V)=>{const X=I[V];return null!=X&&(O[V]=X),O},{})}processNavigations(){this.navigations.subscribe(I=>{this.navigated=!0,this.lastSuccessfulId=I.id,this.currentPageId=I.targetPageId,this.events.next(new gn(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,I.resolve(!0)},I=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(I,O,V,X,fe){var Oe,ct;if(this.disposed)return Promise.resolve(!1);const wt=this.getTransition(),qt=ni(O)&&wt&&!ni(wt.source),fr=(this.lastSuccessfulId===wt.id||this.currentNavigation?wt.rawUrl:wt.urlAfterRedirects).toString()===I.toString();if(qt&&fr)return Promise.resolve(!0);let Hr,no,Yi;fe?(Hr=fe.resolve,no=fe.reject,Yi=fe.promise):Yi=new Promise((Hi,zo)=>{Hr=Hi,no=zo});const br=++this.navigationId;let fs;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(V=this.location.getState()),fs=V&&V.\u0275routerPageId?V.\u0275routerPageId:X.replaceUrl||X.skipLocationChange?null!==(Oe=this.browserPageId)&&void 0!==Oe?Oe:0:(null!==(ct=this.browserPageId)&&void 0!==ct?ct:0)+1):fs=0,this.setTransition({id:br,targetPageId:fs,source:O,restoredState:V,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:I,extras:X,resolve:Hr,reject:no,promise:Yi,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Yi.catch(Hi=>Promise.reject(Hi))}setBrowserUrl(I,O){const V=this.urlSerializer.serialize(I),X=Object.assign(Object.assign({},O.extras.state),this.generateNgRouterState(O.id,O.targetPageId));this.location.isCurrentPathEqualTo(V)||O.extras.replaceUrl?this.location.replaceState(V,"",X):this.location.go(V,"",X)}restoreHistory(I,O=!1){var V,X;if("computed"===this.canceledNavigationResolution){const fe=this.currentPageId-I.targetPageId;"popstate"!==I.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(V=this.currentNavigation)||void 0===V?void 0:V.finalUrl)||0===fe?this.currentUrlTree===(null===(X=this.currentNavigation)||void 0===X?void 0:X.finalUrl)&&0===fe&&(this.resetState(I),this.browserUrlTree=I.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(fe)}else"replace"===this.canceledNavigationResolution&&(O&&this.resetState(I),this.resetUrlToCurrentUrlTree())}resetState(I){this.routerState=I.currentRouterState,this.currentUrlTree=I.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,I.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(I,O){const V=new Sn(I.id,this.serializeUrl(I.extractedUrl),O);this.triggerEvent(V),I.resolve(!1)}generateNgRouterState(I,O){return"computed"===this.canceledNavigationResolution?{navigationId:I,\u0275routerPageId:O}:{navigationId:I}}}return A.\u0275fac=function(I){return new(I||A)(j.\u0275\u0275inject(j.Type),j.\u0275\u0275inject(cr),j.\u0275\u0275inject(Cr),j.\u0275\u0275inject(m.Ye),j.\u0275\u0275inject(j.Injector),j.\u0275\u0275inject(j.NgModuleFactoryLoader),j.\u0275\u0275inject(j.Compiler),j.\u0275\u0275inject(void 0))},A.\u0275prov=j.\u0275\u0275defineInjectable({token:A,factory:A.\u0275fac}),A})();function ni(A){return"imperative"!==A}let hs=(()=>{class A{constructor(I,O,V,X,fe){this.router=I,this.route=O,this.commands=[],this.onChanges=new Be.xQ,null==V&&X.setAttribute(fe.nativeElement,"tabindex","0")}ngOnChanges(I){this.onChanges.next(this)}set routerLink(I){this.commands=null!=I?Array.isArray(I)?I:[I]:[]}onClick(){const I={skipLocationChange:Qi(this.skipLocationChange),replaceUrl:Qi(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,I),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Qi(this.preserveFragment)})}}return A.\u0275fac=function(I){return new(I||A)(j.\u0275\u0275directiveInject($r),j.\u0275\u0275directiveInject(Xr),j.\u0275\u0275injectAttribute("tabindex"),j.\u0275\u0275directiveInject(j.Renderer2),j.\u0275\u0275directiveInject(j.ElementRef))},A.\u0275dir=j.\u0275\u0275defineDirective({type:A,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(I,O){1&I&&j.\u0275\u0275listener("click",function(){return O.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[j.\u0275\u0275NgOnChangesFeature]}),A})(),eo=(()=>{class A{constructor(I,O,V){this.router=I,this.route=O,this.locationStrategy=V,this.commands=[],this.onChanges=new Be.xQ,this.subscription=I.events.subscribe(X=>{X instanceof gn&&this.updateTargetUrlAndHref()})}set routerLink(I){this.commands=null!=I?Array.isArray(I)?I:[I]:[]}ngOnChanges(I){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(I,O,V,X,fe){if(0!==I||O||V||X||fe||"string"==typeof this.target&&"_self"!=this.target)return!0;const Oe={skipLocationChange:Qi(this.skipLocationChange),replaceUrl:Qi(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,Oe),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Qi(this.preserveFragment)})}}return A.\u0275fac=function(I){return new(I||A)(j.\u0275\u0275directiveInject($r),j.\u0275\u0275directiveInject(Xr),j.\u0275\u0275directiveInject(m.S$))},A.\u0275dir=j.\u0275\u0275defineDirective({type:A,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(I,O){1&I&&j.\u0275\u0275listener("click",function(X){return O.onClick(X.button,X.ctrlKey,X.shiftKey,X.altKey,X.metaKey)}),2&I&&(j.\u0275\u0275hostProperty("href",O.href,j.\u0275\u0275sanitizeUrl),j.\u0275\u0275attribute("target",O.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[j.\u0275\u0275NgOnChangesFeature]}),A})();function Qi(A){return""===A||!!A}let to=(()=>{class A{constructor(I,O,V,X,fe){this.parentContexts=I,this.location=O,this.resolver=V,this.changeDetector=fe,this.activated=null,this._activatedRoute=null,this.activateEvents=new j.EventEmitter,this.deactivateEvents=new j.EventEmitter,this.name=X||Ge,I.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const I=this.parentContexts.getContext(this.name);I&&I.route&&(I.attachRef?this.attach(I.attachRef,I.route):this.activateWith(I.route,I.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const I=this.activated;return this.activated=null,this._activatedRoute=null,I}attach(I,O){this.activated=I,this._activatedRoute=O,this.location.insert(I.hostView)}deactivate(){if(this.activated){const I=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(I)}}activateWith(I,O){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=I;const fe=(O=O||this.resolver).resolveComponentFactory(I._futureSnapshot.routeConfig.component),Oe=this.parentContexts.getOrCreateContext(this.name).children,ct=new As(I,Oe,this.location.injector);this.activated=this.location.createComponent(fe,this.location.length,ct),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return A.\u0275fac=function(I){return new(I||A)(j.\u0275\u0275directiveInject(Cr),j.\u0275\u0275directiveInject(j.ViewContainerRef),j.\u0275\u0275directiveInject(j.ComponentFactoryResolver),j.\u0275\u0275injectAttribute("name"),j.\u0275\u0275directiveInject(j.ChangeDetectorRef))},A.\u0275dir=j.\u0275\u0275defineDirective({type:A,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),A})();class As{constructor(T,I,O){this.route=T,this.childContexts=I,this.parent=O}get(T,I){return T===Xr?this.route:T===Cr?this.childContexts:this.parent.get(T,I)}}class Ra{}class Mt{preload(T,I){return(0,ue.of)(null)}}let Bi=(()=>{class A{constructor(I,O,V,X,fe){this.router=I,this.injector=X,this.preloadingStrategy=fe,this.loader=new ti(O,V,wt=>I.triggerEvent(new An(wt)),wt=>I.triggerEvent(new yr(wt)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,nt.h)(I=>I instanceof gn),(0,$t.b)(()=>this.preload())).subscribe(()=>{})}preload(){const I=this.injector.get(j.NgModuleRef);return this.processRoutes(I,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(I,O){const V=[];for(const X of O)if(X.loadChildren&&!X.canLoad&&X._loadedConfig){const fe=X._loadedConfig;V.push(this.processRoutes(fe.module,fe.routes))}else X.loadChildren&&!X.canLoad?V.push(this.preloadConfig(I,X)):X.children&&V.push(this.processRoutes(I,X.children));return(0,Z.D)(V).pipe((0,Xt.J)(),(0,pt.U)(X=>{}))}preloadConfig(I,O){return this.preloadingStrategy.preload(O,()=>(O._loadedConfig?(0,ue.of)(O._loadedConfig):this.loader.load(I.injector,O)).pipe((0,rr.zg)(X=>(O._loadedConfig=X,this.processRoutes(X.module,X.routes)))))}}return A.\u0275fac=function(I){return new(I||A)(j.\u0275\u0275inject($r),j.\u0275\u0275inject(j.NgModuleFactoryLoader),j.\u0275\u0275inject(j.Compiler),j.\u0275\u0275inject(j.Injector),j.\u0275\u0275inject(Ra))},A.\u0275prov=j.\u0275\u0275defineInjectable({token:A,factory:A.\u0275fac}),A})(),as=(()=>{class A{constructor(I,O,V={}){this.router=I,this.viewportScroller=O,this.options=V,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},V.scrollPositionRestoration=V.scrollPositionRestoration||"disabled",V.anchorScrolling=V.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(I=>{I instanceof Kt?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=I.navigationTrigger,this.restoredId=I.restoredState?I.restoredState.navigationId:0):I instanceof gn&&(this.lastId=I.id,this.scheduleScrollEvent(I,this.router.parseUrl(I.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(I=>{I instanceof rt&&(I.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(I.position):I.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(I.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(I,O){this.router.triggerEvent(new rt(I,"popstate"===this.lastSource?this.store[this.restoredId]:null,O))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return A.\u0275fac=function(I){return new(I||A)(j.\u0275\u0275inject($r),j.\u0275\u0275inject(m.EM),j.\u0275\u0275inject(void 0))},A.\u0275prov=j.\u0275\u0275defineInjectable({token:A,factory:A.\u0275fac}),A})();const en=new j.InjectionToken("ROUTER_CONFIGURATION"),Bn=new j.InjectionToken("ROUTER_FORROOT_GUARD"),Bt=[m.Ye,{provide:cr,useClass:ai},{provide:$r,useFactory:function(A,T,I,O,V,X,fe,Oe={},ct,wt){const qt=new $r(null,A,T,I,O,V,X,ye(fe));return ct&&(qt.urlHandlingStrategy=ct),wt&&(qt.routeReuseStrategy=wt),function(A,T){A.errorHandler&&(T.errorHandler=A.errorHandler),A.malformedUriErrorHandler&&(T.malformedUriErrorHandler=A.malformedUriErrorHandler),A.onSameUrlNavigation&&(T.onSameUrlNavigation=A.onSameUrlNavigation),A.paramsInheritanceStrategy&&(T.paramsInheritanceStrategy=A.paramsInheritanceStrategy),A.relativeLinkResolution&&(T.relativeLinkResolution=A.relativeLinkResolution),A.urlUpdateStrategy&&(T.urlUpdateStrategy=A.urlUpdateStrategy)}(Oe,qt),Oe.enableTracing&&qt.events.subscribe(wn=>{var Or,fr;null===(Or=console.group)||void 0===Or||Or.call(console,`Router Event: ${wn.constructor.name}`),console.log(wn.toString()),console.log(wn),null===(fr=console.groupEnd)||void 0===fr||fr.call(console)}),qt},deps:[cr,Cr,m.Ye,j.Injector,j.NgModuleFactoryLoader,j.Compiler,fo,en,[class{},new j.Optional],[class{},new j.Optional]]},Cr,{provide:Xr,useFactory:function(A){return A.routerState.root},deps:[$r]},{provide:j.NgModuleFactoryLoader,useClass:j.SystemJsNgModuleLoader},Bi,Mt,class{preload(T,I){return I().pipe((0,Jt.K)(()=>(0,ue.of)(null)))}},{provide:en,useValue:{enableTracing:!1}}];function st(){return new j.NgProbeToken("Router",$r)}let _t=(()=>{class A{constructor(I,O){}static forRoot(I,O){return{ngModule:A,providers:[Bt,_a(I),{provide:Bn,useFactory:Ma,deps:[[$r,new j.Optional,new j.SkipSelf]]},{provide:en,useValue:O||{}},{provide:m.S$,useFactory:Rs,deps:[m.lw,[new j.Inject(m.mr),new j.Optional],en]},{provide:as,useFactory:$i,deps:[$r,m.EM,en]},{provide:Ra,useExisting:O&&O.preloadingStrategy?O.preloadingStrategy:Mt},{provide:j.NgProbeToken,multi:!0,useFactory:st},[Na,{provide:j.APP_INITIALIZER,multi:!0,useFactory:Fa,deps:[Na]},{provide:Ni,useFactory:ru,deps:[Na]},{provide:j.APP_BOOTSTRAP_LISTENER,multi:!0,useExisting:Ni}]]}}static forChild(I){return{ngModule:A,providers:[_a(I)]}}}return A.\u0275fac=function(I){return new(I||A)(j.\u0275\u0275inject(Bn,8),j.\u0275\u0275inject($r,8))},A.\u0275mod=j.\u0275\u0275defineNgModule({type:A}),A.\u0275inj=j.\u0275\u0275defineInjector({}),A})();function $i(A,T,I){return I.scrollOffset&&T.setOffset(I.scrollOffset),new as(A,T,I)}function Rs(A,T,I={}){return I.useHash?new m.Do(A,T):new m.b0(A,T)}function Ma(A){return"guarded"}function _a(A){return[{provide:j.ANALYZE_FOR_ENTRY_COMPONENTS,multi:!0,useValue:A},{provide:fo,multi:!0,useValue:A}]}let Na=(()=>{class A{constructor(I){this.injector=I,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Be.xQ}appInitializer(){return this.injector.get(m.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let O=null;const V=new Promise(Oe=>O=Oe),X=this.injector.get($r),fe=this.injector.get(en);return"disabled"===fe.initialNavigation?(X.setUpLocationChangeListener(),O(!0)):"enabled"===fe.initialNavigation||"enabledBlocking"===fe.initialNavigation?(X.hooks.afterPreactivation=()=>this.initNavigation?(0,ue.of)(null):(this.initNavigation=!0,O(!0),this.resultOfPreactivationDone),X.initialNavigation()):O(!0),V})}bootstrapListener(I){const O=this.injector.get(en),V=this.injector.get(Bi),X=this.injector.get(as),fe=this.injector.get($r),Oe=this.injector.get(j.ApplicationRef);I===Oe.components[0]&&(("enabledNonBlocking"===O.initialNavigation||void 0===O.initialNavigation)&&fe.initialNavigation(),V.setUpPreloading(),X.init(),fe.resetRootComponentType(Oe.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return A.\u0275fac=function(I){return new(I||A)(j.\u0275\u0275inject(j.Injector))},A.\u0275prov=j.\u0275\u0275defineInjectable({token:A,factory:A.\u0275fac}),A})();function Fa(A){return A.appInitializer.bind(A)}function ru(A){return A.bootstrapListener.bind(A)}const Ni=new j.InjectionToken("Router Initializer")},9665:(Nt,je,F)=>{"use strict";F.d(je,{u7:()=>Af,Jj:()=>Cu,IX:()=>If,my:()=>Li,xU:()=>lc,Lz:()=>wu,WA:()=>_t,F8:()=>Cf,$q:()=>nh,W:()=>ea,EK:()=>O,PU:()=>_y,l7:()=>Ms,Ky:()=>tn,Xb:()=>wn,Cf:()=>Gr,K9:()=>nu,Me:()=>fr,yq:()=>as,Wi:()=>Ym,ET:()=>gg,Ab:()=>Ty,vr:()=>by,Fc:()=>qc,hJ:()=>Qd,B$:()=>B_,at:()=>Ef,oe:()=>Iy,AK:()=>Cy,TF:()=>Zp,JU:()=>ty,ST:()=>Gc,fH:()=>zc,Ix:()=>Qc,Wu:()=>ih,Lx:()=>ug,qY:()=>ns,GL:()=>nd,QT:()=>dg,kl:()=>uI,Xk:()=>Y_,PL:()=>hg,UQ:()=>fg,zN:()=>vy,nP:()=>vg,b9:()=>gy,vh:()=>Z_,Pb:()=>Qp,L$:()=>Yp,cf:()=>mg,sc:()=>yg,Xo:()=>q_,IO:()=>rh,iE:()=>Xa,Eo:()=>qp,i3:()=>_g,Bt:()=>J_,pl:()=>Ey,Ub:()=>Rl,qK:()=>cy,TQ:()=>my,e0:()=>Q_,r7:()=>pg,Mx:()=>Zc,ar:()=>hy});var Y,m=F(1921),j=F(4762),q=F(3552),Ce=F(1773),ce=F(9870),ie="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},de={},ve=ve||{},J=ie||self;function re(){}function Z(s){var e=typeof s;return"array"==(e="object"!=e?e:s?Array.isArray(s)?"array":e:"null")||"object"==e&&"number"==typeof s.length}function ue(s){var e=typeof s;return"object"==e&&null!=s||"function"==e}var ze="closure_uid_"+(1e9*Math.random()>>>0),Xe=0;function Ie(s,e,i){return s.call.apply(s.bind,arguments)}function Te(s,e,i){if(!s)throw Error();if(2<arguments.length){var a=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,a),s.apply(e,l)}}return function(){return s.apply(e,arguments)}}function Me(s,e,i){return(Me=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ie:Te).apply(null,arguments)}function Se(s,e){var i=Array.prototype.slice.call(arguments,1);return function(){var a=i.slice();return a.push.apply(a,arguments),s.apply(this,a)}}function Be(s,e){function i(){}i.prototype=e.prototype,s.Z=e.prototype,s.prototype=new i,s.prototype.constructor=s,s.Vb=function(a,l,p){for(var C=Array(arguments.length-2),M=2;M<arguments.length;M++)C[M-2]=arguments[M];return e.prototype[l].apply(a,C)}}function nt(){this.s=this.s,this.o=this.o}var nn={};nt.prototype.s=!1,nt.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var s=function(s){return Object.prototype.hasOwnProperty.call(s,ze)&&s[ze]||(s[ze]=++Xe)}(this);delete nn[s]}},nt.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ht=Array.prototype.indexOf?function(s,e){return Array.prototype.indexOf.call(s,e,void 0)}:function(s,e){if("string"==typeof s)return"string"!=typeof e||1!=e.length?-1:s.indexOf(e,0);for(let i=0;i<s.length;i++)if(i in s&&s[i]===e)return i;return-1},Zt=Array.prototype.forEach?function(s,e,i){Array.prototype.forEach.call(s,e,i)}:function(s,e,i){const a=s.length,l="string"==typeof s?s.split(""):s;for(let p=0;p<a;p++)p in l&&e.call(i,l[p],p,s)};function Wt(s){return Array.prototype.concat.apply([],arguments)}function Lt(s){const e=s.length;if(0<e){const i=Array(e);for(let a=0;a<e;a++)i[a]=s[a];return i}return[]}function Ct(s){return/^[\s\xa0]*$/.test(s)}var Wn,rn=String.prototype.trim?function(s){return s.trim()}:function(s){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(s)[1]};function pt(s,e){return-1!=s.indexOf(e)}function nr(s,e){return s<e?-1:s>e?1:0}e:{var lr=J.navigator;if(lr){var Er=lr.userAgent;if(Er){Wn=Er;break e}}Wn=""}function Jt(s,e,i){for(const a in s)e.call(i,s[a],a,s)}function $t(s){const e={};for(const i in s)e[i]=s[i];return e}var kn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function rr(s,e){let i,a;for(let l=1;l<arguments.length;l++){for(i in a=arguments[l],a)s[i]=a[i];for(let p=0;p<kn.length;p++)i=kn[p],Object.prototype.hasOwnProperty.call(a,i)&&(s[i]=a[i])}}function Cn(s){return Cn[" "](s),s}Cn[" "]=re;var _n,s,Tr=pt(Wn,"Opera"),Xt=pt(Wn,"Trident")||pt(Wn,"MSIE"),Vn=pt(Wn,"Edge"),Kt=Vn||Xt,gn=pt(Wn,"Gecko")&&!(pt(Wn.toLowerCase(),"webkit")&&!pt(Wn,"Edge"))&&!(pt(Wn,"Trident")||pt(Wn,"MSIE"))&&!pt(Wn,"Edge"),Sn=pt(Wn.toLowerCase(),"webkit")&&!pt(Wn,"Edge");function ir(){var s=J.document;return s?s.documentMode:void 0}e:{var ot="",zn=(s=Wn,gn?/rv:([^\);]+)(\)|;)/.exec(s):Vn?/Edge\/([\d\.]+)/.exec(s):Xt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(s):Sn?/WebKit\/(\S+)/.exec(s):Tr?/(?:Version)[ \/]?(\S+)/.exec(s):void 0);if(zn&&(ot=zn?zn[1]:""),Xt){var dr=ir();if(null!=dr&&dr>parseFloat(ot)){_n=String(dr);break e}}_n=ot}var Ft={};function An(){return e=Ft,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let s=0;const e=rn(String(_n)).split("."),i=rn("9").split("."),a=Math.max(e.length,i.length);for(let C=0;0==s&&C<a;C++){var l=e[C]||"",p=i[C]||"";do{if(l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],p=/(\d*)(\D*)(.*)/.exec(p)||["","","",""],0==l[0].length&&0==p[0].length)break;s=nr(0==l[1].length?0:parseInt(l[1],10),0==p[1].length?0:parseInt(p[1],10))||nr(0==l[2].length,0==p[2].length)||nr(l[2],p[2]),l=l[3],p=p[3]}while(0==s)}return 0<=s}();var e}var $e=J.document&&Xt&&(ir()||parseInt(_n,10))||void 0,ge=function(){if(!J.addEventListener||!Object.defineProperty)return!1;var s=!1,e=Object.defineProperty({},"passive",{get:function(){s=!0}});try{J.addEventListener("test",re,e),J.removeEventListener("test",re,e)}catch(i){}return s}();function me(s,e){this.type=s,this.g=this.target=e,this.defaultPrevented=!1}function rt(s,e){if(me.call(this,s?s.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,s){var i=this.type=s.type,a=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.g=e,e=s.relatedTarget){if(gn){e:{try{Cn(e.nodeName);var l=!0;break e}catch(p){}l=!1}l||(e=null)}}else"mouseover"==i?e=s.fromElement:"mouseout"==i&&(e=s.toElement);this.relatedTarget=e,a?(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.key=s.key||"",this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType="string"==typeof s.pointerType?s.pointerType:Ge[s.pointerType]||"",this.state=s.state,this.i=s,s.defaultPrevented&&rt.Z.h.call(this)}}me.prototype.h=function(){this.defaultPrevented=!0},Be(rt,me);var Ge={2:"touch",3:"pen",4:"mouse"};rt.prototype.h=function(){rt.Z.h.call(this);var s=this.i;s.preventDefault?s.preventDefault():s.returnValue=!1};var Dt="closure_listenable_"+(1e6*Math.random()|0),lt=0;function xt(s,e,i,a,l){this.listener=s,this.proxy=null,this.src=e,this.type=i,this.capture=!!a,this.ia=l,this.key=++lt,this.ca=this.fa=!1}function mn(s){s.ca=!0,s.listener=null,s.proxy=null,s.src=null,s.ia=null}function Kn(s){this.src=s,this.g={},this.h=0}function Tn(s,e){var i=e.type;if(i in s.g){var p,a=s.g[i],l=Ht(a,e);(p=0<=l)&&Array.prototype.splice.call(a,l,1),p&&(mn(e),0==s.g[i].length&&(delete s.g[i],s.h--))}}function Yt(s,e,i,a){for(var l=0;l<s.length;++l){var p=s[l];if(!p.ca&&p.listener==e&&p.capture==!!i&&p.ia==a)return l}return-1}Kn.prototype.add=function(s,e,i,a,l){var p=s.toString();(s=this.g[p])||(s=this.g[p]=[],this.h++);var C=Yt(s,e,a,l);return-1<C?(e=s[C],i||(e.fa=!1)):((e=new xt(e,this.src,p,!!a,l)).fa=i,s.push(e)),e};var xn="closure_lm_"+(1e6*Math.random()|0),Rn={};function ye(s,e,i,a,l){if(a&&a.once)return Ze(s,e,i,a,l);if(Array.isArray(e)){for(var p=0;p<e.length;p++)ye(s,e[p],i,a,l);return null}return i=dn(i),s&&s[Dt]?s.N(e,i,ue(a)?!!a.capture:!!a,l):he(s,e,i,!1,a,l)}function he(s,e,i,a,l,p){if(!e)throw Error("Invalid event type");var C=ue(l)?!!l.capture:!!l,M=Je(s);if(M||(s[xn]=M=new Kn(s)),(i=M.add(e,i,a,C,p)).proxy)return i;if(a=function(){var e=ae;return function s(i){return e.call(s.src,s.listener,i)}}(),i.proxy=a,a.src=s,a.listener=i,s.addEventListener)ge||(l=C),void 0===l&&(l=!1),s.addEventListener(e.toString(),a,l);else if(s.attachEvent)s.attachEvent(z(e.toString()),a);else{if(!s.addListener||!s.removeListener)throw Error("addEventListener and attachEvent are unavailable.");s.addListener(a)}return i}function Ze(s,e,i,a,l){if(Array.isArray(e)){for(var p=0;p<e.length;p++)Ze(s,e[p],i,a,l);return null}return i=dn(i),s&&s[Dt]?s.O(e,i,ue(a)?!!a.capture:!!a,l):he(s,e,i,!0,a,l)}function Ue(s,e,i,a,l){if(Array.isArray(e))for(var p=0;p<e.length;p++)Ue(s,e[p],i,a,l);else a=ue(a)?!!a.capture:!!a,i=dn(i),s&&s[Dt]?(s=s.i,(e=String(e).toString())in s.g&&-1<(i=Yt(p=s.g[e],i,a,l))&&(mn(p[i]),Array.prototype.splice.call(p,i,1),0==p.length&&(delete s.g[e],s.h--))):s&&(s=Je(s))&&(e=s.g[e.toString()],s=-1,e&&(s=Yt(e,i,a,l)),(i=-1<s?e[s]:null)&&Ve(i))}function Ve(s){if("number"!=typeof s&&s&&!s.ca){var e=s.src;if(e&&e[Dt])Tn(e.i,s);else{var i=s.type,a=s.proxy;e.removeEventListener?e.removeEventListener(i,a,s.capture):e.detachEvent?e.detachEvent(z(i),a):e.addListener&&e.removeListener&&e.removeListener(a),(i=Je(e))?(Tn(i,s),0==i.h&&(i.src=null,e[xn]=null)):mn(s)}}}function z(s){return s in Rn?Rn[s]:Rn[s]="on"+s}function ae(s,e){if(s.ca)s=!0;else{e=new rt(e,this);var i=s.listener,a=s.ia||s.src;s.fa&&Ve(s),s=i.call(a,e)}return s}function Je(s){return(s=s[xn])instanceof Kn?s:null}var yt="__closure_events_fn_"+(1e9*Math.random()>>>0);function dn(s){return"function"==typeof s?s:(s[yt]||(s[yt]=function(e){return s.handleEvent(e)}),s[yt])}function jt(){nt.call(this),this.i=new Kn(this),this.P=this,this.I=null}function pn(s,e){var i,a=s.I;if(a)for(i=[];a;a=a.I)i.push(a);if(s=s.P,a=e.type||e,"string"==typeof e)e=new me(e,s);else if(e instanceof me)e.target=e.target||s;else{var l=e;rr(e=new me(a,s),l)}if(l=!0,i)for(var p=i.length-1;0<=p;p--){var C=e.g=i[p];l=Ar(C,a,!0,e)&&l}if(l=Ar(C=e.g=s,a,!0,e)&&l,l=Ar(C,a,!1,e)&&l,i)for(p=0;p<i.length;p++)l=Ar(C=e.g=i[p],a,!1,e)&&l}function Ar(s,e,i,a){if(!(e=s.i.g[String(e)]))return!0;e=e.concat();for(var l=!0,p=0;p<e.length;++p){var C=e[p];if(C&&!C.ca&&C.capture==i){var M=C.listener,W=C.ia||C.src;C.fa&&Tn(s.i,C),l=!1!==M.call(W,a)&&l}}return l&&!a.defaultPrevented}Be(jt,nt),jt.prototype[Dt]=!0,jt.prototype.removeEventListener=function(s,e,i,a){Ue(this,s,e,i,a)},jt.prototype.M=function(){if(jt.Z.M.call(this),this.i){var e,s=this.i;for(e in s.g){for(var i=s.g[e],a=0;a<i.length;a++)mn(i[a]);delete s.g[e],s.h--}}this.I=null},jt.prototype.N=function(s,e,i,a){return this.i.add(String(s),e,!1,i,a)},jt.prototype.O=function(s,e,i,a){return this.i.add(String(s),e,!0,i,a)};var Rr=J.JSON.stringify;function Fr(){var s=Lr;let e=null;return s.g&&(e=s.g,s.g=s.g.next,s.g||(s.h=null),e.next=null),e}var cr,Jr=new class{constructor(s,e){this.i=s,this.j=e,this.h=0,this.g=null}get(){let s;return 0<this.h?(this.h--,s=this.g,this.g=s.next,s.next=null):s=this.i(),s}}(()=>new Ki,s=>s.reset());class Ki{constructor(){this.next=this.g=this.h=null}set(e,i){this.h=e,this.g=i,this.next=null}reset(){this.next=this.g=this.h=null}}function Dr(s){J.setTimeout(()=>{throw s},0)}function Mr(s,e){cr||function(){var s=J.Promise.resolve(void 0);cr=function(){s.then(er)}}(),Ur||(cr(),Ur=!0),Lr.add(s,e)}var Ur=!1,Lr=new class{constructor(){this.h=this.g=null}add(e,i){const a=Jr.get();a.set(e,i),this.h?this.h.next=a:this.g=a,this.h=a}};function er(){for(var s;s=Fr();){try{s.h.call(s.g)}catch(i){Dr(i)}var e=Jr;e.j(s),100>e.h&&(e.h++,s.next=e.g,e.g=s)}Ur=!1}function St(s,e){jt.call(this),this.h=s||1,this.g=e||J,this.j=Me(this.kb,this),this.l=Date.now()}function hn(s){s.da=!1,s.S&&(s.g.clearTimeout(s.S),s.S=null)}function Gn(s,e,i){if("function"==typeof s)i&&(s=Me(s,i));else{if(!s||"function"!=typeof s.handleEvent)throw Error("Invalid listener argument");s=Me(s.handleEvent,s)}return 2147483647<Number(e)?-1:J.setTimeout(s,e||0)}function ri(s){s.g=Gn(()=>{s.g=null,s.i&&(s.i=!1,ri(s))},s.j);const e=s.h;s.h=null,s.m.apply(null,e)}Be(St,jt),(Y=St.prototype).da=!1,Y.S=null,Y.kb=function(){if(this.da){var s=Date.now()-this.l;0<s&&s<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-s):(this.S&&(this.g.clearTimeout(this.S),this.S=null),pn(this,"tick"),this.da&&(hn(this),this.start()))}},Y.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Y.M=function(){St.Z.M.call(this),hn(this),delete this.g};class Ai extends nt{constructor(e,i){super(),this.m=e,this.j=i,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ri(this)}M(){super.M(),this.g&&(J.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sr(s){nt.call(this),this.h=s,this.g={}}Be(Sr,nt);var jr=[];function sr(s,e,i,a){Array.isArray(i)||(i&&(jr[0]=i.toString()),i=jr);for(var l=0;l<i.length;l++){var p=ye(e,i[l],a||s.handleEvent,!1,s.h||s);if(!p)break;s.g[p.key]=p}}function ui(s){Jt(s.g,function(e,i){this.g.hasOwnProperty(i)&&Ve(e)},s),s.g={}}function Gi(){this.g=!0}function Ae(s,e,i,a){s.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(s,e){if(!s.g)return e;if(!e)return null;try{var i=JSON.parse(e);if(i)for(s=0;s<i.length;s++)if(Array.isArray(i[s])){var a=i[s];if(!(2>a.length)){var l=a[1];if(Array.isArray(l)&&!(1>l.length)){var p=l[0];if("noop"!=p&&"stop"!=p&&"close"!=p)for(var C=1;C<l.length;C++)l[C]=""}}}return Rr(i)}catch(M){return e}}(s,i)+(a?" "+a:"")})}Sr.prototype.M=function(){Sr.Z.M.call(this),ui(this)},Sr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Gi.prototype.Aa=function(){this.g=!1},Gi.prototype.info=function(){};var at={},on=null;function yn(){return on=on||new jt}function Un(s){me.call(this,at.Ma,s)}function an(s){const e=yn();pn(e,new Un(e,s))}function zi(s,e){me.call(this,at.STAT_EVENT,s),this.stat=e}function wr(s){const e=yn();pn(e,new zi(e,s))}function rs(s,e){me.call(this,at.Na,s),this.size=e}function Fs(s,e){if("function"!=typeof s)throw Error("Fn must not be null and must be a function");return J.setTimeout(function(){s()},e)}at.Ma="serverreachability",Be(Un,me),at.STAT_EVENT="statevent",Be(zi,me),at.Na="timingevent",Be(rs,me);var Xr={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},is={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Vi(){}function Zs(){}Vi.prototype.h=null;var Ri,or={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function gr(){me.call(this,"d")}function gs(){me.call(this,"c")}function Ui(){}function li(s,e,i,a){this.l=s,this.j=e,this.m=i,this.X=a||1,this.V=new Sr(this),this.P=Ls,this.W=new St(s=Kt?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new wi}function wi(){this.i=null,this.g="",this.h=!1}Be(gr,me),Be(gs,me),Be(Ui,Vi),Ui.prototype.g=function(){return new XMLHttpRequest},Ui.prototype.i=function(){return{}},Ri=new Ui;var Ls=45e3,Qs={},Pe={};function xe(s,e,i){s.K=1,s.v=Zi(ci(e)),s.s=i,s.U=!0,qe(s,null)}function qe(s,e){s.F=Date.now(),Zn(s),s.A=ci(s.v);var i=s.A,a=s.X;Array.isArray(a)||(a=[String(a)]),w(i.h,"t",a),s.C=0,i=s.l.H,s.h=new wi,s.g=ti(s.l,i?e:null,!s.s),0<s.O&&(s.L=new Ai(Me(s.Ia,s,s.g),s.O)),sr(s.V,s.g,"readystatechange",s.gb),e=s.H?$t(s.H):{},s.s?(s.u||(s.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",s.g.ea(s.A,s.u,s.s,e)):(s.u="GET",s.g.ea(s.A,s.u,null,e)),an(1),function(s,e,i,a,l,p){s.info(function(){if(s.g)if(p)for(var C="",M=p.split("&"),W=0;W<M.length;W++){var te=M[W].split("=");if(1<te.length){var Ee=te[0];te=te[1];var Ne=Ee.split("_");C=2<=Ne.length&&"type"==Ne[1]?C+(Ee+"=")+te+"&":C+(Ee+"=redacted&")}}else C=null;else C=p;return"XMLHTTP REQ ("+a+") [attempt "+l+"]: "+e+"\n"+i+"\n"+C})}(s.j,s.u,s.A,s.m,s.X,s.s)}function gt(s){return!!s.g&&"GET"==s.u&&2!=s.K&&s.l.Ba}function Tt(s,e,i){let l,a=!0;for(;!s.I&&s.C<i.length;){if(l=Gt(s,i),l==Pe){4==e&&(s.o=4,wr(14),a=!1),Ae(s.j,s.m,null,"[Incomplete Response]");break}if(l==Qs){s.o=4,wr(15),Ae(s.j,s.m,i,"[Invalid Chunk]"),a=!1;break}Ae(s.j,s.m,l,null),co(s,l)}gt(s)&&l!=Pe&&l!=Qs&&(s.h.g="",s.C=0),4!=e||0!=i.length||s.h.h||(s.o=1,wr(16),a=!1),s.i=s.i&&a,a?0<i.length&&!s.aa&&(s.aa=!0,(e=s.l).g==s&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+i.length),Is(e),e.L=!0,wr(11))):(Ae(s.j,s.m,i,"[Invalid Chunked Response]"),cs(s),hi(s))}function Gt(s,e){var i=s.C,a=e.indexOf("\n",i);return-1==a?Pe:(i=Number(e.substring(i,a)),isNaN(i)?Qs:(a+=1)+i>e.length?Pe:(e=e.substr(a,i),s.C=a+i,e))}function Zn(s){s.Y=Date.now()+s.P,Vr(s,s.P)}function Vr(s,e){if(null!=s.B)throw Error("WatchDog timer not null");s.B=Fs(Me(s.eb,s),e)}function On(s){s.B&&(J.clearTimeout(s.B),s.B=null)}function hi(s){0==s.l.G||s.I||Ss(s.l,s)}function cs(s){On(s);var e=s.L;e&&"function"==typeof e.na&&e.na(),s.L=null,hn(s.W),ui(s.V),s.g&&(e=s.g,s.g=null,e.abort(),e.na())}function co(s,e){try{var i=s.l;if(0!=i.G&&(i.g==s||Nn(i.i,s)))if(i.I=s.N,!s.J&&Nn(i.i,s)&&3==i.G){try{var a=i.Ca.g.parse(e)}catch(te){a=null}if(Array.isArray(a)&&3==a.length){var l=a;if(0==l[0])e:if(i.u)i.ta=l[1],0<i.ta-i.U&&37500>l[2]&&i.N&&0==i.A&&!i.v&&(i.v=Fs(Me(i.ab,i),6e3));else{if(i.g){if(!(i.g.F+3e3<s.F))break e;yi(i),zt(i)}mi(i),wr(18)}if(1>=Yn(i.i)&&i.ka){try{i.ka()}catch(te){}i.ka=void 0}}else fi(i,11)}else if((s.J||i.g==s)&&yi(i),!Ct(e))for(l=i.Ca.g.parse(e),e=0;e<l.length;e++){let te=l[e];if(i.U=te[0],te=te[1],2==i.G)if("c"==te[0]){i.J=te[1],i.la=te[2];const Ee=te[3];null!=Ee&&(i.ma=Ee,i.h.info("VER="+i.ma));const Ne=te[4];null!=Ne&&(i.za=Ne,i.h.info("SVER="+i.za));const it=te[5];null!=it&&"number"==typeof it&&0<it&&(i.K=a=1.5*it,i.h.info("backChannelRequestTimeoutMs_="+a)),a=i;const Et=s.g;if(Et){const Rt=Et.g?Et.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Rt){var p=a.i;!p.g&&(pt(Rt,"spdy")||pt(Rt,"quic")||pt(Rt,"h2"))&&(p.j=p.l,p.g=new Set,p.h&&(hr(p,p.h),p.h=null))}if(a.D){const Dn=Et.g?Et.g.getResponseHeader("X-HTTP-Session-Id"):null;Dn&&(a.sa=Dn,Pn(a.F,a.D,Dn))}}i.G=3,i.j&&i.j.xa(),i.$&&(i.O=Date.now()-s.F,i.h.info("Handshake RTT: "+i.O+"ms"));var C=s;if((a=i).oa=fo(a,a.H?a.la:null,a.W),C.J){Ir(a.i,C);var M=C,W=a.K;W&&M.setTimeout(W),M.B&&(On(M),Zn(M)),a.g=C}else Ci(a);0<i.l.length&&vn(i)}else"stop"!=te[0]&&"close"!=te[0]||fi(i,7);else 3==i.G&&("stop"==te[0]||"close"==te[0]?"stop"==te[0]?fi(i,7):bt(i):"noop"!=te[0]&&i.j&&i.j.wa(te),i.A=0)}an(4)}catch(te){}}function wo(s,e){if(s.forEach&&"function"==typeof s.forEach)s.forEach(e,void 0);else if(Z(s)||"string"==typeof s)Zt(s,e,void 0);else{if(s.T&&"function"==typeof s.T)var i=s.T();else if(s.R&&"function"==typeof s.R)i=void 0;else if(Z(s)||"string"==typeof s){i=[];for(var a=s.length,l=0;l<a;l++)i.push(l)}else for(l in i=[],a=0,s)i[a++]=l;l=(a=function(s){if(s.R&&"function"==typeof s.R)return s.R();if("string"==typeof s)return s.split("");if(Z(s)){for(var e=[],i=s.length,a=0;a<i;a++)e.push(s[a]);return e}for(a in e=[],i=0,s)e[i++]=s[a];return e}(s)).length;for(var p=0;p<l;p++)e.call(void 0,a[p],i&&i[p],s)}}function ss(s,e){this.h={},this.g=[],this.i=0;var i=arguments.length;if(1<i){if(i%2)throw Error("Uneven number of arguments");for(var a=0;a<i;a+=2)this.set(arguments[a],arguments[a+1])}else if(s)if(s instanceof ss)for(i=s.T(),a=0;a<i.length;a++)this.set(i[a],s.get(i[a]));else for(a in s)this.set(a,s[a])}function ms(s){if(s.i!=s.g.length){for(var e=0,i=0;e<s.g.length;){var a=s.g[e];qi(s.h,a)&&(s.g[i++]=a),e++}s.g.length=i}if(s.i!=s.g.length){var l={};for(i=e=0;e<s.g.length;)qi(l,a=s.g[e])||(s.g[i++]=a,l[a]=1),e++;s.g.length=i}}function qi(s,e){return Object.prototype.hasOwnProperty.call(s,e)}(Y=li.prototype).setTimeout=function(s){this.P=s},Y.gb=function(s){s=s.target;const e=this.L;e&&3==H(s)?e.l():this.Ia(s)},Y.Ia=function(s){try{if(s==this.g)e:{const Ee=H(this.g);var e=this.g.Da();const Ne=this.g.ba();if(!(3>Ee)&&(3!=Ee||Kt||this.g&&(this.h.h||this.g.ga()||se(this.g)))){this.I||4!=Ee||7==e||an(8==e||0>=Ne?3:2),On(this);var i=this.g.ba();this.N=i;t:if(gt(this)){var a=se(this.g);s="";var l=a.length,p=4==H(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){cs(this),hi(this);var C="";break t}this.h.i=new J.TextDecoder}for(e=0;e<l;e++)this.h.h=!0,s+=this.h.i.decode(a[e],{stream:p&&e==l-1});a.splice(0,l),this.h.g+=s,this.C=0,C=this.h.g}else C=this.g.ga();if(this.i=200==i,function(s,e,i,a,l,p,C){s.info(function(){return"XMLHTTP RESP ("+a+") [ attempt "+l+"]: "+e+"\n"+i+"\n"+p+" "+C})}(this.j,this.u,this.A,this.m,this.X,Ee,i),this.i){if(this.$&&!this.J){t:{if(this.g){var M,W=this.g;if((M=W.g?W.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ct(M)){var te=M;break t}}te=null}if(!(i=te)){this.i=!1,this.o=3,wr(12),cs(this),hi(this);break e}Ae(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,co(this,i)}this.U?(Tt(this,Ee,C),Kt&&this.i&&3==Ee&&(sr(this.V,this.W,"tick",this.fb),this.W.start())):(Ae(this.j,this.m,C,null),co(this,C)),4==Ee&&cs(this),this.i&&!this.I&&(4==Ee?Ss(this.l,this):(this.i=!1,Zn(this)))}else 400==i&&0<C.indexOf("Unknown SID")?(this.o=3,wr(12)):(this.o=0,wr(13)),cs(this),hi(this)}}}catch(Ee){}},Y.fb=function(){if(this.g){var s=H(this.g),e=this.g.ga();this.C<e.length&&(On(this),Tt(this,s,e),this.i&&4!=s&&Zn(this))}},Y.cancel=function(){this.I=!0,cs(this)},Y.eb=function(){this.B=null;const s=Date.now();0<=s-this.Y?(function(s,e){s.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(an(3),wr(17)),cs(this),this.o=2,hi(this)):Vr(this,this.Y-s)},(Y=ss.prototype).R=function(){ms(this);for(var s=[],e=0;e<this.g.length;e++)s.push(this.h[this.g[e]]);return s},Y.T=function(){return ms(this),this.g.concat()},Y.get=function(s,e){return qi(this.h,s)?this.h[s]:e},Y.set=function(s,e){qi(this.h,s)||(this.i++,this.g.push(s)),this.h[s]=e},Y.forEach=function(s,e){for(var i=this.T(),a=0;a<i.length;a++){var l=i[a],p=this.get(l);s.call(e,p,l,this)}};var Vs=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ys(s,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,s instanceof ys){this.g=void 0!==e?e:s.g,_s(this,s.j),this.s=s.s,ii(this,s.i),pi(this,s.m),this.l=s.l,e=s.h;var i=new gi;i.i=e.i,e.g&&(i.g=new ss(e.g),i.h=e.h),ya(this,i),this.o=s.o}else s&&(i=String(s).match(Vs))?(this.g=!!e,_s(this,i[1]||"",!0),this.s=os(i[2]||""),ii(this,i[3]||"",!0),pi(this,i[4]),this.l=os(i[5]||"",!0),ya(this,i[6]||"",!0),this.o=os(i[7]||"")):(this.g=!!e,this.h=new gi(null,this.g))}function ci(s){return new ys(s)}function _s(s,e,i){s.j=i?os(e,!0):e,s.j&&(s.j=s.j.replace(/:$/,""))}function ii(s,e,i){s.i=i?os(e,!0):e}function pi(s,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);s.m=e}else s.m=null}function ya(s,e,i){e instanceof gi?(s.h=e,function(s,e){e&&!s.j&&(P(s),s.i=null,s.g.forEach(function(i,a){var l=a.toLowerCase();a!=l&&(Q(this,a),w(this,l,i))},s)),s.j=e}(s.h,s.g)):(i||(e=vs(e,Us)),s.h=new gi(e,s.g))}function Pn(s,e,i){s.h.set(e,i)}function Zi(s){return Pn(s,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),s}function os(s,e){return s?e?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function vs(s,e,i){return"string"==typeof s?(s=encodeURI(s).replace(e,ei),i&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function ei(s){return"%"+((s=s.charCodeAt(0))>>4&15).toString(16)+(15&s).toString(16)}ys.prototype.toString=function(){var s=[],e=this.j;e&&s.push(vs(e,Xs,!0),":");var i=this.i;return(i||"file"==e)&&(s.push("//"),(e=this.s)&&s.push(vs(e,Xs,!0),"@"),s.push(encodeURIComponent(String(i)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(i=this.m)&&s.push(":",String(i))),(i=this.l)&&(this.i&&"/"!=i.charAt(0)&&s.push("/"),s.push(vs(i,"/"==i.charAt(0)?bo:na,!0))),(i=this.h.toString())&&s.push("?",i),(i=this.o)&&s.push("#",vs(i,ds)),s.join("")};var Xs=/[#\/\?@]/g,na=/[#\?:]/g,bo=/[#\?]/g,Us=/[#\?@]/g,ds=/#/g;function gi(s,e){this.h=this.g=null,this.i=s||null,this.j=!!e}function P(s){s.g||(s.g=new ss,s.h=0,s.i&&function(s,e){if(s){s=s.split("&");for(var i=0;i<s.length;i++){var a=s[i].indexOf("="),l=null;if(0<=a){var p=s[i].substring(0,a);l=s[i].substring(a+1)}else p=s[i];e(p,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(s.i,function(e,i){s.add(decodeURIComponent(e.replace(/\+/g," ")),i)}))}function Q(s,e){P(s),e=b(s,e),qi(s.g.h,e)&&(s.i=null,s.h-=s.g.get(e).length,qi((s=s.g).h,e)&&(delete s.h[e],s.i--,s.g.length>2*s.i&&ms(s)))}function k(s,e){return P(s),e=b(s,e),qi(s.g.h,e)}function w(s,e,i){Q(s,e),0<i.length&&(s.i=null,s.g.set(b(s,e),Lt(i)),s.h+=i.length)}function b(s,e){return e=String(e),s.j&&(e=e.toLowerCase()),e}function Fe(s){this.l=s||vt,s=J.PerformanceNavigationTiming?0<(s=J.performance.getEntriesByType("navigation")).length&&("hq"==s[0].nextHopProtocol||"h2"==s[0].nextHopProtocol):!!(J.g&&J.g.Ea&&J.g.Ea()&&J.g.Ea().Zb),this.j=s?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Y=gi.prototype).add=function(s,e){P(this),this.i=null,s=b(this,s);var i=this.g.get(s);return i||this.g.set(s,i=[]),i.push(e),this.h+=1,this},Y.forEach=function(s,e){P(this),this.g.forEach(function(i,a){Zt(i,function(l){s.call(e,l,a,this)},this)},this)},Y.T=function(){P(this);for(var s=this.g.R(),e=this.g.T(),i=[],a=0;a<e.length;a++)for(var l=s[a],p=0;p<l.length;p++)i.push(e[a]);return i},Y.R=function(s){P(this);var e=[];if("string"==typeof s)k(this,s)&&(e=Wt(e,this.g.get(b(this,s))));else{s=this.g.R();for(var i=0;i<s.length;i++)e=Wt(e,s[i])}return e},Y.set=function(s,e){return P(this),this.i=null,k(this,s=b(this,s))&&(this.h-=this.g.get(s).length),this.g.set(s,[e]),this.h+=1,this},Y.get=function(s,e){return s&&0<(s=this.R(s)).length?String(s[0]):e},Y.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var s=[],e=this.g.T(),i=0;i<e.length;i++){var a=e[i],l=encodeURIComponent(String(a));a=this.R(a);for(var p=0;p<a.length;p++){var C=l;""!==a[p]&&(C+="="+encodeURIComponent(String(a[p]))),s.push(C)}}return this.i=s.join("&")};var vt=10;function un(s){return!!s.h||!!s.g&&s.g.size>=s.j}function Yn(s){return s.h?1:s.g?s.g.size:0}function Nn(s,e){return s.h?s.h==e:!!s.g&&s.g.has(e)}function hr(s,e){s.g?s.g.add(e):s.h=e}function Ir(s,e){s.h&&s.h==e?s.h=null:s.g&&s.g.has(e)&&s.g.delete(e)}function di(s){if(null!=s.h)return s.i.concat(s.h.D);if(null!=s.g&&0!==s.g.size){let e=s.i;for(const i of s.g.values())e=e.concat(i.D);return e}return Lt(s.i)}function Cs(){}function Nr(){this.g=new Cs}function bs(s,e,i){const a=i||"";try{wo(s,function(l,p){let C=l;ue(l)&&(C=Rr(l)),e.push(a+p+"="+encodeURIComponent(C))})}catch(l){throw e.push(a+"type="+encodeURIComponent("_badmap")),l}}function In(s,e,i,a,l){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,l(a)}catch(p){}}function Es(s){this.l=s.$b||null,this.j=s.ib||!1}function ko(s,e){jt.call(this),this.D=s,this.u=e,this.m=void 0,this.readyState=Go,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Fe.prototype.cancel=function(){if(this.i=di(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const s of this.g.values())s.cancel();this.g.clear()}},Cs.prototype.stringify=function(s){return J.JSON.stringify(s,void 0)},Cs.prototype.parse=function(s){return J.JSON.parse(s,void 0)},Be(Es,Vi),Es.prototype.g=function(){return new ko(this.l,this.j)},Es.prototype.i=function(s){return function(){return s}}({}),Be(ko,jt);var Go=0;function ra(s){s.j.read().then(s.Sa.bind(s)).catch(s.ha.bind(s))}function ho(s){s.readyState=4,s.l=null,s.j=null,s.A=null,Fo(s)}function Fo(s){s.onreadystatechange&&s.onreadystatechange.call(s)}(Y=ko.prototype).open=function(s,e){if(this.readyState!=Go)throw this.abort(),Error("Error reopening a connection");this.C=s,this.B=e,this.readyState=1,Fo(this)},Y.send=function(s){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};s&&(e.body=s),(this.D||J).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Y.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ho(this)),this.readyState=Go},Y.Va=function(s){if(this.g&&(this.l=s,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=s.headers,this.readyState=2,Fo(this)),this.g&&(this.readyState=3,Fo(this),this.g)))if("arraybuffer"===this.responseType)s.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==J.ReadableStream&&"body"in s){if(this.j=s.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ra(this)}else s.text().then(this.Ua.bind(this),this.ha.bind(this))},Y.Sa=function(s){if(this.g){if(this.u&&s.value)this.response.push(s.value);else if(!this.u){var e=s.value?s.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!s.done}))&&(this.response=this.responseText+=e)}s.done?ho(this):Fo(this),3==this.readyState&&ra(this)}},Y.Ua=function(s){this.g&&(this.response=this.responseText=s,ho(this))},Y.Ta=function(s){this.g&&(this.response=s,ho(this))},Y.ha=function(){this.g&&ho(this)},Y.setRequestHeader=function(s,e){this.v.append(s,e)},Y.getResponseHeader=function(s){return this.h&&this.h.get(s.toLowerCase())||""},Y.getAllResponseHeaders=function(){if(!this.h)return"";const s=[],e=this.h.entries();for(var i=e.next();!i.done;)s.push((i=i.value)[0]+": "+i[1]),i=e.next();return s.join("\r\n")},Object.defineProperty(ko.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(s){this.m=s?"include":"same-origin"}});var To=J.JSON.parse;function ht(s){jt.call(this),this.headers=new ss,this.u=s||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Hn,this.K=this.L=!1}Be(ht,jt);var Hn="",Sa=/^https?$/i,si=["POST","PUT"];function Vo(s){return"content-type"==s.toLowerCase()}function Ds(s,e){s.h=!1,s.g&&(s.l=!0,s.g.abort(),s.l=!1),s.j=e,s.m=5,K(s),v(s)}function K(s){s.D||(s.D=!0,pn(s,"complete"),pn(s,"error"))}function _(s){if(s.h&&void 0!==ve&&(!s.C[1]||4!=H(s)||2!=s.ba()))if(s.v&&4==H(s))Gn(s.Fa,0,s);else if(pn(s,"readystatechange"),4==H(s)){s.h=!1;try{const M=s.ba();e:switch(M){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var i;if(!(i=e)){var a;if(a=0===M){var l=String(s.H).match(Vs)[1]||null;if(!l&&J.self&&J.self.location){var p=J.self.location.protocol;l=p.substr(0,p.length-1)}a=!Sa.test(l?l.toLowerCase():"")}i=a}if(i)pn(s,"complete"),pn(s,"success");else{s.m=6;try{var C=2<H(s)?s.g.statusText:""}catch(W){C=""}s.j=C+" ["+s.ba()+"]",K(s)}}finally{v(s)}}}function v(s,e){if(s.g){R(s);const i=s.g,a=s.C[0]?re:null;s.g=null,s.C=null,e||pn(s,"ready");try{i.onreadystatechange=a}catch(l){}}}function R(s){s.g&&s.K&&(s.g.ontimeout=null),s.A&&(J.clearTimeout(s.A),s.A=null)}function H(s){return s.g?s.g.readyState:0}function se(s){try{if(!s.g)return null;if("response"in s.g)return s.g.response;switch(s.J){case Hn:case"text":return s.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in s.g)return s.g.mozResponseArrayBuffer}return null}catch(e){return null}}function we(s,e,i){e:{for(a in i){var a=!1;break e}a=!0}a||(i=function(s){let e="";return Jt(s,function(i,a){e+=a,e+=":",e+=i,e+="\r\n"}),e}(i),"string"==typeof s?null!=i&&encodeURIComponent(String(i)):Pn(s,e,i))}function He(s,e,i){return i&&i.internalChannelParams&&i.internalChannelParams[s]||e}function dt(s){this.za=0,this.l=[],this.h=new Gi,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=He("failFast",!1,s),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=He("baseRetryDelayMs",5e3,s),this.$a=He("retryDelaySeedMs",1e4,s),this.Ya=He("forwardChannelMaxRetries",2,s),this.ra=He("forwardChannelRequestTimeoutMs",2e4,s),this.qa=s&&s.xmlHttpFactory||void 0,this.Ba=s&&s.Yb||!1,this.K=void 0,this.H=s&&s.supportsCrossDomainXhr||!1,this.J="",this.i=new Fe(s&&s.concurrentRequestLimit),this.Ca=new Nr,this.ja=s&&s.fastHandshake||!1,this.Ra=s&&s.Wb||!1,s&&s.Aa&&this.h.Aa(),s&&s.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&s&&s.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!s||!1!==s.Xb}function bt(s){if(jn(s),3==s.G){var e=s.V++,i=ci(s.F);Pn(i,"SID",s.J),Pn(i,"RID",e),Pn(i,"TYPE","terminate"),xr(s,i),(e=new li(s,s.h,e,void 0)).K=2,e.v=Zi(ci(i)),i=!1,J.navigator&&J.navigator.sendBeacon&&(i=J.navigator.sendBeacon(e.v.toString(),"")),!i&&J.Image&&((new Image).src=e.v,i=!0),i||(e.g=ti(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Zn(e)}Aa(s)}function zt(s){s.g&&(Is(s),s.g.cancel(),s.g=null)}function jn(s){zt(s),s.u&&(J.clearTimeout(s.u),s.u=null),yi(s),s.i.cancel(),s.m&&("number"==typeof s.m&&J.clearTimeout(s.m),s.m=null)}function Jn(s,e){s.l.push(new class{constructor(s,e){this.h=s,this.g=e}}(s.Za++,e)),3==s.G&&vn(s)}function vn(s){un(s.i)||s.m||(s.m=!0,Mr(s.Ha,s),s.C=0)}function Xn(s,e){var i;i=e?e.m:s.V++;const a=ci(s.F);Pn(a,"SID",s.J),Pn(a,"RID",i),Pn(a,"AID",s.U),xr(s,a),s.o&&s.s&&we(a,s.o,s.s),i=new li(s,s.h,i,s.C+1),null===s.o&&(i.H=s.s),e&&(s.l=e.D.concat(s.l)),e=Zr(s,i,1e3),i.setTimeout(Math.round(.5*s.ra)+Math.round(.5*s.ra*Math.random())),hr(s.i,i),xe(i,a,e)}function xr(s,e){s.j&&wo({},function(i,a){Pn(e,a,i)})}function Zr(s,e,i){i=Math.min(s.l.length,i);var a=s.j?Me(s.j.Oa,s.j,s):null;e:{var l=s.l;let p=-1;for(;;){const C=["count="+i];-1==p?0<i?(p=l[0].h,C.push("ofs="+p)):p=0:C.push("ofs="+p);let M=!0;for(let W=0;W<i;W++){let te=l[W].h;const Ee=l[W].g;if(te-=p,0>te)p=Math.max(0,l[W].h-100),M=!1;else try{bs(Ee,C,"req"+te+"_")}catch(Ne){a&&a(Ee)}}if(M){a=C.join("&");break e}}}return s=s.l.splice(0,i),e.D=s,a}function Ci(s){s.g||s.u||(s.Y=1,Mr(s.Ga,s),s.A=0)}function mi(s){return!(s.g||s.u||3<=s.A||(s.Y++,s.u=Fs(Me(s.Ga,s),Bs(s,s.A)),s.A++,0))}function Is(s){null!=s.B&&(J.clearTimeout(s.B),s.B=null)}function js(s){s.g=new li(s,s.h,"rpc",s.Y),null===s.o&&(s.g.H=s.s),s.g.O=0;var e=ci(s.oa);Pn(e,"RID","rpc"),Pn(e,"SID",s.J),Pn(e,"CI",s.N?"0":"1"),Pn(e,"AID",s.U),xr(s,e),Pn(e,"TYPE","xmlhttp"),s.o&&s.s&&we(e,s.o,s.s),s.K&&s.g.setTimeout(s.K);var i=s.g;s=s.la,i.K=1,i.v=Zi(ci(e)),i.s=null,i.U=!0,qe(i,s)}function yi(s){null!=s.v&&(J.clearTimeout(s.v),s.v=null)}function Ss(s,e){var i=null;if(s.g==e){yi(s),Is(s),s.g=null;var a=2}else{if(!Nn(s.i,e))return;i=e.D,Ir(s.i,e),a=1}if(s.I=e.N,0!=s.G)if(e.i)if(1==a){i=e.s?e.s.length:0,e=Date.now()-e.F;var l=s.C;pn(a=yn(),new rs(a,i,e,l)),vn(s)}else Ci(s);else if(3==(l=e.o)||0==l&&0<s.I||!(1==a&&function(s,e){return!(Yn(s.i)>=s.i.j-(s.m?1:0)||(s.m?(s.l=e.D.concat(s.l),0):1==s.G||2==s.G||s.C>=(s.Xa?0:s.Ya)||(s.m=Fs(Me(s.Ha,s,e),Bs(s,s.C)),s.C++,0)))}(s,e)||2==a&&mi(s)))switch(i&&0<i.length&&(e=s.i,e.i=e.i.concat(i)),l){case 1:fi(s,5);break;case 4:fi(s,10);break;case 3:fi(s,6);break;default:fi(s,2)}}function Bs(s,e){let i=s.Pa+Math.floor(Math.random()*s.$a);return s.j||(i*=2),i*e}function fi(s,e){if(s.h.info("Error code "+e),2==e){var i=null;s.j&&(i=null);var a=Me(s.jb,s);i||(i=new ys("//www.google.com/images/cleardot.gif"),J.location&&"http"==J.location.protocol||_s(i,"https"),Zi(i)),function(s,e){const i=new Gi;if(J.Image){const a=new Image;a.onload=Se(In,i,a,"TestLoadImage: loaded",!0,e),a.onerror=Se(In,i,a,"TestLoadImage: error",!1,e),a.onabort=Se(In,i,a,"TestLoadImage: abort",!1,e),a.ontimeout=Se(In,i,a,"TestLoadImage: timeout",!1,e),J.setTimeout(function(){a.ontimeout&&a.ontimeout()},1e4),a.src=s}else e(!1)}(i.toString(),a)}else wr(2);s.G=0,s.j&&s.j.va(e),Aa(s),jn(s)}function Aa(s){s.G=0,s.I=-1,s.j&&((0!=di(s.i).length||0!=s.l.length)&&(s.i.i.length=0,Lt(s.l),s.l.length=0),s.j.ua())}function fo(s,e,i){let a=function(s){return s instanceof ys?ci(s):new ys(s,void 0)}(i);if(""!=a.i)e&&ii(a,e+"."+a.i),pi(a,a.m);else{const l=J.location;a=function(s,e,i,a){var l=new ys(null,void 0);return s&&_s(l,s),e&&ii(l,e),i&&pi(l,i),a&&(l.l=a),l}(l.protocol,e?e+"."+l.hostname:l.hostname,+l.port,i)}return s.aa&&Jt(s.aa,function(l,p){Pn(a,p,l)}),i=s.sa,(e=s.D)&&i&&Pn(a,e,i),Pn(a,"VER",s.ma),xr(s,a),a}function ti(s,e,i){if(e&&!s.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ht(i&&s.Ba&&!s.qa?new Es({ib:!0}):s.qa)).L=s.H,e}function Do(){}function Cr(){if(Xt&&!(10<=Number($e)))throw Error("Environmental error: no available transport.")}function Vt(s,e){jt.call(this),this.g=new dt(e),this.l=s,this.h=e&&e.messageUrlParams||null,s=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(s?s["X-Client-Protocol"]="webchannel":s={"X-Client-Protocol":"webchannel"}),this.g.s=s,s=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(s?s["X-WebChannel-Content-Type"]=e.messageContentType:s={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(s?s["X-WebChannel-Client-Profile"]=e.ya:s={"X-WebChannel-Client-Profile":e.ya}),this.g.P=s,(s=e&&e.httpHeadersOverwriteParam)&&!Ct(s)&&(this.g.o=s),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ct(e)&&(this.g.D=e,null!==(s=this.h)&&e in s&&e in(s=this.h)&&delete s[e]),this.j=new qn(this)}function En(s){gr.call(this);var e=s.__sm__;if(e){e:{for(const i in e){s=i;break e}s=void 0}(this.i=s)&&(s=this.i,e=null!==e&&s in e?e[s]:void 0),this.data=e}else this.data=s}function $n(){gs.call(this),this.status=1}function qn(s){this.g=s}(Y=ht.prototype).ea=function(s,e,i,a){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+s);e=e?e.toUpperCase():"GET",this.H=s,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ri.g(),this.C=function(s){return s.h||(s.h=s.i())}(this.u?this.u:Ri),this.g.onreadystatechange=Me(this.Fa,this);try{this.F=!0,this.g.open(e,String(s),!0),this.F=!1}catch(p){return void Ds(this,p)}s=i||"";const l=new ss(this.headers);a&&wo(a,function(p,C){l.set(C,p)}),a=function(s){e:{var e=Vo;const i=s.length,a="string"==typeof s?s.split(""):s;for(let l=0;l<i;l++)if(l in a&&e.call(void 0,a[l],l,s)){e=l;break e}e=-1}return 0>e?null:"string"==typeof s?s.charAt(e):s[e]}(l.T()),i=J.FormData&&s instanceof J.FormData,!(0<=Ht(si,e))||a||i||l.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),l.forEach(function(p,C){this.g.setRequestHeader(C,p)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{R(this),0<this.B&&((this.K=function(s){return Xt&&An()&&"number"==typeof s.timeout&&void 0!==s.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Me(this.pa,this)):this.A=Gn(this.pa,this.B,this)),this.v=!0,this.g.send(s),this.v=!1}catch(p){Ds(this,p)}},Y.pa=function(){void 0!==ve&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,pn(this,"timeout"),this.abort(8))},Y.abort=function(s){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=s||7,pn(this,"complete"),pn(this,"abort"),v(this))},Y.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),v(this,!0)),ht.Z.M.call(this)},Y.Fa=function(){this.s||(this.F||this.v||this.l?_(this):this.cb())},Y.cb=function(){_(this)},Y.ba=function(){try{return 2<H(this)?this.g.status:-1}catch(s){return-1}},Y.ga=function(){try{return this.g?this.g.responseText:""}catch(s){return""}},Y.Qa=function(s){if(this.g){var e=this.g.responseText;return s&&0==e.indexOf(s)&&(e=e.substring(s.length)),To(e)}},Y.Da=function(){return this.m},Y.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Y=dt.prototype).ma=8,Y.G=1,Y.hb=function(s){try{this.h.info("Origin Trials invoked: "+s)}catch(e){}},Y.Ha=function(s){if(this.m)if(this.m=null,1==this.G){if(!s){this.V=Math.floor(1e5*Math.random()),s=this.V++;const l=new li(this,this.h,s,void 0);let p=this.s;if(this.P&&(p?(p=$t(p),rr(p,this.P)):p=this.P),null===this.o&&(l.H=p),this.ja)e:{for(var e=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"==typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(e+=a)){e=i;break e}if(4096===e||i===this.l.length-1){e=i+1;break e}}e=1e3}else e=1e3;e=Zr(this,l,e),Pn(i=ci(this.F),"RID",s),Pn(i,"CVER",22),this.D&&Pn(i,"X-HTTP-Session-Id",this.D),xr(this,i),this.o&&p&&we(i,this.o,p),hr(this.i,l),this.Ra&&Pn(i,"TYPE","init"),this.ja?(Pn(i,"$req",e),Pn(i,"SID","null"),l.$=!0,xe(l,i,null)):xe(l,i,e),this.G=2}}else 3==this.G&&(s?Xn(this,s):0==this.l.length||un(this.i)||Xn(this))},Y.Ga=function(){if(this.u=null,js(this),this.$&&!(this.L||null==this.g||0>=this.O)){var s=2*this.O;this.h.info("BP detection timer enabled: "+s),this.B=Fs(Me(this.bb,this),s)}},Y.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,wr(10),zt(this),js(this))},Y.ab=function(){null!=this.v&&(this.v=null,zt(this),mi(this),wr(19))},Y.jb=function(s){s?(this.h.info("Successfully pinged google.com"),wr(2)):(this.h.info("Failed to ping google.com"),wr(1))},(Y=Do.prototype).xa=function(){},Y.wa=function(){},Y.va=function(){},Y.ua=function(){},Y.Oa=function(){},Cr.prototype.g=function(s,e){return new Vt(s,e)},Be(Vt,jt),Vt.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var s=this.g,e=this.l,i=this.h||void 0;s.Wa&&(s.h.info("Origin Trials enabled."),Mr(Me(s.hb,s,e))),wr(0),s.W=e,s.aa=i||{},s.N=s.X,s.F=fo(s,null,s.W),vn(s)},Vt.prototype.close=function(){bt(this.g)},Vt.prototype.u=function(s){if("string"==typeof s){var e={};e.__data__=s,Jn(this.g,e)}else this.v?((e={}).__data__=Rr(s),Jn(this.g,e)):Jn(this.g,s)},Vt.prototype.M=function(){this.g.j=null,delete this.j,bt(this.g),delete this.g,Vt.Z.M.call(this)},Be(En,gr),Be($n,gs),Be(qn,Do),qn.prototype.xa=function(){pn(this.g,"a")},qn.prototype.wa=function(s){pn(this.g,new En(s))},qn.prototype.va=function(s){pn(this.g,new $n(s))},qn.prototype.ua=function(){pn(this.g,"b")},Cr.prototype.createWebChannel=Cr.prototype.g,Vt.prototype.send=Vt.prototype.u,Vt.prototype.open=Vt.prototype.m,Vt.prototype.close=Vt.prototype.close,Xr.NO_ERROR=0,Xr.TIMEOUT=8,Xr.HTTP_ERROR=6,is.COMPLETE="complete",Zs.EventType=or,or.OPEN="a",or.CLOSE="b",or.ERROR="c",or.MESSAGE="d",jt.prototype.listen=jt.prototype.N,ht.prototype.listenOnce=ht.prototype.O,ht.prototype.getLastError=ht.prototype.La,ht.prototype.getLastErrorCode=ht.prototype.Da,ht.prototype.getStatus=ht.prototype.ba,ht.prototype.getResponseJson=ht.prototype.Qa,ht.prototype.getResponseText=ht.prototype.ga,ht.prototype.send=ht.prototype.ea;var Mi=de.createWebChannelTransport=function(){return new Cr},$s=de.getStatEventTarget=function(){return yn()},ji=de.ErrorCode=Xr,$r=de.EventType=is,Qr=de.Event=at,ni=de.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},hs=de.FetchXmlHttpFactory=Es,eo=de.WebChannel=Zs,Qi=de.XhrIo=ht;const ws="@firebase/firestore";class _i{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_i.UNAUTHENTICATED=new _i(null),_i.GOOGLE_CREDENTIALS=new _i("google-credentials-uid"),_i.FIRST_PARTY=new _i("first-party-uid"),_i.MOCK_USER=new _i("mock-user");let to="9.6.7";const As=new Ce.Yd("@firebase/firestore");function Ra(){return As.logLevel}function Rl(s){As.setLogLevel(s)}function Mt(s,...e){if(As.logLevel<=Ce.in.DEBUG){const i=e.map(tu);As.debug(`Firestore (${to}): ${s}`,...i)}}function Bi(s,...e){if(As.logLevel<=Ce.in.ERROR){const i=e.map(tu);As.error(`Firestore (${to}): ${s}`,...i)}}function as(s,...e){if(As.logLevel<=Ce.in.WARN){const i=e.map(tu);As.warn(`Firestore (${to}): ${s}`,...i)}}function tu(s){if("string"==typeof s)return s;try{return JSON.stringify(s)}catch(i){return s}}function en(s="Unexpected state"){const e=`FIRESTORE (${to}) INTERNAL ASSERTION FAILED: `+s;throw Bi(e),new Error(e)}function Bn(s,e){s||en()}function nu(s,e){s||en()}function Bt(s,e){return s}const st={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _t extends ce.ZR{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class $i{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}class Rs{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ma{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(_i.UNAUTHENTICATED))}shutdown(){}}class _a{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class dc{constructor(e){this.t=e,this.currentUser=_i.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){var a=this;let l=this.i;const p=te=>this.i!==l?(l=this.i,i(te)):Promise.resolve();let C=new $i;this.o=()=>{this.i++,this.currentUser=this.u(),C.resolve(),C=new $i,e.enqueueRetryable(()=>p(this.currentUser))};const M=()=>{const te=C;e.enqueueRetryable((0,m.Z)(function*(){yield te.promise,yield p(a.currentUser)}))},W=te=>{Mt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=te,this.auth.addAuthTokenListener(this.o),M()};this.t.onInit(te=>W(te)),setTimeout(()=>{if(!this.auth){const te=this.t.getImmediate({optional:!0});te?W(te):(Mt("FirebaseAuthCredentialsProvider","Auth not yet detected"),C.resolve(),C=new $i)}},0),M()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==e?(Mt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Bn("string"==typeof a.accessToken),new Rs(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Bn(null===e||"string"==typeof e),new _i(e)}}class ol{constructor(e,i,a){this.type="FirstParty",this.user=_i.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",i);const l=e.auth.getAuthHeaderValueForFirstParty([]);l&&this.headers.set("Authorization",l),a&&this.headers.set("X-Goog-Iam-Authorization-Token",a)}}class al{constructor(e,i,a){this.h=e,this.l=i,this.m=a}getToken(){return Promise.resolve(new ol(this.h,this.l,this.m))}start(e,i){e.enqueueRetryable(()=>i(_i.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Na{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Fa{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,i){const a=p=>{null!=p.error&&Mt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${p.error.message}`);const C=p.token!==this.p;return this.p=p.token,Mt("FirebaseAppCheckTokenProvider",`Received ${C?"new":"existing"} token.`),C?i(p.token):Promise.resolve()};this.o=p=>{e.enqueueRetryable(()=>a(p))};const l=p=>{Mt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=p,this.appCheck.addTokenListener(this.o)};this.g.onInit(p=>l(p)),setTimeout(()=>{if(!this.appCheck){const p=this.g.getImmediate({optional:!0});p?l(p):Mt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(Bn("string"==typeof i.token),this.p=i.token,new Na(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Ni{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.I(a),this.T=a=>i.writeSequenceNumber(a))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function iu(s){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}Ni.A=-1;class po{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=Math.floor(256/e.length)*e.length;let a="";for(;a.length<20;){const l=iu(40);for(let p=0;p<l.length;++p)a.length<20&&l[p]<i&&(a+=e.charAt(l[p]%e.length))}return a}}function A(s,e){return s<e?-1:s>e?1:0}function T(s,e,i){return s.length===e.length&&s.every((a,l)=>i(a,e[l]))}function I(s){return s+"\0"}class O{constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new _t(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new _t(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<-62135596800)throw new _t(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _t(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return O.fromMillis(Date.now())}static fromDate(e){return O.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor(1e6*(e-1e3*i));return new O(i,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?A(this.nanoseconds,e.nanoseconds):A(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class V{constructor(e){this.timestamp=e}static fromTimestamp(e){return new V(e)}static min(){return new V(new O(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function X(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function fe(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function Oe(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class ct{constructor(e,i,a){void 0===i?i=0:i>e.length&&en(),void 0===a?a=e.length-i:a>e.length-i&&en(),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return 0===ct.comparator(this,e)}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ct?e.forEach(a=>{i.push(a)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let l=0;l<a;l++){const p=e.get(l),C=i.get(l);if(p<C)return-1;if(p>C)return 1}return e.length<i.length?-1:e.length>i.length?1:0}}class wt extends ct{construct(e,i,a){return new wt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new _t(st.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(l=>l.length>0))}return new wt(i)}static emptyPath(){return new wt([])}}const qt=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wn extends ct{construct(e,i,a){return new wn(e,i,a)}static isValidIdentifier(e){return qt.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new wn(["__name__"])}static fromServerFormat(e){const i=[];let a="",l=0;const p=()=>{if(0===a.length)throw new _t(st.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let C=!1;for(;l<e.length;){const M=e[l];if("\\"===M){if(l+1===e.length)throw new _t(st.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const W=e[l+1];if("\\"!==W&&"."!==W&&"`"!==W)throw new _t(st.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=W,l+=2}else"`"===M?(C=!C,l++):"."!==M||C?(a+=M,l++):(p(),l++)}if(p(),C)throw new _t(st.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wn(i)}static emptyPath(){return new wn([])}}class Or{constructor(e){this.fields=e,e.sort(wn.comparator)}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return T(this.fields,e.fields,(i,a)=>i.isEqual(a))}}function fr(){return"undefined"!=typeof atob}class Hr{constructor(e){this.binaryString=e}static fromBase64String(e){const i=atob(e);return new Hr(i)}static fromUint8Array(e){const i=function(a){let l="";for(let p=0;p<a.length;++p)l+=String.fromCharCode(a[p]);return l}(e);return new Hr(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let a=0;a<e.length;a++)i[a]=e.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return A(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Hr.EMPTY_BYTE_STRING=new Hr("");const no=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yi(s){if(Bn(!!s),"string"==typeof s){let e=0;const i=no.exec(s);if(Bn(!!i),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:br(s.seconds),nanos:br(s.nanos)}}function br(s){return"number"==typeof s?s:"string"==typeof s?Number(s):0}function fs(s){return"string"==typeof s?Hr.fromBase64String(s):Hr.fromUint8Array(s)}function Hi(s){var e,i;return"server_timestamp"===(null===(i=((null===(e=null==s?void 0:s.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function zo(s){const e=s.mapValue.fields.__previous_value__;return Hi(e)?zo(e):e}function qo(s){const e=Yi(s.mapValue.fields.__local_write_time__.timestampValue);return new O(e.seconds,e.nanos)}class Zo{constructor(e,i,a,l,p,C,M,W){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=p,this.forceLongPolling=C,this.autoDetectLongPolling=M,this.useFetchStreams=W}}class Ms{constructor(e,i){this.projectId=e,this.database=i||"(default)"}static empty(){return new Ms("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ms&&e.projectId===this.projectId&&e.database===this.database}}function La(s){return null==s}function su(s){return 0===s&&1/s==-1/0}function hc(s){return"number"==typeof s&&Number.isInteger(s)&&!su(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}class tn{constructor(e){this.path=e}static fromPath(e){return new tn(wt.fromString(e))}static fromName(e){return new tn(wt.fromString(e).popFirst(5))}static empty(){return new tn(wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===wt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,i){return wt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new tn(new wt(e.slice()))}}const bi={mapValue:{fields:{__type__:{stringValue:"__max___"}}}};function va(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Hi(s)?4:10:en()}function So(s,e){if(s===e)return!0;const i=va(s);if(i!==va(e))return!1;switch(i){case 0:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return qo(s).isEqual(qo(e));case 3:return function(a,l){if("string"==typeof a.timestampValue&&"string"==typeof l.timestampValue&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const p=Yi(a.timestampValue),C=Yi(l.timestampValue);return p.seconds===C.seconds&&p.nanos===C.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return l=e,fs(s.bytesValue).isEqual(fs(l.bytesValue));case 7:return s.referenceValue===e.referenceValue;case 8:return function(a,l){return br(a.geoPointValue.latitude)===br(l.geoPointValue.latitude)&&br(a.geoPointValue.longitude)===br(l.geoPointValue.longitude)}(s,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return br(a.integerValue)===br(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const p=br(a.doubleValue),C=br(l.doubleValue);return p===C?su(p)===su(C):isNaN(p)&&isNaN(C)}return!1}(s,e);case 9:return T(s.arrayValue.values||[],e.arrayValue.values||[],So);case 10:return function(a,l){const p=a.mapValue.fields||{},C=l.mapValue.fields||{};if(X(p)!==X(C))return!1;for(const M in p)if(p.hasOwnProperty(M)&&(void 0===C[M]||!So(p[M],C[M])))return!1;return!0}(s,e);default:return en()}var l}function Ea(s,e){return void 0!==(s.values||[]).find(i=>So(i,e))}function ul(s,e){if(s===e)return 0;const i=va(s),a=va(e);if(i!==a)return A(i,a);switch(i){case 0:return 0;case 1:return A(s.booleanValue,e.booleanValue);case 2:return function(l,p){const C=br(l.integerValue||l.doubleValue),M=br(p.integerValue||p.doubleValue);return C<M?-1:C>M?1:C===M?0:isNaN(C)?isNaN(M)?0:-1:1}(s,e);case 3:return Va(s.timestampValue,e.timestampValue);case 4:return Va(qo(s),qo(e));case 5:return A(s.stringValue,e.stringValue);case 6:return function(l,p){const C=fs(l),M=fs(p);return C.compareTo(M)}(s.bytesValue,e.bytesValue);case 7:return function(l,p){const C=l.split("/"),M=p.split("/");for(let W=0;W<C.length&&W<M.length;W++){const te=A(C[W],M[W]);if(0!==te)return te}return A(C.length,M.length)}(s.referenceValue,e.referenceValue);case 8:return function(l,p){const C=A(br(l.latitude),br(p.latitude));return 0!==C?C:A(br(l.longitude),br(p.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return function(l,p){const C=l.values||[],M=p.values||[];for(let W=0;W<C.length&&W<M.length;++W){const te=ul(C[W],M[W]);if(te)return te}return A(C.length,M.length)}(s.arrayValue,e.arrayValue);case 10:return function(l,p){const C=l.fields||{},M=Object.keys(C),W=p.fields||{},te=Object.keys(W);M.sort(),te.sort();for(let Ee=0;Ee<M.length&&Ee<te.length;++Ee){const Ne=A(M[Ee],te[Ee]);if(0!==Ne)return Ne;const it=ul(C[M[Ee]],W[te[Ee]]);if(0!==it)return it}return A(M.length,te.length)}(s.mapValue,e.mapValue);default:throw en()}}function Va(s,e){if("string"==typeof s&&"string"==typeof e&&s.length===e.length)return A(s,e);const i=Yi(s),a=Yi(e),l=A(i.seconds,a.seconds);return 0!==l?l:A(i.nanos,a.nanos)}function Au(s){return ll(s)}function ll(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(a){const l=Yi(a);return`time(${l.seconds},${l.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?fs(s.bytesValue).toBase64():"referenceValue"in s?tn.fromName(s.referenceValue).toString():"geoPointValue"in s?`geo(${(e=s.geoPointValue).latitude},${e.longitude})`:"arrayValue"in s?function(a){let l="[",p=!0;for(const C of a.values||[])p?p=!1:l+=",",l+=ll(C);return l+"]"}(s.arrayValue):"mapValue"in s?function(a){const l=Object.keys(a.fields||{}).sort();let p="{",C=!0;for(const M of l)C?C=!1:p+=",",p+=`${M}:${ll(a.fields[M])}`;return p+"}"}(s.mapValue):en();var e}function Ml(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Ru(s){return!!s&&"integerValue"in s}function Mu(s){return!!s&&"arrayValue"in s}function Nu(s){return!!s&&"nullValue"in s}function xi(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function xu(s){return!!s&&"mapValue"in s}function vi(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&"object"==typeof s.timestampValue)return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return fe(s.mapValue.fields,(i,a)=>e.mapValue.fields[i]=vi(a)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=vi(s.arrayValue.values[i]);return e}return Object.assign({},s)}class Ti{constructor(e){this.value=e}static empty(){return new Ti({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!xu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=vi(i)}setAll(e){let i=wn.emptyPath(),a={},l=[];e.forEach((C,M)=>{if(!i.isImmediateParentOf(M)){const W=this.getFieldsMap(i);this.applyChanges(W,a,l),a={},l=[],i=M.popLast()}C?a[M.lastSegment()]=vi(C):l.push(M.lastSegment())});const p=this.getFieldsMap(i);this.applyChanges(p,a,l)}delete(e){const i=this.field(e.popLast());xu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return So(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=i.mapValue.fields[e.get(a)];xu(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,a){fe(i,(l,p)=>e[l]=p);for(const l of a)delete e[l]}clone(){return new Ti(vi(this.value))}}function Ua(s){const e=[];return fe(s.fields,(i,a)=>{const l=new wn([i]);if(xu(a)){const p=Ua(a.mapValue).fields;if(0===p.length)e.push(l);else for(const C of p)e.push(l.child(C))}else e.push(l)}),new Or(e)}class Ji{constructor(e,i,a,l,p,C){this.key=e,this.documentType=i,this.version=a,this.readTime=l,this.data=p,this.documentState=C}static newInvalidDocument(e){return new Ji(e,0,V.min(),V.min(),Ti.empty(),0)}static newFoundDocument(e,i,a){return new Ji(e,1,i,V.min(),a,0)}static newNoDocument(e,i){return new Ji(e,2,i,V.min(),Ti.empty(),0)}static newUnknownDocument(e,i){return new Ji(e,3,i,V.min(),Ti.empty(),2)}convertToFoundDocument(e,i){return this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ti.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ti.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ji&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ji(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}let fc=(()=>{class s{constructor(i,a,l,p){this.indexId=i,this.collectionGroup=a,this.fields=l,this.indexState=p}}return s.UNKNOWN_ID=-1,s})();class Hs{constructor(e,i){this.fieldPath=e,this.kind=i}}class go{constructor(e,i){this.sequenceNumber=e,this.offset=i}static empty(){return new go(0,ja.min())}}class ja{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new ja(V.min(),tn.empty(),-1)}}class Uo{constructor(e,i=null,a=[],l=[],p=null,C=null,M=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=p,this.startAt=C,this.endAt=M,this.P=null}}function ia(s,e=null,i=[],a=[],l=null,p=null,C=null){return new Uo(s,e,i,a,l,p,C)}function ou(s){const e=Bt(s);if(null===e.P){let i=e.path.canonicalString();null!==e.collectionGroup&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(a=>{return(l=a).field.canonicalString()+l.op.toString()+Au(l.value);var l}).join(","),i+="|ob:",i+=e.orderBy.map(a=>{return(l=a).field.canonicalString()+l.dir;var l}).join(","),La(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(a=>Au(a)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(a=>Au(a)).join(",")),e.P=i}return e.P}function sa(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let l=0;l<s.orderBy.length;l++)if(!We(s.orderBy[l],e.orderBy[l]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let l=0;l<s.filters.length;l++)if((i=s.filters[l]).op!==(a=e.filters[l]).op||!i.field.isEqual(a.field)||!So(i.value,a.value))return!1;var i,a;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!It(s.startAt,e.startAt)&&It(s.endAt,e.endAt)}function Nl(s){return tn.isDocumentKey(s.path)&&null===s.collectionGroup&&0===s.filters.length}class us extends class{}{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?"in"===i||"not-in"===i?this.v(e,i,a):new cl(e,i,a):"array-contains"===i?new gc(e,a):"in"===i?new ad(e,a):"not-in"===i?new N(e,a):"array-contains-any"===i?new U(e,a):new us(e,i,a)}static v(e,i,a){return"in"===i?new jo(e,a):new au(e,a)}matches(e){const i=e.data.field(this.field);return"!="===this.op?null!==i&&this.V(ul(i,this.value)):null!==i&&va(this.value)===va(i)&&this.V(ul(i,this.value))}V(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return en()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class cl extends us{constructor(e,i,a){super(e,i,a),this.key=tn.fromName(a.referenceValue)}matches(e){const i=tn.comparator(e.key,this.key);return this.V(i)}}class jo extends us{constructor(e,i){super(e,"in",i),this.keys=Ba(0,i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class au extends us{constructor(e,i){super(e,"not-in",i),this.keys=Ba(0,i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function Ba(s,e){var i;return((null===(i=e.arrayValue)||void 0===i?void 0:i.values)||[]).map(a=>tn.fromName(a.referenceValue))}class gc extends us{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Mu(i)&&Ea(i.arrayValue,this.value)}}class ad extends us{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return null!==i&&Ea(this.value.arrayValue,i)}}class N extends us{constructor(e,i){super(e,"not-in",i)}matches(e){if(Ea(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return null!==i&&!Ea(this.value.arrayValue,i)}}class U extends us{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Mu(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>Ea(this.value.arrayValue,a))}}class ee{constructor(e,i){this.position=e,this.inclusive=i}}class _e{constructor(e,i="asc"){this.field=e,this.dir=i}}function We(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}function et(s,e,i){let a=0;for(let l=0;l<s.position.length;l++){const p=e[l],C=s.position[l];if(a=p.field.isKeyField()?tn.comparator(tn.fromName(C.referenceValue),i.key):ul(C,i.data.field(p.field)),"desc"===p.dir&&(a*=-1),0!==a)break}return a}function It(s,e){if(null===s)return null===e;if(null===e||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!So(s.position[i],e.position[i]))return!1;return!0}class Ut{constructor(e,i=null,a=[],l=[],p=null,C="F",M=null,W=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=p,this.limitType=C,this.startAt=M,this.endAt=W,this.D=null,this.C=null}}function ln(s,e,i,a,l,p,C,M){return new Ut(s,e,i,a,l,p,C,M)}function tr(s){return new Ut(s)}function Wr(s){return!La(s.limit)&&"F"===s.limitType}function Oi(s){return!La(s.limit)&&"L"===s.limitType}function ro(s){return s.explicitOrderBy.length>0?s.explicitOrderBy[0].field:null}function ps(s){for(const e of s.filters)if(e.S())return e.field;return null}function uu(s){return null!==s.collectionGroup}function Bo(s){const e=Bt(s);if(null===e.D){e.D=[];const i=ps(e),a=ro(e);if(null!==i&&null===a)i.isKeyField()||e.D.push(new _e(i)),e.D.push(new _e(wn.keyField(),"asc"));else{let l=!1;for(const p of e.explicitOrderBy)e.D.push(p),p.field.isKeyField()&&(l=!0);if(!l){const p=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new _e(wn.keyField(),p))}}}return e.D}function io(s){const e=Bt(s);if(!e.C)if("F"===e.limitType)e.C=ia(e.path,e.collectionGroup,Bo(e),e.filters,e.limit,e.startAt,e.endAt);else{const i=[];for(const p of Bo(e))i.push(new _e(p.field,"desc"===p.dir?"asc":"desc"));const a=e.endAt?new ee(e.endAt.position,!e.endAt.inclusive):null,l=e.startAt?new ee(e.startAt.position,!e.startAt.inclusive):null;e.C=ia(e.path,e.collectionGroup,i,e.filters,e.limit,a,l)}return e.C}function $o(s,e,i){return new Ut(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function mo(s,e){return sa(io(s),io(e))&&s.limitType===e.limitType}function Qo(s){return`${ou(io(s))}|lt:${s.limitType}`}function dl(s){return`Query(target=${function(s){let e=s.path.canonicalString();return null!==s.collectionGroup&&(e+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(e+=`, filters: [${s.filters.map(i=>{return`${(a=i).field.canonicalString()} ${a.op} ${Au(a.value)}`;var a}).join(", ")}]`),La(s.limit)||(e+=", limit: "+s.limit),s.orderBy.length>0&&(e+=`, orderBy: [${s.orderBy.map(i=>{return`${(a=i).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),s.startAt&&(e+=", startAt: ",e+=s.startAt.inclusive?"b:":"a:",e+=s.startAt.position.map(i=>Au(i)).join(",")),s.endAt&&(e+=", endAt: ",e+=s.endAt.inclusive?"a:":"b:",e+=s.endAt.position.map(i=>Au(i)).join(",")),`Target(${e})`}(io(s))}; limitType=${s.limitType})`}function Xi(s,e){return e.isFoundDocument()&&function(i,a){const l=a.key.path;return null!==i.collectionGroup?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):tn.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(s,e)&&function(i,a){for(const l of i.explicitOrderBy)if(!l.field.isKeyField()&&null===a.data.field(l.field))return!1;return!0}(s,e)&&function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0}(s,e)&&(a=e,!((i=s).startAt&&!function(l,p,C){const M=et(l,p,C);return l.inclusive?M<=0:M<0}(i.startAt,Bo(i),a)||i.endAt&&!function(l,p,C){const M=et(l,p,C);return l.inclusive?M>=0:M>0}(i.endAt,Bo(i),a)));var i,a}function Ou(s){return(e,i)=>{let a=!1;for(const l of Bo(s)){const p=Gf(l,e,i);if(0!==p)return p;a=a||l.field.isKeyField()}return 0}}function Gf(s,e,i){const a=s.field.isKeyField()?tn.comparator(e.key,i.key):function(l,p,C){const M=p.data.field(l),W=C.data.field(l);return null!==M&&null!==W?ul(M,W):en()}(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return en()}}function lu(s,e){if(s.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:su(e)?"-0":e}}function $a(s){return{integerValue:""+s}}function mc(s,e){return hc(e)?$a(e):lu(s,e)}class Pu{constructor(){this._=void 0}}function fh(s,e,i){return s instanceof Ho?function(a,l){const p={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&(p.fields.__previous_value__=l),{mapValue:p}}(i,e):s instanceof oa?aa(s,e):s instanceof du?ld(s,e):function(a,l){const p=cu(a,l),C=xl(p)+xl(a.k);return Ru(p)&&Ru(a.k)?$a(C):lu(a.O,C)}(s,e)}function ud(s,e,i){return s instanceof oa?aa(s,e):s instanceof du?ld(s,e):i}function cu(s,e){return s instanceof xa?Ru(i=e)||(a=i)&&"doubleValue"in a?e:{integerValue:0}:null;var a,i}class Ho extends Pu{}class oa extends Pu{constructor(e){super(),this.elements=e}}function aa(s,e){const i=cd(e);for(const a of s.elements)i.some(l=>So(l,a))||i.push(a);return{arrayValue:{values:i}}}class du extends Pu{constructor(e){super(),this.elements=e}}function ld(s,e){let i=cd(e);for(const a of s.elements)i=i.filter(l=>!So(l,a));return{arrayValue:{values:i}}}class xa extends Pu{constructor(e,i){super(),this.O=e,this.k=i}}function xl(s){return br(s.integerValue||s.doubleValue)}function cd(s){return Mu(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class ku{constructor(e,i){this.field=e,this.transform=i}}class hu{constructor(e,i){this.version=e,this.transformResults=i}}class Ei{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Ei}static exists(e){return new Ei(void 0,e)}static updateTime(e){return new Ei(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hl(s,e){return void 0!==s.updateTime?e.isFoundDocument()&&e.version.isEqual(s.updateTime):void 0===s.exists||s.exists===e.isFoundDocument()}class yc{}function _c(s,e,i){s instanceof Ol?function(a,l,p){const C=a.value.clone(),M=Fu(a.fieldTransforms,l,p.transformResults);C.setAll(M),l.convertToFoundDocument(p.version,C).setHasCommittedMutations()}(s,e,i):s instanceof Ia?function(a,l,p){if(!hl(a.precondition,l))return void l.convertToUnknownDocument(p.version);const C=Fu(a.fieldTransforms,l,p.transformResults),M=l.data;M.setAll(fl(a)),M.setAll(C),l.convertToFoundDocument(p.version,M).setHasCommittedMutations()}(s,e,i):e.convertToNoDocument(i.version).setHasCommittedMutations()}function vc(s,e,i){var l;s instanceof Ol?function(a,l,p){if(!hl(a.precondition,l))return;const C=a.value.clone(),M=gh(a.fieldTransforms,p,l);C.setAll(M),l.convertToFoundDocument(hd(l),C).setHasLocalMutations()}(s,e,i):s instanceof Ia?function(a,l,p){if(!hl(a.precondition,l))return;const C=gh(a.fieldTransforms,p,l),M=l.data;M.setAll(fl(a)),M.setAll(C),l.convertToFoundDocument(hd(l),M).setHasLocalMutations()}(s,e,i):hl(s.precondition,l=e)&&l.convertToNoDocument(V.min())}function zf(s,e){let i=null;for(const a of s.fieldTransforms){const l=e.data.field(a.field),p=cu(a.transform,l||null);null!=p&&(null==i&&(i=Ti.empty()),i.set(a.field,p))}return i||null}function dd(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&(a=e.fieldTransforms,!!(void 0===(i=s.fieldTransforms)&&void 0===a||i&&a&&T(i,a,(l,p)=>function(s,e){return s.field.isEqual(e.field)&&(a=e.transform,(i=s.transform)instanceof oa&&a instanceof oa||i instanceof du&&a instanceof du?T(i.elements,a.elements,So):i instanceof xa&&a instanceof xa?So(i.k,a.k):i instanceof Ho&&a instanceof Ho);var i,a}(l,p))))&&(0===s.type?s.value.isEqual(e.value):1!==s.type||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask));var i,a}function hd(s){return s.isFoundDocument()?s.version:V.min()}class Ol extends yc{constructor(e,i,a,l=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}}class Ia extends yc{constructor(e,i,a,l,p=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=p,this.type=1}}function fl(s){const e=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}}),e}function Fu(s,e,i){const a=new Map;Bn(s.length===i.length);for(let l=0;l<i.length;l++){const p=s[l],C=p.transform,M=e.data.field(p.field);a.set(p.field,ud(C,M,i[l]))}return a}function gh(s,e,i){const a=new Map;for(const l of s){const p=l.transform,C=i.data.field(l.field);a.set(l.field,fh(p,C,e))}return a}class Pl extends yc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}}class Ec extends yc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}}class Ic{constructor(e){this.count=e}}var ls,Pr;function fd(s){switch(s){default:return en();case st.CANCELLED:case st.UNKNOWN:case st.DEADLINE_EXCEEDED:case st.RESOURCE_EXHAUSTED:case st.INTERNAL:case st.UNAVAILABLE:case st.UNAUTHENTICATED:return!1;case st.INVALID_ARGUMENT:case st.NOT_FOUND:case st.ALREADY_EXISTS:case st.PERMISSION_DENIED:case st.FAILED_PRECONDITION:case st.ABORTED:case st.OUT_OF_RANGE:case st.UNIMPLEMENTED:case st.DATA_LOSS:return!0}}function pl(s){if(void 0===s)return Bi("GRPC error has no .code"),st.UNKNOWN;switch(s){case ls.OK:return st.OK;case ls.CANCELLED:return st.CANCELLED;case ls.UNKNOWN:return st.UNKNOWN;case ls.DEADLINE_EXCEEDED:return st.DEADLINE_EXCEEDED;case ls.RESOURCE_EXHAUSTED:return st.RESOURCE_EXHAUSTED;case ls.INTERNAL:return st.INTERNAL;case ls.UNAVAILABLE:return st.UNAVAILABLE;case ls.UNAUTHENTICATED:return st.UNAUTHENTICATED;case ls.INVALID_ARGUMENT:return st.INVALID_ARGUMENT;case ls.NOT_FOUND:return st.NOT_FOUND;case ls.ALREADY_EXISTS:return st.ALREADY_EXISTS;case ls.PERMISSION_DENIED:return st.PERMISSION_DENIED;case ls.FAILED_PRECONDITION:return st.FAILED_PRECONDITION;case ls.ABORTED:return st.ABORTED;case ls.OUT_OF_RANGE:return st.OUT_OF_RANGE;case ls.UNIMPLEMENTED:return st.UNIMPLEMENTED;case ls.DATA_LOSS:return st.DATA_LOSS;default:return en()}}(Pr=ls||(ls={}))[Pr.OK=0]="OK",Pr[Pr.CANCELLED=1]="CANCELLED",Pr[Pr.UNKNOWN=2]="UNKNOWN",Pr[Pr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pr[Pr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pr[Pr.NOT_FOUND=5]="NOT_FOUND",Pr[Pr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pr[Pr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pr[Pr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pr[Pr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pr[Pr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pr[Pr.ABORTED=10]="ABORTED",Pr[Pr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pr[Pr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pr[Pr.INTERNAL=13]="INTERNAL",Pr[Pr.UNAVAILABLE=14]="UNAVAILABLE",Pr[Pr.DATA_LOSS=15]="DATA_LOSS";class Ii{constructor(e,i){this.comparator=e,this.root=i||so.EMPTY}insert(e,i){return new Ii(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,so.BLACK,null,null))}remove(e){return new Ii(this.comparator,this.root.remove(e,this.comparator).copy(null,null,so.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(0===a)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(0===l)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,a)=>(e(i,a),!1))}toString(){const e=[];return this.inorderTraversal((i,a)=>(e.push(`${i}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wc(this.root,e,this.comparator,!1)}getReverseIterator(){return new wc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wc(this.root,e,this.comparator,!0)}}class wc{constructor(e,i,a,l){this.isReverse=l,this.nodeStack=[];let p=1;for(;!e.isEmpty();)if(p=i?a(e.key,i):1,l&&(p*=-1),p<0)e=this.isReverse?e.left:e.right;else{if(0===p){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class so{constructor(e,i,a,l,p){this.key=e,this.value=i,this.color=null!=a?a:so.RED,this.left=null!=l?l:so.EMPTY,this.right=null!=p?p:so.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,l,p){return new so(null!=e?e:this.key,null!=i?i:this.value,null!=a?a:this.color,null!=l?l:this.left,null!=p?p:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let l=this;const p=a(e,l.key);return l=p<0?l.copy(null,null,null,l.left.insert(e,i,a),null):0===p?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return so.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===i(e,l.key)){if(l.right.isEmpty())return so.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,so.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,so.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw en();const e=this.left.check();if(e!==this.right.check())throw en();return e+(this.isRed()?0:1)}}so.EMPTY=null,so.RED=!0,so.BLACK=!1,so.EMPTY=new class{constructor(){this.size=0}get key(){throw en()}get value(){throw en()}get color(){throw en()}get left(){throw en()}get right(){throw en()}copy(s,e,i,a,l){return this}insert(s,e,i){return new so(s,e)}remove(s,e){return this}isEmpty(){return!0}inorderTraversal(s){return!1}reverseTraversal(s){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Wi{constructor(e){this.comparator=e,this.data=new Ii(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,a)=>(e(i),!1))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let a;for(a=void 0!==i?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new mh(this.data.getIterator())}getIteratorFrom(e){return new mh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(a=>{i=i.add(a)}),i}isEqual(e){if(!(e instanceof Wi)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,p=a.getNext().key;if(0!==this.comparator(l,p))return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Wi(this.comparator);return i.data=e,i}}class mh{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function gl(s){return s.hasNext()?s.getNext():void 0}const Ha=new Ii(tn.comparator);function oo(){return Ha}const Cc=new Ii(tn.comparator);function pd(){return Cc}const qf=new Ii(tn.comparator),Zf=new Wi(tn.comparator);function oi(...s){let e=Zf;for(const i of s)e=e.add(i);return e}const Qf=new Wi(A);function ml(){return Qf}class kl{constructor(e,i,a,l,p){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=p}static createSynthesizedRemoteEventForCurrentChange(e,i){const a=new Map;return a.set(e,Fl.createSynthesizedTargetChangeForCurrentChange(e,i)),new kl(V.min(),a,ml(),oo(),oi())}}class Fl{constructor(e,i,a,l,p){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=p}static createSynthesizedTargetChangeForCurrentChange(e,i){return new Fl(Hr.EMPTY_BYTE_STRING,i,oi(),oi(),oi())}}class bc{constructor(e,i,a,l){this.M=e,this.removedTargetIds=i,this.key=a,this.$=l}}class yh{constructor(e,i){this.targetId=e,this.F=i}}class gd{constructor(e,i,a=Hr.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=l}}class _h{constructor(){this.B=0,this.L=ua(),this.U=Hr.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=oi(),i=oi(),a=oi();return this.L.forEach((l,p)=>{switch(p){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:en()}}),new Fl(this.U,this.q,e,i,a)}J(){this.K=!1,this.L=ua()}Y(e,i){this.K=!0,this.L=this.L.insert(e,i)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class Lu{constructor(e){this.nt=e,this.st=new Map,this.it=oo(),this.rt=md(),this.ot=new Wi(A)}ct(e){for(const i of e.M)e.$&&e.$.isFoundDocument()?this.ut(i,e.$):this.at(i,e.key,e.$);for(const i of e.removedTargetIds)this.at(i,e.key,e.$)}ht(e){this.forEachTarget(e,i=>{const a=this.lt(i);switch(e.state){case 0:this.ft(i)&&a.W(e.resumeToken);break;case 1:a.tt(),a.G||a.J(),a.W(e.resumeToken);break;case 2:a.tt(),a.G||this.removeTarget(i);break;case 3:this.ft(i)&&(a.et(),a.W(e.resumeToken));break;case 4:this.ft(i)&&(this.dt(i),a.W(e.resumeToken));break;default:en()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.st.forEach((a,l)=>{this.ft(l)&&i(l)})}_t(e){const i=e.targetId,a=e.F.count,l=this.wt(i);if(l){const p=l.target;if(Nl(p))if(0===a){const C=new tn(p.path);this.at(i,C,Ji.newNoDocument(C,V.min()))}else Bn(1===a);else this.gt(i)!==a&&(this.dt(i),this.ot=this.ot.add(i))}}yt(e){const i=new Map;this.st.forEach((p,C)=>{const M=this.wt(C);if(M){if(p.current&&Nl(M.target)){const W=new tn(M.target.path);null!==this.it.get(W)||this.It(C,W)||this.at(C,W,Ji.newNoDocument(W,e))}p.j&&(i.set(C,p.H()),p.J())}});let a=oi();this.rt.forEach((p,C)=>{let M=!0;C.forEachWhile(W=>{const te=this.wt(W);return!te||2===te.purpose||(M=!1,!1)}),M&&(a=a.add(p))}),this.it.forEach((p,C)=>C.setReadTime(e));const l=new kl(e,i,this.ot,this.it,a);return this.it=oo(),this.rt=md(),this.ot=new Wi(A),l}ut(e,i){if(!this.ft(e))return;const a=this.It(e,i.key)?2:0;this.lt(e).Y(i.key,a),this.it=this.it.insert(i.key,i),this.rt=this.rt.insert(i.key,this.Et(i.key).add(e))}at(e,i,a){if(!this.ft(e))return;const l=this.lt(e);this.It(e,i)?l.Y(i,1):l.X(i),this.rt=this.rt.insert(i,this.Et(i).delete(e)),a&&(this.it=this.it.insert(i,a))}removeTarget(e){this.st.delete(e)}gt(e){const i=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let i=this.st.get(e);return i||(i=new _h,this.st.set(e,i)),i}Et(e){let i=this.rt.get(e);return i||(i=new Wi(A),this.rt=this.rt.insert(e,i)),i}ft(e){const i=null!==this.wt(e);return i||Mt("WatchChangeAggregator","Detected inactive target",e),i}wt(e){const i=this.st.get(e);return i&&i.G?null:this.nt.Tt(e)}dt(e){this.st.set(e,new _h),this.nt.getRemoteKeysForTarget(e).forEach(i=>{this.at(e,i,null)})}It(e,i){return this.nt.getRemoteKeysForTarget(e).has(i)}}function md(){return new Ii(tn.comparator)}function ua(){return new Ii(tn.comparator)}const Ll={asc:"ASCENDING",desc:"DESCENDING"},Tc={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class vh{constructor(e,i){this.databaseId=e,this.N=i}}function Vu(s,e){return s.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Eh(s,e){return s.N?e.toBase64():e.toUint8Array()}function em(s,e){return Vu(s,e.toTimestamp())}function ao(s){return Bn(!!s),V.fromTimestamp(function(e){const i=Yi(e);return new O(i.seconds,i.nanos)}(s))}function Vl(s,e){return(i=s,new wt(["projects",i.projectId,"databases",i.database])).child("documents").child(e).canonicalString();var i}function yd(s){const e=wt.fromString(s);return Bn(Ga(e)),e}function Yo(s,e){return Vl(s.databaseId,e.path)}function Wa(s,e){const i=yd(e);if(i.get(1)!==s.databaseId.projectId)throw new _t(st.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new _t(st.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new tn(Dc(i))}function Ih(s,e){return Vl(s.databaseId,e)}function Ul(s){const e=yd(s);return 4===e.length?wt.emptyPath():Dc(e)}function jl(s){return new wt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Dc(s){return Bn(s.length>4&&"documents"===s.get(4)),s.popFirst(5)}function wh(s,e,i){return{name:Yo(s,e),fields:i.value.mapValue.fields}}function Ch(s,e,i){const a=Wa(s,e.name),l=ao(e.updateTime),p=new Ti({mapValue:{fields:e.fields}}),C=Ji.newFoundDocument(a,l,p);return i&&C.setHasCommittedMutations(),i?C.setHasCommittedMutations():C}function yl(s,e){let i;if(e instanceof Ol)i={update:wh(s,e.key,e.value)};else if(e instanceof Pl)i={delete:Yo(s,e.key)};else if(e instanceof Ia)i={update:wh(s,e.key,e.data),updateMask:nm(e.fieldMask)};else{if(!(e instanceof Ec))return en();i={verify:Yo(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(a=>function(l,p){const C=p.transform;if(C instanceof Ho)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(C instanceof oa)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:C.elements}};if(C instanceof du)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:C.elements}};if(C instanceof xa)return{fieldPath:p.field.canonicalString(),increment:C.k};throw en()}(0,a))),e.precondition.isNone||(i.currentDocument=void 0!==(l=e.precondition).updateTime?{updateTime:em(s,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:en()),i;var l}function Uu(s,e){const i=e.currentDocument?void 0!==(l=e.currentDocument).updateTime?Ei.updateTime(ao(l.updateTime)):void 0!==l.exists?Ei.exists(l.exists):Ei.none():Ei.none(),a=e.updateTransforms?e.updateTransforms.map(l=>function(p,C){let M=null;"setToServerValue"in C?(Bn("REQUEST_TIME"===C.setToServerValue),M=new Ho):"appendMissingElements"in C?M=new oa(C.appendMissingElements.values||[]):"removeAllFromArray"in C?M=new du(C.removeAllFromArray.values||[]):"increment"in C?M=new xa(p,C.increment):en();const W=wn.fromServerFormat(C.fieldPath);return new ku(W,M)}(s,l)):[];var l;if(e.update){const l=Wa(s,e.update.name),p=new Ti({mapValue:{fields:e.update.fields}});if(e.updateMask){const C=new Or((e.updateMask.fieldPaths||[]).map(te=>wn.fromServerFormat(te)));return new Ia(l,p,C,i,a)}return new Ol(l,p,i,a)}if(e.delete){const l=Wa(s,e.delete);return new Pl(l,i)}if(e.verify){const l=Wa(s,e.verify);return new Ec(l,i)}return en()}function es(s,e){return{documents:[Ih(s,e.path)]}}function _d(s,e){const i={structuredQuery:{}},a=e.path;null!==e.collectionGroup?(i.parent=Ih(s,a),i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i.parent=Ih(s,a.popLast()),i.structuredQuery.from=[{collectionId:a.lastSegment()}]);const l=function(W){if(0===W.length)return;const te=W.map(Ee=>function(Ne){if("=="===Ne.op){if(xi(Ne.value))return{unaryFilter:{field:ju(Ne.field),op:"IS_NAN"}};if(Nu(Ne.value))return{unaryFilter:{field:ju(Ne.field),op:"IS_NULL"}}}else if("!="===Ne.op){if(xi(Ne.value))return{unaryFilter:{field:ju(Ne.field),op:"IS_NOT_NAN"}};if(Nu(Ne.value))return{unaryFilter:{field:ju(Ne.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ju(Ne.field),op:bh(Ne.op),value:Ne.value}}}(Ee));return 1===te.length?te[0]:{compositeFilter:{op:"AND",filters:te}}}(e.filters);l&&(i.structuredQuery.where=l);const p=function(W){if(0!==W.length)return W.map(te=>{return{field:ju((Ee=te).field),direction:Rc(Ee.dir)};var Ee})}(e.orderBy);p&&(i.structuredQuery.orderBy=p);const C=(te=e.limit,s.N||La(te)?te:{value:te});var te,M,W;return null!==C&&(i.structuredQuery.limit=C),e.startAt&&(i.structuredQuery.startAt={before:(M=e.startAt).inclusive,values:M.position}),e.endAt&&(i.structuredQuery.endAt={before:!(W=e.endAt).inclusive,values:W.position}),i}function vd(s){let e=Ul(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Bn(1===a);const Ee=i.from[0];Ee.allDescendants?l=Ee.collectionId:e=e.child(Ee.collectionId)}let p=[];i.where&&(p=Bl(i.where));let C=[];i.orderBy&&(C=i.orderBy.map(Ee=>{return new _e(Ka((Ne=Ee).field),function(it){switch(it){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ne.direction));var Ne}));let M=null;i.limit&&(M=function(Ee){let Ne;return Ne="object"==typeof Ee?Ee.value:Ee,La(Ne)?null:Ne}(i.limit));let W=null;var Ee;i.startAt&&(W=new ee((Ee=i.startAt).values||[],!!Ee.before));let te=null;return i.endAt&&(te=function(Ee){return new ee(Ee.values||[],!Ee.before)}(i.endAt)),ln(e,l,C,p,M,"F",W,te)}function Bl(s){return s?void 0!==s.unaryFilter?[tm(s)]:void 0!==s.fieldFilter?[Mc(s)]:void 0!==s.compositeFilter?s.compositeFilter.filters.map(e=>Bl(e)).reduce((e,i)=>e.concat(i)):en():[]}function Rc(s){return Ll[s]}function bh(s){return Tc[s]}function ju(s){return{fieldPath:s.canonicalString()}}function Ka(s){return wn.fromServerFormat(s.fieldPath)}function Mc(s){return us.create(Ka(s.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return en()}}(s.fieldFilter.op),s.fieldFilter.value)}function tm(s){switch(s.unaryFilter.op){case"IS_NAN":const e=Ka(s.unaryFilter.field);return us.create(e,"==",{doubleValue:NaN});case"IS_NULL":const i=Ka(s.unaryFilter.field);return us.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ka(s.unaryFilter.field);return us.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Ka(s.unaryFilter.field);return us.create(l,"!=",{nullValue:"NULL_VALUE"});default:return en()}}function nm(s){const e=[];return s.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function Ga(s){return s.length>=4&&"projects"===s.get(0)&&"databases"===s.get(2)}function Kr(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=wd(e)),e=Id(s.get(i),e);return wd(e)}function Id(s,e){let i=e;const a=s.length;for(let l=0;l<a;l++){const p=s.charAt(l);switch(p){case"\0":i+="\x01\x10";break;case"\x01":i+="\x01\x11";break;default:i+=p}}return i}function wd(s){return s+"\x01\x01"}function la(s){const e=s.length;if(Bn(e>=2),2===e)return Bn("\x01"===s.charAt(0)&&"\x01"===s.charAt(1)),wt.emptyPath();const i=e-2,a=[];let l="";for(let p=0;p<e;){const C=s.indexOf("\x01",p);switch((C<0||C>i)&&en(),s.charAt(C+1)){case"\x01":const M=s.substring(p,C);let W;0===l.length?W=M:(l+=M,W=l,l=""),a.push(W);break;case"\x10":l+=s.substring(p,C),l+="\0";break;case"\x11":l+=s.substring(p,C+1);break;default:en()}p=C+2}return new wt(a)}class yo{constructor(e,i){this.seconds=e,this.nanoseconds=i}}class uo{constructor(e,i,a){this.ownerId=e,this.allowTabSynchronization=i,this.leaseTimestampMs=a}}uo.store="owner",uo.key="owner";class Oa{constructor(e,i,a){this.userId=e,this.lastAcknowledgedBatchId=i,this.lastStreamToken=a}}Oa.store="mutationQueues",Oa.keyPath="userId";class Pi{constructor(e,i,a,l,p){this.userId=e,this.batchId=i,this.localWriteTimeMs=a,this.baseMutations=l,this.mutations=p}}Pi.store="mutations",Pi.keyPath="batchId",Pi.userMutationsIndex="userMutationsIndex",Pi.userMutationsKeyPath=["userId","batchId"];class Ns{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,i){return[e,Kr(i)]}static key(e,i,a){return[e,Kr(i),a]}}Ns.store="documentMutations",Ns.PLACEHOLDER=new Ns;class Th{constructor(e,i){this.path=e,this.readTime=i}}class Dh{constructor(e,i){this.path=e,this.version=i}}class ts{constructor(e,i,a,l,p,C){this.unknownDocument=e,this.noDocument=i,this.document=a,this.hasCommittedMutations=l,this.readTime=p,this.parentPath=C}}ts.store="remoteDocuments",ts.readTimeIndex="readTimeIndex",ts.readTimeIndexPath="readTime",ts.collectionReadTimeIndex="collectionReadTimeIndex",ts.collectionReadTimeIndexPath=["parentPath","readTime"];class Pa{constructor(e){this.byteSize=e}}Pa.store="remoteDocumentGlobal",Pa.key="remoteDocumentGlobalKey";class Ao{constructor(e,i,a,l,p,C,M){this.targetId=e,this.canonicalId=i,this.readTime=a,this.resumeToken=l,this.lastListenSequenceNumber=p,this.lastLimboFreeSnapshotVersion=C,this.query=M}}Ao.store="targets",Ao.keyPath="targetId",Ao.queryTargetsIndexName="queryTargetsIndex",Ao.queryTargetsKeyPath=["canonicalId","targetId"];class lo{constructor(e,i,a){this.targetId=e,this.path=i,this.sequenceNumber=a}}lo.store="targetDocuments",lo.keyPath=["targetId","path"],lo.documentTargetsIndex="documentTargetsIndex",lo.documentTargetsKeyPath=["path","targetId"];class Wo{constructor(e,i,a,l){this.highestTargetId=e,this.highestListenSequenceNumber=i,this.lastRemoteSnapshotVersion=a,this.targetCount=l}}Wo.key="targetGlobalKey",Wo.store="targetGlobal";class za{constructor(e,i){this.collectionId=e,this.parent=i}}za.store="collectionParents",za.keyPath=["collectionId","parent"];class ca{constructor(e,i,a,l){this.clientId=e,this.updateTimeMs=i,this.networkEnabled=a,this.inForeground=l}}ca.store="clientMetadata",ca.keyPath="clientId";class qa{constructor(e,i,a){this.bundleId=e,this.createTime=i,this.version=a}}qa.store="bundles",qa.keyPath="bundleId";class Bu{constructor(e,i,a){this.name=e,this.readTime=i,this.bundledQuery=a}}Bu.store="namedQueries",Bu.keyPath="name";class Ro{constructor(e,i,a){this.indexId=e,this.collectionGroup=i,this.fields=a}}Ro.store="indexConfiguration",Ro.keyPath="indexId",Ro.collectionGroupIndex="collectionGroupIndex",Ro.collectionGroupIndexPath="collectionGroup";class wa{constructor(e,i,a,l,p,C){this.indexId=e,this.uid=i,this.sequenceNumber=a,this.readTime=l,this.documentKey=p,this.largestBatchId=C}}wa.store="indexState",wa.keyPath=["indexId","uid"],wa.sequenceNumberIndex="sequenceNumberIndex",wa.sequenceNumberIndexPath=["uid","sequenceNumber"];class ki{constructor(e,i,a,l,p){this.indexId=e,this.uid=i,this.arrayValue=a,this.directionalValue=l,this.documentKey=p}}ki.store="indexEntries",ki.keyPath=["indexId","uid","arrayValue","directionalValue","documentKey"],ki.documentKeyIndex="documentKeyIndex",ki.documentKeyIndexPath=["indexId","uid","documentKey"];class Fi{constructor(e,i,a,l,p,C){this.userId=e,this.collectionPath=i,this.documentId=a,this.collectionGroup=l,this.largestBatchId=p,this.overlayMutation=C}}Fi.store="documentOverlays",Fi.keyPath=["userId","collectionPath","documentId"],Fi.collectionPathOverlayIndex="collectionPathOverlayIndex",Fi.collectionPathOverlayIndexPath=["userId","collectionPath","largestBatchId"],Fi.collectionGroupOverlayIndex="collectionGroupOverlayIndex",Fi.collectionGroupOverlayIndexPath=["userId","collectionGroup","largestBatchId"];const Cd=[Oa.store,Pi.store,Ns.store,ts.store,Ao.store,uo.store,Wo.store,lo.store,ca.store,Pa.store,za.store,qa.store,Bu.store],Sh=[...Cd,Fi.store],fu=[...Sh,Ro.store,wa.store,ki.store],$l="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bd{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class ft{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&en(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new ft((a,l)=>{this.nextCallback=p=>{this.wrapSuccess(e,p).next(a,l)},this.catchCallback=p=>{this.wrapFailure(i,p).next(a,l)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof ft?i:ft.resolve(i)}catch(i){return ft.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):ft.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):ft.reject(i)}static resolve(e){return new ft((i,a)=>{i(e)})}static reject(e){return new ft((i,a)=>{a(e)})}static waitFor(e){return new ft((i,a)=>{let l=0,p=0,C=!1;e.forEach(M=>{++l,M.next(()=>{++p,C&&p===l&&i()},W=>a(W))}),C=!0,p===l&&i()})}static or(e){let i=ft.resolve(!1);for(const a of e)i=i.next(l=>l?ft.resolve(l):a());return i}static forEach(e,i){const a=[];return e.forEach((l,p)=>{a.push(i.call(this,l,p))}),this.waitFor(a)}}class Nc{constructor(e,i){this.action=e,this.transaction=i,this.aborted=!1,this.At=new $i,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{i.error?this.At.reject(new _o(e,i.error)):this.At.resolve()},this.transaction.onerror=a=>{const l=xc(a.target.error);this.At.reject(new _o(e,l))}}static open(e,i,a,l){try{return new Nc(i,e.transaction(l,a))}catch(p){throw new _o(i,p)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Mt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}Pt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const i=this.transaction.objectStore(e);return new Jf(i)}}class Ws{constructor(e,i,a){this.name=e,this.version=i,this.bt=a,12.2===Ws.vt((0,ce.z$)())&&Bi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Mt("SimpleDb","Removing database:",e),gu(window.indexedDB.deleteDatabase(e)).toPromise()}static Vt(){if(!(0,ce.hl)())return!1;if(Ws.St())return!0;const e=(0,ce.z$)(),i=Ws.vt(e),a=0<i&&i<10,l=Ws.Dt(e),p=0<l&&l<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||a||p)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static Nt(e,i){return e.store(i)}static vt(e){const i=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),a=i?i[1].split("_").slice(0,2).join("."):"-1";return Number(a)}static Dt(e){const i=e.match(/Android ([\d.]+)/i),a=i?i[1].split(".").slice(0,2).join("."):"-1";return Number(a)}xt(e){var i=this;return(0,m.Z)(function*(){return i.db||(Mt("SimpleDb","Opening database:",i.name),i.db=yield new Promise((a,l)=>{const p=indexedDB.open(i.name,i.version);p.onsuccess=C=>{a(C.target.result)},p.onblocked=()=>{l(new _o(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},p.onerror=C=>{const M=C.target.error;l("VersionError"===M.name?new _t(st.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===M.name?new _t(st.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+M):new _o(e,M))},p.onupgradeneeded=C=>{Mt("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',C.oldVersion),i.bt.kt(C.target.result,p.transaction,C.oldVersion,i.version).next(()=>{Mt("SimpleDb","Database upgrade to version "+i.version+" complete")})}})),i.Ot&&(i.db.onversionchange=a=>i.Ot(a)),i.db})()}Mt(e){this.Ot=e,this.db&&(this.db.onversionchange=i=>e(i))}runTransaction(e,i,a,l){var p=this;return(0,m.Z)(function*(){const C="readonly"===i;let M=0;for(;;){++M;try{p.db=yield p.xt(e);const W=Nc.open(p.db,e,C?"readonly":"readwrite",a),te=l(W).next(Ee=>(W.Pt(),Ee)).catch(Ee=>(W.abort(Ee),ft.reject(Ee))).toPromise();return te.catch(()=>{}),yield W.Rt,te}catch(W){const te="FirebaseError"!==W.name&&M<3;if(Mt("SimpleDb","Transaction failed with error:",W.message,"Retrying:",te),p.close(),!te)return Promise.reject(W)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Hl{constructor(e){this.$t=e,this.Ft=!1,this.Bt=null}get isDone(){return this.Ft}get Lt(){return this.Bt}set cursor(e){this.$t=e}done(){this.Ft=!0}Ut(e){this.Bt=e}delete(){return gu(this.$t.delete())}}class _o extends _t{constructor(e,i){super(st.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${i}`),this.name="IndexedDbTransactionError"}}function pu(s){return"IndexedDbTransactionError"===s.name}class Jf{constructor(e){this.store=e}put(e,i){let a;return void 0!==i?(Mt("SimpleDb","PUT",this.store.name,e,i),a=this.store.put(i,e)):(Mt("SimpleDb","PUT",this.store.name,"<auto-key>",e),a=this.store.put(e)),gu(a)}add(e){return Mt("SimpleDb","ADD",this.store.name,e,e),gu(this.store.add(e))}get(e){return gu(this.store.get(e)).next(i=>(void 0===i&&(i=null),Mt("SimpleDb","GET",this.store.name,e,i),i))}delete(e){return Mt("SimpleDb","DELETE",this.store.name,e),gu(this.store.delete(e))}count(){return Mt("SimpleDb","COUNT",this.store.name),gu(this.store.count())}qt(e,i){const a=this.options(e,i);if(a.index||"function"!=typeof this.store.getAll){const l=this.cursor(a),p=[];return this.Kt(l,(C,M)=>{p.push(M)}).next(()=>p)}{const l=this.store.getAll(a.range);return new ft((p,C)=>{l.onerror=M=>{C(M.target.error)},l.onsuccess=M=>{p(M.target.result)}})}}Gt(e,i){Mt("SimpleDb","DELETE ALL",this.store.name);const a=this.options(e,i);a.jt=!1;const l=this.cursor(a);return this.Kt(l,(p,C,M)=>M.delete())}Qt(e,i){let a;i?a=e:(a={},i=e);const l=this.cursor(a);return this.Kt(l,i)}Wt(e){const i=this.cursor({});return new ft((a,l)=>{i.onerror=p=>{const C=xc(p.target.error);l(C)},i.onsuccess=p=>{const C=p.target.result;C?e(C.primaryKey,C.value).next(M=>{M?C.continue():a()}):a()}})}Kt(e,i){const a=[];return new ft((l,p)=>{e.onerror=C=>{p(C.target.error)},e.onsuccess=C=>{const M=C.target.result;if(!M)return void l();const W=new Hl(M),te=i(M.primaryKey,M.value,W);if(te instanceof ft){const Ee=te.catch(Ne=>(W.done(),ft.reject(Ne)));a.push(Ee)}W.isDone?l():null===W.Lt?M.continue():M.continue(W.Lt)}}).next(()=>ft.waitFor(a))}options(e,i){let a;return void 0!==e&&("string"==typeof e?a=e:i=e),{index:a,range:i}}cursor(e){let i="next";if(e.reverse&&(i="prev"),e.index){const a=this.store.index(e.index);return e.jt?a.openKeyCursor(e.range,i):a.openCursor(e.range,i)}return this.store.openCursor(e.range,i)}}function gu(s){return new ft((e,i)=>{s.onsuccess=a=>{e(a.target.result)},s.onerror=a=>{const l=xc(a.target.error);i(l)}})}let vo=!1;function xc(s){const e=Ws.vt((0,ce.z$)());if(e>=12.2&&e<13){const i="An internal error was encountered in the Indexed Database server";if(s.message.indexOf(i)>=0){const a=new _t("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${i}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return vo||(vo=!0,setTimeout(()=>{throw a},0)),a}}return s}class Wl extends bd{constructor(e,i){super(),this.zt=e,this.currentSequenceNumber=i}}function xs(s,e){const i=Bt(s);return Ws.Nt(i.zt,e)}class da{constructor(e,i,a,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const p=this.mutations[l];p.key.isEqual(e.key)&&_c(p,e,a[l])}}applyToLocalView(e){for(const i of this.baseMutations)i.key.isEqual(e.key)&&vc(i,e,this.localWriteTime);for(const i of this.mutations)i.key.isEqual(e.key)&&vc(i,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(i=>{const a=e.get(i.key),l=a;this.applyToLocalView(l),a.isValidDocument()||l.convertToNoDocument(V.min())})}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),oi())}isEqual(e){return this.batchId===e.batchId&&T(this.mutations,e.mutations,(i,a)=>dd(i,a))&&T(this.baseMutations,e.baseMutations,(i,a)=>dd(i,a))}}class mu{constructor(e,i,a,l){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(e,i,a){Bn(e.mutations.length===a.length);let l=qf;const p=e.mutations;for(let C=0;C<p.length;C++)l=l.insert(p[C].key,a[C].version);return new mu(e,i,a,l)}}class Za{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ks{constructor(e,i,a,l,p=V.min(),C=V.min(),M=Hr.EMPTY_BYTE_STRING){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=p,this.lastLimboFreeSnapshotVersion=C,this.resumeToken=M}withSequenceNumber(e){return new Ks(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,i){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Xf{constructor(e){this.Ht=e}}function Td(s,e){let i;if(e.document)i=Ch(s.Ht,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const a=tn.fromSegments(e.noDocument.path),l=g(e.noDocument.readTime);i=Ji.newNoDocument(a,l),e.hasCommittedMutations&&i.setHasCommittedMutations()}else{if(!e.unknownDocument)return en();{const a=tn.fromSegments(e.unknownDocument.path),l=g(e.unknownDocument.version);i=Ji.newUnknownDocument(a,l)}}return e.readTime&&i.setReadTime(ha(e.readTime)),i}function Dd(s,e){const i=Ah(e.readTime),a=e.key.path.popLast().toArray();if(e.isFoundDocument()){const l={name:Yo(C=s.Ht,(M=e).key),fields:M.data.value.mapValue.fields,updateTime:Vu(C,M.version.toTimestamp())};return new ts(null,null,l,e.hasCommittedMutations,i,a)}var C,M;if(e.isNoDocument()){const l=e.key.path.toArray(),p=Qa(e.version),C=e.hasCommittedMutations;return new ts(null,new Th(l,p),null,C,i,a)}if(e.isUnknownDocument()){const l=e.key.path.toArray(),p=Qa(e.version);return new ts(new Dh(l,p),null,null,!0,i,a)}return en()}function Ah(s){const e=s.toTimestamp();return[e.seconds,e.nanoseconds]}function ha(s){const e=new O(s[0],s[1]);return V.fromTimestamp(e)}function Qa(s){const e=s.toTimestamp();return new yo(e.seconds,e.nanoseconds)}function g(s){const e=new O(s.seconds,s.nanoseconds);return V.fromTimestamp(e)}function d(s,e){const i=(e.baseMutations||[]).map(p=>Uu(s.Ht,p));for(let p=0;p<e.mutations.length-1;++p){const C=e.mutations[p];p+1<e.mutations.length&&void 0!==e.mutations[p+1].transform&&(C.updateTransforms=e.mutations[p+1].transform.fieldTransforms,e.mutations.splice(p+1,1),++p)}const a=e.mutations.map(p=>Uu(s.Ht,p)),l=O.fromMillis(e.localWriteTimeMs);return new da(e.batchId,l,i,a)}function h(s){const e=g(s.readTime),i=void 0!==s.lastLimboFreeSnapshotVersion?g(s.lastLimboFreeSnapshotVersion):V.min();let a;var l;return void 0!==s.query.documents?(Bn(1===(l=s.query).documents.length),a=io(tr(Ul(l.documents[0])))):a=io(vd(s.query)),new Ks(a,s.targetId,0,s.lastListenSequenceNumber,e,i,Hr.fromBase64String(s.resumeToken))}function E(s,e){const i=Qa(e.snapshotVersion),a=Qa(e.lastLimboFreeSnapshotVersion);let l;l=Nl(e.target)?es(s.Ht,e.target):_d(s.Ht,e.target);const p=e.resumeToken.toBase64();return new Ao(e.targetId,ou(e.target),i,p,e.sequenceNumber,a,l)}function L(s){const e=vd({parent:s.parent,structuredQuery:s.structuredQuery});return"LAST"===s.limitType?$o(e,e.limit,"L"):e}function G(s,e){return new Za(e.largestBatchId,Uu(s.Ht,e.overlayMutation))}function De(s,e){const i=e.path.lastSegment();return[s,Kr(e.path.popLast()),i]}class tt{getBundleMetadata(e,i){return Pt(e).get(i).next(a=>{if(a)return{id:(l=a).bundleId,createTime:g(l.createTime),version:l.version};var l})}saveBundleMetadata(e,i){return Pt(e).put({bundleId:(a=i).id,createTime:Qa(ao(a.createTime)),version:a.version});var a}getNamedQuery(e,i){return At(e).get(i).next(a=>{if(a)return{name:(l=a).name,query:L(l.bundledQuery),readTime:g(l.readTime)};var l})}saveNamedQuery(e,i){return At(e).put({name:(a=i).name,readTime:Qa(ao(a.readTime)),bundledQuery:a.bundledQuery});var a}}function Pt(s){return xs(s,qa.store)}function At(s){return xs(s,Bu.store)}class sn{constructor(e,i){this.O=e,this.userId=i}static Jt(e,i){return new sn(e,i.uid||"")}getOverlay(e,i){return cn(e).get(De(this.userId,i)).next(a=>a?G(this.O,a):null)}saveOverlays(e,i,a){const l=[];return a.forEach(p=>{const C=new Za(i,p);l.push(this.Yt(e,C))}),ft.waitFor(l)}removeOverlaysForBatchId(e,i,a){const l=new Set;i.forEach(C=>l.add(Kr(C.getCollectionPath())));const p=[];return l.forEach(C=>{const M=IDBKeyRange.bound([this.userId,C,a],[this.userId,C,a+1],!1,!0);p.push(cn(e).Gt(Fi.collectionPathOverlayIndex,M))}),ft.waitFor(p)}getOverlaysForCollection(e,i,a){const l=new Map,p=Kr(i),C=IDBKeyRange.bound([this.userId,p,a],[this.userId,p,Number.POSITIVE_INFINITY],!0);return cn(e).qt(Fi.collectionPathOverlayIndex,C).next(M=>{for(const W of M){const te=G(this.O,W);l.set(te.getKey(),te)}return l})}getOverlaysForCollectionGroup(e,i,a,l){const p=new Map;let C;const M=IDBKeyRange.bound([this.userId,i,a],[this.userId,i,Number.POSITIVE_INFINITY],!0);return cn(e).Qt({index:Fi.collectionGroupOverlayIndex,range:M},(W,te,Ee)=>{const Ne=G(this.O,te);p.size<l||Ne.largestBatchId===C?(p.set(Ne.getKey(),Ne),C=Ne.largestBatchId):Ee.done()}).next(()=>p)}Yt(e,i){return cn(e).put(function(a,l,p){const[C,M,W]=De(l,p.mutation.key);return new Fi(l,M,W,p.mutation.key.getCollectionGroup(),p.largestBatchId,yl(a.Ht,p.mutation))}(this.O,this.userId,i))}}function cn(s){return xs(s,Fi.store)}class _r{constructor(){}Xt(e,i){this.Zt(e,i),i.te()}Zt(e,i){if("nullValue"in e)this.ee(i,5);else if("booleanValue"in e)this.ee(i,10),i.ne(e.booleanValue?1:0);else if("integerValue"in e)this.ee(i,15),i.ne(br(e.integerValue));else if("doubleValue"in e){const a=br(e.doubleValue);isNaN(a)?this.ee(i,13):(this.ee(i,15),su(a)?i.ne(0):i.ne(a))}else if("timestampValue"in e){const a=e.timestampValue;this.ee(i,20),"string"==typeof a?i.se(a):(i.se(`${a.seconds||""}`),i.ne(a.nanos||0))}else if("stringValue"in e)this.ie(e.stringValue,i),this.re(i);else if("bytesValue"in e)this.ee(i,30),i.oe(fs(e.bytesValue)),this.re(i);else if("referenceValue"in e)this.ce(e.referenceValue,i);else if("geoPointValue"in e){const a=e.geoPointValue;this.ee(i,45),i.ne(a.latitude||0),i.ne(a.longitude||0)}else"mapValue"in e?So(e,bi)?this.ee(i,Number.MAX_SAFE_INTEGER):(this.ue(e.mapValue,i),this.re(i)):"arrayValue"in e?(this.ae(e.arrayValue,i),this.re(i)):en()}ie(e,i){this.ee(i,25),this.he(e,i)}he(e,i){i.se(e)}ue(e,i){const a=e.fields||{};this.ee(i,55);for(const l of Object.keys(a))this.ie(l,i),this.Zt(a[l],i)}ae(e,i){const a=e.values||[];this.ee(i,50);for(const l of a)this.Zt(l,i)}ce(e,i){this.ee(i,37),tn.fromName(e).path.forEach(a=>{this.ee(i,60),this.he(a,i)})}ee(e,i){e.ne(i)}re(e){e.ne(2)}}function Gs(s){if(0===s)return 8;let e=0;return s>>4==0&&(e+=4,s<<=4),s>>6==0&&(e+=2,s<<=2),s>>7==0&&(e+=1),e}function Ca(s){const e=64-function(i){let a=0;for(let l=0;l<8;++l){const p=Gs(255&i[l]);if(a+=p,8!==p)break}return a}(s);return Math.ceil(e/8)}_r.le=new _r;class Oc{constructor(){this.buffer=new Uint8Array(1024),this.position=0}fe(e){const i=e[Symbol.iterator]();let a=i.next();for(;!a.done;)this.de(a.value),a=i.next();this._e()}we(e){const i=e[Symbol.iterator]();let a=i.next();for(;!a.done;)this.me(a.value),a=i.next();this.ge()}ye(e){for(const i of e){const a=i.charCodeAt(0);if(a<128)this.de(a);else if(a<2048)this.de(960|a>>>6),this.de(128|63&a);else if(i<"\ud800"||"\udbff"<i)this.de(480|a>>>12),this.de(128|63&a>>>6),this.de(128|63&a);else{const l=i.codePointAt(0);this.de(240|l>>>18),this.de(128|63&l>>>12),this.de(128|63&l>>>6),this.de(128|63&l)}}this._e()}pe(e){for(const i of e){const a=i.charCodeAt(0);if(a<128)this.me(a);else if(a<2048)this.me(960|a>>>6),this.me(128|63&a);else if(i<"\ud800"||"\udbff"<i)this.me(480|a>>>12),this.me(128|63&a>>>6),this.me(128|63&a);else{const l=i.codePointAt(0);this.me(240|l>>>18),this.me(128|63&l>>>12),this.me(128|63&l>>>6),this.me(128|63&l)}}this.ge()}Ie(e){const i=this.Ee(e),a=Ca(i);this.Te(1+a),this.buffer[this.position++]=255&a;for(let l=i.length-a;l<i.length;++l)this.buffer[this.position++]=255&i[l]}Ae(e){const i=this.Ee(e),a=Ca(i);this.Te(1+a),this.buffer[this.position++]=~(255&a);for(let l=i.length-a;l<i.length;++l)this.buffer[this.position++]=~(255&i[l])}Re(){this.Pe(255),this.Pe(255)}be(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Te(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ve(){return this.buffer.slice(0,this.position)}Ee(e){const i=function(l){const p=new DataView(new ArrayBuffer(8));return p.setFloat64(0,l,!1),new Uint8Array(p.buffer)}(e),a=0!=(128&i[0]);i[0]^=a?255:128;for(let l=1;l<i.length;++l)i[l]^=a?255:0;return i}de(e){const i=255&e;0===i?(this.Pe(0),this.Pe(255)):255===i?(this.Pe(255),this.Pe(0)):this.Pe(i)}me(e){const i=255&e;0===i?(this.ve(0),this.ve(255)):255===i?(this.ve(255),this.ve(0)):this.ve(e)}_e(){this.Pe(0),this.Pe(1)}ge(){this.ve(0),this.ve(1)}Pe(e){this.Te(1),this.buffer[this.position++]=e}ve(e){this.Te(1),this.buffer[this.position++]=~e}Te(e){const i=e+this.position;if(i<=this.buffer.length)return;let a=2*this.buffer.length;a<i&&(a=i);const l=new Uint8Array(a);l.set(this.buffer),this.buffer=l}}class Sd{constructor(e){this.Se=e}oe(e){this.Se.fe(e)}se(e){this.Se.ye(e)}ne(e){this.Se.Ie(e)}te(){this.Se.Re()}}class Rh{constructor(e){this.Se=e}oe(e){this.Se.we(e)}se(e){this.Se.pe(e)}ne(e){this.Se.Ae(e)}te(){this.Se.be()}}class Ad{constructor(){this.Se=new Oc,this.De=new Sd(this.Se),this.Ce=new Rh(this.Se)}seed(e){this.Se.seed(e)}Ne(e){return 0===e?this.De:this.Ce}Ve(){return this.Se.Ve()}reset(){this.Se.reset()}}class Kl{constructor(e,i,a,l){this.indexId=e,this.documentKey=i,this.arrayValue=a,this.directionalValue=l}}function Pc(s,e){let i=s.indexId-e.indexId;return 0!==i?i:(i=tn.comparator(s.documentKey,e.documentKey),0!==i?i:(i=kc(s.arrayValue,e.arrayValue),0!==i?i:kc(s.directionalValue,e.directionalValue)))}function kc(s,e){for(let i=0;i<s.length&&i<e.length;++i){const a=s[i]-e[i];if(0!==a)return a}return s.length-e.length}class Gl{constructor(){this.xe=new zl}addToCollectionParentIndex(e,i){return this.xe.add(i),ft.resolve()}getCollectionParents(e,i){return ft.resolve(this.xe.getEntries(i))}addFieldIndex(e,i){return ft.resolve()}deleteFieldIndex(e,i){return ft.resolve()}getDocumentsMatchingTarget(e,i,a){return ft.resolve(oi())}getFieldIndex(e,i){return ft.resolve(null)}getFieldIndexes(e,i){return ft.resolve([])}getNextCollectionGroupToUpdate(e){return ft.resolve(null)}updateCollectionGroup(e,i,a){return ft.resolve()}updateIndexEntries(e,i){return ft.resolve()}}class zl{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i]||new Wi(wt.comparator),p=!l.has(a);return this.index[i]=l.add(a),p}has(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(e){return(this.index[e]||new Wi(wt.comparator)).toArray()}}class Rd{constructor(e){this.user=e,this.ke=new zl,this.uid=e.uid||""}addToCollectionParentIndex(e,i){if(!this.ke.has(i)){const a=i.lastSegment(),l=i.popLast();e.addOnCommittedListener(()=>{this.ke.add(i)});const p={collectionId:a,parent:Kr(l)};return Fc(e).put(p)}return ft.resolve()}getCollectionParents(e,i){const a=[],l=IDBKeyRange.bound([i,""],[I(i),""],!1,!0);return Fc(e).qt(l).next(p=>{for(const C of p){if(C.collectionId!==i)break;a.push(la(C.parent))}return a})}addFieldIndex(e,i){const a=Md(e),l=new Ro((p=i).indexId,p.collectionGroup,p.fields.map(C=>[C.fieldPath.canonicalString(),C.kind]));var p;return delete l.indexId,a.add(l).next()}deleteFieldIndex(e,i){const a=Md(e),l=Nd(e),p=Lc(e);return a.delete(i.indexId).next(()=>l.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0))).next(()=>p.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,i,a){return ft.resolve(oi())}getFieldIndex(e,i){return ft.resolve(null)}Oe(e,i){const a=new Ad;for(const l of e.fields.filter(C=>2!==C.kind)){const p=i.data.field(l.fieldPath);if(null==p)return null;const C=a.Ne(l.kind);_r.le.Xt(p,C)}return a.Ve()}Me(e){const i=new Ad;return _r.le.Xt(e,i.Ne(0)),i.Ve()}getFieldIndexes(e,i){const a=Md(e),l=Nd(e);return(i?a.qt(Ro.collectionGroupIndex,IDBKeyRange.bound(i,i)):a.qt()).next(p=>{const C=[];return ft.forEach(p,M=>l.get([M.indexId,this.uid]).next(W=>{C.push(function(te,Ee){const Ne=Ee?new go(Ee.sequenceNumber,new ja(g(Ee.readTime),new tn(la(Ee.documentKey)),Ee.largestBatchId)):go.empty(),it=te.fields.map(([Et,Rt])=>new Hs(wn.fromServerFormat(Et),Rt));return new fc(te.indexId,te.collectionGroup,it,Ne)}(M,W))})).next(()=>C)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(i=>0===i.length?null:(i.sort((a,l)=>a.indexState.sequenceNumber-l.indexState.sequenceNumber),i[0].collectionGroup))}updateCollectionGroup(e,i,a){const l=Md(e),p=Nd(e);return this.$e(e).next(C=>l.qt(Ro.collectionGroupIndex,IDBKeyRange.bound(i,i)).next(M=>ft.forEach(M,W=>{return p.put(new wa(W.indexId,this.user.uid||"",C,Qa((it=a).readTime),Kr(it.documentKey.path),it.largestBatchId));var it})))}updateIndexEntries(e,i){const a=new Map;return ft.forEach(i,(l,p)=>{const C=a.get(l.collectionGroup);return(C?ft.resolve(C):this.getFieldIndexes(e,l.collectionGroup)).next(M=>(a.set(l.collectionGroup,M),ft.forEach(M,W=>this.Fe(e,l,W).next(te=>{const Ee=this.Be(p,W);return te.isEqual(Ee)?ft.resolve():this.Le(e,p,te,Ee)}))))})}Ue(e,i,a){return Lc(e).put(new ki(a.indexId,this.uid,a.arrayValue,a.directionalValue,Kr(i.key.path)))}qe(e,i,a){return Lc(e).delete([a.indexId,this.uid,a.arrayValue,a.directionalValue,Kr(i.key.path)])}Fe(e,i,a){const l=Lc(e);let p=new Wi(Pc);return l.Qt({index:ki.documentKeyIndex,range:IDBKeyRange.only([a.indexId,this.uid,Kr(i.path)])},(C,M)=>{p=p.add(new Kl(a.indexId,i,M.arrayValue,M.directionalValue))}).next(()=>p)}Be(e,i){let a=new Wi(Pc);const l=this.Oe(i,e);if(null==l)return a;const p=i.fields.find(M=>2===M.kind);if(null!=p){const C=e.data.field(p.fieldPath);if(Mu(C))for(const M of C.arrayValue.values||[])a=a.add(new Kl(i.indexId,e.key,this.Me(M),l))}else a=a.add(new Kl(i.indexId,e.key,new Uint8Array,l));return a}Le(e,i,a,l){Mt("IndexedDbIndexManager","Updating index entries for document '%s'",i.key);const p=[];return function(C,M,W,te,Ee){const Ne=C.getIterator(),it=M.getIterator();let Et=gl(Ne),Rt=gl(it);for(;Et||Rt;){let Dn=!1,vr=!1;if(Et&&Rt){const Ps=W(Et,Rt);Ps<0?vr=!0:Ps>0&&(Dn=!0)}else null!=Et?vr=!0:Dn=!0;Dn?(te(Rt),Rt=gl(it)):vr?(Ee(Et),Et=gl(Ne)):(Et=gl(Ne),Rt=gl(it))}}(a,l,Pc,C=>{p.push(this.Ue(e,i,C))},C=>{p.push(this.qe(e,i,C))}),ft.waitFor(p)}$e(e){let i=1;return Nd(e).Qt({index:wa.sequenceNumberIndex,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(a,l,p)=>{p.done(),i=l.sequenceNumber+1}).next(()=>i)}}function Fc(s){return xs(s,za.store)}function Lc(s){return xs(s,ki.store)}function Md(s){return xs(s,Ro.store)}function Nd(s){return xs(s,wa.store)}const _l={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Jo{constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}static withCacheSize(e){return new Jo(e,Jo.DEFAULT_COLLECTION_PERCENTILE,Jo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function ep(s,e,i){const a=s.store(Pi.store),l=s.store(Ns.store),p=[],C=IDBKeyRange.only(i.batchId);let M=0;const W=a.Qt({range:C},(Ee,Ne,it)=>(M++,it.delete()));p.push(W.next(()=>{Bn(1===M)}));const te=[];for(const Ee of i.mutations){const Ne=Ns.key(e,Ee.key.path,i.batchId);p.push(l.delete(Ne)),te.push(Ee.key)}return ft.waitFor(p).next(()=>te)}function Mh(s){if(!s)return 0;let e;if(s.document)e=s.document;else if(s.unknownDocument)e=s.unknownDocument;else{if(!s.noDocument)throw en();e=s.noDocument}return JSON.stringify(e).length}Jo.DEFAULT_COLLECTION_PERCENTILE=10,Jo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jo.DEFAULT=new Jo(41943040,Jo.DEFAULT_COLLECTION_PERCENTILE,Jo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jo.DISABLED=new Jo(-1,0,0);class Vc{constructor(e,i,a,l){this.userId=e,this.O=i,this.indexManager=a,this.referenceDelegate=l,this.Ke={}}static Jt(e,i,a,l){Bn(""!==e.uid);const p=e.isAuthenticated()?e.uid:"";return new Vc(p,i,a,l)}checkEmpty(e){let i=!0;const a=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return $u(e).Qt({index:Pi.userMutationsIndex,range:a},(l,p,C)=>{i=!1,C.done()}).next(()=>i)}addMutationBatch(e,i,a,l){const p=ql(e),C=$u(e);return C.add({}).next(M=>{Bn("number"==typeof M);const W=new da(M,i,a,l),te=function(it,Et,Rt){const Dn=Rt.baseMutations.map(Ps=>yl(it.Ht,Ps)),vr=Rt.mutations.map(Ps=>yl(it.Ht,Ps));return new Pi(Et,Rt.batchId,Rt.localWriteTime.toMillis(),Dn,vr)}(this.O,this.userId,W),Ee=[];let Ne=new Wi((it,Et)=>A(it.canonicalString(),Et.canonicalString()));for(const it of l){const Et=Ns.key(this.userId,it.key.path,M);Ne=Ne.add(it.key.path.popLast()),Ee.push(C.put(te)),Ee.push(p.put(Et,Ns.PLACEHOLDER))}return Ne.forEach(it=>{Ee.push(this.indexManager.addToCollectionParentIndex(e,it))}),e.addOnCommittedListener(()=>{this.Ke[M]=W.keys()}),ft.waitFor(Ee).next(()=>W)})}lookupMutationBatch(e,i){return $u(e).get(i).next(a=>a?(Bn(a.userId===this.userId),d(this.O,a)):null)}Ge(e,i){return this.Ke[i]?ft.resolve(this.Ke[i]):this.lookupMutationBatch(e,i).next(a=>{if(a){const l=a.keys();return this.Ke[i]=l,l}return null})}getNextMutationBatchAfterBatchId(e,i){const a=i+1,l=IDBKeyRange.lowerBound([this.userId,a]);let p=null;return $u(e).Qt({index:Pi.userMutationsIndex,range:l},(C,M,W)=>{M.userId===this.userId&&(Bn(M.batchId>=a),p=d(this.O,M)),W.done()}).next(()=>p)}getHighestUnacknowledgedBatchId(e){const i=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let a=-1;return $u(e).Qt({index:Pi.userMutationsIndex,range:i,reverse:!0},(l,p,C)=>{a=p.batchId,C.done()}).next(()=>a)}getAllMutationBatches(e){const i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return $u(e).qt(Pi.userMutationsIndex,i).next(a=>a.map(l=>d(this.O,l)))}getAllMutationBatchesAffectingDocumentKey(e,i){const a=Ns.prefixForPath(this.userId,i.path),l=IDBKeyRange.lowerBound(a),p=[];return ql(e).Qt({range:l},(C,M,W)=>{const[te,Ee,Ne]=C,it=la(Ee);if(te===this.userId&&i.path.isEqual(it))return $u(e).get(Ne).next(Et=>{if(!Et)throw en();Bn(Et.userId===this.userId),p.push(d(this.O,Et))});W.done()}).next(()=>p)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Wi(A);const l=[];return i.forEach(p=>{const C=Ns.prefixForPath(this.userId,p.path),M=IDBKeyRange.lowerBound(C),W=ql(e).Qt({range:M},(te,Ee,Ne)=>{const[it,Et,Rt]=te,Dn=la(Et);it===this.userId&&p.path.isEqual(Dn)?a=a.add(Rt):Ne.done()});l.push(W)}),ft.waitFor(l).next(()=>this.je(e,a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,l=a.length+1,p=Ns.prefixForPath(this.userId,a),C=IDBKeyRange.lowerBound(p);let M=new Wi(A);return ql(e).Qt({range:C},(W,te,Ee)=>{const[Ne,it,Et]=W,Rt=la(it);Ne===this.userId&&a.isPrefixOf(Rt)?Rt.length===l&&(M=M.add(Et)):Ee.done()}).next(()=>this.je(e,M))}je(e,i){const a=[],l=[];return i.forEach(p=>{l.push($u(e).get(p).next(C=>{if(null===C)throw en();Bn(C.userId===this.userId),a.push(d(this.O,C))}))}),ft.waitFor(l).next(()=>a)}removeMutationBatch(e,i){return ep(e.zt,this.userId,i).next(a=>(e.addOnCommittedListener(()=>{this.Qe(i.batchId)}),ft.forEach(a,l=>this.referenceDelegate.markPotentiallyOrphaned(e,l))))}Qe(e){delete this.Ke[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(i=>{if(!i)return ft.resolve();const a=IDBKeyRange.lowerBound(Ns.prefixForUser(this.userId)),l=[];return ql(e).Qt({range:a},(p,C,M)=>{if(p[0]===this.userId){const W=la(p[1]);l.push(W)}else M.done()}).next(()=>{Bn(0===l.length)})})}containsKey(e,i){return rm(e,this.userId,i)}We(e){return tp(e).get(this.userId).next(i=>i||new Oa(this.userId,-1,""))}}function rm(s,e,i){const a=Ns.prefixForPath(e,i.path),l=a[1],p=IDBKeyRange.lowerBound(a);let C=!1;return ql(s).Qt({range:p,jt:!0},(M,W,te)=>{const[Ee,Ne,it]=M;Ee===e&&Ne===l&&(C=!0),te.done()}).next(()=>C)}function $u(s){return xs(s,Pi.store)}function ql(s){return xs(s,Ns.store)}function tp(s){return xs(s,Oa.store)}class Hu{constructor(e){this.ze=e}next(){return this.ze+=2,this.ze}static He(){return new Hu(0)}static Je(){return new Hu(-1)}}class im{constructor(e,i){this.referenceDelegate=e,this.O=i}allocateTargetId(e){return this.Ye(e).next(i=>{const a=new Hu(i.highestTargetId);return i.highestTargetId=a.next(),this.Xe(e,i).next(()=>i.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Ye(e).next(i=>V.fromTimestamp(new O(i.lastRemoteSnapshotVersion.seconds,i.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Ye(e).next(i=>i.highestListenSequenceNumber)}setTargetsMetadata(e,i,a){return this.Ye(e).next(l=>(l.highestListenSequenceNumber=i,a&&(l.lastRemoteSnapshotVersion=a.toTimestamp()),i>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=i),this.Xe(e,l)))}addTargetData(e,i){return this.Ze(e,i).next(()=>this.Ye(e).next(a=>(a.targetCount+=1,this.tn(i,a),this.Xe(e,a))))}updateTargetData(e,i){return this.Ze(e,i)}removeTargetData(e,i){return this.removeMatchingKeysForTargetId(e,i.targetId).next(()=>Wu(e).delete(i.targetId)).next(()=>this.Ye(e)).next(a=>(Bn(a.targetCount>0),a.targetCount-=1,this.Xe(e,a)))}removeTargets(e,i,a){let l=0;const p=[];return Wu(e).Qt((C,M)=>{const W=h(M);W.sequenceNumber<=i&&null===a.get(W.targetId)&&(l++,p.push(this.removeTargetData(e,W)))}).next(()=>ft.waitFor(p)).next(()=>l)}forEachTarget(e,i){return Wu(e).Qt((a,l)=>{const p=h(l);i(p)})}Ye(e){return xd(e).get(Wo.key).next(i=>(Bn(null!==i),i))}Xe(e,i){return xd(e).put(Wo.key,i)}Ze(e,i){return Wu(e).put(E(this.O,i))}tn(e,i){let a=!1;return e.targetId>i.highestTargetId&&(i.highestTargetId=e.targetId,a=!0),e.sequenceNumber>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e.sequenceNumber,a=!0),a}getTargetCount(e){return this.Ye(e).next(i=>i.targetCount)}getTargetData(e,i){const a=ou(i),l=IDBKeyRange.bound([a,Number.NEGATIVE_INFINITY],[a,Number.POSITIVE_INFINITY]);let p=null;return Wu(e).Qt({range:l,index:Ao.queryTargetsIndexName},(C,M,W)=>{const te=h(M);sa(i,te.target)&&(p=te,W.done())}).next(()=>p)}addMatchingKeys(e,i,a){const l=[],p=Ku(e);return i.forEach(C=>{const M=Kr(C.path);l.push(p.put(new lo(a,M))),l.push(this.referenceDelegate.addReference(e,a,C))}),ft.waitFor(l)}removeMatchingKeys(e,i,a){const l=Ku(e);return ft.forEach(i,p=>{const C=Kr(p.path);return ft.waitFor([l.delete([a,C]),this.referenceDelegate.removeReference(e,a,p)])})}removeMatchingKeysForTargetId(e,i){const a=Ku(e),l=IDBKeyRange.bound([i],[i+1],!1,!0);return a.delete(l)}getMatchingKeysForTargetId(e,i){const a=IDBKeyRange.bound([i],[i+1],!1,!0),l=Ku(e);let p=oi();return l.Qt({range:a,jt:!0},(C,M,W)=>{const te=la(C[1]),Ee=new tn(te);p=p.add(Ee)}).next(()=>p)}containsKey(e,i){const a=Kr(i.path),l=IDBKeyRange.bound([a],[I(a)],!1,!0);let p=0;return Ku(e).Qt({index:lo.documentTargetsIndex,jt:!0,range:l},([C,M],W,te)=>{0!==C&&(p++,te.done())}).next(()=>p>0)}Tt(e,i){return Wu(e).get(i).next(a=>a?h(a):null)}}function Wu(s){return xs(s,Ao.store)}function xd(s){return xs(s,Wo.store)}function Ku(s){return xs(s,lo.store)}function Gu(s){return Nh.apply(this,arguments)}function Nh(){return(Nh=(0,m.Z)(function*(s){if(s.code!==st.FAILED_PRECONDITION||s.message!==$l)throw s;Mt("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function xh([s,e],[i,a]){const l=A(s,i);return 0===l?A(e,a):l}class Od{constructor(e){this.en=e,this.buffer=new Wi(xh),this.nn=0}sn(){return++this.nn}rn(e){const i=[e,this.sn()];if(this.buffer.size<this.en)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();xh(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class i_{constructor(e,i){this.garbageCollector=e,this.asyncQueue=i,this.on=!1,this.cn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.un(e)}stop(){this.cn&&(this.cn.cancel(),this.cn=null)}get started(){return null!==this.cn}un(e){var i=this;const a=this.on?3e5:6e4;Mt("LruGarbageCollector",`Garbage collection scheduled in ${a}ms`),this.cn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",a,(0,m.Z)(function*(){i.cn=null,i.on=!0;try{yield e.collectGarbage(i.garbageCollector)}catch(l){pu(l)?Mt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",l):yield Gu(l)}yield i.un(e)}))}}class sm{constructor(e,i){this.an=e,this.params=i}calculateTargetCount(e,i){return this.an.hn(e).next(a=>Math.floor(i/100*a))}nthSequenceNumber(e,i){if(0===i)return ft.resolve(Ni.A);const a=new Od(i);return this.an.forEachTarget(e,l=>a.rn(l.sequenceNumber)).next(()=>this.an.ln(e,l=>a.rn(l))).next(()=>a.maxValue)}removeTargets(e,i,a){return this.an.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.an.removeOrphanedDocuments(e,i)}collect(e,i){return-1===this.params.cacheSizeCollectionThreshold?(Mt("LruGarbageCollector","Garbage collection skipped; disabled"),ft.resolve(_l)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(Mt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_l):this.fn(e,i))}getCacheSize(e){return this.an.getCacheSize(e)}fn(e,i){let a,l,p,C,M,W,te;const Ee=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Ne=>(Ne>this.params.maximumSequenceNumbersToCollect?(Mt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ne}`),l=this.params.maximumSequenceNumbersToCollect):l=Ne,C=Date.now(),this.nthSequenceNumber(e,l))).next(Ne=>(a=Ne,M=Date.now(),this.removeTargets(e,a,i))).next(Ne=>(p=Ne,W=Date.now(),this.removeOrphanedDocuments(e,a))).next(Ne=>(te=Date.now(),Ra()<=Ce.in.DEBUG&&Mt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${C-Ee}ms\n\tDetermined least recently used ${l} in `+(M-C)+`ms\n\tRemoved ${p} targets in `+(W-M)+`ms\n\tRemoved ${Ne} documents in `+(te-W)+`ms\nTotal Duration: ${te-Ee}ms`),ft.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:p,documentsRemoved:Ne})))}}class s_{constructor(e,i){this.db=e,this.garbageCollector=new sm(this,i)}hn(e){const i=this.dn(e);return this.db.getTargetCache().getTargetCount(e).next(a=>i.next(l=>a+l))}dn(e){let i=0;return this.ln(e,a=>{i++}).next(()=>i)}forEachTarget(e,i){return this.db.getTargetCache().forEachTarget(e,i)}ln(e,i){return this._n(e,(a,l)=>i(l))}addReference(e,i,a){return Oh(e,a)}removeReference(e,i,a){return Oh(e,a)}removeTargets(e,i,a){return this.db.getTargetCache().removeTargets(e,i,a)}markPotentiallyOrphaned(e,i){return Oh(e,i)}wn(e,i){return function(a,l){let p=!1;return tp(a).Wt(C=>rm(a,C,l).next(M=>(M&&(p=!0),ft.resolve(!M)))).next(()=>p)}(e,i)}removeOrphanedDocuments(e,i){const a=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let p=0;return this._n(e,(C,M)=>{if(M<=i){const W=this.wn(e,C).next(te=>{if(!te)return p++,a.getEntry(e,C).next(()=>(a.removeEntry(C,V.min()),Ku(e).delete([0,Kr(C.path)])))});l.push(W)}}).next(()=>ft.waitFor(l)).next(()=>a.apply(e)).next(()=>p)}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,a)}updateLimboDocument(e,i){return Oh(e,i)}_n(e,i){const a=Ku(e);let l,p=Ni.A;return a.Qt({index:lo.documentTargetsIndex},([C,M],{path:W,sequenceNumber:te})=>{0===C?(p!==Ni.A&&i(new tn(la(l)),p),p=te,l=W):p=Ni.A}).next(()=>{p!==Ni.A&&i(new tn(la(l)),p)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Oh(s,e){return Ku(s).put((a=s.currentSequenceNumber,new lo(0,Kr(e.path),a)));var a}class Zl{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={}}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(void 0!==a)for(const[l,p]of a)if(this.equalsFn(l,e))return p}has(e){return void 0!==this.get(e)}set(e,i){const a=this.mapKeyFn(e),l=this.inner[a];if(void 0!==l){for(let p=0;p<l.length;p++)if(this.equalsFn(l[p][0],e))return void(l[p]=[e,i]);l.push([e,i])}else this.inner[a]=[[e,i]]}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(void 0===a)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return 1===a.length?delete this.inner[i]:a.splice(l,1),!0;return!1}forEach(e){fe(this.inner,(i,a)=>{for(const[l,p]of a)e(l,p)})}isEmpty(){return Oe(this.inner)}}class Ph{constructor(){this.changes=new Zl(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ji.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return void 0!==a?ft.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class om{constructor(e){this.O=e}setIndexManager(e){this.indexManager=e}addEntry(e,i,a){return vl(e).put(Pd(i),a)}removeEntry(e,i){const a=vl(e),l=Pd(i);return a.delete(l)}updateMetadata(e,i){return this.getMetadata(e).next(a=>(a.byteSize+=i,this.mn(e,a)))}getEntry(e,i){return vl(e).get(Pd(i)).next(a=>this.gn(i,a))}yn(e,i){return vl(e).get(Pd(i)).next(a=>({document:this.gn(i,a),size:Mh(a)}))}getEntries(e,i){let a=oo();return this.pn(e,i,(l,p)=>{const C=this.gn(l,p);a=a.insert(l,C)}).next(()=>a)}In(e,i){let a=oo(),l=new Ii(tn.comparator);return this.pn(e,i,(p,C)=>{const M=this.gn(p,C);a=a.insert(p,M),l=l.insert(p,Mh(C))}).next(()=>({documents:a,En:l}))}pn(e,i,a){if(i.isEmpty())return ft.resolve();const l=IDBKeyRange.bound(i.first().path.toArray(),i.last().path.toArray()),p=i.getIterator();let C=p.getNext();return vl(e).Qt({range:l},(M,W,te)=>{const Ee=tn.fromSegments(M);for(;C&&tn.comparator(C,Ee)<0;)a(C,null),C=p.getNext();C&&C.isEqual(Ee)&&(a(C,W),C=p.hasNext()?p.getNext():null),C?te.Ut(C.path.toArray()):te.done()}).next(()=>{for(;C;)a(C,null),C=p.hasNext()?p.getNext():null})}getAll(e,i,a){let l=oo();const p=i.length+1,C={};if(a.isEqual(V.min())){const M=i.toArray();C.range=IDBKeyRange.lowerBound(M)}else{const M=i.toArray(),W=Ah(a);C.range=IDBKeyRange.lowerBound([M,W],!0),C.index=ts.collectionReadTimeIndex}return vl(e).Qt(C,(M,W,te)=>{if(M.length!==p)return;const Ee=this.gn(tn.fromSegments(M),W);i.isPrefixOf(Ee.key.path)?l=l.insert(Ee.key,Ee):te.done()}).next(()=>l)}newChangeBuffer(e){return new YE(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(i=>i.byteSize)}getMetadata(e){return np(e).get(Pa.key).next(i=>(Bn(!!i),i))}mn(e,i){return np(e).put(Pa.key,i)}gn(e,i){if(i){const a=Td(this.O,i);if(!a.isNoDocument()||!a.version.isEqual(V.min()))return a}return Ji.newInvalidDocument(e)}}class YE extends Ph{constructor(e,i){super(),this.Tn=e,this.trackRemovals=i,this.An=new Zl(a=>a.toString(),(a,l)=>a.isEqual(l))}applyChanges(e){const i=[];let a=0,l=new Wi((p,C)=>A(p.canonicalString(),C.canonicalString()));return this.changes.forEach((p,C)=>{const M=this.An.get(p);if(C.isValidDocument()){const W=Dd(this.Tn.O,C);l=l.add(p.path.popLast()),a+=Mh(W)-M,i.push(this.Tn.addEntry(e,p,W))}else if(a-=M,this.trackRemovals){const W=Dd(this.Tn.O,C.convertToNoDocument(V.min()));i.push(this.Tn.addEntry(e,p,W))}else i.push(this.Tn.removeEntry(e,p))}),l.forEach(p=>{i.push(this.Tn.indexManager.addToCollectionParentIndex(e,p))}),i.push(this.Tn.updateMetadata(e,a)),ft.waitFor(i)}getFromCache(e,i){return this.Tn.yn(e,i).next(a=>(this.An.set(i,a.size),a.document))}getAllFromCache(e,i){return this.Tn.In(e,i).next(({documents:a,En:l})=>(l.forEach((p,C)=>{this.An.set(p,C)}),a))}}function np(s){return xs(s,Pa.store)}function vl(s){return xs(s,ts.store)}function Pd(s){return s.path.toArray()}class o_{constructor(e){this.O=e}kt(e,i,a,l){const p=new Nc("createOrUpgrade",i);var M;a<1&&l>=1&&(e.createObjectStore(uo.store),(M=e).createObjectStore(Oa.store,{keyPath:Oa.keyPath}),M.createObjectStore(Pi.store,{keyPath:Pi.keyPath,autoIncrement:!0}).createIndex(Pi.userMutationsIndex,Pi.userMutationsKeyPath,{unique:!0}),M.createObjectStore(Ns.store),am(e),function(M){M.createObjectStore(ts.store)}(e));let C=ft.resolve();return a<3&&l>=3&&(0!==a&&(function(M){M.deleteObjectStore(lo.store),M.deleteObjectStore(Ao.store),M.deleteObjectStore(Wo.store)}(e),am(e)),C=C.next(()=>function(M){const W=M.store(Wo.store),te=new Wo(0,0,V.min().toTimestamp(),0);return W.put(Wo.key,te)}(p))),a<4&&l>=4&&(0!==a&&(C=C.next(()=>function(M,W){return W.store(Pi.store).qt().next(te=>{M.deleteObjectStore(Pi.store),M.createObjectStore(Pi.store,{keyPath:Pi.keyPath,autoIncrement:!0}).createIndex(Pi.userMutationsIndex,Pi.userMutationsKeyPath,{unique:!0});const Ee=W.store(Pi.store),Ne=te.map(it=>Ee.put(it));return ft.waitFor(Ne)})}(e,p))),C=C.next(()=>{!function(M){M.createObjectStore(ca.store,{keyPath:ca.keyPath})}(e)})),a<5&&l>=5&&(C=C.next(()=>this.Rn(p))),a<6&&l>=6&&(C=C.next(()=>(function(M){M.createObjectStore(Pa.store)}(e),this.Pn(p)))),a<7&&l>=7&&(C=C.next(()=>this.bn(p))),a<8&&l>=8&&(C=C.next(()=>this.vn(e,p))),a<9&&l>=9&&(C=C.next(()=>{(function(M){M.objectStoreNames.contains("remoteDocumentChanges")&&M.deleteObjectStore("remoteDocumentChanges")})(e),function(M){const W=M.objectStore(ts.store);W.createIndex(ts.readTimeIndex,ts.readTimeIndexPath,{unique:!1}),W.createIndex(ts.collectionReadTimeIndex,ts.collectionReadTimeIndexPath,{unique:!1})}(i)})),a<10&&l>=10&&(C=C.next(()=>this.Vn(p))),a<11&&l>=11&&(C=C.next(()=>{(function(M){M.createObjectStore(qa.store,{keyPath:qa.keyPath})})(e),function(M){M.createObjectStore(Bu.store,{keyPath:Bu.keyPath})}(e)})),a<12&&l>=12&&(C=C.next(()=>{!function(M){const W=M.createObjectStore(Fi.store,{keyPath:Fi.keyPath});W.createIndex(Fi.collectionPathOverlayIndex,Fi.collectionPathOverlayIndexPath,{unique:!1}),W.createIndex(Fi.collectionGroupOverlayIndex,Fi.collectionGroupOverlayIndexPath,{unique:!1})}(e)})),a<13&&l>=13&&(C=C.next(()=>{!function(M){M.createObjectStore(Ro.store,{keyPath:Ro.keyPath,autoIncrement:!0}).createIndex(Ro.collectionGroupIndex,Ro.collectionGroupIndexPath,{unique:!1}),M.createObjectStore(wa.store,{keyPath:wa.keyPath}).createIndex(wa.sequenceNumberIndex,wa.sequenceNumberIndexPath,{unique:!1}),M.createObjectStore(ki.store,{keyPath:ki.keyPath}).createIndex(ki.documentKeyIndex,ki.documentKeyIndexPath,{unique:!1})}(e)})),C}Pn(e){let i=0;return e.store(ts.store).Qt((a,l)=>{i+=Mh(l)}).next(()=>{const a=new Pa(i);return e.store(Pa.store).put(Pa.key,a)})}Rn(e){const i=e.store(Oa.store),a=e.store(Pi.store);return i.qt().next(l=>ft.forEach(l,p=>{const C=IDBKeyRange.bound([p.userId,-1],[p.userId,p.lastAcknowledgedBatchId]);return a.qt(Pi.userMutationsIndex,C).next(M=>ft.forEach(M,W=>{Bn(W.userId===p.userId);const te=d(this.O,W);return ep(e,p.userId,te).next(()=>{})}))}))}bn(e){const i=e.store(lo.store),a=e.store(ts.store);return e.store(Wo.store).get(Wo.key).next(l=>{const p=[];return a.Qt((C,M)=>{const W=new wt(C),te=[0,Kr(W)];p.push(i.get(te).next(Ee=>Ee?ft.resolve():i.put(new lo(0,Kr(W),l.highestListenSequenceNumber))))}).next(()=>ft.waitFor(p))})}vn(e,i){e.createObjectStore(za.store,{keyPath:za.keyPath});const a=i.store(za.store),l=new zl,p=C=>{if(l.add(C)){const M=C.lastSegment(),W=C.popLast();return a.put({collectionId:M,parent:Kr(W)})}};return i.store(ts.store).Qt({jt:!0},(C,M)=>{const W=new wt(C);return p(W.popLast())}).next(()=>i.store(Ns.store).Qt({jt:!0},([C,M,W],te)=>{const Ee=la(M);return p(Ee.popLast())}))}Vn(e){const i=e.store(Ao.store);return i.Qt((a,l)=>{const p=h(l),C=E(this.O,p);return i.put(C)})}}function am(s){s.createObjectStore(lo.store,{keyPath:lo.keyPath}).createIndex(lo.documentTargetsIndex,lo.documentTargetsKeyPath,{unique:!0}),s.createObjectStore(Ao.store,{keyPath:Ao.keyPath}).createIndex(Ao.queryTargetsIndexName,Ao.queryTargetsKeyPath,{unique:!0}),s.createObjectStore(Wo.store)}const ba="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class rp{constructor(e,i,a,l,p,C,M,W,te,Ee,Ne=12){if(this.allowTabSynchronization=e,this.persistenceKey=i,this.clientId=a,this.Sn=p,this.window=C,this.document=M,this.Dn=te,this.Cn=Ee,this.schemaVersion=Ne,this.Nn=null,this.xn=!1,this.isPrimary=!1,this.networkEnabled=!0,this.kn=null,this.inForeground=!1,this.On=null,this.Mn=null,this.$n=Number.NEGATIVE_INFINITY,this.Fn=it=>Promise.resolve(),!rp.Vt())throw new _t(st.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new s_(this,l),this.Bn=i+"main",this.O=new Xf(W),this.Ln=new Ws(this.Bn,this.schemaVersion,new o_(this.O)),this.Un=new im(this.referenceDelegate,this.O),this.qn=new om(this.O),this.Kn=new tt,this.window&&this.window.localStorage?this.Gn=this.window.localStorage:(this.Gn=null,!1===Ee&&Bi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.jn().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new _t(st.FAILED_PRECONDITION,ba);return this.Qn(),this.Wn(),this.zn(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Un.getHighestSequenceNumber(e))}).then(e=>{this.Nn=new Ni(e,this.Dn)}).then(()=>{this.xn=!0}).catch(e=>(this.Ln&&this.Ln.close(),Promise.reject(e)))}Hn(e){var i=this;return this.Fn=function(){var a=(0,m.Z)(function*(l){if(i.started)return e(l)});return function(l){return a.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ln.Mt(function(){var i=(0,m.Z)(function*(a){null===a.newVersion&&(yield e())});return function(a){return i.apply(this,arguments)}}())}setNetworkEnabled(e){var i=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Sn.enqueueAndForget((0,m.Z)(function*(){i.started&&(yield i.jn())})))}jn(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>kh(e).put(new ca(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.Jn(e).next(i=>{i||(this.isPrimary=!1,this.Sn.enqueueRetryable(()=>this.Fn(!1)))})}).next(()=>this.Yn(e)).next(i=>this.isPrimary&&!i?this.Xn(e).next(()=>!1):!!i&&this.Zn(e).next(()=>!0))).catch(e=>{if(pu(e))return Mt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Mt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Sn.enqueueRetryable(()=>this.Fn(e)),this.isPrimary=e})}Jn(e){return Uc(e).get(uo.key).next(i=>ft.resolve(this.ts(i)))}es(e){return kh(e).delete(this.clientId)}ns(){var e=this;return(0,m.Z)(function*(){if(e.isPrimary&&!e.ss(e.$n,18e5)){e.$n=Date.now();const i=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",a=>{const l=xs(a,ca.store);return l.qt().next(p=>{const C=e.rs(p,18e5),M=p.filter(W=>-1===C.indexOf(W));return ft.forEach(M,W=>l.delete(W.clientId)).next(()=>M)})}).catch(()=>[]);if(e.Gn)for(const a of i)e.Gn.removeItem(e.os(a.clientId))}})()}zn(){this.Mn=this.Sn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.jn().then(()=>this.ns()).then(()=>this.zn()))}ts(e){return!!e&&e.ownerId===this.clientId}Yn(e){return this.Cn?ft.resolve(!0):Uc(e).get(uo.key).next(i=>{if(null!==i&&this.ss(i.leaseTimestampMs,5e3)&&!this.cs(i.ownerId)){if(this.ts(i)&&this.networkEnabled)return!0;if(!this.ts(i)){if(!i.allowTabSynchronization)throw new _t(st.FAILED_PRECONDITION,ba);return!1}}return!(!this.networkEnabled||!this.inForeground)||kh(e).qt().next(a=>void 0===this.rs(a,5e3).find(l=>{if(this.clientId!==l.clientId){const C=!this.inForeground&&l.inForeground,M=this.networkEnabled===l.networkEnabled;if(!this.networkEnabled&&l.networkEnabled||C&&M)return!0}return!1}))}).next(i=>(this.isPrimary!==i&&Mt("IndexedDbPersistence",`Client ${i?"is":"is not"} eligible for a primary lease.`),i))}shutdown(){var e=this;return(0,m.Z)(function*(){e.xn=!1,e.us(),e.Mn&&(e.Mn.cancel(),e.Mn=null),e.hs(),e.ls(),yield e.Ln.runTransaction("shutdown","readwrite",[uo.store,ca.store],i=>{const a=new Wl(i,Ni.A);return e.Xn(a).next(()=>e.es(a))}),e.Ln.close(),e.fs()})()}rs(e,i){return e.filter(a=>this.ss(a.updateTimeMs,i)&&!this.cs(a.clientId))}ds(){return this.runTransaction("getActiveClients","readonly",e=>kh(e).qt().next(i=>this.rs(i,18e5).map(a=>a.clientId)))}get started(){return this.xn}getMutationQueue(e,i){return Vc.Jt(e,this.O,i,this.referenceDelegate)}getTargetCache(){return this.Un}getRemoteDocumentCache(){return this.qn}getIndexManager(e){return new Rd(e)}getDocumentOverlayCache(e){return sn.Jt(this.O,e)}getBundleCache(){return this.Kn}runTransaction(e,i,a){Mt("IndexedDbPersistence","Starting transaction:",e);const l="readonly"===i?"readonly":"readwrite",p=13===(C=this.schemaVersion)?fu:12===C?Sh:11===C?Cd:void en();var C;let M;return this.Ln.runTransaction(e,l,p,W=>(M=new Wl(W,this.Nn?this.Nn.next():Ni.A),"readwrite-primary"===i?this.Jn(M).next(te=>!!te||this.Yn(M)).next(te=>{if(!te)throw Bi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Sn.enqueueRetryable(()=>this.Fn(!1)),new _t(st.FAILED_PRECONDITION,$l);return a(M)}).next(te=>this.Zn(M).next(()=>te)):this._s(M).next(()=>a(M)))).then(W=>(M.raiseOnCommittedEvent(),W))}_s(e){return Uc(e).get(uo.key).next(i=>{if(null!==i&&this.ss(i.leaseTimestampMs,5e3)&&!this.cs(i.ownerId)&&!this.ts(i)&&!(this.Cn||this.allowTabSynchronization&&i.allowTabSynchronization))throw new _t(st.FAILED_PRECONDITION,ba)})}Zn(e){const i=new uo(this.clientId,this.allowTabSynchronization,Date.now());return Uc(e).put(uo.key,i)}static Vt(){return Ws.Vt()}Xn(e){const i=Uc(e);return i.get(uo.key).next(a=>this.ts(a)?(Mt("IndexedDbPersistence","Releasing primary lease."),i.delete(uo.key)):ft.resolve())}ss(e,i){const a=Date.now();return!(e<a-i||e>a&&(Bi(`Detected an update time that is in the future: ${e} > ${a}`),1))}Qn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.On=()=>{this.Sn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.jn()))},this.document.addEventListener("visibilitychange",this.On),this.inForeground="visible"===this.document.visibilityState)}hs(){this.On&&(this.document.removeEventListener("visibilitychange",this.On),this.On=null)}Wn(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.kn=()=>{this.us(),(0,ce.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Sn.enterRestrictedMode(!0),this.Sn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.kn))}ls(){this.kn&&(this.window.removeEventListener("pagehide",this.kn),this.kn=null)}cs(e){var i;try{const a=null!==(null===(i=this.Gn)||void 0===i?void 0:i.getItem(this.os(e)));return Mt("IndexedDbPersistence",`Client '${e}' ${a?"is":"is not"} zombied in LocalStorage`),a}catch(a){return Bi("IndexedDbPersistence","Failed to get zombied client id.",a),!1}}us(){if(this.Gn)try{this.Gn.setItem(this.os(this.clientId),String(Date.now()))}catch(e){Bi("Failed to set zombie client id.",e)}}fs(){if(this.Gn)try{this.Gn.removeItem(this.os(this.clientId))}catch(e){}}os(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Uc(s){return xs(s,uo.store)}function kh(s){return xs(s,ca.store)}function ip(s,e){let i=s.projectId;return s.isDefaultDatabase||(i+="."+s.database),"firestore/"+e+"/"+i+"/"}class a_{constructor(e,i){this.progress=e,this.ws=i}}class u_{constructor(e,i,a){this.qn=e,this.gs=i,this.indexManager=a}ys(e,i){return this.gs.getAllMutationBatchesAffectingDocumentKey(e,i).next(a=>this.ps(e,i,a))}ps(e,i,a){return this.qn.getEntry(e,i).next(l=>{for(const p of a)p.applyToLocalView(l);return l})}Is(e,i){e.forEach((a,l)=>{for(const p of i)p.applyToLocalView(l)})}Es(e,i){return this.qn.getEntries(e,i).next(a=>this.Ts(e,a).next(()=>a))}Ts(e,i){return this.gs.getAllMutationBatchesAffectingDocumentKeys(e,i).next(a=>this.Is(i,a))}As(e,i,a){return tn.isDocumentKey((l=i).path)&&null===l.collectionGroup&&0===l.filters.length?this.Rs(e,i.path):uu(i)?this.Ps(e,i,a):this.bs(e,i,a);var l}Rs(e,i){return this.ys(e,new tn(i)).next(a=>{let l=pd();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l})}Ps(e,i,a){const l=i.collectionGroup;let p=pd();return this.indexManager.getCollectionParents(e,l).next(C=>ft.forEach(C,M=>{const W=(te=i,Ee=M.child(l),new Ut(Ee,null,te.explicitOrderBy.slice(),te.filters.slice(),te.limit,te.limitType,te.startAt,te.endAt));var te,Ee;return this.bs(e,W,a).next(te=>{te.forEach((Ee,Ne)=>{p=p.insert(Ee,Ne)})})}).next(()=>p))}bs(e,i,a){let l;return this.qn.getAll(e,i.path,a).next(p=>(l=p,this.gs.getAllMutationBatchesAffectingQuery(e,i))).next(p=>{for(const C of p)for(const M of C.mutations){const W=M.key;let te=l.get(W);null==te&&(te=Ji.newInvalidDocument(W),l=l.insert(W,te)),vc(M,te,C.localWriteTime),te.isFoundDocument()||(l=l.remove(W))}}).next(()=>(l.forEach((p,C)=>{Xi(i,C)||(l=l.remove(p))}),l))}}class Fh{constructor(e,i,a,l){this.targetId=e,this.fromCache=i,this.vs=a,this.Vs=l}static Ss(e,i){let a=oi(),l=oi();for(const p of i.docChanges)switch(p.type){case 0:a=a.add(p.doc.key);break;case 1:l=l.add(p.doc.key)}return new Fh(e,i.fromCache,a,l)}}class um{Ds(e){this.Cs=e}As(e,i,a,l){return 0===(p=i).filters.length&&null===p.limit&&null==p.startAt&&null==p.endAt&&(0===p.explicitOrderBy.length||1===p.explicitOrderBy.length&&p.explicitOrderBy[0].field.isKeyField())||a.isEqual(V.min())?this.Ns(e,i):this.Cs.Es(e,l).next(p=>{const C=this.xs(i,p);return(Wr(i)||Oi(i))&&this.ks(i.limitType,C,l,a)?this.Ns(e,i):(Ra()<=Ce.in.DEBUG&&Mt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),dl(i)),this.Cs.As(e,i,a).next(M=>(C.forEach(W=>{M=M.insert(W.key,W)}),M)))});var p}xs(e,i){let a=new Wi(Ou(e));return i.forEach((l,p)=>{Xi(e,p)&&(a=a.add(p))}),a}ks(e,i,a,l){if(a.size!==i.size)return!0;const p="F"===e?i.last():i.first();return!!p&&(p.hasPendingWrites||p.version.compareTo(l)>0)}Ns(e,i){return Ra()<=Ce.in.DEBUG&&Mt("QueryEngine","Using full collection scan to execute query:",dl(i)),this.Cs.As(e,i,V.min())}}class l_{constructor(e,i,a,l){this.persistence=e,this.Os=i,this.O=l,this.Ms=new Ii(A),this.$s=new Zl(p=>ou(p),sa),this.Fs=V.min(),this.Bs=e.getRemoteDocumentCache(),this.Un=e.getTargetCache(),this.Kn=e.getBundleCache(),this.Ls(a)}Ls(e){this.indexManager=this.persistence.getIndexManager(e),this.gs=this.persistence.getMutationQueue(e,this.indexManager),this.Us=new u_(this.Bs,this.gs,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Os.Ds(this.Us)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ms))}}function lm(s,e,i,a){return new l_(s,e,i,a)}function ar(s,e){return Lh.apply(this,arguments)}function Lh(){return(Lh=(0,m.Z)(function*(s,e){const i=Bt(s);return yield i.persistence.runTransaction("Handle user change","readonly",a=>{let l;return i.gs.getAllMutationBatches(a).next(p=>(l=p,i.Ls(e),i.gs.getAllMutationBatches(a))).next(p=>{const C=[],M=[];let W=oi();for(const te of l){C.push(te.batchId);for(const Ee of te.mutations)W=W.add(Ee.key)}for(const te of p){M.push(te.batchId);for(const Ee of te.mutations)W=W.add(Ee.key)}return i.Us.Es(a,W).next(te=>({qs:te,removedBatchIds:C,addedBatchIds:M}))})})})).apply(this,arguments)}function cm(s,e){const i=Bt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const l=e.batch.keys(),p=i.Bs.newChangeBuffer({trackRemovals:!0});return function(C,M,W,te){const Ee=W.batch,Ne=Ee.keys();let it=ft.resolve();return Ne.forEach(Et=>{it=it.next(()=>te.getEntry(M,Et)).next(Rt=>{const Dn=W.docVersions.get(Et);Bn(null!==Dn),Rt.version.compareTo(Dn)<0&&(Ee.applyToRemoteDocument(Rt,W),Rt.isValidDocument()&&(Rt.setReadTime(W.commitVersion),te.addEntry(Rt)))})}),it.next(()=>C.gs.removeMutationBatch(M,Ee))}(i,a,e,p).next(()=>p.apply(a)).next(()=>i.gs.performConsistencyCheck(a)).next(()=>i.Us.Es(a,l))})}function kd(s){const e=Bt(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Un.getLastRemoteSnapshotVersion(i))}function Ya(s,e){const i=Bt(s),a=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",p=>{const C=i.Bs.newChangeBuffer({trackRemovals:!0});l=i.Ms;const M=[];e.targetChanges.forEach((te,Ee)=>{const Ne=l.get(Ee);if(!Ne)return;M.push(i.Un.removeMatchingKeys(p,te.removedDocuments,Ee).next(()=>i.Un.addMatchingKeys(p,te.addedDocuments,Ee)));let it=Ne.withSequenceNumber(p.currentSequenceNumber);var Et,Rt,Dn;e.targetMismatches.has(Ee)?it=it.withResumeToken(Hr.EMPTY_BYTE_STRING,V.min()).withLastLimboFreeSnapshotVersion(V.min()):te.resumeToken.approximateByteSize()>0&&(it=it.withResumeToken(te.resumeToken,a)),l=l.insert(Ee,it),Rt=it,Dn=te,(0===(Et=Ne).resumeToken.approximateByteSize()||Rt.snapshotVersion.toMicroseconds()-Et.snapshotVersion.toMicroseconds()>=3e8||Dn.addedDocuments.size+Dn.modifiedDocuments.size+Dn.removedDocuments.size>0)&&M.push(i.Un.updateTargetData(p,it))});let W=oo();if(e.documentUpdates.forEach(te=>{e.resolvedLimboDocuments.has(te)&&M.push(i.persistence.referenceDelegate.updateLimboDocument(p,te))}),M.push(sp(p,C,e.documentUpdates).next(te=>{W=te})),!a.isEqual(V.min())){const te=i.Un.getLastRemoteSnapshotVersion(p).next(Ee=>i.Un.setTargetsMetadata(p,p.currentSequenceNumber,a));M.push(te)}return ft.waitFor(M).next(()=>C.apply(p)).next(()=>i.Us.Ts(p,W)).next(()=>W)}).then(p=>(i.Ms=l,p))}function sp(s,e,i){let a=oi();return i.forEach(l=>a=a.add(l)),e.getEntries(s,a).next(l=>{let p=oo();return i.forEach((C,M)=>{const W=l.get(C);M.isNoDocument()&&M.version.isEqual(V.min())?(e.removeEntry(C,M.readTime),p=p.insert(C,M)):!W.isValidDocument()||M.version.compareTo(W.version)>0||0===M.version.compareTo(W.version)&&W.hasPendingWrites?(e.addEntry(M),p=p.insert(C,M)):Mt("LocalStore","Ignoring outdated watch update for ",C,". Current version:",W.version," Watch version:",M.version)}),p})}function c_(s,e){const i=Bt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(void 0===e&&(e=-1),i.gs.getNextMutationBatchAfterBatchId(a,e)))}function El(s,e){const i=Bt(s);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let l;return i.Un.getTargetData(a,e).next(p=>p?(l=p,ft.resolve(l)):i.Un.allocateTargetId(a).next(C=>(l=new Ks(e,C,0,a.currentSequenceNumber),i.Un.addTargetData(a,l).next(()=>l))))}).then(a=>{const l=i.Ms.get(a.targetId);return(null===l||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.$s.set(e,a.targetId)),a})}function fa(s,e,i){return Fd.apply(this,arguments)}function Fd(){return(Fd=(0,m.Z)(function*(s,e,i){const a=Bt(s),l=a.Ms.get(e),p=i?"readwrite":"readwrite-primary";try{i||(yield a.persistence.runTransaction("Release target",p,C=>a.persistence.referenceDelegate.removeTarget(C,l)))}catch(C){if(!pu(C))throw C;Mt("LocalStore",`Failed to update sequence numbers for target ${e}: ${C}`)}a.Ms=a.Ms.remove(e),a.$s.delete(l.target)})).apply(this,arguments)}function Ld(s,e,i){const a=Bt(s);let l=V.min(),p=oi();return a.persistence.runTransaction("Execute query","readonly",C=>function(M,W,te){const Ee=Bt(M),Ne=Ee.$s.get(te);return void 0!==Ne?ft.resolve(Ee.Ms.get(Ne)):Ee.Un.getTargetData(W,te)}(a,C,io(e)).next(M=>{if(M)return l=M.lastLimboFreeSnapshotVersion,a.Un.getMatchingKeysForTargetId(C,M.targetId).next(W=>{p=W})}).next(()=>a.Os.As(C,e,i?l:V.min(),i?p:oi())).next(M=>({documents:M,Ks:p})))}function Vh(s,e){const i=Bt(s),a=Bt(i.Un),l=i.Ms.get(e);return l?Promise.resolve(l.target):i.persistence.runTransaction("Get target data","readonly",p=>a.Tt(p,e).next(C=>C?C.target:null))}function d_(s){const e=Bt(s);return e.persistence.runTransaction("Get new document changes","readonly",i=>function(a,l,p){const C=Bt(a);let M=oo(),W=Ah(p);const te=vl(l),Ee=IDBKeyRange.lowerBound(W,!0);return te.Qt({index:ts.readTimeIndex,range:Ee},(Ne,it)=>{const Et=Td(C.O,it);M=M.insert(Et.key,Et),W=it.readTime}).next(()=>({ws:M,readTime:ha(W)}))}(e.Bs,i,e.Fs)).then(({ws:i,readTime:a})=>(e.Fs=a,i))}function hm(){return(hm=(0,m.Z)(function*(s){const e=Bt(s);return e.persistence.runTransaction("Synchronize last document change read time","readonly",i=>function(a){const l=vl(a);let p=V.min();return l.Qt({index:ts.readTimeIndex,reverse:!0},(C,M,W)=>{M.readTime&&(p=ha(M.readTime)),W.done()}).next(()=>p)}(i)).then(i=>{e.Fs=i})})).apply(this,arguments)}function jc(){return(jc=(0,m.Z)(function*(s,e,i,a){const l=Bt(s);let p=oi(),C=oo();for(const te of i){const Ee=e.Gs(te.metadata.name);te.document&&(p=p.add(Ee));const Ne=e.js(te);Ne.setReadTime(e.Qs(te.metadata.readTime)),C=C.insert(Ee,Ne)}const M=l.Bs.newChangeBuffer({trackRemovals:!0}),W=yield El(l,(te=a,io(tr(wt.fromString(`__bundle__/docs/${te}`)))));var te;return l.persistence.runTransaction("Apply bundle documents","readwrite",te=>sp(te,M,C).next(Ee=>(M.apply(te),Ee)).next(Ee=>l.Un.removeMatchingKeysForTargetId(te,W.targetId).next(()=>l.Un.addMatchingKeys(te,p,W.targetId)).next(()=>l.Us.Ts(te,Ee)).next(()=>Ee)))})).apply(this,arguments)}function Uh(s,e){return Vd.apply(this,arguments)}function Vd(){return(Vd=(0,m.Z)(function*(s,e,i=oi()){const a=yield El(s,io(L(e.bundledQuery))),l=Bt(s);return l.persistence.runTransaction("Save named query","readwrite",p=>{const C=ao(e.readTime);if(a.snapshotVersion.compareTo(C)>=0)return l.Kn.saveNamedQuery(p,e);const M=a.withResumeToken(Hr.EMPTY_BYTE_STRING,C);return l.Ms=l.Ms.insert(M.targetId,M),l.Un.updateTargetData(p,M).next(()=>l.Un.removeMatchingKeysForTargetId(p,a.targetId)).next(()=>l.Un.addMatchingKeys(p,i,a.targetId)).next(()=>l.Kn.saveNamedQuery(p,e))})})).apply(this,arguments)}class JE{constructor(e){this.O=e,this.Ws=new Map,this.zs=new Map}getBundleMetadata(e,i){return ft.resolve(this.Ws.get(i))}saveBundleMetadata(e,i){var a;return this.Ws.set(i.id,{id:(a=i).id,version:a.version,createTime:ao(a.createTime)}),ft.resolve()}getNamedQuery(e,i){return ft.resolve(this.zs.get(i))}saveNamedQuery(e,i){return this.zs.set(i.name,{name:(a=i).name,query:L(a.bundledQuery),readTime:ao(a.readTime)}),ft.resolve();var a}}class h_{constructor(){this.overlays=new Ii(tn.comparator),this.Hs=new Map}getOverlay(e,i){return ft.resolve(this.overlays.get(i))}saveOverlays(e,i,a){return a.forEach(l=>{this.Yt(e,i,l)}),ft.resolve()}removeOverlaysForBatchId(e,i,a){const l=this.Hs.get(a);return void 0!==l&&(l.forEach(p=>this.overlays=this.overlays.remove(p)),this.Hs.delete(a)),ft.resolve()}getOverlaysForCollection(e,i,a){const l=new Map,p=i.length+1,C=new tn(i.child("")),M=this.overlays.getIteratorFrom(C);for(;M.hasNext();){const W=M.getNext().value,te=W.getKey();if(!i.isPrefixOf(te.path))break;te.path.length===p&&W.largestBatchId>a&&l.set(W.getKey(),W)}return ft.resolve(l)}getOverlaysForCollectionGroup(e,i,a,l){let p=new Ii((te,Ee)=>te-Ee);const C=this.overlays.getIterator();for(;C.hasNext();){const te=C.getNext().value;if(te.getKey().getCollectionGroup()===i&&te.largestBatchId>a){let Ee=p.get(te.largestBatchId);null===Ee&&(Ee=new Map,p=p.insert(te.largestBatchId,Ee)),Ee.set(te.getKey(),te)}}const M=new Map,W=p.getIterator();for(;W.hasNext()&&(W.getNext().value.forEach((te,Ee)=>M.set(Ee,te)),!(M.size>=l)););return ft.resolve(M)}Yt(e,i,a){if(null===a)return;const l=this.overlays.get(a.key);null!==l&&this.Hs.get(l.largestBatchId).delete(a.key),this.overlays=this.overlays.insert(a.key,new Za(i,a));let p=this.Hs.get(i);void 0===p&&(p=new Set,this.Hs.set(i,p)),p.add(a.key)}}class jh{constructor(){this.Js=new Wi(Mo.Ys),this.Xs=new Wi(Mo.Zs)}isEmpty(){return this.Js.isEmpty()}addReference(e,i){const a=new Mo(e,i);this.Js=this.Js.add(a),this.Xs=this.Xs.add(a)}ti(e,i){e.forEach(a=>this.addReference(a,i))}removeReference(e,i){this.ei(new Mo(e,i))}ni(e,i){e.forEach(a=>this.removeReference(a,i))}si(e){const i=new tn(new wt([])),a=new Mo(i,e),l=new Mo(i,e+1),p=[];return this.Xs.forEachInRange([a,l],C=>{this.ei(C),p.push(C.key)}),p}ii(){this.Js.forEach(e=>this.ei(e))}ei(e){this.Js=this.Js.delete(e),this.Xs=this.Xs.delete(e)}ri(e){const i=new tn(new wt([])),a=new Mo(i,e),l=new Mo(i,e+1);let p=oi();return this.Xs.forEachInRange([a,l],C=>{p=p.add(C.key)}),p}containsKey(e){const i=new Mo(e,0),a=this.Js.firstAfterOrEqual(i);return null!==a&&e.isEqual(a.key)}}class Mo{constructor(e,i){this.key=e,this.oi=i}static Ys(e,i){return tn.comparator(e.key,i.key)||A(e.oi,i.oi)}static Zs(e,i){return A(e.oi,i.oi)||tn.comparator(e.key,i.key)}}class f_{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.gs=[],this.ci=1,this.ui=new Wi(Mo.Ys)}checkEmpty(e){return ft.resolve(0===this.gs.length)}addMutationBatch(e,i,a,l){const p=this.ci;this.ci++;const C=new da(p,i,a,l);this.gs.push(C);for(const M of l)this.ui=this.ui.add(new Mo(M.key,p)),this.indexManager.addToCollectionParentIndex(e,M.key.path.popLast());return ft.resolve(C)}lookupMutationBatch(e,i){return ft.resolve(this.ai(i))}getNextMutationBatchAfterBatchId(e,i){const l=this.hi(i+1),p=l<0?0:l;return ft.resolve(this.gs.length>p?this.gs[p]:null)}getHighestUnacknowledgedBatchId(){return ft.resolve(0===this.gs.length?-1:this.ci-1)}getAllMutationBatches(e){return ft.resolve(this.gs.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Mo(i,0),l=new Mo(i,Number.POSITIVE_INFINITY),p=[];return this.ui.forEachInRange([a,l],C=>{const M=this.ai(C.oi);p.push(M)}),ft.resolve(p)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Wi(A);return i.forEach(l=>{const p=new Mo(l,0),C=new Mo(l,Number.POSITIVE_INFINITY);this.ui.forEachInRange([p,C],M=>{a=a.add(M.oi)})}),ft.resolve(this.li(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,l=a.length+1;let p=a;tn.isDocumentKey(p)||(p=p.child(""));const C=new Mo(new tn(p),0);let M=new Wi(A);return this.ui.forEachWhile(W=>{const te=W.key.path;return!!a.isPrefixOf(te)&&(te.length===l&&(M=M.add(W.oi)),!0)},C),ft.resolve(this.li(M))}li(e){const i=[];return e.forEach(a=>{const l=this.ai(a);null!==l&&i.push(l)}),i}removeMutationBatch(e,i){Bn(0===this.fi(i.batchId,"removed")),this.gs.shift();let a=this.ui;return ft.forEach(i.mutations,l=>{const p=new Mo(l.key,i.batchId);return a=a.delete(p),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.ui=a})}Qe(e){}containsKey(e,i){const a=new Mo(i,0),l=this.ui.firstAfterOrEqual(a);return ft.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return ft.resolve()}fi(e,i){return this.hi(e)}hi(e){return 0===this.gs.length?0:e-this.gs[0].batchId}ai(e){const i=this.hi(e);return i<0||i>=this.gs.length?null:this.gs[i]}}class XE{constructor(e){this.di=e,this.docs=new Ii(tn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,l=this.docs.get(a),p=l?l.size:0,C=this.di(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:C}),this.size+=C-p,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return ft.resolve(a?a.document.mutableCopy():Ji.newInvalidDocument(i))}getEntries(e,i){let a=oo();return i.forEach(l=>{const p=this.docs.get(l);a=a.insert(l,p?p.document.mutableCopy():Ji.newInvalidDocument(l))}),ft.resolve(a)}getAll(e,i,a){let l=oo();const p=new tn(i.child("")),C=this.docs.getIteratorFrom(p);for(;C.hasNext();){const{key:M,value:{document:W}}=C.getNext();if(!i.isPrefixOf(M.path))break;M.path.length>i.length+1||W.readTime.compareTo(a)<=0||(l=l.insert(W.key,W.mutableCopy()))}return ft.resolve(l)}_i(e,i){return ft.forEach(this.docs,a=>i(a))}newChangeBuffer(e){return new fm(this)}getSize(e){return ft.resolve(this.size)}}class fm extends Ph{constructor(e){super(),this.Tn=e}applyChanges(e){const i=[];return this.changes.forEach((a,l)=>{l.isValidDocument()?i.push(this.Tn.addEntry(e,l)):this.Tn.removeEntry(a)}),ft.waitFor(i)}getFromCache(e,i){return this.Tn.getEntry(e,i)}getAllFromCache(e,i){return this.Tn.getEntries(e,i)}}class pm{constructor(e){this.persistence=e,this.wi=new Zl(i=>ou(i),sa),this.lastRemoteSnapshotVersion=V.min(),this.highestTargetId=0,this.mi=0,this.gi=new jh,this.targetCount=0,this.yi=Hu.He()}forEachTarget(e,i){return this.wi.forEach((a,l)=>i(l)),ft.resolve()}getLastRemoteSnapshotVersion(e){return ft.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ft.resolve(this.mi)}allocateTargetId(e){return this.highestTargetId=this.yi.next(),ft.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.mi&&(this.mi=i),ft.resolve()}Ze(e){this.wi.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.yi=new Hu(i),this.highestTargetId=i),e.sequenceNumber>this.mi&&(this.mi=e.sequenceNumber)}addTargetData(e,i){return this.Ze(i),this.targetCount+=1,ft.resolve()}updateTargetData(e,i){return this.Ze(i),ft.resolve()}removeTargetData(e,i){return this.wi.delete(i.target),this.gi.si(i.targetId),this.targetCount-=1,ft.resolve()}removeTargets(e,i,a){let l=0;const p=[];return this.wi.forEach((C,M)=>{M.sequenceNumber<=i&&null===a.get(M.targetId)&&(this.wi.delete(C),p.push(this.removeMatchingKeysForTargetId(e,M.targetId)),l++)}),ft.waitFor(p).next(()=>l)}getTargetCount(e){return ft.resolve(this.targetCount)}getTargetData(e,i){const a=this.wi.get(i)||null;return ft.resolve(a)}addMatchingKeys(e,i,a){return this.gi.ti(i,a),ft.resolve()}removeMatchingKeys(e,i,a){this.gi.ni(i,a);const l=this.persistence.referenceDelegate,p=[];return l&&i.forEach(C=>{p.push(l.markPotentiallyOrphaned(e,C))}),ft.waitFor(p)}removeMatchingKeysForTargetId(e,i){return this.gi.si(i),ft.resolve()}getMatchingKeysForTargetId(e,i){const a=this.gi.ri(i);return ft.resolve(a)}containsKey(e,i){return ft.resolve(this.gi.containsKey(i))}}class p_{constructor(e,i){this.pi={},this.overlays={},this.Nn=new Ni(0),this.xn=!1,this.xn=!0,this.referenceDelegate=e(this),this.Un=new pm(this),this.indexManager=new Gl,this.qn=new XE(a=>this.referenceDelegate.Ii(a)),this.O=new Xf(i),this.Kn=new JE(this.O)}start(){return Promise.resolve()}shutdown(){return this.xn=!1,Promise.resolve()}get started(){return this.xn}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new h_,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.pi[e.toKey()];return a||(a=new f_(i,this.referenceDelegate),this.pi[e.toKey()]=a),a}getTargetCache(){return this.Un}getRemoteDocumentCache(){return this.qn}getBundleCache(){return this.Kn}runTransaction(e,i,a){Mt("MemoryPersistence","Starting transaction:",e);const l=new op(this.Nn.next());return this.referenceDelegate.Ei(),a(l).next(p=>this.referenceDelegate.Ti(l).next(()=>p)).toPromise().then(p=>(l.raiseOnCommittedEvent(),p))}Ai(e,i){return ft.or(Object.values(this.pi).map(a=>()=>a.containsKey(e,i)))}}class op extends bd{constructor(e){super(),this.currentSequenceNumber=e}}class gm{constructor(e){this.persistence=e,this.Ri=new jh,this.Pi=null}static bi(e){return new gm(e)}get vi(){if(this.Pi)return this.Pi;throw en()}addReference(e,i,a){return this.Ri.addReference(a,i),this.vi.delete(a.toString()),ft.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.vi.add(a.toString()),ft.resolve()}markPotentiallyOrphaned(e,i){return this.vi.add(i.toString()),ft.resolve()}removeTarget(e,i){this.Ri.si(i.targetId).forEach(l=>this.vi.add(l.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next(l=>{l.forEach(p=>this.vi.add(p.toString()))}).next(()=>a.removeTargetData(e,i))}Ei(){this.Pi=new Set}Ti(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ft.forEach(this.vi,a=>{const l=tn.fromPath(a);return this.Vi(e,l).next(p=>{p||i.removeEntry(l,V.min())})}).next(()=>(this.Pi=null,i.apply(e)))}updateLimboDocument(e,i){return this.Vi(e,i).next(a=>{a?this.vi.delete(i.toString()):this.vi.add(i.toString())})}Ii(e){return 0}Vi(e,i){return ft.or([()=>ft.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}function g_(s,e){return`firestore_clients_${s}_${e}`}function m_(s,e,i){let a=`firestore_mutations_${s}_${i}`;return e.isAuthenticated()&&(a+=`_${e.uid}`),a}function mm(s,e){return`firestore_targets_${s}_${e}`}class ap{constructor(e,i,a,l){this.user=e,this.batchId=i,this.state=a,this.error=l}static Si(e,i,a){const l=JSON.parse(a);let p,C="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return C&&l.error&&(C="string"==typeof l.error.message&&"string"==typeof l.error.code,C&&(p=new _t(l.error.code,l.error.message))),C?new ap(e,i,l.state,p):(Bi("SharedClientState",`Failed to parse mutation state for ID '${i}': ${a}`),null)}Di(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Bh{constructor(e,i,a){this.targetId=e,this.state=i,this.error=a}static Si(e,i){const a=JSON.parse(i);let l,p="object"==typeof a&&-1!==["not-current","current","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return p&&a.error&&(p="string"==typeof a.error.message&&"string"==typeof a.error.code,p&&(l=new _t(a.error.code,a.error.message))),p?new Bh(e,a.state,l):(Bi("SharedClientState",`Failed to parse target state for ID '${e}': ${i}`),null)}Di(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class up{constructor(e,i){this.clientId=e,this.activeTargetIds=i}static Si(e,i){const a=JSON.parse(i);let l="object"==typeof a&&a.activeTargetIds instanceof Array,p=ml();for(let C=0;l&&C<a.activeTargetIds.length;++C)l=hc(a.activeTargetIds[C]),p=p.add(a.activeTargetIds[C]);return l?new up(e,p):(Bi("SharedClientState",`Failed to parse client data for instance '${e}': ${i}`),null)}}class ym{constructor(e,i){this.clientId=e,this.onlineState=i}static Si(e){const i=JSON.parse(e);return"object"==typeof i&&-1!==["Unknown","Online","Offline"].indexOf(i.onlineState)&&"string"==typeof i.clientId?new ym(i.clientId,i.onlineState):(Bi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class _m{constructor(){this.activeTargetIds=ml()}Ci(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ni(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Di(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class vm{constructor(e,i,a,l,p){this.window=e,this.Sn=i,this.persistenceKey=a,this.xi=l,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ki=this.Oi.bind(this),this.Mi=new Ii(A),this.started=!1,this.$i=[];const C=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=p,this.Fi=g_(this.persistenceKey,this.xi),this.Bi=`firestore_sequence_number_${this.persistenceKey}`,this.Mi=this.Mi.insert(this.xi,new _m),this.Li=new RegExp(`^firestore_clients_${C}_([^_]*)$`),this.Ui=new RegExp(`^firestore_mutations_${C}_(\\d+)(?:_(.*))?$`),this.qi=new RegExp(`^firestore_targets_${C}_(\\d+)$`),this.Ki=`firestore_online_state_${this.persistenceKey}`,this.Gi=function(M){return`firestore_bundle_loaded_${M}`}(this.persistenceKey),this.window.addEventListener("storage",this.ki)}static Vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,m.Z)(function*(){const i=yield e.syncEngine.ds();for(const l of i){if(l===e.xi)continue;const p=e.getItem(g_(e.persistenceKey,l));if(p){const C=up.Si(l,p);C&&(e.Mi=e.Mi.insert(C.clientId,C))}}e.ji();const a=e.storage.getItem(e.Ki);if(a){const l=e.Qi(a);l&&e.Wi(l)}for(const l of e.$i)e.Oi(l);e.$i=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Bi,JSON.stringify(e))}getAllActiveQueryTargets(){return this.zi(this.Mi)}isActiveQueryTarget(e){let i=!1;return this.Mi.forEach((a,l)=>{l.activeTargetIds.has(e)&&(i=!0)}),i}addPendingMutation(e){this.Hi(e,"pending")}updateMutationState(e,i,a){this.Hi(e,i,a),this.Ji(e)}addLocalQueryTarget(e){let i="not-current";if(this.isActiveQueryTarget(e)){const a=this.storage.getItem(mm(this.persistenceKey,e));if(a){const l=Bh.Si(e,a);l&&(i=l.state)}}return this.Yi.Ci(e),this.ji(),i}removeLocalQueryTarget(e){this.Yi.Ni(e),this.ji()}isLocalQueryTarget(e){return this.Yi.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(mm(this.persistenceKey,e))}updateQueryState(e,i,a){this.Xi(e,i,a)}handleUserChange(e,i,a){i.forEach(l=>{this.Ji(l)}),this.currentUser=e,a.forEach(l=>{this.addPendingMutation(l)})}setOnlineState(e){this.Zi(e)}notifyBundleLoaded(){this.tr()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ki),this.removeItem(this.Fi),this.started=!1)}getItem(e){const i=this.storage.getItem(e);return Mt("SharedClientState","READ",e,i),i}setItem(e,i){Mt("SharedClientState","SET",e,i),this.storage.setItem(e,i)}removeItem(e){Mt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}Oi(e){var i=this;const a=e;if(a.storageArea===this.storage){if(Mt("SharedClientState","EVENT",a.key,a.newValue),a.key===this.Fi)return void Bi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Sn.enqueueRetryable((0,m.Z)(function*(){if(i.started){if(null!==a.key)if(i.Li.test(a.key)){if(null==a.newValue){const l=i.er(a.key);return i.nr(l,null)}{const l=i.sr(a.key,a.newValue);if(l)return i.nr(l.clientId,l)}}else if(i.Ui.test(a.key)){if(null!==a.newValue){const l=i.ir(a.key,a.newValue);if(l)return i.rr(l)}}else if(i.qi.test(a.key)){if(null!==a.newValue){const l=i.cr(a.key,a.newValue);if(l)return i.ur(l)}}else if(a.key===i.Ki){if(null!==a.newValue){const l=i.Qi(a.newValue);if(l)return i.Wi(l)}}else if(a.key===i.Bi){const l=function(p){let C=Ni.A;if(null!=p)try{const M=JSON.parse(p);Bn("number"==typeof M),C=M}catch(M){Bi("SharedClientState","Failed to read sequence number from WebStorage",M)}return C}(a.newValue);l!==Ni.A&&i.sequenceNumberHandler(l)}else if(a.key===i.Gi)return i.syncEngine.ar()}else i.$i.push(a)}))}}get Yi(){return this.Mi.get(this.xi)}ji(){this.setItem(this.Fi,this.Yi.Di())}Hi(e,i,a){const l=new ap(this.currentUser,e,i,a),p=m_(this.persistenceKey,this.currentUser,e);this.setItem(p,l.Di())}Ji(e){const i=m_(this.persistenceKey,this.currentUser,e);this.removeItem(i)}Zi(e){this.storage.setItem(this.Ki,JSON.stringify({clientId:this.xi,onlineState:e}))}Xi(e,i,a){const l=mm(this.persistenceKey,e),p=new Bh(e,i,a);this.setItem(l,p.Di())}tr(){this.setItem(this.Gi,"value-not-used")}er(e){const i=this.Li.exec(e);return i?i[1]:null}sr(e,i){const a=this.er(e);return up.Si(a,i)}ir(e,i){const a=this.Ui.exec(e),l=Number(a[1]);return ap.Si(new _i(void 0!==a[2]?a[2]:null),l,i)}cr(e,i){const a=this.qi.exec(e),l=Number(a[1]);return Bh.Si(l,i)}Qi(e){return ym.Si(e)}rr(e){var i=this;return(0,m.Z)(function*(){if(e.user.uid===i.currentUser.uid)return i.syncEngine.hr(e.batchId,e.state,e.error);Mt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}ur(e){return this.syncEngine.lr(e.targetId,e.state,e.error)}nr(e,i){const a=i?this.Mi.insert(e,i):this.Mi.remove(e),l=this.zi(this.Mi),p=this.zi(a),C=[],M=[];return p.forEach(W=>{l.has(W)||C.push(W)}),l.forEach(W=>{p.has(W)||M.push(W)}),this.syncEngine.dr(C,M).then(()=>{this.Mi=a})}Wi(e){this.Mi.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}zi(e){let i=ml();return e.forEach((a,l)=>{i=i.unionWith(l.activeTargetIds)}),i}}class y_{constructor(){this._r=new _m,this.wr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e){return this._r.Ci(e),this.wr[e]||"not-current"}updateQueryState(e,i,a){this.wr[e]=i}removeLocalQueryTarget(e){this._r.Ni(e)}isLocalQueryTarget(e){return this._r.activeTargetIds.has(e)}clearQueryState(e){delete this.wr[e]}getAllActiveQueryTargets(){return this._r.activeTargetIds}isActiveQueryTarget(e){return this._r.activeTargetIds.has(e)}start(){return this._r=new _m,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class Il{mr(e){}shutdown(){}}class $h{constructor(){this.gr=()=>this.yr(),this.pr=()=>this.Ir(),this.Er=[],this.Tr()}mr(e){this.Er.push(e)}shutdown(){window.removeEventListener("online",this.gr),window.removeEventListener("offline",this.pr)}Tr(){window.addEventListener("online",this.gr),window.addEventListener("offline",this.pr)}yr(){Mt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Er)e(0)}Ir(){Mt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Er)e(1)}static Vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const __={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Em{constructor(e){this.Ar=e.Ar,this.Rr=e.Rr}Pr(e){this.br=e}vr(e){this.Vr=e}onMessage(e){this.Sr=e}close(){this.Rr()}send(e){this.Ar(e)}Dr(){this.br()}Cr(e){this.Vr(e)}Nr(e){this.Sr(e)}}class lp extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.kr=(e.ssl?"https":"http")+"://"+e.host,this.Or="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Mr(e,i,a,l,p){const C=this.$r(e,i);Mt("RestConnection","Sending: ",C,a);const M={};return this.Fr(M,l,p),this.Br(e,C,M,a).then(W=>(Mt("RestConnection","Received: ",W),W),W=>{throw as("RestConnection",`${e} failed with error: `,W,"url: ",C,"request:",a),W})}Lr(e,i,a,l,p){return this.Mr(e,i,a,l,p)}Fr(e,i,a){e["X-Goog-Api-Client"]="gl-js/ fire/"+to,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((l,p)=>e[p]=l),a&&a.headers.forEach((l,p)=>e[p]=l)}$r(e,i){return`${this.kr}/v1/${i}:${__[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Br(e,i,a,l){return new Promise((p,C)=>{const M=new Qi;M.listenOnce($r.COMPLETE,()=>{try{switch(M.getLastErrorCode()){case ji.NO_ERROR:const te=M.getResponseJson();Mt("Connection","XHR received:",JSON.stringify(te)),p(te);break;case ji.TIMEOUT:Mt("Connection",'RPC "'+e+'" timed out'),C(new _t(st.DEADLINE_EXCEEDED,"Request time out"));break;case ji.HTTP_ERROR:const Ee=M.getStatus();if(Mt("Connection",'RPC "'+e+'" failed with status:',Ee,"response text:",M.getResponseText()),Ee>0){const Ne=M.getResponseJson().error;if(Ne&&Ne.status&&Ne.message){const it=function(Et){const Rt=Et.toLowerCase().replace(/_/g,"-");return Object.values(st).indexOf(Rt)>=0?Rt:st.UNKNOWN}(Ne.status);C(new _t(it,Ne.message))}else C(new _t(st.UNKNOWN,"Server responded with status "+M.getStatus()))}else C(new _t(st.UNAVAILABLE,"Connection failed."));break;default:en()}}finally{Mt("Connection",'RPC "'+e+'" completed.')}});const W=JSON.stringify(l);M.send(i,"POST",W,a,15)})}Ur(e,i,a){const l=[this.kr,"/","google.firestore.v1.Firestore","/",e,"/channel"],p=Mi(),C=$s(),M={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(M.xmlHttpFactory=new hs({})),this.Fr(M.initMessageHeaders,i,a),(0,ce.uI)()||(0,ce.b$)()||(0,ce.d)()||(0,ce.w1)()||(0,ce.Mn)()||(0,ce.ru)()||(M.httpHeadersOverwriteParam="$httpHeaders");const W=l.join("");Mt("Connection","Creating WebChannel: "+W,M);const te=p.createWebChannel(W,M);let Ee=!1,Ne=!1;const it=new Em({Ar:Rt=>{Ne?Mt("Connection","Not sending because WebChannel is closed:",Rt):(Ee||(Mt("Connection","Opening WebChannel transport."),te.open(),Ee=!0),Mt("Connection","WebChannel sending:",Rt),te.send(Rt))},Rr:()=>te.close()}),Et=(Rt,Dn,vr)=>{Rt.listen(Dn,Ps=>{try{vr(Ps)}catch(Ko){setTimeout(()=>{throw Ko},0)}})};return Et(te,eo.EventType.OPEN,()=>{Ne||Mt("Connection","WebChannel transport opened.")}),Et(te,eo.EventType.CLOSE,()=>{Ne||(Ne=!0,Mt("Connection","WebChannel transport closed"),it.Cr())}),Et(te,eo.EventType.ERROR,Rt=>{Ne||(Ne=!0,as("Connection","WebChannel transport errored:",Rt),it.Cr(new _t(st.UNAVAILABLE,"The operation could not be completed")))}),Et(te,eo.EventType.MESSAGE,Rt=>{var Dn;if(!Ne){const vr=Rt.data[0];Bn(!!vr);const Ps=vr,Ko=Ps.error||(null===(Dn=Ps[0])||void 0===Dn?void 0:Dn.error);if(Ko){Mt("Connection","WebChannel received error:",Ko);const Qu=Ko.status;let rd=function(Sy){const Ay=ls[Sy];if(void 0!==Ay)return pl(Ay)}(Qu),Nf=Ko.message;void 0===rd&&(rd=st.INTERNAL,Nf="Unknown error status: "+Qu+" with message "+Ko.message),Ne=!0,it.Cr(new _t(rd,Nf)),te.close()}else Mt("Connection","WebChannel received:",vr),it.Nr(vr)}}),Et(C,Qr.STAT_EVENT,Rt=>{Rt.stat===ni.PROXY?Mt("Connection","Detected buffering proxy"):Rt.stat===ni.NOPROXY&&Mt("Connection","Detected no buffering proxy")}),setTimeout(()=>{it.Dr()},0),it}}function cp(){return"undefined"!=typeof window?window:null}function Bc(){return"undefined"!=typeof document?document:null}function Ud(s){return new vh(s,!0)}class yu{constructor(e,i,a=1e3,l=1.5,p=6e4){this.Sn=e,this.timerId=i,this.qr=a,this.Kr=l,this.Gr=p,this.jr=0,this.Qr=null,this.Wr=Date.now(),this.reset()}reset(){this.jr=0}zr(){this.jr=this.Gr}Hr(e){this.cancel();const i=Math.floor(this.jr+this.Jr()),a=Math.max(0,Date.now()-this.Wr),l=Math.max(0,i-a);l>0&&Mt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.jr} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.Qr=this.Sn.enqueueAfterDelay(this.timerId,l,()=>(this.Wr=Date.now(),e())),this.jr*=this.Kr,this.jr<this.qr&&(this.jr=this.qr),this.jr>this.Gr&&(this.jr=this.Gr)}Yr(){null!==this.Qr&&(this.Qr.skipDelay(),this.Qr=null)}cancel(){null!==this.Qr&&(this.Qr.cancel(),this.Qr=null)}Jr(){return(Math.random()-.5)*this.jr}}class dp{constructor(e,i,a,l,p,C,M,W){this.Sn=e,this.Xr=a,this.Zr=l,this.eo=p,this.authCredentialsProvider=C,this.appCheckCredentialsProvider=M,this.listener=W,this.state=0,this.no=0,this.so=null,this.io=null,this.stream=null,this.ro=new yu(e,i)}oo(){return 1===this.state||5===this.state||this.co()}co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.uo()}stop(){var e=this;return(0,m.Z)(function*(){e.oo()&&(yield e.close(0))})()}ao(){this.state=0,this.ro.reset()}ho(){this.co()&&null===this.so&&(this.so=this.Sn.enqueueAfterDelay(this.Xr,6e4,()=>this.lo()))}fo(e){this._o(),this.stream.send(e)}lo(){var e=this;return(0,m.Z)(function*(){if(e.co())return e.close(0)})()}_o(){this.so&&(this.so.cancel(),this.so=null)}wo(){this.io&&(this.io.cancel(),this.io=null)}close(e,i){var a=this;return(0,m.Z)(function*(){a._o(),a.wo(),a.ro.cancel(),a.no++,4!==e?a.ro.reset():i&&i.code===st.RESOURCE_EXHAUSTED?(Bi(i.toString()),Bi("Using maximum backoff delay to prevent overloading the backend."),a.ro.zr()):i&&i.code===st.UNAUTHENTICATED&&3!==a.state&&(a.authCredentialsProvider.invalidateToken(),a.appCheckCredentialsProvider.invalidateToken()),null!==a.stream&&(a.mo(),a.stream.close(),a.stream=null),a.state=e,yield a.listener.vr(i)})()}mo(){}auth(){this.state=1;const e=this.yo(this.no),i=this.no;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,l])=>{this.no===i&&this.po(a,l)},a=>{e(()=>{const l=new _t(st.UNKNOWN,"Fetching auth token failed: "+a.message);return this.Io(l)})})}po(e,i){const a=this.yo(this.no);this.stream=this.Eo(e,i),this.stream.Pr(()=>{a(()=>(this.state=2,this.io=this.Sn.enqueueAfterDelay(this.Zr,1e4,()=>(this.co()&&(this.state=3),Promise.resolve())),this.listener.Pr()))}),this.stream.vr(l=>{a(()=>this.Io(l))}),this.stream.onMessage(l=>{a(()=>this.onMessage(l))})}uo(){var e=this;this.state=5,this.ro.Hr((0,m.Z)(function*(){e.state=0,e.start()}))}Io(e){return Mt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}yo(e){return i=>{this.Sn.enqueueAndForget(()=>this.no===e?i():(Mt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class v_ extends dp{constructor(e,i,a,l,p,C){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,C),this.O=p}Eo(e,i){return this.eo.Ur("Listen",e,i)}onMessage(e){this.ro.reset();const i=function(s,e){let i;if("targetChange"in e){const a="NO_CHANGE"===(W=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===W?1:"REMOVE"===W?2:"CURRENT"===W?3:"RESET"===W?4:en(),l=e.targetChange.targetIds||[],p=function(W,te){return W.N?(Bn(void 0===te||"string"==typeof te),Hr.fromBase64String(te||"")):(Bn(void 0===te||te instanceof Uint8Array),Hr.fromUint8Array(te||new Uint8Array))}(s,e.targetChange.resumeToken),C=e.targetChange.cause,M=C&&function(W){const te=void 0===W.code?st.UNKNOWN:pl(W.code);return new _t(te,W.message||"")}(C);i=new gd(a,l,p,M||null)}else if("documentChange"in e){const a=e.documentChange,l=Wa(s,a.document.name),p=ao(a.document.updateTime),C=new Ti({mapValue:{fields:a.document.fields}}),M=Ji.newFoundDocument(l,p,C);i=new bc(a.targetIds||[],a.removedTargetIds||[],M.key,M)}else if("documentDelete"in e){const a=e.documentDelete,l=Wa(s,a.document),p=a.readTime?ao(a.readTime):V.min(),C=Ji.newNoDocument(l,p);i=new bc([],a.removedTargetIds||[],C.key,C)}else if("documentRemove"in e){const a=e.documentRemove,l=Wa(s,a.document);i=new bc([],a.removedTargetIds||[],l,null)}else{if(!("filter"in e))return en();{const a=e.filter,p=new Ic(a.count||0);i=new yh(a.targetId,p)}}var W;return i}(this.O,e),a=function(l){if(!("targetChange"in l))return V.min();const p=l.targetChange;return p.targetIds&&p.targetIds.length?V.min():p.readTime?ao(p.readTime):V.min()}(e);return this.listener.To(i,a)}Ao(e){const i={};i.database=jl(this.O),i.addTarget=function(l,p){let C;const M=p.target;return C=Nl(M)?{documents:es(l,M)}:{query:_d(l,M)},C.targetId=p.targetId,p.resumeToken.approximateByteSize()>0?C.resumeToken=Eh(l,p.resumeToken):p.snapshotVersion.compareTo(V.min())>0&&(C.readTime=Vu(l,p.snapshotVersion.toTimestamp())),C}(this.O,e);const a=function(s,e){const i=function(a,l){switch(l){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return en()}}(0,e.purpose);return null==i?null:{"goog-listen-tags":i}}(0,e);a&&(i.labels=a),this.fo(i)}Ro(e){const i={};i.database=jl(this.O),i.removeTarget=e,this.fo(i)}}class eI extends dp{constructor(e,i,a,l,p,C){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,C),this.O=p,this.Po=!1}get bo(){return this.Po}start(){this.Po=!1,this.lastStreamToken=void 0,super.start()}mo(){this.Po&&this.vo([])}Eo(e,i){return this.eo.Ur("Write",e,i)}onMessage(e){if(Bn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Po){this.ro.reset();const i=function(s,e){return s&&s.length>0?(Bn(void 0!==e),s.map(i=>function(a,l){let p=ao(a.updateTime?a.updateTime:l);return p.isEqual(V.min())&&(p=ao(l)),new hu(p,a.transformResults||[])}(i,e))):[]}(e.writeResults,e.commitTime),a=ao(e.commitTime);return this.listener.Vo(a,i)}return Bn(!e.writeResults||0===e.writeResults.length),this.Po=!0,this.listener.So()}Do(){const e={};e.database=jl(this.O),this.fo(e)}vo(e){const i={streamToken:this.lastStreamToken,writes:e.map(a=>yl(this.O,a))};this.fo(i)}}class hp extends class{}{constructor(e,i,a,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.eo=a,this.O=l,this.Co=!1}No(){if(this.Co)throw new _t(st.FAILED_PRECONDITION,"The client has already been terminated.")}Mr(e,i,a){return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,p])=>this.eo.Mr(e,i,a,l,p)).catch(l=>{throw"FirebaseError"===l.name?(l.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new _t(st.UNKNOWN,l.toString())})}Lr(e,i,a){return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,p])=>this.eo.Lr(e,i,a,l,p)).catch(l=>{throw"FirebaseError"===l.name?(l.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new _t(st.UNKNOWN,l.toString())})}terminate(){this.Co=!0}}class E_{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.xo=0,this.ko=null,this.Oo=!0}Mo(){0===this.xo&&(this.$o("Unknown"),this.ko=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ko=null,this.Fo("Backend didn't respond within 10 seconds."),this.$o("Offline"),Promise.resolve())))}Bo(e){"Online"===this.state?this.$o("Unknown"):(this.xo++,this.xo>=1&&(this.Lo(),this.Fo(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.$o("Offline")))}set(e){this.Lo(),this.xo=0,"Online"===e&&(this.Oo=!1),this.$o(e)}$o(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Fo(e){const i=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Oo?(Bi(i),this.Oo=!1):Mt("OnlineStateTracker",i)}Lo(){null!==this.ko&&(this.ko.cancel(),this.ko=null)}}class Im{constructor(e,i,a,l,p){var C=this;this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Uo=[],this.qo=new Map,this.Ko=new Set,this.Go=[],this.jo=p,this.jo.mr(M=>{a.enqueueAndForget((0,m.Z)(function*(){var W;qu(C)&&(Mt("RemoteStore","Restarting streams for network reachability change."),yield(W=(0,m.Z)(function*(te){const Ee=Bt(te);Ee.Ko.add(4),yield _u(Ee),Ee.Qo.set("Unknown"),Ee.Ko.delete(4),yield jd(Ee)}),function(te){return W.apply(this,arguments)})(C))}))}),this.Qo=new E_(a,l)}}function jd(s){return fp.apply(this,arguments)}function fp(){return(fp=(0,m.Z)(function*(s){if(qu(s))for(const e of s.Go)yield e(!0)})).apply(this,arguments)}function _u(s){return wl.apply(this,arguments)}function wl(){return(wl=(0,m.Z)(function*(s){for(const e of s.Go)yield e(!1)})).apply(this,arguments)}function $c(s,e){const i=Bt(s);i.qo.has(e.targetId)||(i.qo.set(e.targetId,e),Hh(i)?pp(i):Xl(i).co()&&Ql(i,e))}function vu(s,e){const i=Bt(s),a=Xl(i);i.qo.delete(e),a.co()&&Yl(i,e),0===i.qo.size&&(a.co()?a.ho():qu(i)&&i.Qo.set("Unknown"))}function Ql(s,e){s.Wo.Z(e.targetId),Xl(s).Ao(e)}function Yl(s,e){s.Wo.Z(e),Xl(s).Ro(e)}function pp(s){s.Wo=new Lu({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),Tt:e=>s.qo.get(e)||null}),Xl(s).start(),s.Qo.Mo()}function Hh(s){return qu(s)&&!Xl(s).oo()&&s.qo.size>0}function qu(s){return 0===Bt(s).Ko.size}function Wh(s){s.Wo=void 0}function gp(s){return Kh.apply(this,arguments)}function Kh(){return(Kh=(0,m.Z)(function*(s){s.qo.forEach((e,i)=>{Ql(s,e)})})).apply(this,arguments)}function Gh(s,e){return mp.apply(this,arguments)}function mp(){return(mp=(0,m.Z)(function*(s,e){Wh(s),Hh(s)?(s.Qo.Bo(e),pp(s)):s.Qo.set("Unknown")})).apply(this,arguments)}function wm(s,e,i){return Cm.apply(this,arguments)}function Cm(){return(Cm=(0,m.Z)(function*(s,e,i){if(s.Qo.set("Online"),e instanceof gd&&2===e.state&&e.cause)try{yield(a=(0,m.Z)(function*(l,p){const C=p.cause;for(const M of p.targetIds)l.qo.has(M)&&(yield l.remoteSyncer.rejectListen(M,C),l.qo.delete(M),l.Wo.removeTarget(M))}),function(l,p){return a.apply(this,arguments)})(s,e)}catch(a){Mt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),a),yield Bd(s,a)}else if(e instanceof bc?s.Wo.ct(e):e instanceof yh?s.Wo._t(e):s.Wo.ht(e),!i.isEqual(V.min()))try{const a=yield kd(s.localStore);i.compareTo(a)>=0&&(yield function(l,p){const C=l.Wo.yt(p);return C.targetChanges.forEach((M,W)=>{if(M.resumeToken.approximateByteSize()>0){const te=l.qo.get(W);te&&l.qo.set(W,te.withResumeToken(M.resumeToken,p))}}),C.targetMismatches.forEach(M=>{const W=l.qo.get(M);if(!W)return;l.qo.set(M,W.withResumeToken(Hr.EMPTY_BYTE_STRING,W.snapshotVersion)),Yl(l,M);const te=new Ks(W.target,M,1,W.sequenceNumber);Ql(l,te)}),l.remoteSyncer.applyRemoteEvent(C)}(s,i))}catch(a){Mt("RemoteStore","Failed to raise snapshot:",a),yield Bd(s,a)}var a})).apply(this,arguments)}function Bd(s,e,i){return zh.apply(this,arguments)}function zh(){return(zh=(0,m.Z)(function*(s,e,i){if(!pu(e))throw e;s.Ko.add(1),yield _u(s),s.Qo.set("Offline"),i||(i=()=>kd(s.localStore)),s.asyncQueue.enqueueRetryable((0,m.Z)(function*(){Mt("RemoteStore","Retrying IndexedDB access"),yield i(),s.Ko.delete(1),yield jd(s)}))})).apply(this,arguments)}function bm(s,e){return e().catch(i=>Bd(s,i,e))}function Jl(s){return yp.apply(this,arguments)}function yp(){return(yp=(0,m.Z)(function*(s){const e=Bt(s),i=Cl(e);let a=e.Uo.length>0?e.Uo[e.Uo.length-1].batchId:-1;for(;I_(e);)try{const l=yield c_(e.localStore,a);if(null===l){0===e.Uo.length&&i.ho();break}a=l.batchId,Ta(e,l)}catch(l){yield Bd(e,l)}Tm(e)&&Dm(e)})).apply(this,arguments)}function I_(s){return qu(s)&&s.Uo.length<10}function Ta(s,e){s.Uo.push(e);const i=Cl(s);i.co()&&i.bo&&i.vo(e.mutations)}function Tm(s){return qu(s)&&!Cl(s).oo()&&s.Uo.length>0}function Dm(s){Cl(s).start()}function tI(s){return Sm.apply(this,arguments)}function Sm(){return(Sm=(0,m.Z)(function*(s){Cl(s).Do()})).apply(this,arguments)}function Am(s){return Rm.apply(this,arguments)}function Rm(){return(Rm=(0,m.Z)(function*(s){const e=Cl(s);for(const i of s.Uo)e.vo(i.mutations)})).apply(this,arguments)}function w_(s,e,i){return $d.apply(this,arguments)}function $d(){return($d=(0,m.Z)(function*(s,e,i){const a=s.Uo.shift(),l=mu.from(a,e,i);yield bm(s,()=>s.remoteSyncer.applySuccessfulWrite(l)),yield Jl(s)})).apply(this,arguments)}function Mm(s,e){return _p.apply(this,arguments)}function _p(){return(_p=(0,m.Z)(function*(s,e){var i;e&&Cl(s).bo&&(yield(i=(0,m.Z)(function*(a,l){if(fd(p=l.code)&&p!==st.ABORTED){const C=a.Uo.shift();Cl(a).ao(),yield bm(a,()=>a.remoteSyncer.rejectFailedWrite(C.batchId,l)),yield Jl(a)}var p}),function(a,l){return i.apply(this,arguments)})(s,e)),Tm(s)&&Dm(s)})).apply(this,arguments)}function Nm(s,e){return vp.apply(this,arguments)}function vp(){return(vp=(0,m.Z)(function*(s,e){const i=Bt(s);i.asyncQueue.verifyOperationInProgress(),Mt("RemoteStore","RemoteStore received new credentials");const a=qu(i);i.Ko.add(3),yield _u(i),a&&i.Qo.set("Unknown"),yield i.remoteSyncer.handleCredentialChange(e),i.Ko.delete(3),yield jd(i)})).apply(this,arguments)}function qh(s,e){return Ep.apply(this,arguments)}function Ep(){return(Ep=(0,m.Z)(function*(s,e){const i=Bt(s);e?(i.Ko.delete(2),yield jd(i)):e||(i.Ko.add(2),yield _u(i),i.Qo.set("Unknown"))})).apply(this,arguments)}function Xl(s){return s.zo||(s.zo=function(e,i,a){const l=Bt(e);return l.No(),new v_(i,l.eo,l.authCredentials,l.appCheckCredentials,l.O,a)}(s.datastore,s.asyncQueue,{Pr:gp.bind(null,s),vr:Gh.bind(null,s),To:wm.bind(null,s)}),s.Go.push(function(){var e=(0,m.Z)(function*(i){i?(s.zo.ao(),Hh(s)?pp(s):s.Qo.set("Unknown")):(yield s.zo.stop(),Wh(s))});return function(i){return e.apply(this,arguments)}}())),s.zo}function Cl(s){return s.Ho||(s.Ho=function(e,i,a){const l=Bt(e);return l.No(),new eI(i,l.eo,l.authCredentials,l.appCheckCredentials,l.O,a)}(s.datastore,s.asyncQueue,{Pr:tI.bind(null,s),vr:Mm.bind(null,s),So:Am.bind(null,s),Vo:w_.bind(null,s)}),s.Go.push(function(){var e=(0,m.Z)(function*(i){i?(s.Ho.ao(),yield Jl(s)):(yield s.Ho.stop(),s.Uo.length>0&&(Mt("RemoteStore",`Stopping write stream with ${s.Uo.length} pending writes`),s.Uo=[]))});return function(i){return e.apply(this,arguments)}}())),s.Ho}class Ip{constructor(e,i,a,l,p){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=p,this.deferred=new $i,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(C=>{})}static createAndSchedule(e,i,a,l,p){const C=Date.now()+a,M=new Ip(e,i,C,l,p);return M.start(a),M}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new _t(st.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ec(s,e){if(Bi("AsyncQueue",`${e}: ${s}`),pu(s))return new _t(st.UNAVAILABLE,`${e}: ${s}`);throw s}class tc{constructor(e){this.comparator=e?(i,a)=>e(i,a)||tn.comparator(i.key,a.key):(i,a)=>tn.comparator(i.key,a.key),this.keyedMap=pd(),this.sortedSet=new Ii(this.comparator)}static emptySet(e){return new tc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,a)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof tc)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,p=a.getNext().key;if(!l.isEqual(p))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,i){const a=new tc;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class xm{constructor(){this.Jo=new Ii(tn.comparator)}track(e){const i=e.doc.key,a=this.Jo.get(i);a?0!==e.type&&3===a.type?this.Jo=this.Jo.insert(i,e):3===e.type&&1!==a.type?this.Jo=this.Jo.insert(i,{type:a.type,doc:e.doc}):2===e.type&&2===a.type?this.Jo=this.Jo.insert(i,{type:2,doc:e.doc}):2===e.type&&0===a.type?this.Jo=this.Jo.insert(i,{type:0,doc:e.doc}):1===e.type&&0===a.type?this.Jo=this.Jo.remove(i):1===e.type&&2===a.type?this.Jo=this.Jo.insert(i,{type:1,doc:a.doc}):0===e.type&&1===a.type?this.Jo=this.Jo.insert(i,{type:2,doc:e.doc}):en():this.Jo=this.Jo.insert(i,e)}Yo(){const e=[];return this.Jo.inorderTraversal((i,a)=>{e.push(a)}),e}}class Xo{constructor(e,i,a,l,p,C,M,W){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=p,this.fromCache=C,this.syncStateChanged=M,this.excludesMetadataChanges=W}static fromInitialDocuments(e,i,a,l){const p=[];return i.forEach(C=>{p.push({type:0,doc:C})}),new Xo(e,i,tc.emptySet(i),p,a,l,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mo(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class wp{constructor(){this.Xo=void 0,this.listeners=[]}}class C_{constructor(){this.queries=new Zl(e=>Qo(e),mo),this.onlineState="Unknown",this.Zo=new Set}}function Cp(s,e){return Om.apply(this,arguments)}function Om(){return(Om=(0,m.Z)(function*(s,e){const i=Bt(s),a=e.query;let l=!1,p=i.queries.get(a);if(p||(l=!0,p=new wp),l)try{p.Xo=yield i.onListen(a)}catch(C){const M=ec(C,`Initialization of query '${dl(e.query)}' failed`);return void e.onError(M)}i.queries.set(a,p),p.listeners.push(e),e.tc(i.onlineState),p.Xo&&e.ec(p.Xo)&&Hd(i)})).apply(this,arguments)}function Zh(s,e){return bp.apply(this,arguments)}function bp(){return(bp=(0,m.Z)(function*(s,e){const i=Bt(s),a=e.query;let l=!1;const p=i.queries.get(a);if(p){const C=p.listeners.indexOf(e);C>=0&&(p.listeners.splice(C,1),l=0===p.listeners.length)}if(l)return i.queries.delete(a),i.onUnlisten(a)})).apply(this,arguments)}function b_(s,e){const i=Bt(s);let a=!1;for(const l of e){const C=i.queries.get(l.query);if(C){for(const M of C.listeners)M.ec(l)&&(a=!0);C.Xo=l}}a&&Hd(i)}function T_(s,e,i){const a=Bt(s),l=a.queries.get(e);if(l)for(const p of l.listeners)p.onError(i);a.queries.delete(e)}function Hd(s){s.Zo.forEach(e=>{e.next()})}class Tp{constructor(e,i,a){this.query=e,this.nc=i,this.sc=!1,this.ic=null,this.onlineState="Unknown",this.options=a||{}}ec(e){if(!this.options.includeMetadataChanges){const a=[];for(const l of e.docChanges)3!==l.type&&a.push(l);e=new Xo(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let i=!1;return this.sc?this.rc(e)&&(this.nc.next(e),i=!0):this.oc(e,this.onlineState)&&(this.cc(e),i=!0),this.ic=e,i}onError(e){this.nc.error(e)}tc(e){this.onlineState=e;let i=!1;return this.ic&&!this.sc&&this.oc(this.ic,e)&&(this.cc(this.ic),i=!0),i}oc(e,i){return!e.fromCache||!(this.options.uc&&"Offline"!==i||e.docs.isEmpty()&&"Offline"!==i)}rc(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ic&&this.ic.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}cc(e){e=Xo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.sc=!0,this.nc.next(e)}}class D_{constructor(e,i){this.payload=e,this.byteLength=i}ac(){return"metadata"in this.payload}}class Wd{constructor(e){this.O=e}Gs(e){return Wa(this.O,e)}js(e){return e.metadata.exists?Ch(this.O,e.document,!1):Ji.newNoDocument(this.Gs(e.metadata.name),this.Qs(e.metadata.readTime))}Qs(e){return ao(e)}}class Dp{constructor(e,i,a){this.hc=e,this.localStore=i,this.O=a,this.queries=[],this.documents=[],this.progress=Pm(e)}lc(e){this.progress.bytesLoaded+=e.byteLength;let i=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++i):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++i),i!==this.progress.documentsLoaded?(this.progress.documentsLoaded=i,Object.assign({},this.progress)):null}fc(e){const i=new Map,a=new Wd(this.O);for(const l of e)if(l.metadata.queries){const p=a.Gs(l.metadata.name);for(const C of l.metadata.queries){const M=(i.get(C)||oi()).add(p);i.set(C,M)}}return i}complete(){var e=this;return(0,m.Z)(function*(){const i=yield function(s,e,i,a){return jc.apply(this,arguments)}(e.localStore,new Wd(e.O),e.documents,e.hc.id),a=e.fc(e.documents);for(const l of e.queries)yield Uh(e.localStore,l,a.get(l.name));return e.progress.taskState="Success",new a_(Object.assign({},e.progress),i)})()}}function Pm(s){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:s.totalDocuments,totalBytes:s.totalBytes}}class Qh{constructor(e){this.key=e}}class Yh{constructor(e){this.key=e}}class Sp{constructor(e,i){this.query=e,this.dc=i,this._c=null,this.current=!1,this.wc=oi(),this.mutatedKeys=oi(),this.mc=Ou(e),this.gc=new tc(this.mc)}get yc(){return this.dc}Ic(e,i){const a=i?i.Ec:new xm,l=i?i.gc:this.gc;let p=i?i.mutatedKeys:this.mutatedKeys,C=l,M=!1;const W=Wr(this.query)&&l.size===this.query.limit?l.last():null,te=Oi(this.query)&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((Ee,Ne)=>{const it=l.get(Ee),Et=Xi(this.query,Ne)?Ne:null,Rt=!!it&&this.mutatedKeys.has(it.key),Dn=!!Et&&(Et.hasLocalMutations||this.mutatedKeys.has(Et.key)&&Et.hasCommittedMutations);let vr=!1;it&&Et?it.data.isEqual(Et.data)?Rt!==Dn&&(a.track({type:3,doc:Et}),vr=!0):this.Tc(it,Et)||(a.track({type:2,doc:Et}),vr=!0,(W&&this.mc(Et,W)>0||te&&this.mc(Et,te)<0)&&(M=!0)):!it&&Et?(a.track({type:0,doc:Et}),vr=!0):it&&!Et&&(a.track({type:1,doc:it}),vr=!0,(W||te)&&(M=!0)),vr&&(Et?(C=C.add(Et),p=Dn?p.add(Ee):p.delete(Ee)):(C=C.delete(Ee),p=p.delete(Ee)))}),Wr(this.query)||Oi(this.query))for(;C.size>this.query.limit;){const Ee=Wr(this.query)?C.last():C.first();C=C.delete(Ee.key),p=p.delete(Ee.key),a.track({type:1,doc:Ee})}return{gc:C,Ec:a,ks:M,mutatedKeys:p}}Tc(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a){const l=this.gc;this.gc=e.gc,this.mutatedKeys=e.mutatedKeys;const p=e.Ec.Yo();p.sort((te,Ee)=>function(Ne,it){const Et=Rt=>{switch(Rt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return en()}};return Et(Ne)-Et(it)}(te.type,Ee.type)||this.mc(te.doc,Ee.doc)),this.Ac(a);const C=i?this.Rc():[],M=0===this.wc.size&&this.current?1:0,W=M!==this._c;return this._c=M,0!==p.length||W?{snapshot:new Xo(this.query,e.gc,l,p,e.mutatedKeys,0===M,W,!1),Pc:C}:{Pc:C}}tc(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({gc:this.gc,Ec:new xm,mutatedKeys:this.mutatedKeys,ks:!1},!1)):{Pc:[]}}bc(e){return!this.dc.has(e)&&!!this.gc.has(e)&&!this.gc.get(e).hasLocalMutations}Ac(e){e&&(e.addedDocuments.forEach(i=>this.dc=this.dc.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.dc=this.dc.delete(i)),this.current=e.current)}Rc(){if(!this.current)return[];const e=this.wc;this.wc=oi(),this.gc.forEach(a=>{this.bc(a.key)&&(this.wc=this.wc.add(a.key))});const i=[];return e.forEach(a=>{this.wc.has(a)||i.push(new Yh(a))}),this.wc.forEach(a=>{e.has(a)||i.push(new Qh(a))}),i}vc(e){this.dc=e.Ks,this.wc=oi();const i=this.Ic(e.documents);return this.applyChanges(i,!0)}Vc(){return Xo.fromInitialDocuments(this.query,this.gc,this.mutatedKeys,0===this._c)}}class S_{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class A_{constructor(e){this.key=e,this.Sc=!1}}class Ap{constructor(e,i,a,l,p,C){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=p,this.maxConcurrentLimboResolutions=C,this.Dc={},this.Cc=new Zl(M=>Qo(M),mo),this.Nc=new Map,this.xc=new Set,this.kc=new Ii(tn.comparator),this.Oc=new Map,this.Mc=new jh,this.$c={},this.Fc=new Map,this.Bc=Hu.Je(),this.onlineState="Unknown",this.Lc=void 0}get isPrimaryClient(){return!0===this.Lc}}function nI(s,e){return Rp.apply(this,arguments)}function Rp(){return(Rp=(0,m.Z)(function*(s,e){const i=df(s);let a,l;const p=i.Cc.get(e);if(p)a=p.targetId,i.sharedClientState.addLocalQueryTarget(a),l=p.view.Vc();else{const C=yield El(i.localStore,io(e));i.isPrimaryClient&&$c(i.remoteStore,C);const M=i.sharedClientState.addLocalQueryTarget(C.targetId);a=C.targetId,l=yield Jh(i,e,a,"current"===M)}return l})).apply(this,arguments)}function Jh(s,e,i,a){return Xh.apply(this,arguments)}function Xh(){return(Xh=(0,m.Z)(function*(s,e,i,a){s.Uc=(Ee,Ne,it)=>{return(Et=(0,m.Z)(function*(Rt,Dn,vr,Ps){let Ko=Dn.view.Ic(vr);Ko.ks&&(Ko=yield Ld(Rt.localStore,Dn.query,!1).then(({documents:Nf})=>Dn.view.Ic(Nf,Ko)));const Qu=Ps&&Ps.targetChanges.get(Dn.targetId),rd=Dn.view.applyChanges(Ko,Rt.isPrimaryClient,Qu);return Pp(Rt,Dn.targetId,rd.Pc),rd.snapshot}),function(Rt,Dn,vr,Ps){return Et.apply(this,arguments)})(s,Ee,Ne,it);var Et};const l=yield Ld(s.localStore,e,!0),p=new Sp(e,l.Ks),C=p.Ic(l.documents),M=Fl.createSynthesizedTargetChangeForCurrentChange(i,a&&"Offline"!==s.onlineState),W=p.applyChanges(C,s.isPrimaryClient,M);Pp(s,i,W.Pc);const te=new S_(e,i,p);return s.Cc.set(e,te),s.Nc.has(i)?s.Nc.get(i).push(e):s.Nc.set(i,[e]),W.snapshot})).apply(this,arguments)}function km(s,e){return ef.apply(this,arguments)}function ef(){return(ef=(0,m.Z)(function*(s,e){const i=Bt(s),a=i.Cc.get(e),l=i.Nc.get(a.targetId);if(l.length>1)return i.Nc.set(a.targetId,l.filter(p=>!mo(p,e))),void i.Cc.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||(yield fa(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),vu(i.remoteStore,a.targetId),Hc(i,a.targetId)}).catch(Gu))):(Hc(i,a.targetId),yield fa(i.localStore,a.targetId,!0))})).apply(this,arguments)}function Ja(){return(Ja=(0,m.Z)(function*(s,e,i){const a=hf(s);try{const l=yield function(p,C){const M=Bt(p),W=O.now(),te=C.reduce((Ne,it)=>Ne.add(it.key),oi());let Ee;return M.persistence.runTransaction("Locally write mutations","readwrite",Ne=>M.Us.Es(Ne,te).next(it=>{Ee=it;const Et=[];for(const Rt of C){const Dn=zf(Rt,Ee.get(Rt.key));null!=Dn&&Et.push(new Ia(Rt.key,Dn,Ua(Dn.value.mapValue),Ei.exists(!0)))}return M.gs.addMutationBatch(Ne,W,Et,C)})).then(Ne=>(Ne.applyToLocalDocumentSet(Ee),{batchId:Ne.batchId,changes:Ee}))}(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),function(p,C,M){let W=p.$c[p.currentUser.toKey()];W||(W=new Ii(A)),W=W.insert(C,M),p.$c[p.currentUser.toKey()]=W}(a,l.batchId,i),yield pa(a,l.changes),yield Jl(a.remoteStore)}catch(l){const p=ec(l,"Failed to persist write");i.reject(p)}})).apply(this,arguments)}function Kd(s,e){return tf.apply(this,arguments)}function tf(){return(tf=(0,m.Z)(function*(s,e){const i=Bt(s);try{const a=yield Ya(i.localStore,e);e.targetChanges.forEach((l,p)=>{const C=i.Oc.get(p);C&&(Bn(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?C.Sc=!0:l.modifiedDocuments.size>0?Bn(C.Sc):l.removedDocuments.size>0&&(Bn(C.Sc),C.Sc=!1))}),yield pa(i,a,e)}catch(a){yield Gu(a)}})).apply(this,arguments)}function Mp(s,e,i){const a=Bt(s);if(a.isPrimaryClient&&0===i||!a.isPrimaryClient&&1===i){const l=[];a.Cc.forEach((p,C)=>{const M=C.view.tc(e);M.snapshot&&l.push(M.snapshot)}),function(p,C){const M=Bt(p);M.onlineState=C;let W=!1;M.queries.forEach((te,Ee)=>{for(const Ne of Ee.listeners)Ne.tc(C)&&(W=!0)}),W&&Hd(M)}(a.eventManager,e),l.length&&a.Dc.To(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}function rI(s,e,i){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,m.Z)(function*(s,e,i){const a=Bt(s);a.sharedClientState.updateQueryState(e,"rejected",i);const l=a.Oc.get(e),p=l&&l.key;if(p){let C=new Ii(tn.comparator);C=C.insert(p,Ji.newNoDocument(p,V.min()));const M=oi().add(p),W=new kl(V.min(),new Map,new Wi(A),C,M);yield Kd(a,W),a.kc=a.kc.remove(p),a.Oc.delete(e),af(a)}else yield fa(a.localStore,e,!1).then(()=>Hc(a,e,i)).catch(Gu)})).apply(this,arguments)}function Np(s,e){return nc.apply(this,arguments)}function nc(){return(nc=(0,m.Z)(function*(s,e){const i=Bt(s),a=e.batch.batchId;try{const l=yield cm(i.localStore,e);sf(i,a,null),rf(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),yield pa(i,l)}catch(l){yield Gu(l)}})).apply(this,arguments)}function Gd(s,e,i){return xp.apply(this,arguments)}function xp(){return(xp=(0,m.Z)(function*(s,e,i){const a=Bt(s);try{const l=yield function(p,C){const M=Bt(p);return M.persistence.runTransaction("Reject batch","readwrite-primary",W=>{let te;return M.gs.lookupMutationBatch(W,C).next(Ee=>(Bn(null!==Ee),te=Ee.keys(),M.gs.removeMutationBatch(W,Ee))).next(()=>M.gs.performConsistencyCheck(W)).next(()=>M.Us.Es(W,te))})}(a.localStore,e);sf(a,e,i),rf(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),yield pa(a,l)}catch(l){yield Gu(l)}})).apply(this,arguments)}function nf(){return(nf=(0,m.Z)(function*(s,e){const i=Bt(s);qu(i.remoteStore)||Mt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const a=yield function(p){const C=Bt(p);return C.persistence.runTransaction("Get highest unacknowledged batch id","readonly",M=>C.gs.getHighestUnacknowledgedBatchId(M))}(i.localStore);if(-1===a)return void e.resolve();const l=i.Fc.get(a)||[];l.push(e),i.Fc.set(a,l)}catch(a){const l=ec(a,"Initialization of waitForPendingWrites() operation failed");e.reject(l)}})).apply(this,arguments)}function rf(s,e){(s.Fc.get(e)||[]).forEach(i=>{i.resolve()}),s.Fc.delete(e)}function sf(s,e,i){const a=Bt(s);let l=a.$c[a.currentUser.toKey()];if(l){const p=l.get(e);p&&(i?p.reject(i):p.resolve(),l=l.remove(e)),a.$c[a.currentUser.toKey()]=l}}function Hc(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Nc.get(e))s.Cc.delete(a),i&&s.Dc.qc(a,i);s.Nc.delete(e),s.isPrimaryClient&&s.Mc.si(e).forEach(a=>{s.Mc.containsKey(a)||of(s,a)})}function of(s,e){s.xc.delete(e.path.canonicalString());const i=s.kc.get(e);null!==i&&(vu(s.remoteStore,i),s.kc=s.kc.remove(e),s.Oc.delete(i),af(s))}function Pp(s,e,i){for(const a of i)a instanceof Qh?(s.Mc.addReference(a.key,e),R_(s,a)):a instanceof Yh?(Mt("SyncEngine","Document no longer in limbo: "+a.key),s.Mc.removeReference(a.key,e),s.Mc.containsKey(a.key)||of(s,a.key)):en()}function R_(s,e){const i=e.key,a=i.path.canonicalString();s.kc.get(i)||s.xc.has(a)||(Mt("SyncEngine","New document in limbo: "+i),s.xc.add(a),af(s))}function af(s){for(;s.xc.size>0&&s.kc.size<s.maxConcurrentLimboResolutions;){const e=s.xc.values().next().value;s.xc.delete(e);const i=new tn(wt.fromString(e)),a=s.Bc.next();s.Oc.set(a,new A_(i)),s.kc=s.kc.insert(i,a),$c(s.remoteStore,new Ks(io(tr(i.path)),a,2,Ni.A))}}function pa(s,e,i){return uf.apply(this,arguments)}function uf(){return(uf=(0,m.Z)(function*(s,e,i){const a=Bt(s),l=[],p=[],C=[];var M;a.Cc.isEmpty()||(a.Cc.forEach((M,W)=>{C.push(a.Uc(W,e,i).then(te=>{if(te){a.isPrimaryClient&&a.sharedClientState.updateQueryState(W.targetId,te.fromCache?"not-current":"current"),l.push(te);const Ee=Fh.Ss(W.targetId,te);p.push(Ee)}}))}),yield Promise.all(C),a.Dc.To(l),yield(M=(0,m.Z)(function*(W,te){const Ee=Bt(W);try{yield Ee.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ne=>ft.forEach(te,it=>ft.forEach(it.vs,Et=>Ee.persistence.referenceDelegate.addReference(Ne,it.targetId,Et)).next(()=>ft.forEach(it.Vs,Et=>Ee.persistence.referenceDelegate.removeReference(Ne,it.targetId,Et)))))}catch(Ne){if(!pu(Ne))throw Ne;Mt("LocalStore","Failed to update sequence numbers: "+Ne)}for(const Ne of te){const it=Ne.targetId;if(!Ne.fromCache){const Et=Ee.Ms.get(it),Dn=Et.withLastLimboFreeSnapshotVersion(Et.snapshotVersion);Ee.Ms=Ee.Ms.insert(it,Dn)}}}),function(W,te){return M.apply(this,arguments)})(a.localStore,p))})).apply(this,arguments)}function M_(s,e){return kp.apply(this,arguments)}function kp(){return(kp=(0,m.Z)(function*(s,e){const i=Bt(s);if(!i.currentUser.isEqual(e)){Mt("SyncEngine","User change. New user:",e.toKey());const a=yield ar(i.localStore,e);i.currentUser=e,(l=i).Fc.forEach(C=>{C.forEach(M=>{M.reject(new _t(st.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.Fc.clear(),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),yield pa(i,a.qs)}var l})).apply(this,arguments)}function Wc(s,e){const i=Bt(s),a=i.Oc.get(e);if(a&&a.Sc)return oi().add(a.key);{let l=oi();const p=i.Nc.get(e);if(!p)return l;for(const C of p){const M=i.Cc.get(C);l=l.unionWith(M.view.yc)}return l}}function N_(s,e){return Fp.apply(this,arguments)}function Fp(){return(Fp=(0,m.Z)(function*(s,e){const i=Bt(s),a=yield Ld(i.localStore,e.query,!0),l=e.view.vc(a);return i.isPrimaryClient&&Pp(i,e.targetId,l.Pc),l})).apply(this,arguments)}function x_(s){return Lp.apply(this,arguments)}function Lp(){return(Lp=(0,m.Z)(function*(s){const e=Bt(s);return d_(e.localStore).then(i=>pa(e,i))})).apply(this,arguments)}function iI(s,e,i,a){return lf.apply(this,arguments)}function lf(){return(lf=(0,m.Z)(function*(s,e,i,a){const l=Bt(s),p=yield function(C,M){const W=Bt(C),te=Bt(W.gs);return W.persistence.runTransaction("Lookup mutation documents","readonly",Ee=>te.Ge(Ee,M).next(Ne=>Ne?W.Us.Es(Ee,Ne):ft.resolve(null)))}(l.localStore,e);var M;null!==p?("pending"===i?yield Jl(l.remoteStore):"acknowledged"===i||"rejected"===i?(sf(l,e,a||null),rf(l,e),M=e,Bt(Bt(l.localStore).gs).Qe(M)):en(),yield pa(l,p)):Mt("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function Yr(){return(Yr=(0,m.Z)(function*(s,e){const i=Bt(s);if(df(i),hf(i),!0===e&&!0!==i.Lc){const a=i.sharedClientState.getAllActiveQueryTargets(),l=yield cf(i,a.toArray());i.Lc=!0,yield qh(i.remoteStore,!0);for(const p of l)$c(i.remoteStore,p)}else if(!1===e&&!1!==i.Lc){const a=[];let l=Promise.resolve();i.Nc.forEach((p,C)=>{i.sharedClientState.isLocalQueryTarget(C)?a.push(C):l=l.then(()=>(Hc(i,C),fa(i.localStore,C,!0))),vu(i.remoteStore,C)}),yield l,yield cf(i,a),function(p){const C=Bt(p);C.Oc.forEach((M,W)=>{vu(C.remoteStore,W)}),C.Mc.ii(),C.Oc=new Map,C.kc=new Ii(tn.comparator)}(i),i.Lc=!1,yield qh(i.remoteStore,!1)}})).apply(this,arguments)}function cf(s,e,i){return Vm.apply(this,arguments)}function Vm(){return(Vm=(0,m.Z)(function*(s,e,i){const a=Bt(s),l=[],p=[];for(const C of e){let M;const W=a.Nc.get(C);if(W&&0!==W.length){M=yield El(a.localStore,io(W[0]));for(const te of W){const Ee=a.Cc.get(te),Ne=yield N_(a,Ee);Ne.snapshot&&p.push(Ne.snapshot)}}else{const te=yield Vh(a.localStore,C);M=yield El(a.localStore,te),yield Jh(a,Iu(te),C,!1)}l.push(M)}return a.Dc.To(p),l})).apply(this,arguments)}function Iu(s){return ln(s.path,s.collectionGroup,s.orderBy,s.filters,s.limit,"F",s.startAt,s.endAt)}function Vp(s){const e=Bt(s);return Bt(Bt(e.localStore).persistence).ds()}function Up(s,e,i,a){return Um.apply(this,arguments)}function Um(){return(Um=(0,m.Z)(function*(s,e,i,a){const l=Bt(s);if(l.Lc)Mt("SyncEngine","Ignoring unexpected query state notification.");else if(l.Nc.has(e))switch(i){case"current":case"not-current":{const p=yield d_(l.localStore),C=kl.createSynthesizedRemoteEventForCurrentChange(e,"current"===i);yield pa(l,p,C);break}case"rejected":yield fa(l.localStore,e,!0),Hc(l,e,a);break;default:en()}})).apply(this,arguments)}function O_(s,e,i){return jp.apply(this,arguments)}function jp(){return(jp=(0,m.Z)(function*(s,e,i){const a=df(s);if(a.Lc){for(const l of e){if(a.Nc.has(l)){Mt("SyncEngine","Adding an already active target "+l);continue}const p=yield Vh(a.localStore,l),C=yield El(a.localStore,p);yield Jh(a,Iu(p),C.targetId,!1),$c(a.remoteStore,C)}for(const l of i)a.Nc.has(l)&&(yield fa(a.localStore,l,!1).then(()=>{vu(a.remoteStore,l),Hc(a,l)}).catch(Gu))}})).apply(this,arguments)}function df(s){const e=Bt(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=Kd.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Wc.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=rI.bind(null,e),e.Dc.To=b_.bind(null,e.eventManager),e.Dc.qc=T_.bind(null,e.eventManager),e}function hf(s){const e=Bt(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Np.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Gd.bind(null,e),e}class Bp{constructor(){this.synchronizeTabs=!1}initialize(e){var i=this;return(0,m.Z)(function*(){i.O=Ud(e.databaseInfo.databaseId),i.sharedClientState=i.Gc(e),i.persistence=i.jc(e),yield i.persistence.start(),i.gcScheduler=i.Qc(e),i.localStore=i.Wc(e)})()}Qc(e){return null}Wc(e){return lm(this.persistence,new um,e.initialUser,this.O)}jc(e){return new p_(gm.bi,this.O)}Gc(e){return new y_}terminate(){var e=this;return(0,m.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Bm extends Bp{constructor(e,i,a){super(),this.zc=e,this.cacheSizeBytes=i,this.forceOwnership=a,this.synchronizeTabs=!1}initialize(e){var i=()=>super.initialize,a=this;return(0,m.Z)(function*(){yield i().call(a,e),yield function(s){return hm.apply(this,arguments)}(a.localStore),yield a.zc.initialize(a,e),yield hf(a.zc.syncEngine),yield Jl(a.zc.remoteStore),yield a.persistence.Hn(()=>(a.gcScheduler&&!a.gcScheduler.started&&a.gcScheduler.start(a.localStore),Promise.resolve()))})()}Wc(e){return lm(this.persistence,new um,e.initialUser,this.O)}Qc(e){return new i_(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}jc(e){const i=ip(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),a=void 0!==this.cacheSizeBytes?Jo.withCacheSize(this.cacheSizeBytes):Jo.DEFAULT;return new rp(this.synchronizeTabs,i,e.clientId,a,e.asyncQueue,cp(),Bc(),this.O,this.sharedClientState,!!this.forceOwnership)}Gc(e){return new y_}}class P_ extends Bm{constructor(e,i){super(e,i,!1),this.zc=e,this.cacheSizeBytes=i,this.synchronizeTabs=!0}initialize(e){var i=()=>super.initialize,a=this;return(0,m.Z)(function*(){yield i().call(a,e);const l=a.zc.syncEngine;a.sharedClientState instanceof vm&&(a.sharedClientState.syncEngine={hr:iI.bind(null,l),lr:Up.bind(null,l),dr:O_.bind(null,l),ds:Vp.bind(null,l),ar:x_.bind(null,l)},yield a.sharedClientState.start()),yield a.persistence.Hn(function(){var p=(0,m.Z)(function*(C){yield function(s,e){return Yr.apply(this,arguments)}(a.zc.syncEngine,C),a.gcScheduler&&(C&&!a.gcScheduler.started?a.gcScheduler.start(a.localStore):C||a.gcScheduler.stop())});return function(C){return p.apply(this,arguments)}}())})()}Gc(e){const i=cp();if(!vm.Vt(i))throw new _t(st.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const a=ip(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new vm(i,e.asyncQueue,a,e.clientId,e.initialUser)}}class rc{initialize(e,i){var a=this;return(0,m.Z)(function*(){a.localStore||(a.localStore=e.localStore,a.sharedClientState=e.sharedClientState,a.datastore=a.createDatastore(i),a.remoteStore=a.createRemoteStore(i),a.eventManager=a.createEventManager(i),a.syncEngine=a.createSyncEngine(i,!e.synchronizeTabs),a.sharedClientState.onlineStateHandler=l=>Mp(a.syncEngine,l,1),a.remoteStore.remoteSyncer.handleCredentialChange=M_.bind(null,a.syncEngine),yield qh(a.remoteStore,a.syncEngine.isPrimaryClient))})()}createEventManager(e){return new C_}createDatastore(e){const i=Ud(e.databaseInfo.databaseId),a=new lp(e.databaseInfo);return new hp(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return i=this.localStore,a=this.datastore,l=e.asyncQueue,p=M=>Mp(this.syncEngine,M,0),C=$h.Vt()?new $h:new Il,new Im(i,a,l,p,C);var i,a,l,p,C}createSyncEngine(e,i){return function(a,l,p,C,M,W,te){const Ee=new Ap(a,l,p,C,M,W);return te&&(Ee.Lc=!0),Ee}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}terminate(){return(e=(0,m.Z)(function*(i){const a=Bt(i);Mt("RemoteStore","RemoteStore shutting down."),a.Ko.add(5),yield _u(a),a.jo.shutdown(),a.Qo.set("Unknown")}),function(i){return e.apply(this,arguments)})(this.remoteStore);var e}}function ff(s,e=10240){let i=0;return{read:()=>(0,m.Z)(function*(){if(i<s.byteLength){const a={value:s.slice(i,i+e),done:!1};return i+=e,a}return{done:!0}})(),cancel:()=>(0,m.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class zd{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Hc(this.observer.next,e)}error(e){this.observer.error?this.Hc(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Jc(){this.muted=!0}Hc(e,i){this.muted||setTimeout(()=>{this.muted||e(i)},0)}}class $m{constructor(e,i){this.Yc=e,this.O=i,this.metadata=new $i,this.buffer=new Uint8Array,this.Xc=new TextDecoder("utf-8"),this.Zc().then(a=>{a&&a.ac()?this.metadata.resolve(a.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==a?void 0:a.payload)}`))},a=>this.metadata.reject(a))}close(){return this.Yc.cancel()}getMetadata(){var e=this;return(0,m.Z)(function*(){return e.metadata.promise})()}Kc(){var e=this;return(0,m.Z)(function*(){return yield e.getMetadata(),e.Zc()})()}Zc(){var e=this;return(0,m.Z)(function*(){const i=yield e.tu();if(null===i)return null;const a=e.Xc.decode(i),l=Number(a);isNaN(l)&&e.eu(`length string (${a}) is not valid number`);const p=yield e.nu(l);return new D_(JSON.parse(p),i.length+l)})()}su(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}tu(){var e=this;return(0,m.Z)(function*(){for(;e.su()<0&&!(yield e.iu()););if(0===e.buffer.length)return null;const i=e.su();i<0&&e.eu("Reached the end of bundle when a length string is expected.");const a=e.buffer.slice(0,i);return e.buffer=e.buffer.slice(i),a})()}nu(e){var i=this;return(0,m.Z)(function*(){for(;i.buffer.length<e;)(yield i.iu())&&i.eu("Reached the end of bundle when more is expected.");const a=i.Xc.decode(i.buffer.slice(0,e));return i.buffer=i.buffer.slice(e),a})()}eu(e){throw this.Yc.cancel(),new Error(`Invalid bundle format: ${e}`)}iu(){var e=this;return(0,m.Z)(function*(){const i=yield e.Yc.read();if(!i.done){const a=new Uint8Array(e.buffer.length+i.value.length);a.set(e.buffer),a.set(i.value,e.buffer.length),e.buffer=a}return i.done})()}}class Hm{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var i=this;return(0,m.Z)(function*(){if(i.ensureCommitNotCalled(),i.mutations.length>0)throw new _t(st.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const a=yield(l=(0,m.Z)(function*(p,C){const M=Bt(p),W=jl(M.O)+"/documents",te={documents:C.map(Et=>Yo(M.O,Et))},Ee=yield M.Lr("BatchGetDocuments",W,te),Ne=new Map;Ee.forEach(Et=>{const Rt=function(s,e){return"found"in e?function(i,a){Bn(!!a.found);const l=Wa(i,a.found.name),p=ao(a.found.updateTime),C=new Ti({mapValue:{fields:a.found.fields}});return Ji.newFoundDocument(l,p,C)}(s,e):"missing"in e?function(i,a){Bn(!!a.missing),Bn(!!a.readTime);const l=Wa(i,a.missing),p=ao(a.readTime);return Ji.newNoDocument(l,p)}(s,e):en()}(M.O,Et);Ne.set(Rt.key.toString(),Rt)});const it=[];return C.forEach(Et=>{const Rt=Ne.get(Et.toString());Bn(!!Rt),it.push(Rt)}),it}),function(p,C){return l.apply(this,arguments)})(i.datastore,e);var l;return a.forEach(l=>i.recordVersion(l)),a})()}set(e,i){this.write(i.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,i){try{this.write(i.toMutation(e,this.preconditionForUpdate(e)))}catch(a){this.lastWriteError=a}this.writtenDocs.add(e.toString())}delete(e){this.write(new Pl(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,m.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const i=e.readVersions;var a;e.mutations.forEach(a=>{i.delete(a.key.toString())}),i.forEach((a,l)=>{const p=tn.fromPath(l);e.mutations.push(new Ec(p,e.precondition(p)))}),yield(a=(0,m.Z)(function*(l,p){const C=Bt(l),M=jl(C.O)+"/documents",W={writes:p.map(te=>yl(C.O,te))};yield C.Mr("Commit",M,W)}),function(l,p){return a.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let i;if(e.isFoundDocument())i=e.version;else{if(!e.isNoDocument())throw en();i=V.min()}const a=this.readVersions.get(e.key.toString());if(a){if(!i.isEqual(a))throw new _t(st.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),i)}precondition(e){const i=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&i?Ei.updateTime(i):Ei.none()}preconditionForUpdate(e){const i=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&i){if(i.isEqual(V.min()))throw new _t(st.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ei.updateTime(i)}return Ei.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Wm{constructor(e,i,a,l){this.asyncQueue=e,this.datastore=i,this.updateFunction=a,this.deferred=l,this.ru=5,this.ro=new yu(this.asyncQueue,"transaction_retry")}run(){this.ru-=1,this.ou()}ou(){var e=this;this.ro.Hr((0,m.Z)(function*(){const i=new Hm(e.datastore),a=e.cu(i);a&&a.then(l=>{e.asyncQueue.enqueueAndForget(()=>i.commit().then(()=>{e.deferred.resolve(l)}).catch(p=>{e.uu(p)}))}).catch(l=>{e.uu(l)})}))}cu(e){try{const i=this.updateFunction(e);return!La(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}uu(e){this.ru>0&&this.au(e)?(this.ru-=1,this.asyncQueue.enqueueAndForget(()=>(this.ou(),Promise.resolve()))):this.deferred.reject(e)}au(e){if("FirebaseError"===e.name){const i=e.code;return"aborted"===i||"failed-precondition"===i||!fd(i)}return!1}}class k_{constructor(e,i,a,l){var p=this;this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=_i.UNAUTHENTICATED,this.clientId=po.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(a,function(){var C=(0,m.Z)(function*(M){Mt("FirestoreClient","Received user=",M.uid),yield p.authCredentialListener(M),p.user=M});return function(M){return C.apply(this,arguments)}}()),this.appCheckCredentials.start(a,C=>(Mt("FirestoreClient","Received new app check token=",C),this.appCheckCredentialListener(C,this.user)))}getConfiguration(){var e=this;return(0,m.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new _t(st.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const i=new $i;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,m.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),i.resolve()}catch(a){const l=ec(a,"Failed to shutdown persistence");i.reject(l)}})),i.promise}}function $p(s,e){return Hp.apply(this,arguments)}function Hp(){return(Hp=(0,m.Z)(function*(s,e){s.asyncQueue.verifyOperationInProgress(),Mt("FirestoreClient","Initializing OfflineComponentProvider");const i=yield s.getConfiguration();yield e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener(function(){var l=(0,m.Z)(function*(p){a.isEqual(p)||(yield ar(e.localStore,p),a=p)});return function(p){return l.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s.offlineComponents=e})).apply(this,arguments)}function Km(s,e){return qd.apply(this,arguments)}function qd(){return(qd=(0,m.Z)(function*(s,e){s.asyncQueue.verifyOperationInProgress();const i=yield Gm(s);Mt("FirestoreClient","Initializing OnlineComponentProvider");const a=yield s.getConfiguration();yield e.initialize(i,a),s.setCredentialChangeListener(l=>Nm(e.remoteStore,l)),s.setAppCheckTokenChangeListener((l,p)=>Nm(e.remoteStore,p)),s.onlineComponents=e})).apply(this,arguments)}function Gm(s){return pf.apply(this,arguments)}function pf(){return(pf=(0,m.Z)(function*(s){return s.offlineComponents||(Mt("FirestoreClient","Using default OfflineComponentProvider"),yield $p(s,new Bp)),s.offlineComponents})).apply(this,arguments)}function gf(s){return Wp.apply(this,arguments)}function Wp(){return(Wp=(0,m.Z)(function*(s){return s.onlineComponents||(Mt("FirestoreClient","Using default OnlineComponentProvider"),yield Km(s,new rc)),s.onlineComponents})).apply(this,arguments)}function F_(s){return Gm(s).then(e=>e.persistence)}function zm(s){return Gm(s).then(e=>e.localStore)}function mf(s){return gf(s).then(e=>e.remoteStore)}function Kp(s){return gf(s).then(e=>e.syncEngine)}function ic(s){return yf.apply(this,arguments)}function yf(){return(yf=(0,m.Z)(function*(s){const e=yield gf(s),i=e.eventManager;return i.onListen=nI.bind(null,e.syncEngine),i.onUnlisten=km.bind(null,e.syncEngine),i})).apply(this,arguments)}function V_(s,e,i={}){const a=new $i;return s.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return function(l,p,C,M,W){const te=new zd({next:Ne=>{p.enqueueAndForget(()=>Zh(l,Ee));const it=Ne.docs.has(C);!it&&Ne.fromCache?W.reject(new _t(st.UNAVAILABLE,"Failed to get document because the client is offline.")):it&&Ne.fromCache&&M&&"server"===M.source?W.reject(new _t(st.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):W.resolve(Ne)},error:Ne=>W.reject(Ne)}),Ee=new Tp(tr(C.path),te,{includeMetadataChanges:!0,uc:!0});return Cp(l,Ee)}(yield ic(s),s.asyncQueue,e,i,a)})),a.promise}function Gp(s,e,i={}){const a=new $i;return s.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return function(l,p,C,M,W){const te=new zd({next:Ne=>{p.enqueueAndForget(()=>Zh(l,Ee)),Ne.fromCache&&"server"===M.source?W.reject(new _t(st.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):W.resolve(Ne)},error:Ne=>W.reject(Ne)}),Ee=new Tp(C,te,{includeMetadataChanges:!0,uc:!0});return Cp(l,Ee)}(yield ic(s),s.asyncQueue,e,i,a)})),a.promise}const zp=new Map;function Zd(s,e,i){if(!i)throw new _t(st.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function Ym(s,e,i,a){if(!0===e&&!0===a)throw new _t(st.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function _f(s){if(!tn.isDocumentKey(s))throw new _t(st.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Jm(s){if(tn.isDocumentKey(s))throw new _t(st.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function vf(s){if(void 0===s)return"undefined";if(null===s)return"null";if("string"==typeof s)return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if("number"==typeof s||"boolean"==typeof s)return""+s;if("object"==typeof s){if(s instanceof Array)return"an array";{const e=(i=s).constructor?i.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var i;return"function"==typeof s?"a function":en()}function Gr(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new _t(st.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=vf(s);throw new _t(st.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Xm(s,e){if(e<=0)throw new _t(st.INVALID_ARGUMENT,`Function ${s}() requires a positive number, but it was: ${e}.`)}class ey{constructor(e){var i;if(void 0===e.host){if(void 0!==e.ssl)throw new _t(st.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(i=e.ssl)||void 0===i||i;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new _t(st.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Ym("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Kc{constructor(e,i,a){this._authCredentials=i,this._appCheckCredentials=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ey({}),this._settingsFrozen=!1,e instanceof Ms?this._databaseId=e:(this._app=e,this._databaseId=function(l){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new _t(st.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ms(l.options.projectId)}(e))}get app(){if(!this._app)throw new _t(st.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new _t(st.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ey(e),void 0!==e.credentials&&(this._authCredentials=function(i){if(!i)return new Ma;switch(i.type){case"gapi":const a=i.client;return Bn(!("object"!=typeof a||null===a||!a.auth||!a.auth.getAuthHeaderValueForFirstParty)),new al(a,i.sessionIndex||"0",i.iamToken||null);case"provider":return i.client;default:throw new _t(st.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=zp.get(e);i&&(Mt("ComponentProvider","Removing Datastore"),zp.delete(e),i.terminate())}(this),Promise.resolve()}}function Ef(s,e,i,a={}){var l;const p=(s=Gr(s,Kc))._getSettings();if("firestore.googleapis.com"!==p.host&&p.host!==e&&as("Host has been set in both settings() and useEmulator(), emulator host will be used"),s._setSettings(Object.assign(Object.assign({},p),{host:`${e}:${i}`,ssl:!1})),a.mockUserToken){let C,M;if("string"==typeof a.mockUserToken)C=a.mockUserToken,M=_i.MOCK_USER;else{C=(0,ce.Sg)(a.mockUserToken,null===(l=s._app)||void 0===l?void 0:l.options.projectId);const W=a.mockUserToken.sub||a.mockUserToken.user_id;if(!W)throw new _t(st.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");M=new _i(W)}s._authCredentials=new _a(new Rs(C,M))}}class Li{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Os(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Li(this.firestore,e,this._key)}}class Eo{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Eo(this.firestore,e,this._query)}}class Os extends Eo{constructor(e,i,a){super(e,i,tr(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Li(this.firestore,null,new tn(e))}withConverter(e){return new Os(this.firestore,e,this._path)}}function Qd(s,e,...i){if(s=(0,ce.m9)(s),Zd("collection","path",e),s instanceof Kc){const a=wt.fromString(e,...i);return Jm(a),new Os(s,null,a)}{if(!(s instanceof Li||s instanceof Os))throw new _t(st.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(wt.fromString(e,...i));return Jm(a),new Os(s.firestore,null,a)}}function B_(s,e){if(s=Gr(s,Kc),Zd("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new _t(st.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Eo(s,null,(i=e,new Ut(wt.emptyPath(),i)));var i}function ty(s,e,...i){if(s=(0,ce.m9)(s),1===arguments.length&&(e=po.R()),Zd("doc","path",e),s instanceof Kc){const a=wt.fromString(e,...i);return _f(a),new Li(s,null,new tn(a))}{if(!(s instanceof Li||s instanceof Os))throw new _t(st.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(wt.fromString(e,...i));return _f(a),new Li(s.firestore,s instanceof Os?s.converter:null,new tn(a))}}function qp(s,e){return s=(0,ce.m9)(s),e=(0,ce.m9)(e),(s instanceof Li||s instanceof Os)&&(e instanceof Li||e instanceof Os)&&s.firestore===e.firestore&&s.path===e.path&&s.converter===e.converter}function Xa(s,e){return s=(0,ce.m9)(s),e=(0,ce.m9)(e),s instanceof Eo&&e instanceof Eo&&s.firestore===e.firestore&&mo(s._query,e._query)&&s.converter===e.converter}class Yd{constructor(){this.hu=Promise.resolve(),this.lu=[],this.fu=!1,this.du=[],this._u=null,this.wu=!1,this.mu=!1,this.gu=[],this.ro=new yu(this,"async_queue_retry"),this.yu=()=>{const i=Bc();i&&Mt("AsyncQueue","Visibility state changed to "+i.visibilityState),this.ro.Yr()};const e=Bc();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.yu)}get isShuttingDown(){return this.fu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.fu){this.fu=!0,this.mu=e||!1;const i=Bc();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this.yu)}}enqueue(e){if(this.pu(),this.fu)return new Promise(()=>{});const i=new $i;return this.Iu(()=>this.fu&&this.mu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.lu.push(e),this.Eu()))}Eu(){var e=this;return(0,m.Z)(function*(){if(0!==e.lu.length){try{yield e.lu[0](),e.lu.shift(),e.ro.reset()}catch(i){if(!pu(i))throw i;Mt("AsyncQueue","Operation failed with retryable error: "+i)}e.lu.length>0&&e.ro.Hr(()=>e.Eu())}})()}Iu(e){const i=this.hu.then(()=>(this.wu=!0,e().catch(a=>{throw this._u=a,this.wu=!1,Bi("INTERNAL UNHANDLED ERROR: ",function(p){let C=p.message||"";return p.stack&&(C=p.stack.includes(p.message)?p.stack:p.message+"\n"+p.stack),C}(a)),a}).then(a=>(this.wu=!1,a))));return this.hu=i,i}enqueueAfterDelay(e,i,a){this.pu(),this.gu.indexOf(e)>-1&&(i=0);const l=Ip.createAndSchedule(this,e,i,a,p=>this.Tu(p));return this.du.push(l),l}pu(){this._u&&en()}verifyOperationInProgress(){}Au(){var e=this;return(0,m.Z)(function*(){let i;do{i=e.hu,yield i}while(i!==e.hu)})()}Ru(e){for(const i of this.du)if(i.timerId===e)return!0;return!1}Pu(e){return this.Au().then(()=>{this.du.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.du)if(i.skipDelay(),"all"!==e&&i.timerId===e)break;return this.Au()})}bu(e){this.gu.push(e)}Tu(e){const i=this.du.indexOf(e);this.du.splice(i,1)}}function Io(s){return function(e,i){if("object"!=typeof e||null===e)return!1;const a=e;for(const l of["next","error","complete"])if(l in a&&"function"==typeof a[l])return!0;return!1}(s)}class sc{constructor(){this._progressObserver={},this._taskCompletionResolver=new $i,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,i,a){this._progressObserver={next:e,error:i,complete:a}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,i){return this._taskCompletionResolver.promise.then(e,i)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const If=-1;class zr extends Kc{constructor(e,i,a){super(e,i,a),this.type="firestore",this._queue=new Yd,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||oc(this),this._firestoreClient.terminate()}}function ns(s){return s._firestoreClient||oc(s),s._firestoreClient.verifyNotTerminated(),s._firestoreClient}function oc(s){var e;const i=s._freezeSettings(),a=(p=(null===(e=s._app)||void 0===e?void 0:e.options.appId)||"",new Zo(s._databaseId,p,s._persistenceKey,(M=i).host,M.ssl,M.experimentalForceLongPolling,M.experimentalAutoDetectLongPolling,M.useFetchStreams));var p,M;s._firestoreClient=new k_(s._authCredentials,s._appCheckCredentials,s._queue,a)}function Gc(s,e){wf(s=Gr(s,zr));const i=ns(s),a=s._freezeSettings(),l=new rc;return ac(i,l,new Bm(l,a.cacheSizeBytes,null==e?void 0:e.forceOwnership))}function zc(s){wf(s=Gr(s,zr));const e=ns(s),i=s._freezeSettings(),a=new rc;return ac(e,a,new P_(a,i.cacheSizeBytes))}function ac(s,e,i){const a=new $i;return s.asyncQueue.enqueue((0,m.Z)(function*(){try{yield $p(s,i),yield Km(s,e),a.resolve()}catch(l){if(!("FirebaseError"===(p=l).name?p.code===st.FAILED_PRECONDITION||p.code===st.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&p instanceof DOMException)||22===p.code||20===p.code||11===p.code))throw l;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+l),a.reject(l)}var p})).then(()=>a.promise)}function qc(s){if(s._initialized&&!s._terminated)throw new _t(st.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new $i;return s._queue.enqueueAndForgetEvenWhileRestricted((0,m.Z)(function*(){try{yield(i=(0,m.Z)(function*(a){if(!Ws.Vt())return Promise.resolve();const l=a+"main";yield Ws.delete(l)}),function(a){return i.apply(this,arguments)})(ip(s._databaseId,s._persistenceKey)),e.resolve()}catch(i){e.reject(i)}var i})),e.promise}function Zc(s){return function(e){const i=new $i;return e.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return function(s,e){return nf.apply(this,arguments)}(yield Kp(e),i)})),i.promise}(ns(s=Gr(s,zr)))}function Qc(s){return function(s){return s.asyncQueue.enqueue((0,m.Z)(function*(){const e=yield F_(s),i=yield mf(s);return e.setNetworkEnabled(!0),function(a){const l=Bt(a);return l.Ko.delete(0),jd(l)}(i)}))}(ns(s=Gr(s,zr)))}function Zp(s){return function(s){return s.asyncQueue.enqueue((0,m.Z)(function*(){const e=yield F_(s),i=yield mf(s);return e.setNetworkEnabled(!1),(a=(0,m.Z)(function*(l){const p=Bt(l);p.Ko.add(0),yield _u(p),p.Qo.set("Offline")}),function(l){return a.apply(this,arguments)})(i);var a}))}(ns(s=Gr(s,zr)))}function Qp(s,e){const i=ns(s=Gr(s,zr)),a=new sc;return function(s,e,i,a){const l=function(p,C){let M;return M="string"==typeof p?(new TextEncoder).encode(p):p,W=function(W,te){if(W instanceof Uint8Array)return ff(W,void 0);if(W instanceof ArrayBuffer)return ff(new Uint8Array(W),void 0);if(W instanceof ReadableStream)return W.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(M),new $m(W,C);var W}(i,Ud(e));s.asyncQueue.enqueueAndForget((0,m.Z)(function*(){!function(s,e,i){const a=Bt(s);var l;(l=(0,m.Z)(function*(p,C,M){try{const W=yield C.getMetadata();if(yield function(it,Et){const Rt=Bt(it),Dn=ao(Et.createTime);return Rt.persistence.runTransaction("hasNewerBundle","readonly",vr=>Rt.Kn.getBundleMetadata(vr,Et.id)).then(vr=>!!vr&&vr.createTime.compareTo(Dn)>=0)}(p.localStore,W))return yield C.close(),void M._completeWith((it=W,{taskState:"Success",documentsLoaded:it.totalDocuments,bytesLoaded:it.totalBytes,totalDocuments:it.totalDocuments,totalBytes:it.totalBytes}));M._updateProgress(Pm(W));const te=new Dp(W,p.localStore,C.O);let Ee=yield C.Kc();for(;Ee;){const it=yield te.lc(Ee);it&&M._updateProgress(it),Ee=yield C.Kc()}const Ne=yield te.complete();yield pa(p,Ne.ws,void 0),yield function(it,Et){const Rt=Bt(it);return Rt.persistence.runTransaction("Save bundle","readwrite",Dn=>Rt.Kn.saveBundleMetadata(Dn,Et))}(p.localStore,W),M._completeWith(Ne.progress)}catch(W){as("SyncEngine",`Loading bundle failed with ${W}`),M._failWith(W)}var it}),function(p,C,M){return l.apply(this,arguments)})(a,e,i).then(()=>{a.sharedClientState.notifyBundleLoaded()})}(yield Kp(s),l,a)}))}(i,s._databaseId,e,a),a}function Yp(s,e){return function(s,e){return s.asyncQueue.enqueue((0,m.Z)(function*(){return function(i,a){const l=Bt(i);return l.persistence.runTransaction("Get named query","readonly",p=>l.Kn.getNamedQuery(p,a))}(yield zm(s),e)}))}(ns(s=Gr(s,zr)),e).then(i=>i?new Eo(s,null,i.query):null)}function wf(s){if(s._initialized||s._terminated)throw new _t(st.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class wu{constructor(...e){for(let i=0;i<e.length;++i)if(0===e[i].length)throw new _t(st.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Cu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Cu(Hr.fromBase64String(e))}catch(i){throw new _t(st.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Cu(Hr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Zu{constructor(e){this._methodName=e}}class Cf{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new _t(st.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new _t(st.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return A(this._lat,e._lat)||A(this._long,e._long)}}const sy=/^__.*__$/;class oy{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return null!==this.fieldMask?new Ia(e,this.data,this.fieldMask,i,this.fieldTransforms):new Ol(e,this.data,i,this.fieldTransforms)}}class Jp{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Ia(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function Xp(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw en()}}class bf{constructor(e,i,a,l,p,C){this.settings=e,this.databaseId=i,this.O=a,this.ignoreUndefinedProperties=l,void 0===p&&this.vu(),this.fieldTransforms=p||[],this.fieldMask=C||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}Su(e){return new bf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.O,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Du(e){var i;const a=null===(i=this.path)||void 0===i?void 0:i.child(e),l=this.Su({path:a,Cu:!1});return l.Nu(e),l}xu(e){var i;const a=null===(i=this.path)||void 0===i?void 0:i.child(e),l=this.Su({path:a,Cu:!1});return l.vu(),l}ku(e){return this.Su({path:void 0,Cu:!0})}Ou(e){return Df(e,this.settings.methodName,this.settings.Mu||!1,this.path,this.settings.$u)}contains(e){return void 0!==this.fieldMask.find(i=>e.isPrefixOf(i))||void 0!==this.fieldTransforms.find(i=>e.isPrefixOf(i.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Nu(this.path.get(e))}Nu(e){if(0===e.length)throw this.Ou("Document fields must not be empty");if(Xp(this.Vu)&&sy.test(e))throw this.Ou('Document fields cannot begin and end with "__"')}}class oI{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.O=a||Ud(e)}Fu(e,i,a,l=!1){return new bf({Vu:e,methodName:i,$u:a,path:wn.emptyPath(),Cu:!1,Mu:l},this.databaseId,this.O,this.ignoreUndefinedProperties)}}function uc(s){const e=s._freezeSettings(),i=Ud(s._databaseId);return new oI(s._databaseId,!!e.ignoreUndefinedProperties,i)}function Xd(s,e,i,a,l,p={}){const C=s.Fu(p.merge||p.mergeFields?2:0,e,i,l);rg("Data must be an object, but it was:",C,a);const M=ng(a,C);let W,te;if(p.merge)W=new Or(C.fieldMask),te=C.fieldTransforms;else if(p.mergeFields){const Ee=[];for(const Ne of p.mergeFields){const it=ig(e,Ne,i);if(!C.contains(it))throw new _t(st.INVALID_ARGUMENT,`Field '${it}' is specified in your field mask but missing from your input data.`);ly(Ee,it)||Ee.push(it)}W=new Or(Ee),te=C.fieldTransforms.filter(Ne=>W.covers(Ne.field))}else W=null,te=C.fieldTransforms;return new oy(new Ti(M),W,te)}class eh extends Zu{_toFieldTransform(e){if(2!==e.Vu)throw e.Ou(1===e.Vu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof eh}}function eg(s,e,i){return new bf({Vu:3,$u:e.settings.$u,methodName:s._methodName,Cu:i},e.databaseId,e.O,e.ignoreUndefinedProperties)}class tg extends Zu{_toFieldTransform(e){return new ku(e.path,new Ho)}isEqual(e){return e instanceof tg}}class $_ extends Zu{constructor(e,i){super(e),this.Bu=i}_toFieldTransform(e){const i=eg(this,e,!0),a=this.Bu.map(p=>Yc(p,i)),l=new oa(a);return new ku(e.path,l)}isEqual(e){return this===e}}class aI extends Zu{constructor(e,i){super(e),this.Bu=i}_toFieldTransform(e){const i=eg(this,e,!0),a=this.Bu.map(p=>Yc(p,i)),l=new du(a);return new ku(e.path,l)}isEqual(e){return this===e}}class H_ extends Zu{constructor(e,i){super(e),this.Lu=i}_toFieldTransform(e){const i=new xa(e.O,mc(e.O,this.Lu));return new ku(e.path,i)}isEqual(e){return this===e}}function Tf(s,e,i,a){const l=s.Fu(1,e,i);rg("Data must be an object, but it was:",l,a);const p=[],C=Ti.empty();fe(a,(W,te)=>{const Ee=Jc(e,W,i);te=(0,ce.m9)(te);const Ne=l.xu(Ee);if(te instanceof eh)p.push(Ee);else{const it=Yc(te,Ne);null!=it&&(p.push(Ee),C.set(Ee,it))}});const M=new Or(p);return new Jp(C,M,l.fieldTransforms)}function ay(s,e,i,a,l,p){const C=s.Fu(1,e,i),M=[ig(e,a,i)],W=[l];if(p.length%2!=0)throw new _t(st.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let it=0;it<p.length;it+=2)M.push(ig(e,p[it])),W.push(p[it+1]);const te=[],Ee=Ti.empty();for(let it=M.length-1;it>=0;--it)if(!ly(te,M[it])){const Et=M[it];let Rt=W[it];Rt=(0,ce.m9)(Rt);const Dn=C.xu(Et);if(Rt instanceof eh)te.push(Et);else{const vr=Yc(Rt,Dn);null!=vr&&(te.push(Et),Ee.set(Et,vr))}}const Ne=new Or(te);return new Jp(Ee,Ne,C.fieldTransforms)}function uy(s,e,i,a=!1){return Yc(i,s.Fu(a?4:3,e))}function Yc(s,e){if(W_(s=(0,ce.m9)(s)))return rg("Unsupported field value:",e,s),ng(s,e);if(s instanceof Zu)return function(i,a){if(!Xp(a.Vu))throw a.Ou(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Ou(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(s,e),null;if(void 0===s&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.Cu&&4!==e.Vu)throw e.Ou("Nested arrays are not supported");return function(i,a){const l=[];let p=0;for(const C of i){let M=Yc(C,a.ku(p));null==M&&(M={nullValue:"NULL_VALUE"}),l.push(M),p++}return{arrayValue:{values:l}}}(s,e)}return function(i,a){if(null===(i=(0,ce.m9)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return mc(a.O,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const l=O.fromDate(i);return{timestampValue:Vu(a.O,l)}}if(i instanceof O){const l=new O(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Vu(a.O,l)}}if(i instanceof Cf)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Cu)return{bytesValue:Eh(a.O,i._byteString)};if(i instanceof Li){const l=a.databaseId,p=i.firestore._databaseId;if(!p.isEqual(l))throw a.Ou(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Vl(i.firestore._databaseId||a.databaseId,i._key.path)}}throw a.Ou(`Unsupported field value: ${vf(i)}`)}(s,e)}function ng(s,e){const i={};return Oe(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fe(s,(a,l)=>{const p=Yc(l,e.Du(a));null!=p&&(i[a]=p)}),{mapValue:{fields:i}}}function W_(s){return!("object"!=typeof s||null===s||s instanceof Array||s instanceof Date||s instanceof O||s instanceof Cf||s instanceof Cu||s instanceof Li||s instanceof Zu)}function rg(s,e,i){if(!W_(i)||"object"!=typeof(a=i)||null===a||Object.getPrototypeOf(a)!==Object.prototype&&null!==Object.getPrototypeOf(a)){const a=vf(i);throw e.Ou("an object"===a?s+" a custom object":s+" "+a)}var a}function ig(s,e,i){if((e=(0,ce.m9)(e))instanceof wu)return e._internalPath;if("string"==typeof e)return Jc(s,e);throw Df("Field path arguments must be of type string or ",s,!1,void 0,i)}const sg=new RegExp("[~\\*/\\[\\]]");function Jc(s,e,i){if(e.search(sg)>=0)throw Df(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new wu(...e.split("."))._internalPath}catch(a){throw Df(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Df(s,e,i,a,l){const p=a&&!a.isEmpty(),C=void 0!==l;let M=`Function ${e}() called with invalid data`;i&&(M+=" (via `toFirestore()`)"),M+=". ";let W="";return(p||C)&&(W+=" (found",p&&(W+=` in field ${a}`),C&&(W+=` in document ${l}`),W+=")"),new _t(st.INVALID_ARGUMENT,M+s+W)}function ly(s,e){return s.some(i=>i.isEqual(e))}class th{constructor(e,i,a,l,p){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=l,this._converter=p}get id(){return this._key.path.lastSegment()}get ref(){return new Li(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new K_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Sf("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i)}}}class K_ extends th{data(){return super.data()}}function Sf(s,e){return"string"==typeof e?Jc(s,e):e instanceof wu?e._internalPath:e._delegate._internalPath}class bl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lc extends th{constructor(e,i,a,l,p,C){super(e,i,a,l,C),this._firestore=e,this._firestoreImpl=e,this.metadata=p}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new nh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(Sf("DocumentSnapshot.get",e));if(null!==a)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}}class nh extends lc{data(e={}){return super.data(e)}}class ea{constructor(e,i,a,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new bl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,i){this._snapshot.docs.forEach(a=>{e.call(i,new nh(this._firestore,this._userDataWriter,a.key,a,new bl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new _t(st.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let p=0;return a._snapshot.docChanges.map(C=>({type:"added",doc:new nh(a._firestore,a._userDataWriter,C.doc.key,C.doc,new bl(a._snapshot.mutatedKeys.has(C.doc.key),a._snapshot.fromCache),a.query.converter),oldIndex:-1,newIndex:p++}))}{let p=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(C=>l||3!==C.type).map(C=>{const M=new nh(a._firestore,a._userDataWriter,C.doc.key,C.doc,new bl(a._snapshot.mutatedKeys.has(C.doc.key),a._snapshot.fromCache),a.query.converter);let W=-1,te=-1;return 0!==C.type&&(W=p.indexOf(C.doc.key),p=p.delete(C.doc.key)),1!==C.type&&(p=p.add(C.doc),te=p.indexOf(C.doc.key)),{type:G_(C.type),doc:M,oldIndex:W,newIndex:te}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function G_(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return en()}}function cy(s,e){return s instanceof lc&&e instanceof lc?s._firestore===e._firestore&&s._key.isEqual(e._key)&&(null===s._document?null===e._document:s._document.isEqual(e._document))&&s._converter===e._converter:s instanceof ea&&e instanceof ea&&s._firestore===e._firestore&&Xa(s.query,e.query)&&s.metadata.isEqual(e.metadata)&&s._snapshot.isEqual(e._snapshot)}function dy(s){if(Oi(s)&&0===s.explicitOrderBy.length)throw new _t(st.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xc{}function rh(s,...e){for(const i of e)s=i._apply(s);return s}class z_ extends Xc{constructor(e,i,a){super(),this.Uu=e,this.qu=i,this.Ku=a,this.type="where"}_apply(e){const i=uc(e.firestore),a=function(l,p,C,M,W,te,Ee){let Ne;if(W.isKeyField()){if("array-contains"===te||"array-contains-any"===te)throw new _t(st.INVALID_ARGUMENT,`Invalid Query. You can't perform '${te}' queries on documentId().`);if("in"===te||"not-in"===te){yy(Ee,te);const Et=[];for(const Rt of Ee)Et.push(lg(M,l,Rt));Ne={arrayValue:{values:Et}}}else Ne=lg(M,l,Ee)}else"in"!==te&&"not-in"!==te&&"array-contains-any"!==te||yy(Ee,te),Ne=uy(C,"where",Ee,"in"===te||"not-in"===te);const it=us.create(W,te,Ne);return function(Et,Rt){if(Rt.S()){const vr=ps(Et);if(null!==vr&&!vr.isEqual(Rt.field))throw new _t(st.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${vr.toString()}' and '${Rt.field.toString()}'`);const Ps=ro(Et);null!==Ps&&ed(0,Rt.field,Ps)}const Dn=function(vr,Ps){for(const Ko of vr.filters)if(Ps.indexOf(Ko.op)>=0)return Ko.op;return null}(Et,function(vr){switch(vr){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Rt.op));if(null!==Dn)throw new _t(st.INVALID_ARGUMENT,Dn===Rt.op?`Invalid query. You cannot use more than one '${Rt.op.toString()}' filter.`:`Invalid query. You cannot use '${Rt.op.toString()}' filters with '${Dn.toString()}' filters.`)}(l,it),it}(e._query,0,i,e.firestore._databaseId,this.Uu,this.qu,this.Ku);return new Eo(e.firestore,e.converter,function(l,p){const C=l.filters.concat([p]);return new Ut(l.path,l.collectionGroup,l.explicitOrderBy.slice(),C,l.limit,l.limitType,l.startAt,l.endAt)}(e._query,a))}}function hy(s,e,i){const a=e,l=Sf("where",s);return new z_(l,a,i)}class fy extends Xc{constructor(e,i){super(),this.Uu=e,this.Gu=i,this.type="orderBy"}_apply(e){const i=function(a,l,p){if(null!==a.startAt)throw new _t(st.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==a.endAt)throw new _t(st.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const C=new _e(l,p);return function(M,W){if(null===ro(M)){const te=ps(M);null!==te&&ed(0,te,W.field)}}(a,C),C}(e._query,this.Uu,this.Gu);return new Eo(e.firestore,e.converter,function(a,l){const p=a.explicitOrderBy.concat([l]);return new Ut(a.path,a.collectionGroup,p,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,i))}}function q_(s,e="asc"){const i=e,a=Sf("orderBy",s);return new fy(a,i)}class py extends Xc{constructor(e,i,a){super(),this.type=e,this.ju=i,this.Qu=a}_apply(e){return new Eo(e.firestore,e.converter,$o(e._query,this.ju,this.Qu))}}function gy(s){return Xm("limit",s),new py("limit",s,"F")}function Z_(s){return Xm("limitToLast",s),new py("limitToLast",s,"L")}class og extends Xc{constructor(e,i,a){super(),this.type=e,this.Wu=i,this.zu=a}_apply(e){const i=cc(e,this.type,this.Wu,this.zu);return new Eo(e.firestore,e.converter,(l=i,new Ut((a=e._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,l,a.endAt)));var a,l}}function Q_(...s){return new og("startAt",s,!0)}function my(...s){return new og("startAfter",s,!1)}class ag extends Xc{constructor(e,i,a){super(),this.type=e,this.Wu=i,this.zu=a}_apply(e){const i=cc(e,this.type,this.Wu,this.zu);return new Eo(e.firestore,e.converter,(l=i,new Ut((a=e._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,l)));var a,l}}function ug(...s){return new ag("endBefore",s,!1)}function ih(...s){return new ag("endAt",s,!0)}function cc(s,e,i,a){if(i[0]=(0,ce.m9)(i[0]),i[0]instanceof th)return function(l,p,C,M,W){if(!M)throw new _t(st.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${C}().`);const te=[];for(const Ee of Bo(l))if(Ee.field.isKeyField())te.push(Ml(p,M.key));else{const Ne=M.data.field(Ee.field);if(Hi(Ne))throw new _t(st.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Ee.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ne){const it=Ee.field.canonicalString();throw new _t(st.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${it}' (used as the orderBy) does not exist.`)}te.push(Ne)}return new ee(te,W)}(s._query,s.firestore._databaseId,e,i[0]._document,a);{const l=uc(s.firestore);return function(p,C,M,W,te,Ee){const Ne=p.explicitOrderBy;if(te.length>Ne.length)throw new _t(st.INVALID_ARGUMENT,`Too many arguments provided to ${W}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const it=[];for(let Et=0;Et<te.length;Et++){const Rt=te[Et];if(Ne[Et].field.isKeyField()){if("string"!=typeof Rt)throw new _t(st.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${W}(), but got a ${typeof Rt}`);if(!uu(p)&&-1!==Rt.indexOf("/"))throw new _t(st.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${W}() must be a plain document ID, but '${Rt}' contains a slash.`);const Dn=p.path.child(wt.fromString(Rt));if(!tn.isDocumentKey(Dn))throw new _t(st.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${W}() must result in a valid document path, but '${Dn}' is not because it contains an odd number of segments.`);const vr=new tn(Dn);it.push(Ml(C,vr))}else{const Dn=uy(M,W,Rt);it.push(Dn)}}return new ee(it,Ee)}(s._query,s.firestore._databaseId,l,e,i,a)}}function lg(s,e,i){if("string"==typeof(i=(0,ce.m9)(i))){if(""===i)throw new _t(st.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uu(e)&&-1!==i.indexOf("/"))throw new _t(st.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=e.path.child(wt.fromString(i));if(!tn.isDocumentKey(a))throw new _t(st.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Ml(s,new tn(a))}if(i instanceof Li)return Ml(s,i._key);throw new _t(st.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vf(i)}.`)}function yy(s,e){if(!Array.isArray(s)||0===s.length)throw new _t(st.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(s.length>10)throw new _t(st.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function ed(s,e,i){if(!i.isEqual(e))throw new _t(st.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${i.toString()}' instead.`)}class Af{convertValue(e,i="none"){switch(va(e)){case 0:return null;case 1:return e.booleanValue;case 2:return br(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(fs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 10:return this.convertObject(e.mapValue,i);default:throw en()}}convertObject(e,i){const a={};return fe(e.fields,(l,p)=>{a[l]=this.convertValue(p,i)}),a}convertGeoPoint(e){return new Cf(br(e.latitude),br(e.longitude))}convertArray(e,i){return(e.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(e,i){switch(i){case"previous":const a=zo(e);return null==a?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(qo(e));default:return null}}convertTimestamp(e){const i=Yi(e);return new O(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=wt.fromString(e);Bn(Ga(a));const l=new Ms(a.get(1),a.get(3)),p=new tn(a.popFirst(5));return l.isEqual(i)||Bi(`Document ${p} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),p}}function td(s,e,i){let a;return a=s?i&&(i.merge||i.mergeFields)?s.toFirestore(e,i):s.toFirestore(e):e,a}class cg extends Af{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cu(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Li(this.firestore,null,i)}}class _y{constructor(e,i){this._firestore=e,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=uc(e)}set(e,i,a){this._verifyNotCommitted();const l=bu(e,this._firestore),p=td(l.converter,i,a),C=Xd(this._dataReader,"WriteBatch.set",l._key,p,null!==l.converter,a);return this._mutations.push(C.toMutation(l._key,Ei.none())),this}update(e,i,a,...l){this._verifyNotCommitted();const p=bu(e,this._firestore);let C;return C="string"==typeof(i=(0,ce.m9)(i))||i instanceof wu?ay(this._dataReader,"WriteBatch.update",p._key,i,a,l):Tf(this._dataReader,"WriteBatch.update",p._key,i),this._mutations.push(C.toMutation(p._key,Ei.exists(!0))),this}delete(e){this._verifyNotCommitted();const i=bu(e,this._firestore);return this._mutations=this._mutations.concat(new Pl(i._key,Ei.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new _t(st.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function bu(s,e){if((s=(0,ce.m9)(s)).firestore!==e)throw new _t(st.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}function dg(s){s=Gr(s,Li);const e=Gr(s.firestore,zr);return V_(ns(e),s._key).then(i=>Rf(e,s,i))}class Tl extends Af{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cu(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Li(this.firestore,null,i)}}function uI(s){s=Gr(s,Li);const e=Gr(s.firestore,zr),i=ns(e),a=new Tl(e);return function(s,e){const i=new $i;return s.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return(a=(0,m.Z)(function*(l,p,C){try{const M=yield function(W,te){const Ee=Bt(W);return Ee.persistence.runTransaction("read document","readonly",Ne=>Ee.Us.ys(Ne,te))}(l,p);M.isFoundDocument()?C.resolve(M):M.isNoDocument()?C.resolve(null):C.reject(new _t(st.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(M){const W=ec(M,`Failed to get document '${p} from cache`);C.reject(W)}}),function(l,p,C){return a.apply(this,arguments)})(yield zm(s),e,i);var a})),i.promise}(i,s._key).then(l=>new lc(e,a,s._key,l,new bl(null!==l&&l.hasLocalMutations,!0),s.converter))}function Y_(s){s=Gr(s,Li);const e=Gr(s.firestore,zr);return V_(ns(e),s._key,{source:"server"}).then(i=>Rf(e,s,i))}function hg(s){s=Gr(s,Eo);const e=Gr(s.firestore,zr),i=ns(e),a=new Tl(e);return dy(s._query),Gp(i,s._query).then(l=>new ea(e,a,s,l))}function fg(s){s=Gr(s,Eo);const e=Gr(s.firestore,zr),i=ns(e),a=new Tl(e);return function(s,e){const i=new $i;return s.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return(a=(0,m.Z)(function*(l,p,C){try{const M=yield Ld(l,p,!0),W=new Sp(p,M.Ks),te=W.Ic(M.documents),Ee=W.applyChanges(te,!1);C.resolve(Ee.snapshot)}catch(M){const W=ec(M,`Failed to execute query '${p} against cache`);C.reject(W)}}),function(l,p,C){return a.apply(this,arguments)})(yield zm(s),e,i);var a})),i.promise}(i,s._query).then(l=>new ea(e,a,s,l))}function vy(s){s=Gr(s,Eo);const e=Gr(s.firestore,zr),i=ns(e),a=new Tl(e);return Gp(i,s._query,{source:"server"}).then(l=>new ea(e,a,s,l))}function Ey(s,e,i){s=Gr(s,Li);const a=Gr(s.firestore,zr),l=td(s.converter,e,i);return nd(a,[Xd(uc(a),"setDoc",s._key,l,null!==s.converter,i).toMutation(s._key,Ei.none())])}function pg(s,e,i,...a){s=Gr(s,Li);const l=Gr(s.firestore,zr),p=uc(l);let C;return C="string"==typeof(e=(0,ce.m9)(e))||e instanceof wu?ay(p,"updateDoc",s._key,e,i,a):Tf(p,"updateDoc",s._key,e),nd(l,[C.toMutation(s._key,Ei.exists(!0))])}function Iy(s){return nd(Gr(s.firestore,zr),[new Pl(s._key,Ei.none())])}function gg(s,e){const i=Gr(s.firestore,zr),a=ty(s),l=td(s.converter,e);return nd(i,[Xd(uc(s.firestore),"addDoc",a._key,l,null!==s.converter,{}).toMutation(a._key,Ei.exists(!1))]).then(()=>a)}function mg(s,...e){var i,a,l;s=(0,ce.m9)(s);let p={includeMetadataChanges:!1},C=0;"object"!=typeof e[C]||Io(e[C])||(p=e[C],C++);const M={includeMetadataChanges:p.includeMetadataChanges};if(Io(e[C])){const Ne=e[C];e[C]=null===(i=Ne.next)||void 0===i?void 0:i.bind(Ne),e[C+1]=null===(a=Ne.error)||void 0===a?void 0:a.bind(Ne),e[C+2]=null===(l=Ne.complete)||void 0===l?void 0:l.bind(Ne)}let W,te,Ee;if(s instanceof Li)te=Gr(s.firestore,zr),Ee=tr(s._key.path),W={next:Ne=>{e[C]&&e[C](Rf(te,s,Ne))},error:e[C+1],complete:e[C+2]};else{const Ne=Gr(s,Eo);te=Gr(Ne.firestore,zr),Ee=Ne._query;const it=new Tl(te);W={next:Et=>{e[C]&&e[C](new ea(te,it,Ne,Et))},error:e[C+1],complete:e[C+2]},dy(s._query)}return function(Ne,it,Et,Rt){const Dn=new zd(Rt),vr=new Tp(it,Dn,Et);return Ne.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return Cp(yield ic(Ne),vr)})),()=>{Dn.Jc(),Ne.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return Zh(yield ic(Ne),vr)}))}}(ns(te),Ee,M,W)}function yg(s,e){return function(s,e){const i=new zd(e);return s.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return a=yield ic(s),l=i,Bt(a).Zo.add(l),void l.next();var a,l})),()=>{i.Jc(),s.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return a=yield ic(s),l=i,void Bt(a).Zo.delete(l);var a,l}))}}(ns(s=Gr(s,zr)),Io(e)?e:{next:e})}function nd(s,e){return function(i,a){const l=new $i;return i.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return function(s,e,i){return Ja.apply(this,arguments)}(yield Kp(i),a,l)})),l.promise}(ns(s),e)}function Rf(s,e,i){const a=i.docs.get(e._key),l=new Tl(s);return new lc(s,l,e._key,a,new bl(i.hasPendingWrites,i.fromCache),e.converter)}class wy extends class{constructor(e,i){this._firestore=e,this._transaction=i,this._dataReader=uc(e)}get(e){const i=bu(e,this._firestore),a=new cg(this._firestore);return this._transaction.lookup([i._key]).then(l=>{if(!l||1!==l.length)return en();const p=l[0];if(p.isFoundDocument())return new th(this._firestore,a,p.key,p,i.converter);if(p.isNoDocument())return new th(this._firestore,a,i._key,null,i.converter);throw en()})}set(e,i,a){const l=bu(e,this._firestore),p=td(l.converter,i,a),C=Xd(this._dataReader,"Transaction.set",l._key,p,null!==l.converter,a);return this._transaction.set(l._key,C),this}update(e,i,a,...l){const p=bu(e,this._firestore);let C;return C="string"==typeof(i=(0,ce.m9)(i))||i instanceof wu?ay(this._dataReader,"Transaction.update",p._key,i,a,l):Tf(this._dataReader,"Transaction.update",p._key,i),this._transaction.update(p._key,C),this}delete(e){const i=bu(e,this._firestore);return this._transaction.delete(i._key),this}}{constructor(e,i){super(e,i),this._firestore=e}get(e){const i=bu(e,this._firestore),a=new Tl(this._firestore);return super.get(e).then(l=>new lc(this._firestore,a,i._key,l._document,new bl(!1,!1),i.converter))}}function _g(s,e){return function(s,e){const i=new $i;return s.asyncQueue.enqueueAndForget((0,m.Z)(function*(){const a=yield(l=s,gf(l).then(p=>p.datastore));var l;new Wm(s.asyncQueue,a,e,i).run()})),i.promise}(ns(s=Gr(s,zr)),i=>e(new wy(s,i)))}function Cy(){return new eh("deleteField")}function J_(){return new tg("serverTimestamp")}function by(...s){return new $_("arrayUnion",s)}function Ty(...s){return new aI("arrayRemove",s)}function vg(s){return new H_("increment",s)}!function(s,e=!0){to=j.SDK_VERSION,(0,j._registerComponent)(new q.wA("firestore",(i,{options:a})=>{const l=i.getProvider("app").getImmediate(),p=new zr(l,new dc(i.getProvider("auth-internal")),new Fa(i.getProvider("app-check-internal")));return a=Object.assign({useFetchStreams:e},a),p._setSettings(a),p},"PUBLIC")),(0,j.registerVersion)(ws,"3.4.5",s),(0,j.registerVersion)(ws,"3.4.5","esm2017")}()},9870:(Nt,je,F)=>{"use strict";F.d(je,{BH:()=>ue,LL:()=>pt,ZR:()=>rn,zI:()=>Wt,US:()=>ie,tV:()=>ve,$s:()=>Tn,r3:()=>bn,Sg:()=>Ye,ne:()=>zn,vZ:()=>Kt,ZB:()=>re,pd:()=>_n,m9:()=>Rn,z$:()=>ze,jU:()=>Te,ru:()=>Me,d:()=>Be,xb:()=>Xt,w1:()=>nt,hl:()=>Zt,uI:()=>Xe,UG:()=>Ie,b$:()=>Se,G6:()=>Ht,Mn:()=>kt,xO:()=>Sn,zd:()=>ir,eu:()=>Qt});const Ce=function(ye){const he=[];let Re=0;for(let Ze=0;Ze<ye.length;Ze++){let Ue=ye.charCodeAt(Ze);Ue<128?he[Re++]=Ue:Ue<2048?(he[Re++]=Ue>>6|192,he[Re++]=63&Ue|128):55296==(64512&Ue)&&Ze+1<ye.length&&56320==(64512&ye.charCodeAt(Ze+1))?(Ue=65536+((1023&Ue)<<10)+(1023&ye.charCodeAt(++Ze)),he[Re++]=Ue>>18|240,he[Re++]=Ue>>12&63|128,he[Re++]=Ue>>6&63|128,he[Re++]=63&Ue|128):(he[Re++]=Ue>>12|224,he[Re++]=Ue>>6&63|128,he[Re++]=63&Ue|128)}return he},ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ye,he){if(!Array.isArray(ye))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Re=he?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ze=[];for(let Ue=0;Ue<ye.length;Ue+=3){const Ve=ye[Ue],z=Ue+1<ye.length,ae=z?ye[Ue+1]:0,Je=Ue+2<ye.length,yt=Je?ye[Ue+2]:0;let pn=(15&ae)<<2|yt>>6,Ar=63&yt;Je||(Ar=64,z||(pn=64)),Ze.push(Re[Ve>>2],Re[(3&Ve)<<4|ae>>4],Re[pn],Re[Ar])}return Ze.join("")},encodeString(ye,he){return this.HAS_NATIVE_SUPPORT&&!he?btoa(ye):this.encodeByteArray(Ce(ye),he)},decodeString(ye,he){return this.HAS_NATIVE_SUPPORT&&!he?atob(ye):function(ye){const he=[];let Re=0,Ze=0;for(;Re<ye.length;){const Ue=ye[Re++];if(Ue<128)he[Ze++]=String.fromCharCode(Ue);else if(Ue>191&&Ue<224){const Ve=ye[Re++];he[Ze++]=String.fromCharCode((31&Ue)<<6|63&Ve)}else if(Ue>239&&Ue<365){const Je=((7&Ue)<<18|(63&ye[Re++])<<12|(63&ye[Re++])<<6|63&ye[Re++])-65536;he[Ze++]=String.fromCharCode(55296+(Je>>10)),he[Ze++]=String.fromCharCode(56320+(1023&Je))}else{const Ve=ye[Re++],z=ye[Re++];he[Ze++]=String.fromCharCode((15&Ue)<<12|(63&Ve)<<6|63&z)}}return he.join("")}(this.decodeStringToByteArray(ye,he))},decodeStringToByteArray(ye,he){this.init_();const Re=he?this.charToByteMapWebSafe_:this.charToByteMap_,Ze=[];for(let Ue=0;Ue<ye.length;){const Ve=Re[ye.charAt(Ue++)],ae=Ue<ye.length?Re[ye.charAt(Ue)]:0;++Ue;const yt=Ue<ye.length?Re[ye.charAt(Ue)]:64;++Ue;const jt=Ue<ye.length?Re[ye.charAt(Ue)]:64;if(++Ue,null==Ve||null==ae||null==yt||null==jt)throw Error();Ze.push(Ve<<2|ae>>4),64!==yt&&(Ze.push(ae<<4&240|yt>>2),64!==jt&&Ze.push(yt<<6&192|jt))}return Ze},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ye=0;ye<this.ENCODED_VALS.length;ye++)this.byteToCharMap_[ye]=this.ENCODED_VALS.charAt(ye),this.charToByteMap_[this.byteToCharMap_[ye]]=ye,this.byteToCharMapWebSafe_[ye]=this.ENCODED_VALS_WEBSAFE.charAt(ye),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ye]]=ye,ye>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ye)]=ye,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ye)]=ye)}}},Y=function(ye){return function(ye){const he=Ce(ye);return ie.encodeByteArray(he,!0)}(ye).replace(/\./g,"")},ve=function(ye){try{return ie.decodeString(ye,!0)}catch(he){console.error("base64Decode failed: ",he)}return null};function re(ye,he){if(!(he instanceof Object))return he;switch(he.constructor){case Date:return new Date(he.getTime());case Object:void 0===ye&&(ye={});break;case Array:ye=[];break;default:return he}for(const Re in he)!he.hasOwnProperty(Re)||!Z(Re)||(ye[Re]=re(ye[Re],he[Re]));return ye}function Z(ye){return"__proto__"!==ye}class ue{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((he,Re)=>{this.resolve=he,this.reject=Re})}wrapCallback(he){return(Re,Ze)=>{Re?this.reject(Re):this.resolve(Ze),"function"==typeof he&&(this.promise.catch(()=>{}),1===he.length?he(Re):he(Re,Ze))}}}function Ye(ye,he){if(ye.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ze=he||"demo-project",Ue=ye.iat||0,Ve=ye.sub||ye.user_id;if(!Ve)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const z=Object.assign({iss:`https://securetoken.google.com/${Ze}`,aud:Ze,iat:Ue,exp:Ue+3600,auth_time:Ue,sub:Ve,user_id:Ve,firebase:{sign_in_provider:"custom",identities:{}}},ye);return[Y(JSON.stringify({alg:"none",type:"JWT"})),Y(JSON.stringify(z)),""].join(".")}function ze(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Xe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ze())}function Ie(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(ye){return!1}}function Te(){return"object"==typeof self&&self.self===self}function Me(){const ye="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ye&&void 0!==ye.id}function Se(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Be(){return ze().indexOf("Electron/")>=0}function nt(){const ye=ze();return ye.indexOf("MSIE ")>=0||ye.indexOf("Trident/")>=0}function kt(){return ze().indexOf("MSAppHost/")>=0}function Ht(){return!Ie()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Zt(){return"object"==typeof indexedDB}function Qt(){return new Promise((ye,he)=>{try{let Re=!0;const Ze="validate-browser-context-for-indexeddb-analytics-module",Ue=self.indexedDB.open(Ze);Ue.onsuccess=()=>{Ue.result.close(),Re||self.indexedDB.deleteDatabase(Ze),ye(!0)},Ue.onupgradeneeded=()=>{Re=!1},Ue.onerror=()=>{var Ve;he((null===(Ve=Ue.error)||void 0===Ve?void 0:Ve.message)||"")}}catch(Re){he(Re)}})}function Wt(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class rn extends Error{constructor(he,Re,Ze){super(Re),this.code=he,this.customData=Ze,this.name="FirebaseError",Object.setPrototypeOf(this,rn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pt.prototype.create)}}class pt{constructor(he,Re,Ze){this.service=he,this.serviceName=Re,this.errors=Ze}create(he,...Re){const Ze=Re[0]||{},Ue=`${this.service}/${he}`,Ve=this.errors[he],z=Ve?function(ye,he){return ye.replace(Wn,(Re,Ze)=>{const Ue=he[Ze];return null!=Ue?String(Ue):`<${Ze}?>`})}(Ve,Ze):"Error";return new rn(Ue,`${this.serviceName}: ${z} (${Ue}).`,Ze)}}const Wn=/\{\$([^}]+)}/g;function bn(ye,he){return Object.prototype.hasOwnProperty.call(ye,he)}function Xt(ye){for(const he in ye)if(Object.prototype.hasOwnProperty.call(ye,he))return!1;return!0}function Kt(ye,he){if(ye===he)return!0;const Re=Object.keys(ye),Ze=Object.keys(he);for(const Ue of Re){if(!Ze.includes(Ue))return!1;const Ve=ye[Ue],z=he[Ue];if(gn(Ve)&&gn(z)){if(!Kt(Ve,z))return!1}else if(Ve!==z)return!1}for(const Ue of Ze)if(!Re.includes(Ue))return!1;return!0}function gn(ye){return null!==ye&&"object"==typeof ye}function Sn(ye){const he=[];for(const[Re,Ze]of Object.entries(ye))Array.isArray(Ze)?Ze.forEach(Ue=>{he.push(encodeURIComponent(Re)+"="+encodeURIComponent(Ue))}):he.push(encodeURIComponent(Re)+"="+encodeURIComponent(Ze));return he.length?"&"+he.join("&"):""}function ir(ye){const he={};return ye.replace(/^\?/,"").split("&").forEach(Ze=>{if(Ze){const[Ue,Ve]=Ze.split("=");he[decodeURIComponent(Ue)]=decodeURIComponent(Ve)}}),he}function _n(ye){const he=ye.indexOf("?");if(!he)return"";const Re=ye.indexOf("#",he);return ye.substring(he,Re>0?Re:void 0)}function zn(ye,he){const Re=new dr(ye,he);return Re.subscribe.bind(Re)}class dr{constructor(he,Re){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Re,this.task.then(()=>{he(this)}).catch(Ze=>{this.error(Ze)})}next(he){this.forEachObserver(Re=>{Re.next(he)})}error(he){this.forEachObserver(Re=>{Re.error(he)}),this.close(he)}complete(){this.forEachObserver(he=>{he.complete()}),this.close()}subscribe(he,Re,Ze){let Ue;if(void 0===he&&void 0===Re&&void 0===Ze)throw new Error("Missing Observer.");Ue=function(ye,he){if("object"!=typeof ye||null===ye)return!1;for(const Re of["next","error","complete"])if(Re in ye&&"function"==typeof ye[Re])return!0;return!1}(he)?he:{next:he,error:Re,complete:Ze},void 0===Ue.next&&(Ue.next=yr),void 0===Ue.error&&(Ue.error=yr),void 0===Ue.complete&&(Ue.complete=yr);const Ve=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Ue.error(this.finalError):Ue.complete()}catch(z){}}),this.observers.push(Ue),Ve}unsubscribeOne(he){void 0===this.observers||void 0===this.observers[he]||(delete this.observers[he],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(he){if(!this.finalized)for(let Re=0;Re<this.observers.length;Re++)this.sendOne(Re,he)}sendOne(he,Re){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[he])try{Re(this.observers[he])}catch(Ze){"undefined"!=typeof console&&console.error&&console.error(Ze)}})}close(he){this.finalized||(this.finalized=!0,void 0!==he&&(this.finalError=he),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yr(){}function Tn(ye,he=1e3,Re=2){const Ze=he*Math.pow(Re,ye),Ue=Math.round(.5*Ze*(Math.random()-.5)*2);return Math.min(144e5,Ze+Ue)}function Rn(ye){return ye&&ye._delegate?ye._delegate:ye}},1665:(Nt,je,F)=>{"use strict";F.d(je,{Mq:()=>m.getApp,C6:()=>m.getApps});var m=F(4762);(0,m.registerVersion)("firebase","9.6.7","app")},2837:(Nt,je,F)=>{"use strict";F.d(je,{Z:()=>m.Z});var m=F(6043);m.Z.registerVersion("firebase","9.6.7","app-compat")},2136:(Nt,je,F)=>{"use strict";F.r(je);var m=F(1921),j=F(6043),q=F(9870),Ce=F(4762);function Y(g,d){var h={};for(var E in g)Object.prototype.hasOwnProperty.call(g,E)&&d.indexOf(E)<0&&(h[E]=g[E]);if(null!=g&&"function"==typeof Object.getOwnPropertySymbols){var L=0;for(E=Object.getOwnPropertySymbols(g);L<E.length;L++)d.indexOf(E[L])<0&&Object.prototype.propertyIsEnumerable.call(g,E[L])&&(h[E[L]]=g[E[L]])}return h}var rn=F(1773),pt=F(3552);const rr=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Cn=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},bn=new q.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Xt=new rn.Yd("@firebase/auth");function Vn(g,...d){Xt.logLevel<=rn.in.ERROR&&Xt.error(`Auth (${Ce.SDK_VERSION}): ${g}`,...d)}function Kt(g,...d){throw _n(g,...d)}function gn(g,...d){return _n(g,...d)}function Sn(g,d,h){const E=Object.assign(Object.assign({},Cn()),{[d]:h});return new q.LL("auth","Firebase",E).create(d,{appName:g.name})}function ir(g,d,h){if(!(d instanceof h))throw h.name!==d.constructor.name&&Kt(g,"argument-error"),Sn(g,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function _n(g,...d){if("string"!=typeof g){const h=d[0],E=[...d.slice(1)];return E[0]&&(E[0].appName=g.name),g._errorFactory.create(h,...E)}return bn.create(g,...d)}function ot(g,d,...h){if(!g)throw _n(d,...h)}function zn(g){const d="INTERNAL ASSERTION FAILED: "+g;throw Vn(d),new Error(d)}function dr(g,d){g||zn(d)}const Ft=new Map;function An(g){dr(g instanceof Function,"Expected a class definition");let d=Ft.get(g);return d?(dr(d instanceof g,"Instance stored in cache mismatched with class"),d):(d=new g,Ft.set(g,d),d)}function $e(){var g;return"undefined"!=typeof self&&(null===(g=self.location)||void 0===g?void 0:g.href)||""}function ge(){return"http:"===me()||"https:"===me()}function me(){var g;return"undefined"!=typeof self&&(null===(g=self.location)||void 0===g?void 0:g.protocol)||null}class Dt{constructor(d,h){this.shortDelay=d,this.longDelay=h,dr(h>d,"Short delay should be less than long delay!"),this.isMobile=(0,q.uI)()||(0,q.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ge()||(0,q.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function lt(g,d){dr(g.emulator,"Emulator should always be set here");const{url:h}=g.emulator;return d?`${h}${d.startsWith("/")?d.slice(1):d}`:h}class xt{static initialize(d,h,E){this.fetchImpl=d,h&&(this.headersImpl=h),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void zn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void zn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void zn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const mn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Kn=new Dt(3e4,6e4);function Tn(g,d){return g.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:g.tenantId}):d}function Yt(g,d,h,E){return xn.apply(this,arguments)}function xn(){return(xn=(0,m.Z)(function*(g,d,h,E,L={}){return Rn(g,L,(0,m.Z)(function*(){let G={},De={};E&&("GET"===d?De=E:G={body:JSON.stringify(E)});const tt=(0,q.xO)(Object.assign({key:g.config.apiKey},De)).slice(1),Pt=yield g._getAdditionalHeaders();return Pt["Content-Type"]="application/json",g.languageCode&&(Pt["X-Firebase-Locale"]=g.languageCode),xt.fetch()(Ze(g,g.config.apiHost,h,tt),Object.assign({method:d,headers:Pt,referrerPolicy:"no-referrer"},G))}))})).apply(this,arguments)}function Rn(g,d,h){return ye.apply(this,arguments)}function ye(){return(ye=(0,m.Z)(function*(g,d,h){g._canInitEmulator=!1;const E=Object.assign(Object.assign({},mn),d);try{const L=new Ue(g),G=yield Promise.race([h(),L.promise]);L.clearNetworkTimeout();const De=yield G.json();if("needConfirmation"in De)throw Ve(g,"account-exists-with-different-credential",De);if(G.ok&&!("errorMessage"in De))return De;{const tt=G.ok?De.errorMessage:De.error.message,[Pt,At]=tt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Pt)throw Ve(g,"credential-already-in-use",De);if("EMAIL_EXISTS"===Pt)throw Ve(g,"email-already-in-use",De);const sn=E[Pt]||Pt.toLowerCase().replace(/[_\s]+/g,"-");if(At)throw Sn(g,sn,At);Kt(g,sn)}}catch(L){if(L instanceof q.ZR)throw L;Kt(g,"network-request-failed")}})).apply(this,arguments)}function he(g,d,h,E){return Re.apply(this,arguments)}function Re(){return(Re=(0,m.Z)(function*(g,d,h,E,L={}){const G=yield Yt(g,d,h,E,L);return"mfaPendingCredential"in G&&Kt(g,"multi-factor-auth-required",{_serverResponse:G}),G})).apply(this,arguments)}function Ze(g,d,h,E){const L=`${d}${h}?${E}`;return g.config.emulator?lt(g.config,L):`${g.config.apiScheme}://${L}`}class Ue{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((h,E)=>{this.timer=setTimeout(()=>E(gn(this.auth,"network-request-failed")),Kn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ve(g,d,h){const E={appName:g.name};h.email&&(E.email=h.email),h.phoneNumber&&(E.phoneNumber=h.phoneNumber);const L=gn(g,d,E);return L.customData._tokenResponse=h,L}function ae(){return(ae=(0,m.Z)(function*(g,d){return Yt(g,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function Je(g,d){return yt.apply(this,arguments)}function yt(){return(yt=(0,m.Z)(function*(g,d){return Yt(g,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function dn(g,d){return jt.apply(this,arguments)}function jt(){return(jt=(0,m.Z)(function*(g,d){return Yt(g,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function pn(g){if(g)try{const d=new Date(Number(g));if(!isNaN(d.getTime()))return d.toUTCString()}catch(d){}}function Fr(){return(Fr=(0,m.Z)(function*(g,d=!1){const h=(0,q.m9)(g),E=yield h.getIdToken(d),L=Jr(E);ot(L&&L.exp&&L.auth_time&&L.iat,h.auth,"internal-error");const G="object"==typeof L.firebase?L.firebase:void 0,De=null==G?void 0:G.sign_in_provider;return{claims:L,token:E,authTime:pn(Mn(L.auth_time)),issuedAtTime:pn(Mn(L.iat)),expirationTime:pn(Mn(L.exp)),signInProvider:De||null,signInSecondFactor:(null==G?void 0:G.sign_in_second_factor)||null}})).apply(this,arguments)}function Mn(g){return 1e3*Number(g)}function Jr(g){const[d,h,E]=g.split(".");if(void 0===d||void 0===h||void 0===E)return Vn("JWT malformed, contained fewer than 3 sections"),null;try{const L=(0,q.tV)(h);return L?JSON.parse(L):(Vn("Failed to decode base64 JWT payload"),null)}catch(L){return Vn("Caught error parsing JWT payload as JSON",L),null}}function Dr(g,d){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,m.Z)(function*(g,d,h=!1){if(h)return d;try{return yield d}catch(E){throw E instanceof q.ZR&&cr(E)&&g.auth.currentUser===g&&(yield g.auth.signOut()),E}})).apply(this,arguments)}function cr({code:g}){return"auth/user-disabled"===g||"auth/user-token-expired"===g}class ai{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var h;if(d){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const L=(null!==(h=this.user.stsTokenManager.expirationTime)&&void 0!==h?h:0)-Date.now()-3e5;return Math.max(0,L)}}schedule(d=!1){var h=this;if(!this.isRunning)return;const E=this.getInterval(d);this.timerId=setTimeout((0,m.Z)(function*(){yield h.iteration()}),E)}iteration(){var d=this;return(0,m.Z)(function*(){try{yield d.user.getIdToken(!0)}catch(h){return void("auth/network-request-failed"===h.code&&d.schedule(!0))}d.schedule()})()}}class Ur{constructor(d,h){this.createdAt=d,this.lastLoginAt=h,this._initializeTime()}_initializeTime(){this.lastSignInTime=pn(this.lastLoginAt),this.creationTime=pn(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Lr(g){return er.apply(this,arguments)}function er(){return(er=(0,m.Z)(function*(g){var d;const h=g.auth,E=yield g.getIdToken(),L=yield Dr(g,dn(h,{idToken:E}));ot(null==L?void 0:L.users.length,h,"internal-error");const G=L.users[0];g._notifyReloadListener(G);const De=(null===(d=G.providerUserInfo)||void 0===d?void 0:d.length)?ri(G.providerUserInfo):[],tt=Gn(g.providerData,De),sn=!!g.isAnonymous&&!(g.email&&G.passwordHash||(null==tt?void 0:tt.length)),cn={uid:G.localId,displayName:G.displayName||null,photoURL:G.photoUrl||null,email:G.email||null,emailVerified:G.emailVerified||!1,phoneNumber:G.phoneNumber||null,tenantId:G.tenantId||null,providerData:tt,metadata:new Ur(G.createdAt,G.lastLoginAt),isAnonymous:sn};Object.assign(g,cn)})).apply(this,arguments)}function hn(){return(hn=(0,m.Z)(function*(g){const d=(0,q.m9)(g);yield Lr(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function Gn(g,d){return[...g.filter(E=>!d.some(L=>L.providerId===E.providerId)),...d]}function ri(g){return g.map(d=>{var{providerId:h}=d,E=Y(d,["providerId"]);return{providerId:h,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function Sr(){return(Sr=(0,m.Z)(function*(g,d){const h=yield Rn(g,{},(0,m.Z)(function*(){const E=(0,q.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:L,apiKey:G}=g.config,De=Ze(g,L,"/v1/token",`key=${G}`),tt=yield g._getAdditionalHeaders();return tt["Content-Type"]="application/x-www-form-urlencoded",xt.fetch()(De,{method:"POST",headers:tt,body:E})}));return{accessToken:h.access_token,expiresIn:h.expires_in,refreshToken:h.refresh_token}})).apply(this,arguments)}class jr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){ot(d.idToken,"internal-error"),ot(void 0!==d.idToken,"internal-error"),ot(void 0!==d.refreshToken,"internal-error");const h="expiresIn"in d&&void 0!==d.expiresIn?Number(d.expiresIn):function(g){const d=Jr(g);return ot(d,"internal-error"),ot(void 0!==d.exp,"internal-error"),ot(void 0!==d.iat,"internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,h)}getToken(d,h=!1){var E=this;return(0,m.Z)(function*(){return ot(!E.accessToken||E.refreshToken,d,"user-token-expired"),h||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(d,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,h){var E=this;return(0,m.Z)(function*(){const{accessToken:L,refreshToken:G,expiresIn:De}=yield function(g,d){return Sr.apply(this,arguments)}(d,h);E.updateTokensAndExpiration(L,G,Number(De))})()}updateTokensAndExpiration(d,h,E){this.refreshToken=h||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(d,h){const{refreshToken:E,accessToken:L,expirationTime:G}=h,De=new jr;return E&&(ot("string"==typeof E,"internal-error",{appName:d}),De.refreshToken=E),L&&(ot("string"==typeof L,"internal-error",{appName:d}),De.accessToken=L),G&&(ot("number"==typeof G,"internal-error",{appName:d}),De.expirationTime=G),De}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new jr,this.toJSON())}_performRefresh(){return zn("not implemented")}}function sr(g,d){ot("string"==typeof g||void 0===g,"internal-error",{appName:d})}class ui{constructor(d){var{uid:h,auth:E,stsTokenManager:L}=d,G=Y(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ai(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=h,this.auth=E,this.stsTokenManager=L,this.accessToken=L.accessToken,this.displayName=G.displayName||null,this.email=G.email||null,this.emailVerified=G.emailVerified||!1,this.phoneNumber=G.phoneNumber||null,this.photoURL=G.photoURL||null,this.isAnonymous=G.isAnonymous||!1,this.tenantId=G.tenantId||null,this.providerData=G.providerData?[...G.providerData]:[],this.metadata=new Ur(G.createdAt||void 0,G.lastLoginAt||void 0)}getIdToken(d){var h=this;return(0,m.Z)(function*(){const E=yield Dr(h,h.stsTokenManager.getToken(h.auth,d));return ot(E,h.auth,"internal-error"),h.accessToken!==E&&(h.accessToken=E,yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)),E})()}getIdTokenResult(d){return function(g){return Fr.apply(this,arguments)}(this,d)}reload(){return function(g){return hn.apply(this,arguments)}(this)}_assign(d){this!==d&&(ot(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(h=>Object.assign({},h)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){return new ui(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(d){ot(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,h=!1){var E=this;return(0,m.Z)(function*(){let L=!1;d.idToken&&d.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(d),L=!0),h&&(yield Lr(E)),yield E.auth._persistUserIfCurrent(E),L&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var d=this;return(0,m.Z)(function*(){const h=yield d.getIdToken();return yield Dr(d,function(g,d){return ae.apply(this,arguments)}(d.auth,{idToken:h})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,h){var E,L,G,De,tt,Pt,At,sn;const cn=null!==(E=h.displayName)&&void 0!==E?E:void 0,_r=null!==(L=h.email)&&void 0!==L?L:void 0,Gs=null!==(G=h.phoneNumber)&&void 0!==G?G:void 0,Ca=null!==(De=h.photoURL)&&void 0!==De?De:void 0,Oc=null!==(tt=h.tenantId)&&void 0!==tt?tt:void 0,Sd=null!==(Pt=h._redirectEventId)&&void 0!==Pt?Pt:void 0,Rh=null!==(At=h.createdAt)&&void 0!==At?At:void 0,Ad=null!==(sn=h.lastLoginAt)&&void 0!==sn?sn:void 0,{uid:Kl,emailVerified:Pc,isAnonymous:kc,providerData:Gl,stsTokenManager:zl}=h;ot(Kl&&zl,d,"internal-error");const Rd=jr.fromJSON(this.name,zl);ot("string"==typeof Kl,d,"internal-error"),sr(cn,d.name),sr(_r,d.name),ot("boolean"==typeof Pc,d,"internal-error"),ot("boolean"==typeof kc,d,"internal-error"),sr(Gs,d.name),sr(Ca,d.name),sr(Oc,d.name),sr(Sd,d.name),sr(Rh,d.name),sr(Ad,d.name);const Fc=new ui({uid:Kl,auth:d,email:_r,emailVerified:Pc,displayName:cn,isAnonymous:kc,photoURL:Ca,phoneNumber:Gs,tenantId:Oc,stsTokenManager:Rd,createdAt:Rh,lastLoginAt:Ad});return Gl&&Array.isArray(Gl)&&(Fc.providerData=Gl.map(Lc=>Object.assign({},Lc))),Sd&&(Fc._redirectEventId=Sd),Fc}static _fromIdTokenResponse(d,h,E=!1){return(0,m.Z)(function*(){const L=new jr;L.updateFromServerResponse(h);const G=new ui({uid:h.localId,auth:d,stsTokenManager:L,isAnonymous:E});return yield Lr(G),G})()}}const fn=(()=>{class g{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,m.Z)(function*(){return!0})()}_set(h,E){var L=this;return(0,m.Z)(function*(){L.storage[h]=E})()}_get(h){var E=this;return(0,m.Z)(function*(){const L=E.storage[h];return void 0===L?null:L})()}_remove(h){var E=this;return(0,m.Z)(function*(){delete E.storage[h]})()}_addListener(h,E){}_removeListener(h,E){}}return g.type="NONE",g})();function Le(g,d,h){return`firebase:${g}:${d}:${h}`}class Ae{constructor(d,h,E){this.persistence=d,this.auth=h,this.userKey=E;const{config:L,name:G}=this.auth;this.fullUserKey=Le(this.userKey,L.apiKey,G),this.fullPersistenceKey=Le("persistence",L.apiKey,G),this.boundEventHandler=h._onStorageEvent.bind(h),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,m.Z)(function*(){const h=yield d.persistence._get(d.fullUserKey);return h?ui._fromJSON(d.auth,h):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var h=this;return(0,m.Z)(function*(){if(h.persistence===d)return;const E=yield h.getCurrentUser();return yield h.removeCurrentUser(),h.persistence=d,E?h.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,h,E="authUser"){return(0,m.Z)(function*(){if(!h.length)return new Ae(An(fn),d,E);const L=(yield Promise.all(h.map(function(){var At=(0,m.Z)(function*(sn){if(yield sn._isAvailable())return sn});return function(sn){return At.apply(this,arguments)}}()))).filter(At=>At);let G=L[0]||An(fn);const De=Le(E,d.config.apiKey,d.name);let tt=null;for(const At of h)try{const sn=yield At._get(De);if(sn){const cn=ui._fromJSON(d,sn);At!==G&&(tt=cn),G=At;break}}catch(sn){}const Pt=L.filter(At=>At._shouldAllowMigration);return G._shouldAllowMigration&&Pt.length?(G=Pt[0],tt&&(yield G._set(De,tt.toJSON())),yield Promise.all(h.map(function(){var At=(0,m.Z)(function*(sn){if(sn!==G)try{yield sn._remove(De)}catch(cn){}});return function(sn){return At.apply(this,arguments)}}())),new Ae(G,d,E)):new Ae(G,d,E)})()}}function le(g){const d=g.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(yn(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(Ke(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(an(d))return"Blackberry";if(zi(d))return"Webos";if(at(d))return"Safari";if((d.includes("chrome/")||on(d))&&!d.includes("edge/"))return"Chrome";if(Un(d))return"Android";{const E=g.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==E?void 0:E.length))return E[1]}return"Other"}function Ke(g=(0,q.z$)()){return/firefox\//i.test(g)}function at(g=(0,q.z$)()){const d=g.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function on(g=(0,q.z$)()){return/crios\//i.test(g)}function yn(g=(0,q.z$)()){return/iemobile/i.test(g)}function Un(g=(0,q.z$)()){return/android/i.test(g)}function an(g=(0,q.z$)()){return/blackberry/i.test(g)}function zi(g=(0,q.z$)()){return/webos/i.test(g)}function wr(g=(0,q.z$)()){return/iphone|ipad|ipod/i.test(g)}function is(g=(0,q.z$)()){return wr(g)||Un(g)||zi(g)||an(g)||/windows phone/i.test(g)||yn(g)}function Br(g,d=[]){let h;switch(g){case"Browser":h=le((0,q.z$)());break;case"Worker":h=`${le((0,q.z$)())}-${g}`;break;default:h=g}const E=d.length?d.join(","):"FirebaseCore-web";return`${h}/JsCore/${Ce.SDK_VERSION}/${E}`}class Zs{constructor(d,h){this.app=d,this.config=h,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gr(this),this.idTokenSubscription=new gr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bn,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=h.sdkClientVersion}_initializeWithPersistence(d,h){var E=this;return h&&(this._popupRedirectResolver=An(h)),this._initializationPromise=this.queue((0,m.Z)(function*(){var L,G;if(!E._deleted&&(E.persistenceManager=yield Ae.create(E,d),!E._deleted)){if(null===(L=E._popupRedirectResolver)||void 0===L?void 0:L._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch(De){}yield E.initializeCurrentUser(h),E.lastNotifiedUid=(null===(G=E.currentUser)||void 0===G?void 0:G.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,m.Z)(function*(){if(d._deleted)return;const h=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||h){if(d.currentUser&&h&&d.currentUser.uid===h.uid)return d._currentUser._assign(h),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(h)}})()}initializeCurrentUser(d){var h=this;return(0,m.Z)(function*(){var E;let L=yield h.assertedPersistence.getCurrentUser();if(d&&h.config.authDomain){yield h.getOrInitRedirectPersistenceManager();const G=null===(E=h.redirectUser)||void 0===E?void 0:E._redirectEventId,De=null==L?void 0:L._redirectEventId,tt=yield h.tryRedirectSignIn(d);(!G||G===De)&&(null==tt?void 0:tt.user)&&(L=tt.user)}return L?L._redirectEventId?(ot(h._popupRedirectResolver,h,"argument-error"),yield h.getOrInitRedirectPersistenceManager(),h.redirectUser&&h.redirectUser._redirectEventId===L._redirectEventId?h.directlySetCurrentUser(L):h.reloadAndSetCurrentUserOrClear(L)):h.reloadAndSetCurrentUserOrClear(L):h.directlySetCurrentUser(null)})()}tryRedirectSignIn(d){var h=this;return(0,m.Z)(function*(){let E=null;try{E=yield h._popupRedirectResolver._completeRedirectFn(h,d,!0)}catch(L){yield h._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(d){var h=this;return(0,m.Z)(function*(){try{yield Lr(d)}catch(E){if("auth/network-request-failed"!==E.code)return h.directlySetCurrentUser(null)}return h.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const g=navigator;return g.languages&&g.languages[0]||g.language||null}()}_delete(){var d=this;return(0,m.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var h=this;return(0,m.Z)(function*(){const E=d?(0,q.m9)(d):null;return E&&ot(E.auth.config.apiKey===h.config.apiKey,h,"invalid-user-token"),h._updateCurrentUser(E&&E._clone(h))})()}_updateCurrentUser(d){var h=this;return(0,m.Z)(function*(){if(!h._deleted)return d&&ot(h.tenantId===d.tenantId,h,"tenant-id-mismatch"),h.queue((0,m.Z)(function*(){yield h.directlySetCurrentUser(d),h.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,m.Z)(function*(){return(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null)})()}setPersistence(d){var h=this;return this.queue((0,m.Z)(function*(){yield h.assertedPersistence.setPersistence(An(d))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new q.LL("auth","Firebase",d())}onAuthStateChanged(d,h,E){return this.registerStateListener(this.authStateSubscription,d,h,E)}onIdTokenChanged(d,h,E){return this.registerStateListener(this.idTokenSubscription,d,h,E)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,h){var E=this;return(0,m.Z)(function*(){const L=yield E.getOrInitRedirectPersistenceManager(h);return null===d?L.removeCurrentUser():L.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var h=this;return(0,m.Z)(function*(){if(!h.redirectPersistenceManager){const E=d&&An(d)||h._popupRedirectResolver;ot(E,h,"argument-error"),h.redirectPersistenceManager=yield Ae.create(h,[An(E._redirectPersistence)],"redirectUser"),h.redirectUser=yield h.redirectPersistenceManager.getCurrentUser()}return h.redirectPersistenceManager})()}_redirectUserForId(d){var h=this;return(0,m.Z)(function*(){var E,L;return h._isInitialized&&(yield h.queue((0,m.Z)(function*(){}))),(null===(E=h._currentUser)||void 0===E?void 0:E._redirectEventId)===d?h._currentUser:(null===(L=h.redirectUser)||void 0===L?void 0:L._redirectEventId)===d?h.redirectUser:null})()}_persistUserIfCurrent(d){var h=this;return(0,m.Z)(function*(){if(d===h.currentUser)return h.queue((0,m.Z)(function*(){return h.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,h;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(h=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==h?h:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,h,E,L){if(this._deleted)return()=>{};const G="function"==typeof h?h:h.next.bind(h),De=this._isInitialized?Promise.resolve():this._initializationPromise;return ot(De,this,"internal-error"),De.then(()=>G(this.currentUser)),"function"==typeof h?d.addObserver(h,E,L):d.addObserver(h)}directlySetCurrentUser(d){var h=this;return(0,m.Z)(function*(){h.currentUser&&h.currentUser!==d&&(h._currentUser._stopProactiveRefresh(),d&&h.isProactiveRefreshEnabled&&d._startProactiveRefresh()),h.currentUser=d,d?yield h.assertedPersistence.setCurrentUser(d):yield h.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return ot(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=Br(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,m.Z)(function*(){const h={"X-Client-Version":d.clientVersion};return d.app.options.appId&&(h["X-Firebase-gmpid"]=d.app.options.appId),h})()}}function or(g){return(0,q.m9)(g)}class gr{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,q.ne)(h=>this.observer=h)}get next(){return ot(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ri(g){const d=g.indexOf(":");return d<0?"":g.substr(0,d+1)}function li(g){if(!g)return null;const d=Number(g);return isNaN(d)?null:d}class Ls{constructor(d,h){this.providerId=d,this.signInMethod=h}toJSON(){return zn("not implemented")}_getIdTokenResponse(d){return zn("not implemented")}_linkToIdToken(d,h){return zn("not implemented")}_getReauthenticationResolver(d){return zn("not implemented")}}function Qs(g,d){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,m.Z)(function*(g,d){return Yt(g,"POST","/v1/accounts:resetPassword",Tn(g,d))})).apply(this,arguments)}function xe(g,d){return qe.apply(this,arguments)}function qe(){return(qe=(0,m.Z)(function*(g,d){return Yt(g,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function gt(g,d){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,m.Z)(function*(g,d){return Yt(g,"POST","/v1/accounts:update",Tn(g,d))})).apply(this,arguments)}function Zn(){return(Zn=(0,m.Z)(function*(g,d){return he(g,"POST","/v1/accounts:signInWithPassword",Tn(g,d))})).apply(this,arguments)}function Vr(g,d){return On.apply(this,arguments)}function On(){return(On=(0,m.Z)(function*(g,d){return Yt(g,"POST","/v1/accounts:sendOobCode",Tn(g,d))})).apply(this,arguments)}function hi(g,d){return cs.apply(this,arguments)}function cs(){return(cs=(0,m.Z)(function*(g,d){return Vr(g,d)})).apply(this,arguments)}function co(g,d){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,m.Z)(function*(g,d){return Vr(g,d)})).apply(this,arguments)}function wo(g,d){return ss.apply(this,arguments)}function ss(){return(ss=(0,m.Z)(function*(g,d){return Vr(g,d)})).apply(this,arguments)}function ms(g,d){return qi.apply(this,arguments)}function qi(){return(qi=(0,m.Z)(function*(g,d){return Vr(g,d)})).apply(this,arguments)}function Js(){return(Js=(0,m.Z)(function*(g,d){return he(g,"POST","/v1/accounts:signInWithEmailLink",Tn(g,d))})).apply(this,arguments)}function ci(){return(ci=(0,m.Z)(function*(g,d){return he(g,"POST","/v1/accounts:signInWithEmailLink",Tn(g,d))})).apply(this,arguments)}class _s extends Ls{constructor(d,h,E,L=null){super("password",E),this._email=d,this._password=h,this._tenantId=L}static _fromEmailAndPassword(d,h){return new _s(d,h,"password")}static _fromEmailAndCode(d,h,E=null){return new _s(d,h,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const h="string"==typeof d?JSON.parse(d):d;if((null==h?void 0:h.email)&&(null==h?void 0:h.password)){if("password"===h.signInMethod)return this._fromEmailAndPassword(h.email,h.password);if("emailLink"===h.signInMethod)return this._fromEmailAndCode(h.email,h.password,h.tenantId)}return null}_getIdTokenResponse(d){var h=this;return(0,m.Z)(function*(){switch(h.signInMethod){case"password":return function(g,d){return Zn.apply(this,arguments)}(d,{returnSecureToken:!0,email:h._email,password:h._password});case"emailLink":return function(g,d){return Js.apply(this,arguments)}(d,{email:h._email,oobCode:h._password});default:Kt(d,"internal-error")}})()}_linkToIdToken(d,h){var E=this;return(0,m.Z)(function*(){switch(E.signInMethod){case"password":return xe(d,{idToken:h,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function(g,d){return ci.apply(this,arguments)}(d,{idToken:h,email:E._email,oobCode:E._password});default:Kt(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function ii(g,d){return pi.apply(this,arguments)}function pi(){return(pi=(0,m.Z)(function*(g,d){return he(g,"POST","/v1/accounts:signInWithIdp",Tn(g,d))})).apply(this,arguments)}class Pn extends Ls{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const h=new Pn(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(h.idToken=d.idToken),d.accessToken&&(h.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(h.nonce=d.nonce),d.pendingToken&&(h.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(h.accessToken=d.oauthToken,h.secret=d.oauthTokenSecret):Kt("argument-error"),h}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const h="string"==typeof d?JSON.parse(d):d,{providerId:E,signInMethod:L}=h,G=Y(h,["providerId","signInMethod"]);if(!E||!L)return null;const De=new Pn(E,L);return De.idToken=G.idToken||void 0,De.accessToken=G.accessToken||void 0,De.secret=G.secret,De.nonce=G.nonce,De.pendingToken=G.pendingToken||null,De}_getIdTokenResponse(d){return ii(d,this.buildRequest())}_linkToIdToken(d,h){const E=this.buildRequest();return E.idToken=h,ii(d,E)}_getReauthenticationResolver(d){const h=this.buildRequest();return h.autoCreate=!1,ii(d,h)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const h={};this.idToken&&(h.id_token=this.idToken),this.accessToken&&(h.access_token=this.accessToken),this.secret&&(h.oauth_token_secret=this.secret),h.providerId=this.providerId,this.nonce&&!this.pendingToken&&(h.nonce=this.nonce),d.postBody=(0,q.xO)(h)}return d}}function Zi(g,d){return Co.apply(this,arguments)}function Co(){return(Co=(0,m.Z)(function*(g,d){return Yt(g,"POST","/v1/accounts:sendVerificationCode",Tn(g,d))})).apply(this,arguments)}function os(){return(os=(0,m.Z)(function*(g,d){return he(g,"POST","/v1/accounts:signInWithPhoneNumber",Tn(g,d))})).apply(this,arguments)}function ei(){return(ei=(0,m.Z)(function*(g,d){const h=yield he(g,"POST","/v1/accounts:signInWithPhoneNumber",Tn(g,d));if(h.temporaryProof)throw Ve(g,"account-exists-with-different-credential",h);return h})).apply(this,arguments)}const Xs={USER_NOT_FOUND:"user-not-found"};function bo(){return(bo=(0,m.Z)(function*(g,d){return he(g,"POST","/v1/accounts:signInWithPhoneNumber",Tn(g,Object.assign(Object.assign({},d),{operation:"REAUTH"})),Xs)})).apply(this,arguments)}class Us extends Ls{constructor(d){super("phone","phone"),this.params=d}static _fromVerification(d,h){return new Us({verificationId:d,verificationCode:h})}static _fromTokenResponse(d,h){return new Us({phoneNumber:d,temporaryProof:h})}_getIdTokenResponse(d){return function(g,d){return os.apply(this,arguments)}(d,this._makeVerificationRequest())}_linkToIdToken(d,h){return function(g,d){return ei.apply(this,arguments)}(d,Object.assign({idToken:h},this._makeVerificationRequest()))}_getReauthenticationResolver(d){return function(g,d){return bo.apply(this,arguments)}(d,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:d,phoneNumber:h,verificationId:E,verificationCode:L}=this.params;return d&&h?{temporaryProof:d,phoneNumber:h}:{sessionInfo:E,code:L}}toJSON(){const d={providerId:this.providerId};return this.params.phoneNumber&&(d.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(d.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(d.verificationCode=this.params.verificationCode),this.params.verificationId&&(d.verificationId=this.params.verificationId),d}static fromJSON(d){"string"==typeof d&&(d=JSON.parse(d));const{verificationId:h,verificationCode:E,phoneNumber:L,temporaryProof:G}=d;return E||h||L||G?new Us({verificationId:h,verificationCode:E,phoneNumber:L,temporaryProof:G}):null}}class P{constructor(d){var h,E,L,G,De,tt;const Pt=(0,q.zd)((0,q.pd)(d)),At=null!==(h=Pt.apiKey)&&void 0!==h?h:null,sn=null!==(E=Pt.oobCode)&&void 0!==E?E:null,cn=function(g){switch(g){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(L=Pt.mode)&&void 0!==L?L:null);ot(At&&sn&&cn,"argument-error"),this.apiKey=At,this.operation=cn,this.code=sn,this.continueUrl=null!==(G=Pt.continueUrl)&&void 0!==G?G:null,this.languageCode=null!==(De=Pt.languageCode)&&void 0!==De?De:null,this.tenantId=null!==(tt=Pt.tenantId)&&void 0!==tt?tt:null}static parseLink(d){const h=function(g){const d=(0,q.zd)((0,q.pd)(g)).link,h=d?(0,q.zd)((0,q.pd)(d)).deep_link_id:null,E=(0,q.zd)((0,q.pd)(g)).deep_link_id;return(E?(0,q.zd)((0,q.pd)(E)).link:null)||E||h||d||g}(d);try{return new P(h)}catch(E){return null}}}let k=(()=>{class g{constructor(){this.providerId=g.PROVIDER_ID}static credential(h,E){return _s._fromEmailAndPassword(h,E)}static credentialWithLink(h,E){const L=P.parseLink(E);return ot(L,"argument-error"),_s._fromEmailAndCode(h,L.code,L.tenantId)}}return g.PROVIDER_ID="password",g.EMAIL_PASSWORD_SIGN_IN_METHOD="password",g.EMAIL_LINK_SIGN_IN_METHOD="emailLink",g})();class w{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class b extends w{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class S extends b{static credentialFromJSON(d){const h="string"==typeof d?JSON.parse(d):d;return ot("providerId"in h&&"signInMethod"in h,"argument-error"),Pn._fromParams(h)}credential(d){return this._credential(Object.assign(Object.assign({},d),{nonce:d.rawNonce}))}_credential(d){return ot(d.idToken||d.accessToken,"argument-error"),Pn._fromParams(Object.assign(Object.assign({},d),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(d){return S.oauthCredentialFromTaggedObject(d)}static credentialFromError(d){return S.oauthCredentialFromTaggedObject(d.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:h,oauthAccessToken:E,oauthTokenSecret:L,pendingToken:G,nonce:De,providerId:tt}=d;if(!E&&!L&&!h&&!G||!tt)return null;try{return new S(tt)._credential({idToken:h,accessToken:E,nonce:De,pendingToken:G})}catch(Pt){return null}}}let $=(()=>{class g extends b{constructor(){super("facebook.com")}static credential(h){return Pn._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.FACEBOOK_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return g.credentialFromTaggedObject(h)}static credentialFromError(h){return g.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return g.credential(h.oauthAccessToken)}catch(E){return null}}}return g.FACEBOOK_SIGN_IN_METHOD="facebook.com",g.PROVIDER_ID="facebook.com",g})(),Fe=(()=>{class g extends b{constructor(){super("google.com"),this.addScope("profile")}static credential(h,E){return Pn._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.GOOGLE_SIGN_IN_METHOD,idToken:h,accessToken:E})}static credentialFromResult(h){return g.credentialFromTaggedObject(h)}static credentialFromError(h){return g.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:E,oauthAccessToken:L}=h;if(!E&&!L)return null;try{return g.credential(E,L)}catch(G){return null}}}return g.GOOGLE_SIGN_IN_METHOD="google.com",g.PROVIDER_ID="google.com",g})(),vt=(()=>{class g extends b{constructor(){super("github.com")}static credential(h){return Pn._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.GITHUB_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return g.credentialFromTaggedObject(h)}static credentialFromError(h){return g.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return g.credential(h.oauthAccessToken)}catch(E){return null}}}return g.GITHUB_SIGN_IN_METHOD="github.com",g.PROVIDER_ID="github.com",g})();class Yn extends Ls{constructor(d,h){super(d,d),this.pendingToken=h}_getIdTokenResponse(d){return ii(d,this.buildRequest())}_linkToIdToken(d,h){const E=this.buildRequest();return E.idToken=h,ii(d,E)}_getReauthenticationResolver(d){const h=this.buildRequest();return h.autoCreate=!1,ii(d,h)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(d){const h="string"==typeof d?JSON.parse(d):d,{providerId:E,signInMethod:L,pendingToken:G}=h;return E&&L&&G&&E===L?new Yn(E,G):null}static _create(d,h){return new Yn(d,h)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class hr extends w{constructor(d){ot(d.startsWith("saml."),"argument-error"),super(d)}static credentialFromResult(d){return hr.samlCredentialFromTaggedObject(d)}static credentialFromError(d){return hr.samlCredentialFromTaggedObject(d.customData||{})}static credentialFromJSON(d){const h=Yn.fromJSON(d);return ot(h,"argument-error"),h}static samlCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{pendingToken:h,providerId:E}=d;if(!h||!E)return null;try{return Yn._create(E,h)}catch(L){return null}}}let Ir=(()=>{class g extends b{constructor(){super("twitter.com")}static credential(h,E){return Pn._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.TWITTER_SIGN_IN_METHOD,oauthToken:h,oauthTokenSecret:E})}static credentialFromResult(h){return g.credentialFromTaggedObject(h)}static credentialFromError(h){return g.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthAccessToken:E,oauthTokenSecret:L}=h;if(!E||!L)return null;try{return g.credential(E,L)}catch(G){return null}}}return g.TWITTER_SIGN_IN_METHOD="twitter.com",g.PROVIDER_ID="twitter.com",g})();function di(g,d){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,m.Z)(function*(g,d){return he(g,"POST","/v1/accounts:signUp",Tn(g,d))})).apply(this,arguments)}class Nr{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,h,E,L=!1){return(0,m.Z)(function*(){const G=yield ui._fromIdTokenResponse(d,E,L),De=bs(E);return new Nr({user:G,providerId:De,_tokenResponse:E,operationType:h})})()}static _forOperation(d,h,E){return(0,m.Z)(function*(){yield d._updateTokensIfNecessary(E,!0);const L=bs(E);return new Nr({user:d,providerId:L,_tokenResponse:E,operationType:h})})()}}function bs(g){return g.providerId?g.providerId:"phoneNumber"in g?"phone":null}function In(){return(In=(0,m.Z)(function*(g){var d;const h=or(g);if(yield h._initializationPromise,null===(d=h.currentUser)||void 0===d?void 0:d.isAnonymous)return new Nr({user:h.currentUser,providerId:null,operationType:"signIn"});const E=yield di(h,{returnSecureToken:!0}),L=yield Nr._fromIdTokenResponse(h,"signIn",E,!0);return yield h._updateCurrentUser(L.user),L})).apply(this,arguments)}class Es extends q.ZR{constructor(d,h,E,L){var G;super(h.code,h.message),this.operationType=E,this.user=L,Object.setPrototypeOf(this,Es.prototype),this.customData={appName:d.name,tenantId:null!==(G=d.tenantId)&&void 0!==G?G:void 0,_serverResponse:h.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(d,h,E,L){return new Es(d,h,E,L)}}function ko(g,d,h,E){return("reauthenticate"===d?h._getReauthenticationResolver(g):h._getIdTokenResponse(g)).catch(G=>{throw"auth/multi-factor-auth-required"===G.code?Es._fromErrorAndOperation(g,G,d,E):G})}function Go(g){return new Set(g.map(({providerId:d})=>d).filter(d=>!!d))}function ho(){return(ho=(0,m.Z)(function*(g,d){const h=(0,q.m9)(g);yield ht(!0,h,d);const{providerUserInfo:E}=yield Je(h.auth,{idToken:yield h.getIdToken(),deleteProvider:[d]}),L=Go(E||[]);return h.providerData=h.providerData.filter(G=>L.has(G.providerId)),L.has("phone")||(h.phoneNumber=null),yield h.auth._persistUserIfCurrent(h),h})).apply(this,arguments)}function Fo(g,d){return To.apply(this,arguments)}function To(){return(To=(0,m.Z)(function*(g,d,h=!1){const E=yield Dr(g,d._linkToIdToken(g.auth,yield g.getIdToken()),h);return Nr._forOperation(g,"link",E)})).apply(this,arguments)}function ht(g,d,h){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,m.Z)(function*(g,d,h){yield Lr(d);const L=!1===g?"provider-already-linked":"no-such-provider";ot(Go(d.providerData).has(h)===g,d.auth,L)})).apply(this,arguments)}function Sa(g,d){return si.apply(this,arguments)}function si(){return(si=(0,m.Z)(function*(g,d,h=!1){const{auth:E}=g,L="reauthenticate";try{const G=yield Dr(g,ko(E,L,d,g),h);ot(G.idToken,E,"internal-error");const De=Jr(G.idToken);ot(De,E,"internal-error");const{sub:tt}=De;return ot(g.uid===tt,E,"user-mismatch"),Nr._forOperation(g,L,G)}catch(G){throw"auth/user-not-found"===(null==G?void 0:G.code)&&Kt(E,"user-mismatch"),G}})).apply(this,arguments)}function Lo(g,d){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,m.Z)(function*(g,d,h=!1){const E="signIn",L=yield ko(g,E,d),G=yield Nr._fromIdTokenResponse(g,E,L);return h||(yield g._updateCurrentUser(G.user)),G})).apply(this,arguments)}function Ds(g,d){return K.apply(this,arguments)}function K(){return(K=(0,m.Z)(function*(g,d){return Lo(or(g),d)})).apply(this,arguments)}function _(g,d){return v.apply(this,arguments)}function v(){return(v=(0,m.Z)(function*(g,d){const h=(0,q.m9)(g);return yield ht(!1,h,d.providerId),Fo(h,d)})).apply(this,arguments)}function R(g,d){return H.apply(this,arguments)}function H(){return(H=(0,m.Z)(function*(g,d){return Sa((0,q.m9)(g),d)})).apply(this,arguments)}function se(g,d){return pe.apply(this,arguments)}function pe(){return(pe=(0,m.Z)(function*(g,d){return he(g,"POST","/v1/accounts:signInWithCustomToken",Tn(g,d))})).apply(this,arguments)}function He(){return(He=(0,m.Z)(function*(g,d){const h=or(g),E=yield se(h,{token:d,returnSecureToken:!0}),L=yield Nr._fromIdTokenResponse(h,"signIn",E);return yield h._updateCurrentUser(L.user),L})).apply(this,arguments)}class dt{constructor(d,h){this.factorId=d,this.uid=h.mfaEnrollmentId,this.enrollmentTime=new Date(h.enrolledAt).toUTCString(),this.displayName=h.displayName}static _fromServerResponse(d,h){return"phoneInfo"in h?bt._fromServerResponse(d,h):Kt(d,"internal-error")}}class bt extends dt{constructor(d){super("phone",d),this.phoneNumber=d.phoneInfo}static _fromServerResponse(d,h){return new bt(h)}}function zt(g,d,h){var E;ot((null===(E=h.url)||void 0===E?void 0:E.length)>0,g,"invalid-continue-uri"),ot(void 0===h.dynamicLinkDomain||h.dynamicLinkDomain.length>0,g,"invalid-dynamic-link-domain"),d.continueUrl=h.url,d.dynamicLinkDomain=h.dynamicLinkDomain,d.canHandleCodeInApp=h.handleCodeInApp,h.iOS&&(ot(h.iOS.bundleId.length>0,g,"missing-ios-bundle-id"),d.iOSBundleId=h.iOS.bundleId),h.android&&(ot(h.android.packageName.length>0,g,"missing-android-pkg-name"),d.androidInstallApp=h.android.installApp,d.androidMinimumVersionCode=h.android.minimumVersion,d.androidPackageName=h.android.packageName)}function Jn(){return(Jn=(0,m.Z)(function*(g,d,h){const E=(0,q.m9)(g),L={requestType:"PASSWORD_RESET",email:d};h&&zt(E,L,h),yield co(E,L)})).apply(this,arguments)}function Fn(){return(Fn=(0,m.Z)(function*(g,d,h){yield Qs((0,q.m9)(g),{oobCode:d,newPassword:h})})).apply(this,arguments)}function xr(){return(xr=(0,m.Z)(function*(g,d){yield gt((0,q.m9)(g),{oobCode:d})})).apply(this,arguments)}function Zr(g,d){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,m.Z)(function*(g,d){const h=(0,q.m9)(g),E=yield Qs(h,{oobCode:d}),L=E.requestType;switch(ot(L,h,"internal-error"),L){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ot(E.newEmail,h,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ot(E.mfaInfo,h,"internal-error");default:ot(E.email,h,"internal-error")}let G=null;return E.mfaInfo&&(G=dt._fromServerResponse(or(h),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:G},operation:L}})).apply(this,arguments)}function Is(){return(Is=(0,m.Z)(function*(g,d){const{data:h}=yield Zr((0,q.m9)(g),d);return h.email})).apply(this,arguments)}function yi(){return(yi=(0,m.Z)(function*(g,d,h){const E=or(g),L=yield di(E,{returnSecureToken:!0,email:d,password:h}),G=yield Nr._fromIdTokenResponse(E,"signIn",L);return yield E._updateCurrentUser(G.user),G})).apply(this,arguments)}function fi(){return(fi=(0,m.Z)(function*(g,d,h){const E=(0,q.m9)(g),L={requestType:"EMAIL_SIGNIN",email:d};ot(h.handleCodeInApp,E,"argument-error"),h&&zt(E,L,h),yield wo(E,L)})).apply(this,arguments)}function ti(){return(ti=(0,m.Z)(function*(g,d,h){const E=(0,q.m9)(g),L=k.credentialWithLink(d,h||$e());return ot(L._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),Ds(E,L)})).apply(this,arguments)}function Do(g,d){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,m.Z)(function*(g,d){return Yt(g,"POST","/v1/accounts:createAuthUri",Tn(g,d))})).apply(this,arguments)}function En(){return(En=(0,m.Z)(function*(g,d){const E={identifier:d,continueUri:ge()?$e():"http://localhost"},{signinMethods:L}=yield Do((0,q.m9)(g),E);return L||[]})).apply(this,arguments)}function qn(){return(qn=(0,m.Z)(function*(g,d){const h=(0,q.m9)(g),L={requestType:"VERIFY_EMAIL",idToken:yield g.getIdToken()};d&&zt(h.auth,L,d);const{email:G}=yield hi(h.auth,L);G!==g.email&&(yield g.reload())})).apply(this,arguments)}function $s(){return($s=(0,m.Z)(function*(g,d,h){const E=(0,q.m9)(g),G={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield g.getIdToken(),newEmail:d};h&&zt(E.auth,G,h);const{email:De}=yield ms(E.auth,G);De!==g.email&&(yield g.reload())})).apply(this,arguments)}function ji(g,d){return $r.apply(this,arguments)}function $r(){return($r=(0,m.Z)(function*(g,d){return Yt(g,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function ni(){return(ni=(0,m.Z)(function*(g,{displayName:d,photoURL:h}){if(void 0===d&&void 0===h)return;const E=(0,q.m9)(g),G={idToken:yield E.getIdToken(),displayName:d,photoUrl:h,returnSecureToken:!0},De=yield Dr(E,ji(E.auth,G));E.displayName=De.displayName||null,E.photoURL=De.photoUrl||null;const tt=E.providerData.find(({providerId:Pt})=>"password"===Pt);tt&&(tt.displayName=E.displayName,tt.photoURL=E.photoURL),yield E._updateTokensIfNecessary(De)})).apply(this,arguments)}function Qi(g,d,h){return ws.apply(this,arguments)}function ws(){return(ws=(0,m.Z)(function*(g,d,h){const{auth:E}=g,G={idToken:yield g.getIdToken(),returnSecureToken:!0};d&&(G.email=d),h&&(G.password=h);const De=yield Dr(g,xe(E,G));yield g._updateTokensIfNecessary(De,!0)})).apply(this,arguments)}class to{constructor(d,h,E={}){this.isNewUser=d,this.providerId=h,this.profile=E}}class As extends to{constructor(d,h,E,L){super(d,h,E),this.username=L}}class Ra extends to{constructor(d,h){super(d,"facebook.com",h)}}class Rl extends As{constructor(d,h){super(d,"github.com",h,"string"==typeof(null==h?void 0:h.login)?null==h?void 0:h.login:null)}}class Mt extends to{constructor(d,h){super(d,"google.com",h)}}class Bi extends As{constructor(d,h,E){super(d,"twitter.com",h,E)}}function as(g){const{user:d,_tokenResponse:h}=g;return d.isAnonymous&&!h?{providerId:null,isNewUser:!1,profile:null}:function(g){var d,h;if(!g)return null;const{providerId:E}=g,L=g.rawUserInfo?JSON.parse(g.rawUserInfo):{},G=g.isNewUser||"identitytoolkit#SignupNewUserResponse"===g.kind;if(!E&&(null==g?void 0:g.idToken)){const De=null===(h=null===(d=Jr(g.idToken))||void 0===d?void 0:d.firebase)||void 0===h?void 0:h.sign_in_provider;if(De)return new to(G,"anonymous"!==De&&"custom"!==De?De:null)}if(!E)return null;switch(E){case"facebook.com":return new Ra(G,L);case"github.com":return new Rl(G,L);case"google.com":return new Mt(G,L);case"twitter.com":return new Bi(G,L,g.screenName||null);case"custom":case"anonymous":return new to(G,null);default:return new to(G,E,L)}}(h)}class Rs{constructor(d,h){this.type=d,this.credential=h}static _fromIdtoken(d){return new Rs("enroll",d)}static _fromMfaPendingCredential(d){return new Rs("signin",d)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(d){var h,E;if(null==d?void 0:d.multiFactorSession){if(null===(h=d.multiFactorSession)||void 0===h?void 0:h.pendingCredential)return Rs._fromMfaPendingCredential(d.multiFactorSession.pendingCredential);if(null===(E=d.multiFactorSession)||void 0===E?void 0:E.idToken)return Rs._fromIdtoken(d.multiFactorSession.idToken)}return null}}class Ma{constructor(d,h,E){this.session=d,this.hints=h,this.signInResolver=E}static _fromError(d,h){const E=or(d),L=h.customData._serverResponse,G=(L.mfaInfo||[]).map(tt=>dt._fromServerResponse(E,tt));ot(L.mfaPendingCredential,E,"internal-error");const De=Rs._fromMfaPendingCredential(L.mfaPendingCredential);return new Ma(De,G,function(){var tt=(0,m.Z)(function*(Pt){const At=yield Pt._process(E,De);delete L.mfaInfo,delete L.mfaPendingCredential;const sn=Object.assign(Object.assign({},L),{idToken:At.idToken,refreshToken:At.refreshToken});switch(h.operationType){case"signIn":const cn=yield Nr._fromIdTokenResponse(E,h.operationType,sn);return yield E._updateCurrentUser(cn.user),cn;case"reauthenticate":return ot(h.user,E,"internal-error"),Nr._forOperation(h.user,h.operationType,sn);default:Kt(E,"internal-error")}});return function(Pt){return tt.apply(this,arguments)}}())}resolveSignIn(d){var h=this;return(0,m.Z)(function*(){return h.signInResolver(d)})()}}function dc(g,d){return Yt(g,"POST","/v2/accounts/mfaEnrollment:start",Tn(g,d))}class Na{constructor(d){this.user=d,this.enrolledFactors=[],d._onReload(h=>{h.mfaInfo&&(this.enrolledFactors=h.mfaInfo.map(E=>dt._fromServerResponse(d.auth,E)))})}static _fromUser(d){return new Na(d)}getSession(){var d=this;return(0,m.Z)(function*(){return Rs._fromIdtoken(yield d.user.getIdToken())})()}enroll(d,h){var E=this;return(0,m.Z)(function*(){const L=d,G=yield E.getSession(),De=yield Dr(E.user,L._process(E.user.auth,G,h));return yield E.user._updateTokensIfNecessary(De),E.user.reload()})()}unenroll(d){var h=this;return(0,m.Z)(function*(){const E="string"==typeof d?d:d.uid,L=yield h.user.getIdToken(),G=yield Dr(h.user,function(g,d){return Yt(g,"POST","/v2/accounts/mfaEnrollment:withdraw",Tn(g,d))}(h.user.auth,{idToken:L,mfaEnrollmentId:E}));h.enrolledFactors=h.enrolledFactors.filter(({uid:De})=>De!==E),yield h.user._updateTokensIfNecessary(G);try{yield h.user.reload()}catch(De){if("auth/user-token-expired"!==De.code)throw De}})()}}const Fa=new WeakMap,Ni="__sak";class iu{constructor(d,h){this.storageRetriever=d,this.type=h}_isAvailable(){try{return this.storage?(this.storage.setItem(Ni,"1"),this.storage.removeItem(Ni),Promise.resolve(!0)):Promise.resolve(!1)}catch(d){return Promise.resolve(!1)}}_set(d,h){return this.storage.setItem(d,JSON.stringify(h)),Promise.resolve()}_get(d){const h=this.storage.getItem(d);return Promise.resolve(h?JSON.parse(h):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const O=(()=>{class g extends iu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(h,E)=>this.onStorageEvent(h,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const g=(0,q.z$)();return at(g)||wr(g)}()&&function(){try{return!(!window||window===window.top)}catch(g){return!1}}(),this.fallbackToPolling=is(),this._shouldAllowMigration=!0}forAllChangedKeys(h){for(const E of Object.keys(this.listeners)){const L=this.storage.getItem(E),G=this.localCache[E];L!==G&&h(E,G,L)}}onStorageEvent(h,E=!1){if(!h.key)return void this.forAllChangedKeys((tt,Pt,At)=>{this.notifyListeners(tt,At)});const L=h.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const tt=this.storage.getItem(L);if(h.newValue!==tt)null!==h.newValue?this.storage.setItem(L,h.newValue):this.storage.removeItem(L);else if(this.localCache[L]===h.newValue&&!E)return}const G=()=>{const tt=this.storage.getItem(L);!E&&this.localCache[L]===tt||this.notifyListeners(L,tt)},De=this.storage.getItem(L);(0,q.w1)()&&10===document.documentMode&&De!==h.newValue&&h.newValue!==h.oldValue?setTimeout(G,10):G()}notifyListeners(h,E){this.localCache[h]=E;const L=this.listeners[h];if(L)for(const G of Array.from(L))G(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((h,E,L)=>{this.onStorageEvent(new StorageEvent("storage",{key:h,oldValue:E,newValue:L}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(h,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[h]||(this.listeners[h]=new Set,this.localCache[h]=this.storage.getItem(h)),this.listeners[h].add(E)}_removeListener(h,E){this.listeners[h]&&(this.listeners[h].delete(E),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(h,E){var L=()=>super._set,G=this;return(0,m.Z)(function*(){yield L().call(G,h,E),G.localCache[h]=JSON.stringify(E)})()}_get(h){var E=()=>super._get,L=this;return(0,m.Z)(function*(){const G=yield E().call(L,h);return L.localCache[h]=JSON.stringify(G),G})()}_remove(h){var E=()=>super._remove,L=this;return(0,m.Z)(function*(){yield E().call(L,h),delete L.localCache[h]})()}}return g.type="LOCAL",g})(),X=(()=>{class g extends iu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(h,E){}_removeListener(h,E){}}return g.type="SESSION",g})();let Oe=(()=>{class g{constructor(h){this.eventTarget=h,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(h){const E=this.receivers.find(G=>G.isListeningto(h));if(E)return E;const L=new g(h);return this.receivers.push(L),L}isListeningto(h){return this.eventTarget===h}handleEvent(h){var E=this;return(0,m.Z)(function*(){const L=h,{eventId:G,eventType:De,data:tt}=L.data,Pt=E.handlersMap[De];if(!(null==Pt?void 0:Pt.size))return;L.ports[0].postMessage({status:"ack",eventId:G,eventType:De});const At=Array.from(Pt).map(function(){var cn=(0,m.Z)(function*(_r){return _r(L.origin,tt)});return function(_r){return cn.apply(this,arguments)}}()),sn=yield function(g){return Promise.all(g.map(function(){var d=(0,m.Z)(function*(h){try{return{fulfilled:!0,value:yield h}}catch(E){return{fulfilled:!1,reason:E}}});return function(h){return d.apply(this,arguments)}}()))}(At);L.ports[0].postMessage({status:"done",eventId:G,eventType:De,response:sn})})()}_subscribe(h,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[h]||(this.handlersMap[h]=new Set),this.handlersMap[h].add(E)}_unsubscribe(h,E){this.handlersMap[h]&&E&&this.handlersMap[h].delete(E),(!E||0===this.handlersMap[h].size)&&delete this.handlersMap[h],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return g.receivers=[],g})();function ct(g="",d=10){let h="";for(let E=0;E<d;E++)h+=Math.floor(10*Math.random());return g+h}class wt{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,h,E=50){var L=this;return(0,m.Z)(function*(){const G="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!G)throw new Error("connection_unavailable");let De,tt;return new Promise((Pt,At)=>{const sn=ct("",20);G.port1.start();const cn=setTimeout(()=>{At(new Error("unsupported_event"))},E);tt={messageChannel:G,onMessage(_r){const Gs=_r;if(Gs.data.eventId===sn)switch(Gs.data.status){case"ack":clearTimeout(cn),De=setTimeout(()=>{At(new Error("timeout"))},3e3);break;case"done":clearTimeout(De),Pt(Gs.data.response);break;default:clearTimeout(cn),clearTimeout(De),At(new Error("invalid_response"))}}},L.handlers.add(tt),G.port1.addEventListener("message",tt.onMessage),L.target.postMessage({eventType:d,eventId:sn,data:h},[G.port2])}).finally(()=>{tt&&L.removeMessageHandler(tt)})})()}}function qt(){return window}function Or(){return void 0!==qt().WorkerGlobalScope&&"function"==typeof qt().importScripts}function Hr(){return(Hr=(0,m.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(g){return null}})).apply(this,arguments)}const br="firebaseLocalStorageDb",Hi="firebaseLocalStorage",zo="fbase_key";class qo{constructor(d){this.request=d}toPromise(){return new Promise((d,h)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{h(this.request.error)})})}}function Zo(g,d){return g.transaction([Hi],d?"readwrite":"readonly").objectStore(Hi)}function La(){const g=indexedDB.open(br,1);return new Promise((d,h)=>{g.addEventListener("error",()=>{h(g.error)}),g.addEventListener("upgradeneeded",()=>{const E=g.result;try{E.createObjectStore(Hi,{keyPath:zo})}catch(L){h(L)}}),g.addEventListener("success",(0,m.Z)(function*(){const E=g.result;E.objectStoreNames.contains(Hi)?d(E):(E.close(),yield function(){const g=indexedDB.deleteDatabase(br);return new qo(g).toPromise()}(),d(yield La()))}))})}function su(g,d,h){return hc.apply(this,arguments)}function hc(){return(hc=(0,m.Z)(function*(g,d,h){const E=Zo(g,!0).put({[zo]:d,value:h});return new qo(E).toPromise()})).apply(this,arguments)}function bi(){return(bi=(0,m.Z)(function*(g,d){const h=Zo(g,!1).get(d),E=yield new qo(h).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function va(g,d){const h=Zo(g,!0).delete(d);return new qo(h).toPromise()}const Va=(()=>{class g{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var h=this;return(0,m.Z)(function*(){return h.db||(h.db=yield La()),h.db})()}_withRetries(h){var E=this;return(0,m.Z)(function*(){let L=0;for(;;)try{const G=yield E._openDb();return yield h(G)}catch(G){if(L++>3)throw G;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var h=this;return(0,m.Z)(function*(){return Or()?h.initializeReceiver():h.initializeSender()})()}initializeReceiver(){var h=this;return(0,m.Z)(function*(){h.receiver=Oe._getInstance(Or()?self:null),h.receiver._subscribe("keyChanged",function(){var E=(0,m.Z)(function*(L,G){return{keyProcessed:(yield h._poll()).includes(G.key)}});return function(L,G){return E.apply(this,arguments)}}()),h.receiver._subscribe("ping",function(){var E=(0,m.Z)(function*(L,G){return["keyChanged"]});return function(L,G){return E.apply(this,arguments)}}())})()}initializeSender(){var h=this;return(0,m.Z)(function*(){var E,L;if(h.activeServiceWorker=yield function(){return Hr.apply(this,arguments)}(),!h.activeServiceWorker)return;h.sender=new wt(h.activeServiceWorker);const G=yield h.sender._send("ping",{},800);!G||(null===(E=G[0])||void 0===E?void 0:E.fulfilled)&&(null===(L=G[0])||void 0===L?void 0:L.value.includes("keyChanged"))&&(h.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(h){var E=this;return(0,m.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function(){var g;return(null===(g=null==navigator?void 0:navigator.serviceWorker)||void 0===g?void 0:g.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:h},E.serviceWorkerReceiverAvailable?800:50)}catch(L){}})()}_isAvailable(){return(0,m.Z)(function*(){try{if(!indexedDB)return!1;const h=yield La();return yield su(h,Ni,"1"),yield va(h,Ni),!0}catch(h){}return!1})()}_withPendingWrite(h){var E=this;return(0,m.Z)(function*(){E.pendingWrites++;try{yield h()}finally{E.pendingWrites--}})()}_set(h,E){var L=this;return(0,m.Z)(function*(){return L._withPendingWrite((0,m.Z)(function*(){return yield L._withRetries(G=>su(G,h,E)),L.localCache[h]=E,L.notifyServiceWorker(h)}))})()}_get(h){var E=this;return(0,m.Z)(function*(){const L=yield E._withRetries(G=>function(g,d){return bi.apply(this,arguments)}(G,h));return E.localCache[h]=L,L})()}_remove(h){var E=this;return(0,m.Z)(function*(){return E._withPendingWrite((0,m.Z)(function*(){return yield E._withRetries(L=>va(L,h)),delete E.localCache[h],E.notifyServiceWorker(h)}))})()}_poll(){var h=this;return(0,m.Z)(function*(){const E=yield h._withRetries(De=>{const tt=Zo(De,!1).getAll();return new qo(tt).toPromise()});if(!E)return[];if(0!==h.pendingWrites)return[];const L=[],G=new Set;for(const{fbase_key:De,value:tt}of E)G.add(De),JSON.stringify(h.localCache[De])!==JSON.stringify(tt)&&(h.notifyListeners(De,tt),L.push(De));for(const De of Object.keys(h.localCache))h.localCache[De]&&!G.has(De)&&(h.notifyListeners(De,null),L.push(De));return L})()}notifyListeners(h,E){this.localCache[h]=E;const L=this.listeners[h];if(L)for(const G of Array.from(L))G(E)}startPolling(){var h=this;this.stopPolling(),this.pollTimer=setInterval((0,m.Z)(function*(){return h._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(h,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[h]||(this.listeners[h]=new Set,this._get(h)),this.listeners[h].add(E)}_removeListener(h,E){this.listeners[h]&&(this.listeners[h].delete(E),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return g.type="LOCAL",g})();function Au(g,d){return Yt(g,"POST","/v2/accounts/mfaSignIn:start",Tn(g,d))}function Ru(){return(Ru=(0,m.Z)(function*(g){return(yield Yt(g,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Nu(g){return new Promise((d,h)=>{const E=document.createElement("script");E.setAttribute("src",g),E.onload=d,E.onerror=L=>{const G=gn("internal-error");G.customData=L,h(G)},E.type="text/javascript",E.charset="UTF-8",function(){var g,d;return null!==(d=null===(g=document.getElementsByTagName("head"))||void 0===g?void 0:g[0])&&void 0!==d?d:document}().appendChild(E)})}function xi(g){return`__${g}${Math.floor(1e6*Math.random())}`}const Ti=1e12;class Ua{constructor(d){this.auth=d,this.counter=Ti,this._widgets=new Map}render(d,h){const E=this.counter;return this._widgets.set(E,new Ji(d,this.auth.name,h||{})),this.counter++,E}reset(d){var h;const E=d||Ti;null===(h=this._widgets.get(E))||void 0===h||h.delete(),this._widgets.delete(E)}getResponse(d){var h;return(null===(h=this._widgets.get(d||Ti))||void 0===h?void 0:h.getResponse())||""}execute(d){var h=this;return(0,m.Z)(function*(){var E;return null===(E=h._widgets.get(d||Ti))||void 0===E||E.execute(),""})()}}class Ji{constructor(d,h,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const L="string"==typeof d?document.getElementById(d):d;ot(L,"argument-error",{appName:h}),this.container=L,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(g){const d=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<50;E++)d.push(h.charAt(Math.floor(Math.random()*h.length)));return d.join("")}();const{callback:d,"expired-callback":h}=this.params;if(d)try{d(this.responseToken)}catch(E){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,h)try{h()}catch(E){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Hs=xi("rcb"),go=new Dt(3e4,6e4);class Uo{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!qt().grecaptcha}load(d,h=""){return ot((g=h).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(g),d,"argument-error"),this.shouldResolveImmediately(h)?Promise.resolve(qt().grecaptcha):new Promise((E,L)=>{const G=qt().setTimeout(()=>{L(gn(d,"network-request-failed"))},go.get());qt()[Hs]=()=>{qt().clearTimeout(G),delete qt()[Hs];const tt=qt().grecaptcha;if(!tt)return void L(gn(d,"internal-error"));const Pt=tt.render;tt.render=(At,sn)=>{const cn=Pt(At,sn);return this.counter++,cn},this.hostLanguage=h,E(tt)},Nu(`https://www.google.com/recaptcha/api.js??${(0,q.xO)({onload:Hs,render:"explicit",hl:h})}`).catch(()=>{clearTimeout(G),L(gn(d,"internal-error"))})});var g}clearedOneInstance(){this.counter--}shouldResolveImmediately(d){return!!qt().grecaptcha&&(d===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ou{load(d){return(0,m.Z)(function*(){return new Ua(d)})()}clearedOneInstance(){}}const pc="recaptcha",sa={theme:"light",type:"image"};class Nl{constructor(d,h=Object.assign({},sa),E){this.parameters=h,this.type=pc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=or(E),this.isInvisible="invisible"===this.parameters.size,ot("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const L="string"==typeof d?document.getElementById(d):d;ot(L,this.auth,"argument-error"),this.container=L,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ou:new Uo,this.validateStartingState()}verify(){var d=this;return(0,m.Z)(function*(){d.assertNotDestroyed();const h=yield d.render(),E=d.getAssertedRecaptcha();return E.getResponse(h)||new Promise(G=>{const De=tt=>{!tt||(d.tokenChangeListeners.delete(De),G(tt))};d.tokenChangeListeners.add(De),d.isInvisible&&E.execute(h)})})()}render(){try{this.assertNotDestroyed()}catch(d){return Promise.reject(d)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(d=>{throw this.renderPromise=null,d})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(d=>{this.container.removeChild(d)})}validateStartingState(){ot(!this.parameters.sitekey,this.auth,"argument-error"),ot(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ot("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(d){return h=>{if(this.tokenChangeListeners.forEach(E=>E(h)),"function"==typeof d)d(h);else if("string"==typeof d){const E=qt()[d];"function"==typeof E&&E(h)}}}assertNotDestroyed(){ot(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var d=this;return(0,m.Z)(function*(){if(yield d.init(),!d.widgetId){let h=d.container;if(!d.isInvisible){const E=document.createElement("div");h.appendChild(E),h=E}d.widgetId=d.getAssertedRecaptcha().render(h,d.parameters)}return d.widgetId})()}init(){var d=this;return(0,m.Z)(function*(){ot(ge()&&!Or(),d.auth,"internal-error"),yield function(){let g=null;return new Promise(d=>{"complete"!==document.readyState?(g=()=>d(),window.addEventListener("load",g)):d()}).catch(d=>{throw g&&window.removeEventListener("load",g),d})}(),d.recaptcha=yield d._recaptchaLoader.load(d.auth,d.auth.languageCode||void 0);const h=yield function(g){return Ru.apply(this,arguments)}(d.auth);ot(h,d.auth,"internal-error"),d.parameters.sitekey=h})()}getAssertedRecaptcha(){return ot(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class cl{constructor(d,h){this.verificationId=d,this.onConfirmation=h}confirm(d){const h=Us._fromVerification(this.verificationId,d);return this.onConfirmation(h)}}function au(){return(au=(0,m.Z)(function*(g,d,h){const E=or(g),L=yield U(E,d,(0,q.m9)(h));return new cl(L,G=>Ds(E,G))})).apply(this,arguments)}function gc(){return(gc=(0,m.Z)(function*(g,d,h){const E=(0,q.m9)(g);yield ht(!1,E,"phone");const L=yield U(E.auth,d,(0,q.m9)(h));return new cl(L,G=>_(E,G))})).apply(this,arguments)}function N(){return(N=(0,m.Z)(function*(g,d,h){const E=(0,q.m9)(g),L=yield U(E.auth,d,(0,q.m9)(h));return new cl(L,G=>R(E,G))})).apply(this,arguments)}function U(g,d,h){return ee.apply(this,arguments)}function ee(){return(ee=(0,m.Z)(function*(g,d,h){var E;const L=yield h.verify();try{let G;if(ot("string"==typeof L,g,"argument-error"),ot(h.type===pc,g,"argument-error"),G="string"==typeof d?{phoneNumber:d}:d,"session"in G){const De=G.session;if("phoneNumber"in G)return ot("enroll"===De.type,g,"internal-error"),(yield dc(g,{idToken:De.credential,phoneEnrollmentInfo:{phoneNumber:G.phoneNumber,recaptchaToken:L}})).phoneSessionInfo.sessionInfo;{ot("signin"===De.type,g,"internal-error");const tt=(null===(E=G.multiFactorHint)||void 0===E?void 0:E.uid)||G.multiFactorUid;return ot(tt,g,"missing-multi-factor-info"),(yield Au(g,{mfaPendingCredential:De.credential,mfaEnrollmentId:tt,phoneSignInInfo:{recaptchaToken:L}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:De}=yield Zi(g,{phoneNumber:G.phoneNumber,recaptchaToken:L});return De}}finally{h._reset()}})).apply(this,arguments)}function We(){return(We=(0,m.Z)(function*(g,d){yield Fo((0,q.m9)(g),d)})).apply(this,arguments)}let et=(()=>{class g{constructor(h){this.providerId=g.PROVIDER_ID,this.auth=or(h)}verifyPhoneNumber(h,E){return U(this.auth,h,(0,q.m9)(E))}static credential(h,E){return Us._fromVerification(h,E)}static credentialFromResult(h){return g.credentialFromTaggedObject(h)}static credentialFromError(h){return g.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{phoneNumber:E,temporaryProof:L}=h;return E&&L?Us._fromTokenResponse(E,L):null}}return g.PROVIDER_ID="phone",g.PHONE_SIGN_IN_METHOD="phone",g})();function It(g,d){return d?An(d):(ot(g._popupRedirectResolver,g,"argument-error"),g._popupRedirectResolver)}class Ut extends Ls{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return ii(d,this._buildIdpRequest())}_linkToIdToken(d,h){return ii(d,this._buildIdpRequest(h))}_getReauthenticationResolver(d){return ii(d,this._buildIdpRequest())}_buildIdpRequest(d){const h={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(h.idToken=d),h}}function ln(g){return Lo(g.auth,new Ut(g),g.bypassAuthState)}function tr(g){const{auth:d,user:h}=g;return ot(h,d,"internal-error"),Sa(h,new Ut(g),g.bypassAuthState)}function Wr(g){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,m.Z)(function*(g){const{auth:d,user:h}=g;return ot(h,d,"internal-error"),Fo(h,new Ut(g),g.bypassAuthState)})).apply(this,arguments)}class ro{constructor(d,h,E,L,G=!1){this.auth=d,this.resolver=E,this.user=L,this.bypassAuthState=G,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(h)?h:[h]}execute(){var d=this;return new Promise(function(){var h=(0,m.Z)(function*(E,L){d.pendingPromise={resolve:E,reject:L};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(G){d.reject(G)}});return function(E,L){return h.apply(this,arguments)}}())}onAuthEvent(d){var h=this;return(0,m.Z)(function*(){const{urlResponse:E,sessionId:L,postBody:G,tenantId:De,error:tt,type:Pt}=d;if(tt)return void h.reject(tt);const At={auth:h.auth,requestUri:E,sessionId:L,tenantId:De||void 0,postBody:G||void 0,user:h.user,bypassAuthState:h.bypassAuthState};try{h.resolve(yield h.getIdpTask(Pt)(At))}catch(sn){h.reject(sn)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return ln;case"linkViaPopup":case"linkViaRedirect":return Wr;case"reauthViaPopup":case"reauthViaRedirect":return tr;default:Kt(this.auth,"internal-error")}}resolve(d){dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ps=new Dt(2e3,1e4);function Bo(){return(Bo=(0,m.Z)(function*(g,d,h){const E=or(g);ir(g,d,w);const L=It(E,h);return new dl(E,"signInViaPopup",d,L).executeNotNull()})).apply(this,arguments)}function $o(){return($o=(0,m.Z)(function*(g,d,h){const E=(0,q.m9)(g);ir(E.auth,d,w);const L=It(E.auth,h);return new dl(E.auth,"reauthViaPopup",d,L,E).executeNotNull()})).apply(this,arguments)}function Qo(){return(Qo=(0,m.Z)(function*(g,d,h){const E=(0,q.m9)(g);ir(E.auth,d,w);const L=It(E.auth,h);return new dl(E.auth,"linkViaPopup",d,L,E).executeNotNull()})).apply(this,arguments)}let dl=(()=>{class g extends ro{constructor(h,E,L,G,De){super(h,E,G,De),this.provider=L,this.authWindow=null,this.pollId=null,g.currentPopupAction&&g.currentPopupAction.cancel(),g.currentPopupAction=this}executeNotNull(){var h=this;return(0,m.Z)(function*(){const E=yield h.execute();return ot(E,h.auth,"internal-error"),E})()}onExecution(){var h=this;return(0,m.Z)(function*(){dr(1===h.filter.length,"Popup operations only handle one event");const E=ct();h.authWindow=yield h.resolver._openPopup(h.auth,h.provider,h.filter[0],E),h.authWindow.associatedEvent=E,h.resolver._originValidation(h.auth).catch(L=>{h.reject(L)}),h.resolver._isIframeWebStorageSupported(h.auth,L=>{L||h.reject(gn(h.auth,"web-storage-unsupported"))}),h.pollUserCancellation()})()}get eventId(){var h;return(null===(h=this.authWindow)||void 0===h?void 0:h.associatedEvent)||null}cancel(){this.reject(gn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,g.currentPopupAction=null}pollUserCancellation(){const h=()=>{var E,L;this.pollId=(null===(L=null===(E=this.authWindow)||void 0===E?void 0:E.window)||void 0===L?void 0:L.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(gn(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(h,ps.get())};h()}}return g.currentPopupAction=null,g})();const Ou=new Map;class Gf extends ro{constructor(d,h,E=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],h,void 0,E),this.eventId=null}execute(){var d=()=>super.execute,h=this;return(0,m.Z)(function*(){let E=Ou.get(h.auth._key());if(!E){try{const G=(yield function(g,d){return $a.apply(this,arguments)}(h.resolver,h.auth))?yield d().call(h):null;E=()=>Promise.resolve(G)}catch(L){E=()=>Promise.reject(L)}Ou.set(h.auth._key(),E)}return h.bypassAuthState||Ou.set(h.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(d){var h=()=>super.onAuthEvent,E=this;return(0,m.Z)(function*(){if("signInViaRedirect"===d.type)return h().call(E,d);if("unknown"!==d.type){if(d.eventId){const L=yield E.auth._redirectUserForId(d.eventId);if(L)return E.user=L,h().call(E,d);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,m.Z)(function*(){})()}cleanUp(){}}function $a(){return($a=(0,m.Z)(function*(g,d){const h=cu(d),E=ud(g);if(!(yield E._isAvailable()))return!1;const L="true"===(yield E._get(h));return yield E._remove(h),L})).apply(this,arguments)}function mc(g,d){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,m.Z)(function*(g,d){return ud(g)._set(cu(d),"true")})).apply(this,arguments)}function ud(g){return An(g._redirectPersistence)}function cu(g){return Le("pendingRedirect",g.config.apiKey,g.name)}function aa(){return(aa=(0,m.Z)(function*(g,d,h){const E=or(g);ir(g,d,w);const L=It(E,h);return yield mc(L,E),L._openRedirect(E,d,"signInViaRedirect")})).apply(this,arguments)}function xa(){return(xa=(0,m.Z)(function*(g,d,h){const E=(0,q.m9)(g);ir(E.auth,d,w);const L=It(E.auth,h);yield mc(L,E.auth);const G=yield yc(E);return L._openRedirect(E.auth,d,"reauthViaRedirect",G)})).apply(this,arguments)}function ku(){return(ku=(0,m.Z)(function*(g,d,h){const E=(0,q.m9)(g);ir(E.auth,d,w);const L=It(E.auth,h);yield ht(!1,E,d.providerId),yield mc(L,E.auth);const G=yield yc(E);return L._openRedirect(E.auth,d,"linkViaRedirect",G)})).apply(this,arguments)}function hu(){return(hu=(0,m.Z)(function*(g,d){return yield or(g)._initializationPromise,Ei(g,d,!1)})).apply(this,arguments)}function Ei(g,d){return hl.apply(this,arguments)}function hl(){return(hl=(0,m.Z)(function*(g,d,h=!1){const E=or(g),L=It(E,d),De=yield new Gf(E,L,h).execute();return De&&!h&&(delete De.user._redirectEventId,yield E._persistUserIfCurrent(De.user),yield E._setRedirectUser(null,d)),De})).apply(this,arguments)}function yc(g){return _c.apply(this,arguments)}function _c(){return(_c=(0,m.Z)(function*(g){const d=ct(`${g.uid}:::`);return g._redirectEventId=d,yield g.auth._setRedirectUser(g),yield g.auth._persistUserIfCurrent(g),d})).apply(this,arguments)}class zf{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let h=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(d,E)&&(h=!0,this.sendToConsumer(d,E),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function(g){switch(g.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hd(g);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,h||(this.queuedRedirectEvent=d,h=!0)),h}sendToConsumer(d,h){var E;if(d.error&&!hd(d)){const L=(null===(E=d.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";h.onError(gn(this.auth,L))}else h.onAuthEvent(d)}isEventForConsumer(d,h){const E=null===h.eventId||!!d.eventId&&d.eventId===h.eventId;return h.filter.includes(d.type)&&E}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(dd(d))}saveEventToCache(d){this.cachedEventUids.add(dd(d)),this.lastProcessedEventTime=Date.now()}}function dd(g){return[g.type,g.eventId,g.sessionId,g.tenantId].filter(d=>d).join("-")}function hd({type:g,error:d}){return"unknown"===g&&"auth/no-auth-event"===(null==d?void 0:d.code)}function Ia(g){return fl.apply(this,arguments)}function fl(){return(fl=(0,m.Z)(function*(g,d={}){return Yt(g,"GET","/v1/projects",d)})).apply(this,arguments)}const Fu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gh=/^https?/;function Ec(){return(Ec=(0,m.Z)(function*(g){if(g.config.emulator)return;const{authorizedDomains:d}=yield Ia(g);for(const h of d)try{if(Ic(h))return}catch(E){}Kt(g,"unauthorized-domain")})).apply(this,arguments)}function Ic(g){const d=$e(),{protocol:h,hostname:E}=new URL(d);if(g.startsWith("chrome-extension://")){const De=new URL(g);return""===De.hostname&&""===E?"chrome-extension:"===h&&g.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===h&&De.hostname===E}if(!gh.test(h))return!1;if(Fu.test(g))return E===g;const L=g.replace(/\./g,"\\.");return new RegExp("^(.+\\."+L+"|"+L+")$","i").test(E)}const ls=new Dt(3e4,6e4);function Pr(){const g=qt().___jsl;if(null==g?void 0:g.H)for(const d of Object.keys(g.H))if(g.H[d].r=g.H[d].r||[],g.H[d].L=g.H[d].L||[],g.H[d].r=[...g.H[d].L],g.CP)for(let h=0;h<g.CP.length;h++)g.CP[h]=null}let pl=null;function Ii(g){return pl=pl||function(g){return new Promise((d,h)=>{var E,L,G;function De(){Pr(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{Pr(),h(gn(g,"network-request-failed"))},timeout:ls.get()})}if(null===(L=null===(E=qt().gapi)||void 0===E?void 0:E.iframes)||void 0===L?void 0:L.Iframe)d(gapi.iframes.getContext());else{if(!(null===(G=qt().gapi)||void 0===G?void 0:G.load)){const tt=xi("iframefcb");return qt()[tt]=()=>{gapi.load?De():h(gn(g,"network-request-failed"))},Nu(`https://apis.google.com/js/api.js?onload=${tt}`).catch(Pt=>h(Pt))}De()}}).catch(d=>{throw pl=null,d})}(g),pl}const wc=new Dt(5e3,15e3),mh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ha(g){const d=g.config;ot(d.authDomain,g,"auth-domain-config-required");const h=d.emulator?lt(d,"emulator/auth/iframe"):`https://${g.config.authDomain}/__/auth/iframe`,E={apiKey:d.apiKey,appName:g.name,v:Ce.SDK_VERSION},L=gl.get(g.config.apiHost);L&&(E.eid=L);const G=g._getFrameworks();return G.length&&(E.fw=G.join(",")),`${h}?${(0,q.xO)(E).slice(1)}`}function Cc(){return(Cc=(0,m.Z)(function*(g){const d=yield Ii(g),h=qt().gapi;return ot(h,g,"internal-error"),d.open({where:document.body,url:Ha(g),messageHandlersFilter:h.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mh,dontclear:!0},E=>new Promise(function(){var L=(0,m.Z)(function*(G,De){yield E.restyle({setHideOnLeave:!1});const tt=gn(g,"network-request-failed"),Pt=qt().setTimeout(()=>{De(tt)},wc.get());function At(){qt().clearTimeout(Pt),G(E)}E.ping(At).then(At,()=>{De(tt)})});return function(G,De){return L.apply(this,arguments)}}()))})).apply(this,arguments)}const pd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ml{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(d){}}}function gd(g,d,h,E,L,G){ot(g.config.authDomain,g,"auth-domain-config-required"),ot(g.config.apiKey,g,"invalid-api-key");const De={apiKey:g.config.apiKey,appName:g.name,authType:h,redirectUrl:E,v:Ce.SDK_VERSION,eventId:L};if(d instanceof w){d.setDefaultLanguage(g.languageCode),De.providerId=d.providerId||"",(0,q.xb)(d.getCustomParameters())||(De.customParameters=JSON.stringify(d.getCustomParameters()));for(const[Pt,At]of Object.entries(G||{}))De[Pt]=At}if(d instanceof b){const Pt=d.getScopes().filter(At=>""!==At);Pt.length>0&&(De.scopes=Pt.join(","))}g.tenantId&&(De.tid=g.tenantId);const tt=De;for(const Pt of Object.keys(tt))void 0===tt[Pt]&&delete tt[Pt];return`${function({config:g}){return g.emulator?lt(g,"emulator/auth/handler"):`https://${g.authDomain}/__/auth/handler`}(g)}?${(0,q.xO)(tt).slice(1)}`}const Lu="webStorageSupport";class Tc extends class{constructor(d){this.factorId=d}_process(d,h,E){switch(h.type){case"enroll":return this._finalizeEnroll(d,h.credential,E);case"signin":return this._finalizeSignIn(d,h.credential);default:return zn("unexpected MultiFactorSessionType")}}}{constructor(d){super("phone"),this.credential=d}static _fromCredential(d){return new Tc(d)}_finalizeEnroll(d,h,E){return function(g,d){return Yt(g,"POST","/v2/accounts/mfaEnrollment:finalize",Tn(g,d))}(d,{idToken:h,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(d,h){return function(g,d){return Yt(g,"POST","/v2/accounts/mfaSignIn:finalize",Tn(g,d))}(d,{mfaPendingCredential:h,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let vh=(()=>{class g{constructor(){}static assertion(h){return Tc._fromCredential(h)}}return g.FACTOR_ID="phone",g})();var g,Vu="@firebase/auth";class em{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var h=this;return(0,m.Z)(function*(){return h.assertAuthConfigured(),yield h.auth._initializationPromise,h.auth.currentUser?{accessToken:yield h.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const h=this.auth.onIdTokenChanged(E=>{var L;d((null===(L=E)||void 0===L?void 0:L.stsTokenManager.accessToken)||null)});this.internalListeners.set(d,h),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const h=this.internalListeners.get(d);!h||(this.internalListeners.delete(d),h(),this.updateProactiveRefresh())}assertAuthConfigured(){ot(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Yo(){return window}function Ul(){return(Ul=(0,m.Z)(function*(g,d,h){var E;const{BuildInfo:L}=Yo();dr(d.sessionId,"AuthEvent did not contain a session ID");const G=yield yl(d.sessionId),De={};return wr()?De.ibi=L.packageName:Un()?De.apn=L.packageName:Kt(g,"operation-not-supported-in-this-environment"),L.displayName&&(De.appDisplayName=L.displayName),De.sessionId=G,gd(g,h,d.type,void 0,null!==(E=d.eventId)&&void 0!==E?E:void 0,De)})).apply(this,arguments)}function Dc(){return(Dc=(0,m.Z)(function*(g){const{BuildInfo:d}=Yo(),h={};wr()?h.iosBundleId=d.packageName:Un()?h.androidPackageName=d.packageName:Kt(g,"operation-not-supported-in-this-environment"),yield Ia(g,h)})).apply(this,arguments)}function Sc(){return(Sc=(0,m.Z)(function*(g,d,h){const{cordova:E}=Yo();let L=()=>{};try{yield new Promise((G,De)=>{let tt=null;function Pt(){var cn;G();const _r=null===(cn=E.plugins.browsertab)||void 0===cn?void 0:cn.close;"function"==typeof _r&&_r(),"function"==typeof(null==h?void 0:h.close)&&h.close()}function At(){tt||(tt=window.setTimeout(()=>{De(gn(g,"redirect-cancelled-by-user"))},2e3))}function sn(){"visible"===(null==document?void 0:document.visibilityState)&&At()}d.addPassiveListener(Pt),document.addEventListener("resume",At,!1),Un()&&document.addEventListener("visibilitychange",sn,!1),L=()=>{d.removePassiveListener(Pt),document.removeEventListener("resume",At,!1),document.removeEventListener("visibilitychange",sn,!1),tt&&window.clearTimeout(tt)}})}finally{L()}})).apply(this,arguments)}function yl(g){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,m.Z)(function*(g){const d=Yf(g),h=yield crypto.subtle.digest("SHA-256",d);return Array.from(new Uint8Array(h)).map(L=>L.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Yf(g){if(dr(/[0-9a-zA-Z]+/.test(g),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(g);const d=new ArrayBuffer(g.length),h=new Uint8Array(d);for(let E=0;E<g.length;E++)h[E]=g.charCodeAt(E);return h}g="Browser",(0,Ce._registerComponent)(new pt.wA("auth",(d,{options:h})=>{const E=d.getProvider("app").getImmediate(),{apiKey:L,authDomain:G}=E.options;return(De=>{ot(L&&!L.includes(":"),"invalid-api-key",{appName:De.name}),ot(!(null==G?void 0:G.includes(":")),"argument-error",{appName:De.name});const tt={apiKey:L,authDomain:G,clientPlatform:g,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Br(g)},Pt=new Zs(De,tt);return function(g,d){const h=(null==d?void 0:d.persistence)||[],E=(Array.isArray(h)?h:[h]).map(An);(null==d?void 0:d.errorMap)&&g._updateErrorMap(d.errorMap),g._initializeWithPersistence(E,null==d?void 0:d.popupRedirectResolver)}(Pt,h),Pt})(E)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,h,E)=>{d.getProvider("auth-internal").initialize()})),(0,Ce._registerComponent)(new pt.wA("auth-internal",d=>{const h=or(d.getProvider("auth").getImmediate());return new em(h)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ce.registerVersion)(Vu,"0.19.9",void 0),(0,Ce.registerVersion)(Vu,"0.19.9","esm2017");class _d extends zf{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(d=>{this.resolveInialized=d})}addPassiveListener(d){this.passiveListeners.add(d)}removePassiveListener(d){this.passiveListeners.delete(d)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(d){return this.resolveInialized(),this.passiveListeners.forEach(h=>h(d)),super.onEvent(d)}initialized(){var d=this;return(0,m.Z)(function*(){yield d.initPromise})()}}function Bl(g){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,m.Z)(function*(g){const d=yield Ka()._get(Mc(g));return d&&(yield Ka()._remove(Mc(g))),d})).apply(this,arguments)}function ju(){const g=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let h=0;h<20;h++){const E=Math.floor(Math.random()*d.length);g.push(d.charAt(E))}return g.join("")}function Ka(){return An(O)}function Mc(g){return Le("authEvent",g.config.apiKey,g.name)}function Ga(g){if(!(null==g?void 0:g.includes("?")))return{};const[d,...h]=g.split("?");return(0,q.zd)(h.join("?"))}function la(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:gn("no-auth-event")}}function Ns(){var g;return(null===(g=null==self?void 0:self.location)||void 0===g?void 0:g.protocol)||null}function Dh(g=(0,q.z$)()){return!("file:"!==Ns()&&"ionic:"!==Ns()||!g.toLowerCase().match(/iphone|ipad|ipod|android/))}function Wo(){try{const g=self.localStorage,d=ct();if(g)return g.setItem(d,"1"),g.removeItem(d),!function(g=(0,q.z$)()){return(0,q.w1)()&&11===(null==document?void 0:document.documentMode)||function(g=(0,q.z$)()){return/Edge\/\d+/.test(g)}(g)}()||(0,q.hl)()}catch(g){return za()&&(0,q.hl)()}return!1}function za(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function ca(){return("http:"===Ns()||"https:"===Ns()||(0,q.ru)()||Dh())&&!((0,q.b$)()||(0,q.UG)())&&Wo()&&!za()}function qa(){return Dh()&&"undefined"!=typeof document}function Ro(){return(Ro=(0,m.Z)(function*(){return!!qa()&&new Promise(g=>{const d=setTimeout(()=>{g(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(d),g(!0)})})})).apply(this,arguments)}const ki={LOCAL:"local",NONE:"none",SESSION:"session"},Fi=ot,Cd="persistence";function fu(g){return $l.apply(this,arguments)}function $l(){return($l=(0,m.Z)(function*(g){yield g._initializationPromise;const d=ft(),h=Le(Cd,g.config.apiKey,g.name);d&&d.setItem(h,g._getPersistence())})).apply(this,arguments)}function ft(){var g;try{return(null===(g="undefined"!=typeof window?window:null)||void 0===g?void 0:g.sessionStorage)||null}catch(d){return null}}const Nc=ot;class Ws{constructor(){this.browserResolver=An(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=X,this._completeRedirectFn=Ei}_openPopup(d,h,E,L){var G=this;return(0,m.Z)(function*(){var De;dr(null===(De=G.eventManagers[d._key()])||void 0===De?void 0:De.manager,"_initialize() not called before _openPopup()");const tt=gd(d,h,E,$e(),L);return function(g,d,h,E=500,L=600){const G=Math.max((window.screen.availHeight-L)/2,0).toString(),De=Math.max((window.screen.availWidth-E)/2,0).toString();let tt="";const Pt=Object.assign(Object.assign({},pd),{width:E.toString(),height:L.toString(),top:G,left:De}),At=(0,q.z$)().toLowerCase();h&&(tt=on(At)?"_blank":h),Ke(At)&&(d=d||"http://localhost",Pt.scrollbars="yes");const sn=Object.entries(Pt).reduce((_r,[Gs,Ca])=>`${_r}${Gs}=${Ca},`,"");if(function(g=(0,q.z$)()){var d;return wr(g)&&!!(null===(d=window.navigator)||void 0===d?void 0:d.standalone)}(At)&&"_self"!==tt)return function(g,d){const h=document.createElement("a");h.href=g,h.target=d;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),h.dispatchEvent(E)}(d||"",tt),new ml(null);const cn=window.open(d||"",tt,sn);ot(cn,g,"popup-blocked");try{cn.focus()}catch(_r){}return new ml(cn)}(d,tt,ct())})()}_openRedirect(d,h,E,L){var G=this;return(0,m.Z)(function*(){return yield G._originValidation(d),g=gd(d,h,E,$e(),L),qt().location.href=g,new Promise(()=>{});var g})()}_initialize(d){const h=d._key();if(this.eventManagers[h]){const{manager:L,promise:G}=this.eventManagers[h];return L?Promise.resolve(L):(dr(G,"If manager is not set, promise should be"),G)}const E=this.initAndGetManager(d);return this.eventManagers[h]={promise:E},E.catch(()=>{delete this.eventManagers[h]}),E}initAndGetManager(d){var h=this;return(0,m.Z)(function*(){const E=yield function(g){return Cc.apply(this,arguments)}(d),L=new zf(d);return E.register("authEvent",G=>(ot(null==G?void 0:G.authEvent,d,"invalid-auth-event"),{status:L.onEvent(G.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),h.eventManagers[d._key()]={manager:L},h.iframes[d._key()]=E,L})()}_isIframeWebStorageSupported(d,h){this.iframes[d._key()].send(Lu,{type:Lu},L=>{var G;const De=null===(G=null==L?void 0:L[0])||void 0===G?void 0:G[Lu];void 0!==De&&h(!!De),Kt(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const h=d._key();return this.originValidationPromises[h]||(this.originValidationPromises[h]=function(g){return Ec.apply(this,arguments)}(d)),this.originValidationPromises[h]}get _shouldInitProactively(){return is()||at()||wr()}}),this.cordovaResolver=An(class{constructor(){this._redirectPersistence=X,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ei}_initialize(d){var h=this;return(0,m.Z)(function*(){const E=d._key();let L=h.eventManagers.get(E);return L||(L=new _d(d),h.eventManagers.set(E,L),h.attachCallbackListeners(d,L)),L})()}_openPopup(d){Kt(d,"operation-not-supported-in-this-environment")}_openRedirect(d,h,E,L){var G=this;return(0,m.Z)(function*(){!function(g){var d,h,E,L,G,De,tt,Pt,At,sn;const cn=Yo();ot("function"==typeof(null===(d=null==cn?void 0:cn.universalLinks)||void 0===d?void 0:d.subscribe),g,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ot(void 0!==(null===(h=null==cn?void 0:cn.BuildInfo)||void 0===h?void 0:h.packageName),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ot("function"==typeof(null===(G=null===(L=null===(E=null==cn?void 0:cn.cordova)||void 0===E?void 0:E.plugins)||void 0===L?void 0:L.browsertab)||void 0===G?void 0:G.openUrl),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ot("function"==typeof(null===(Pt=null===(tt=null===(De=null==cn?void 0:cn.cordova)||void 0===De?void 0:De.plugins)||void 0===tt?void 0:tt.browsertab)||void 0===Pt?void 0:Pt.isAvailable),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ot("function"==typeof(null===(sn=null===(At=null==cn?void 0:cn.cordova)||void 0===At?void 0:At.InAppBrowser)||void 0===sn?void 0:sn.open),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(d);const De=yield G._initialize(d);yield De.initialized(),De.resetRedirect(),Ou.clear(),yield G._originValidation(d);const tt=function(g,d,h=null){return{type:d,eventId:h,urlResponse:null,sessionId:ju(),postBody:null,tenantId:g.tenantId,error:gn(g,"no-auth-event")}}(d,E,L);yield function(g,d){return Ka()._set(Mc(g),d)}(d,tt);const Pt=yield function(g,d,h){return Ul.apply(this,arguments)}(d,tt,h),At=yield function(g){const{cordova:d}=Yo();return new Promise(h=>{d.plugins.browsertab.isAvailable(E=>{let L=null;E?d.plugins.browsertab.openUrl(g):L=d.InAppBrowser.open(g,function(g=(0,q.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(g)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(g)}()?"_blank":"_system","location=yes"),h(L)})})}(Pt);return function(g,d,h){return Sc.apply(this,arguments)}(d,De,At)})()}_isIframeWebStorageSupported(d,h){throw new Error("Method not implemented.")}_originValidation(d){const h=d._key();return this.originValidationPromises[h]||(this.originValidationPromises[h]=function(g){return Dc.apply(this,arguments)}(d)),this.originValidationPromises[h]}attachCallbackListeners(d,h){const{universalLinks:E,handleOpenURL:L,BuildInfo:G}=Yo(),De=setTimeout((0,m.Z)(function*(){yield Bl(d),h.onEvent(la())}),500),tt=function(){var sn=(0,m.Z)(function*(cn){clearTimeout(De);const _r=yield Bl(d);let Gs=null;_r&&(null==cn?void 0:cn.url)&&(Gs=function(g,d){var h,E;const L=function(g){const d=Ga(g),h=d.link?decodeURIComponent(d.link):void 0,E=Ga(h).link,L=d.deep_link_id?decodeURIComponent(d.deep_link_id):void 0;return Ga(L).link||L||E||h||g}(d);if(L.includes("/__/auth/callback")){const G=Ga(L),De=G.firebaseError?function(g){try{return JSON.parse(g)}catch(d){return null}}(decodeURIComponent(G.firebaseError)):null,tt=null===(E=null===(h=null==De?void 0:De.code)||void 0===h?void 0:h.split("auth/"))||void 0===E?void 0:E[1],Pt=tt?gn(tt):null;return Pt?{type:g.type,eventId:g.eventId,tenantId:g.tenantId,error:Pt,urlResponse:null,sessionId:null,postBody:null}:{type:g.type,eventId:g.eventId,tenantId:g.tenantId,sessionId:g.sessionId,urlResponse:L,postBody:null}}return null}(_r,cn.url)),h.onEvent(Gs||la())});return function(_r){return sn.apply(this,arguments)}}();void 0!==E&&"function"==typeof E.subscribe&&E.subscribe(null,tt);const Pt=L,At=`${G.packageName.toLowerCase()}://`;Yo().handleOpenURL=function(){var sn=(0,m.Z)(function*(cn){if(cn.toLowerCase().startsWith(At)&&tt({url:cn}),"function"==typeof Pt)try{Pt(cn)}catch(_r){console.error(_r)}});return function(cn){return sn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=X,this._completeRedirectFn=Ei}_initialize(d){var h=this;return(0,m.Z)(function*(){return yield h.selectUnderlyingResolver(),h.assertedUnderlyingResolver._initialize(d)})()}_openPopup(d,h,E,L){var G=this;return(0,m.Z)(function*(){return yield G.selectUnderlyingResolver(),G.assertedUnderlyingResolver._openPopup(d,h,E,L)})()}_openRedirect(d,h,E,L){var G=this;return(0,m.Z)(function*(){return yield G.selectUnderlyingResolver(),G.assertedUnderlyingResolver._openRedirect(d,h,E,L)})()}_isIframeWebStorageSupported(d,h){this.assertedUnderlyingResolver._isIframeWebStorageSupported(d,h)}_originValidation(d){return this.assertedUnderlyingResolver._originValidation(d)}get _shouldInitProactively(){return qa()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Nc(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var d=this;return(0,m.Z)(function*(){if(d.underlyingResolver)return;const h=yield function(){return Ro.apply(this,arguments)}();d.underlyingResolver=h?d.cordovaResolver:d.browserResolver})()}}function Hl(g){return g.unwrap()}function pu(g){return gu(g)}function gu(g){const{_tokenResponse:d}=g instanceof q.ZR?g.customData:g;if(!d)return null;if(!(g instanceof q.ZR)&&"temporaryProof"in d&&"phoneNumber"in d)return et.credentialFromResult(g);const h=d.providerId;if(!h||"password"===h)return null;let E;switch(h){case"google.com":E=Fe;break;case"facebook.com":E=$;break;case"github.com":E=vt;break;case"twitter.com":E=Ir;break;default:const{oauthIdToken:L,oauthAccessToken:G,oauthTokenSecret:De,pendingToken:tt,nonce:Pt}=d;return G||De||L||tt?tt?h.startsWith("saml.")?Yn._create(h,tt):Pn._fromParams({providerId:h,signInMethod:h,pendingToken:tt,idToken:L,accessToken:G}):new S(h).credential({idToken:L,accessToken:G,rawNonce:Pt}):null}return g instanceof q.ZR?E.credentialFromError(g):E.credentialFromResult(g)}function vo(g,d){return d.catch(h=>{throw h instanceof q.ZR&&function(g,d){var h;const E=null===(h=d.customData)||void 0===h?void 0:h._tokenResponse;if("auth/multi-factor-auth-required"===d.code)d.resolver=new xs(g,function(g,d){var h;const E=(0,q.m9)(g),L=d;return ot(d.customData.operationType,E,"argument-error"),ot(null===(h=L.customData._serverResponse)||void 0===h?void 0:h.mfaPendingCredential,E,"argument-error"),Ma._fromError(E,L)}(g,d));else if(E){const L=gu(d),G=d;L&&(G.credential=L,G.tenantId=E.tenantId||void 0,G.email=E.email||void 0,G.phoneNumber=E.phoneNumber||void 0)}}(g,h),h}).then(h=>{const L=h.user;return{operationType:h.operationType,credential:pu(h),additionalUserInfo:as(h),user:da.getOrCreate(L)}})}function xc(g,d){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,m.Z)(function*(g,d){const h=yield d;return{verificationId:h.verificationId,confirm:E=>vo(g,h.confirm(E))}})).apply(this,arguments)}class xs{constructor(d,h){this.resolver=h,this.auth=function(g){return g.wrapped()}(d)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(d){return vo(Hl(this.auth),this.resolver.resolveSignIn(d))}}class da{constructor(d){this._delegate=d,this.multiFactor=function(g){const d=(0,q.m9)(g);return Fa.has(d)||Fa.set(d,Na._fromUser(d)),Fa.get(d)}(d)}static getOrCreate(d){return da.USER_MAP.has(d)||da.USER_MAP.set(d,new da(d)),da.USER_MAP.get(d)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(d){return this._delegate.getIdTokenResult(d)}getIdToken(d){return this._delegate.getIdToken(d)}linkAndRetrieveDataWithCredential(d){return this.linkWithCredential(d)}linkWithCredential(d){var h=this;return(0,m.Z)(function*(){return vo(h.auth,_(h._delegate,d))})()}linkWithPhoneNumber(d,h){var E=this;return(0,m.Z)(function*(){return xc(E.auth,function(g,d,h){return gc.apply(this,arguments)}(E._delegate,d,h))})()}linkWithPopup(d){var h=this;return(0,m.Z)(function*(){return vo(h.auth,function(g,d,h){return Qo.apply(this,arguments)}(h._delegate,d,Ws))})()}linkWithRedirect(d){var h=this;return(0,m.Z)(function*(){return yield fu(or(h.auth)),function(g,d,h){return function(g,d,h){return ku.apply(this,arguments)}(g,d,h)}(h._delegate,d,Ws)})()}reauthenticateAndRetrieveDataWithCredential(d){return this.reauthenticateWithCredential(d)}reauthenticateWithCredential(d){var h=this;return(0,m.Z)(function*(){return vo(h.auth,R(h._delegate,d))})()}reauthenticateWithPhoneNumber(d,h){return xc(this.auth,function(g,d,h){return N.apply(this,arguments)}(this._delegate,d,h))}reauthenticateWithPopup(d){return vo(this.auth,function(g,d,h){return $o.apply(this,arguments)}(this._delegate,d,Ws))}reauthenticateWithRedirect(d){var h=this;return(0,m.Z)(function*(){return yield fu(or(h.auth)),function(g,d,h){return function(g,d,h){return xa.apply(this,arguments)}(g,d,h)}(h._delegate,d,Ws)})()}sendEmailVerification(d){return function(g,d){return qn.apply(this,arguments)}(this._delegate,d)}unlink(d){var h=this;return(0,m.Z)(function*(){return yield function(g,d){return ho.apply(this,arguments)}(h._delegate,d),h})()}updateEmail(d){return function(g,d){return Qi((0,q.m9)(g),d,null)}(this._delegate,d)}updatePassword(d){return function(g,d){return Qi((0,q.m9)(g),null,d)}(this._delegate,d)}updatePhoneNumber(d){return function(g,d){return We.apply(this,arguments)}(this._delegate,d)}updateProfile(d){return function(g,d){return ni.apply(this,arguments)}(this._delegate,d)}verifyBeforeUpdateEmail(d,h){return function(g,d,h){return $s.apply(this,arguments)}(this._delegate,d,h)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}da.USER_MAP=new WeakMap;const mu=ot;let Za=(()=>{class g{constructor(h,E){if(this.app=h,E.isInitialized())return this._delegate=E.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:L}=h.options;mu(L,"invalid-api-key",{appName:h.name}),mu(L,"invalid-api-key",{appName:h.name});const G="undefined"!=typeof window?Ws:void 0;this._delegate=E.initialize({options:{persistence:Xf(L,h.name),popupRedirectResolver:G}}),this._delegate._updateErrorMap(rr),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?da.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(h){this._delegate.languageCode=h}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(h){this._delegate.tenantId=h}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(h,E){!function(g,d,h){const E=or(g);ot(E._canInitEmulator,E,"emulator-config-failed"),ot(/^https?:\/\//.test(d),E,"invalid-emulator-scheme");const L=!!(null==h?void 0:h.disableWarnings),G=Ri(d),{host:De,port:tt}=function(g){const d=Ri(g),h=/(\/\/)?([^?#/]+)/.exec(g.substr(d.length));if(!h)return{host:"",port:null};const E=h[2].split("@").pop()||"",L=/^(\[[^\]]+\])(:|$)/.exec(E);if(L){const G=L[1];return{host:G,port:li(E.substr(G.length+1))}}{const[G,De]=E.split(":");return{host:G,port:li(De)}}}(d);E.config.emulator={url:`${G}//${De}${null===tt?"":`:${tt}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:De,port:tt,protocol:G.replace(":",""),options:Object.freeze({disableWarnings:L})}),L||function(){function g(){const d=document.createElement("p"),h=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",h.position="fixed",h.width="100%",h.backgroundColor="#ffffff",h.border=".1em solid #000000",h.color="#b50000",h.bottom="0px",h.left="0px",h.margin="0px",h.zIndex="10000",h.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",g):g())}()}(this._delegate,h,E)}applyActionCode(h){return function(g,d){return xr.apply(this,arguments)}(this._delegate,h)}checkActionCode(h){return Zr(this._delegate,h)}confirmPasswordReset(h,E){return function(g,d,h){return Fn.apply(this,arguments)}(this._delegate,h,E)}createUserWithEmailAndPassword(h,E){var L=this;return(0,m.Z)(function*(){return vo(L._delegate,function(g,d,h){return yi.apply(this,arguments)}(L._delegate,h,E))})()}fetchProvidersForEmail(h){return this.fetchSignInMethodsForEmail(h)}fetchSignInMethodsForEmail(h){return function(g,d){return En.apply(this,arguments)}(this._delegate,h)}isSignInWithEmailLink(h){return function(g,d){const h=P.parseLink(d);return"EMAIL_SIGNIN"===(null==h?void 0:h.operation)}(0,h)}getRedirectResult(){var h=this;return(0,m.Z)(function*(){mu(ca(),h._delegate,"operation-not-supported-in-this-environment");const E=yield function(g,d){return hu.apply(this,arguments)}(h._delegate,Ws);return E?vo(h._delegate,Promise.resolve(E)):{credential:null,user:null}})()}addFrameworkForLogging(h){!function(g,d){or(g)._logFramework(d)}(this._delegate,h)}onAuthStateChanged(h,E,L){const{next:G,error:De,complete:tt}=Ks(h,E,L);return this._delegate.onAuthStateChanged(G,De,tt)}onIdTokenChanged(h,E,L){const{next:G,error:De,complete:tt}=Ks(h,E,L);return this._delegate.onIdTokenChanged(G,De,tt)}sendSignInLinkToEmail(h,E){return function(g,d,h){return fi.apply(this,arguments)}(this._delegate,h,E)}sendPasswordResetEmail(h,E){return function(g,d,h){return Jn.apply(this,arguments)}(this._delegate,h,E||void 0)}setPersistence(h){var E=this;return(0,m.Z)(function*(){let L;switch(function(g,d){Fi(Object.values(ki).includes(d),g,"invalid-persistence-type"),(0,q.b$)()?Fi(d!==ki.SESSION,g,"unsupported-persistence-type"):(0,q.UG)()?Fi(d===ki.NONE,g,"unsupported-persistence-type"):za()?Fi(d===ki.NONE||d===ki.LOCAL&&(0,q.hl)(),g,"unsupported-persistence-type"):Fi(d===ki.NONE||Wo(),g,"unsupported-persistence-type")}(E._delegate,h),h){case ki.SESSION:L=X;break;case ki.LOCAL:L=(yield An(Va)._isAvailable())?Va:O;break;case ki.NONE:L=fn;break;default:return Kt("argument-error",{appName:E._delegate.name})}return E._delegate.setPersistence(L)})()}signInAndRetrieveDataWithCredential(h){return this.signInWithCredential(h)}signInAnonymously(){return vo(this._delegate,function(g){return In.apply(this,arguments)}(this._delegate))}signInWithCredential(h){return vo(this._delegate,Ds(this._delegate,h))}signInWithCustomToken(h){return vo(this._delegate,function(g,d){return He.apply(this,arguments)}(this._delegate,h))}signInWithEmailAndPassword(h,E){return vo(this._delegate,function(g,d,h){return Ds((0,q.m9)(g),k.credential(d,h))}(this._delegate,h,E))}signInWithEmailLink(h,E){return vo(this._delegate,function(g,d,h){return ti.apply(this,arguments)}(this._delegate,h,E))}signInWithPhoneNumber(h,E){return xc(this._delegate,function(g,d,h){return au.apply(this,arguments)}(this._delegate,h,E))}signInWithPopup(h){var E=this;return(0,m.Z)(function*(){return mu(ca(),E._delegate,"operation-not-supported-in-this-environment"),vo(E._delegate,function(g,d,h){return Bo.apply(this,arguments)}(E._delegate,h,Ws))})()}signInWithRedirect(h){var E=this;return(0,m.Z)(function*(){return mu(ca(),E._delegate,"operation-not-supported-in-this-environment"),yield fu(E._delegate),function(g,d,h){return function(g,d,h){return aa.apply(this,arguments)}(g,d,h)}(E._delegate,h,Ws)})()}updateCurrentUser(h){return this._delegate.updateCurrentUser(h)}verifyPasswordResetCode(h){return function(g,d){return Is.apply(this,arguments)}(this._delegate,h)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return g.Persistence=ki,g})();function Ks(g,d,h){let E=g;"function"!=typeof g&&({next:E,error:d,complete:h}=g);const L=E;return{next:De=>L(De&&da.getOrCreate(De)),error:d,complete:h}}function Xf(g,d){const h=function(g,d){const h=ft();if(!h)return[];const E=Le(Cd,g,d);switch(h.getItem(E)){case ki.NONE:return[fn];case ki.LOCAL:return[Va,X];case ki.SESSION:return[X];default:return[]}}(g,d);if("undefined"!=typeof self&&!h.includes(Va)&&h.push(Va),"undefined"!=typeof window)for(const E of[O,X])h.includes(E)||h.push(E);return h.includes(fn)||h.push(fn),h}class Td{constructor(){this.providerId="phone",this._delegate=new et(Hl(j.Z.auth()))}static credential(d,h){return et.credential(d,h)}verifyPhoneNumber(d,h){return this._delegate.verifyPhoneNumber(d,h)}unwrap(){return this._delegate}}Td.PHONE_SIGN_IN_METHOD=et.PHONE_SIGN_IN_METHOD,Td.PROVIDER_ID=et.PROVIDER_ID;const Dd=ot;class Ah{constructor(d,h,E=j.Z.app()){var L;Dd(null===(L=E.options)||void 0===L?void 0:L.apiKey,"invalid-api-key",{appName:E.name}),this._delegate=new Nl(d,h,E.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(g){g.INTERNAL.registerComponent(new pt.wA("auth-compat",d=>{const h=d.getProvider("app-compat").getImmediate(),E=d.getProvider("auth");return new Za(h,E)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:k,FacebookAuthProvider:$,GithubAuthProvider:vt,GoogleAuthProvider:Fe,OAuthProvider:S,SAMLAuthProvider:hr,PhoneAuthProvider:Td,PhoneMultiFactorGenerator:vh,RecaptchaVerifier:Ah,TwitterAuthProvider:Ir,Auth:Za,AuthCredential:Ls,Error:q.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),g.registerVersion("@firebase/auth-compat","0.2.9")}(j.Z)},2842:function(Nt,je){!function(F){"use strict";function m(Ie){return Array.prototype.slice.call(Ie)}function j(Ie){return new Promise(function(Te,Me){Ie.onsuccess=function(){Te(Ie.result)},Ie.onerror=function(){Me(Ie.error)}})}function q(Ie,Te,Me){var Se,Be=new Promise(function(nt,kt){j(Se=Ie[Te].apply(Ie,Me)).then(nt,kt)});return Be.request=Se,Be}function Ce(Ie,Te,Me){var Se=q(Ie,Te,Me);return Se.then(function(Be){if(Be)return new J(Be,Se.request)})}function ce(Ie,Te,Me){Me.forEach(function(Se){Object.defineProperty(Ie.prototype,Se,{get:function(){return this[Te][Se]},set:function(Be){this[Te][Se]=Be}})})}function ie(Ie,Te,Me,Se){Se.forEach(function(Be){Be in Me.prototype&&(Ie.prototype[Be]=function(){return q(this[Te],Be,arguments)})})}function de(Ie,Te,Me,Se){Se.forEach(function(Be){Be in Me.prototype&&(Ie.prototype[Be]=function(){return this[Te][Be].apply(this[Te],arguments)})})}function Y(Ie,Te,Me,Se){Se.forEach(function(Be){Be in Me.prototype&&(Ie.prototype[Be]=function(){return Ce(this[Te],Be,arguments)})})}function ve(Ie){this._index=Ie}function J(Ie,Te){this._cursor=Ie,this._request=Te}function re(Ie){this._store=Ie}function Z(Ie){this._tx=Ie,this.complete=new Promise(function(Te,Me){Ie.oncomplete=function(){Te()},Ie.onerror=function(){Me(Ie.error)},Ie.onabort=function(){Me(Ie.error)}})}function ue(Ie,Te,Me){this._db=Ie,this.oldVersion=Te,this.transaction=new Z(Me)}function Ye(Ie){this._db=Ie}ce(ve,"_index",["name","keyPath","multiEntry","unique"]),ie(ve,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),Y(ve,"_index",IDBIndex,["openCursor","openKeyCursor"]),ce(J,"_cursor",["direction","key","primaryKey","value"]),ie(J,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(Ie){Ie in IDBCursor.prototype&&(J.prototype[Ie]=function(){var Te=this,Me=arguments;return Promise.resolve().then(function(){return Te._cursor[Ie].apply(Te._cursor,Me),j(Te._request).then(function(Se){if(Se)return new J(Se,Te._request)})})})}),re.prototype.createIndex=function(){return new ve(this._store.createIndex.apply(this._store,arguments))},re.prototype.index=function(){return new ve(this._store.index.apply(this._store,arguments))},ce(re,"_store",["name","keyPath","indexNames","autoIncrement"]),ie(re,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),Y(re,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),de(re,"_store",IDBObjectStore,["deleteIndex"]),Z.prototype.objectStore=function(){return new re(this._tx.objectStore.apply(this._tx,arguments))},ce(Z,"_tx",["objectStoreNames","mode"]),de(Z,"_tx",IDBTransaction,["abort"]),ue.prototype.createObjectStore=function(){return new re(this._db.createObjectStore.apply(this._db,arguments))},ce(ue,"_db",["name","version","objectStoreNames"]),de(ue,"_db",IDBDatabase,["deleteObjectStore","close"]),Ye.prototype.transaction=function(){return new Z(this._db.transaction.apply(this._db,arguments))},ce(Ye,"_db",["name","version","objectStoreNames"]),de(Ye,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(Ie){[re,ve].forEach(function(Te){Ie in Te.prototype&&(Te.prototype[Ie.replace("open","iterate")]=function(){var Me=m(arguments),Se=Me[Me.length-1],Be=this._store||this._index,nt=Be[Ie].apply(Be,Me.slice(0,-1));nt.onsuccess=function(){Se(nt.result)}})})}),[ve,re].forEach(function(Ie){Ie.prototype.getAll||(Ie.prototype.getAll=function(Te,Me){var Se=this,Be=[];return new Promise(function(nt){Se.iterateCursor(Te,function(kt){kt?(Be.push(kt.value),void 0===Me||Be.length!=Me?kt.continue():nt(Be)):nt(Be)})})})}),F.openDb=function(Ie,Te,Me){var Se=q(indexedDB,"open",[Ie,Te]),Be=Se.request;return Be&&(Be.onupgradeneeded=function(nt){Me&&Me(new ue(Be.result,nt.oldVersion,Be.transaction))}),Se.then(function(nt){return new Ye(nt)})},F.deleteDb=function(Ie){return q(indexedDB,"deleteDatabase",[Ie])},Object.defineProperty(F,"__esModule",{value:!0})}(je)},9320:function(Nt,je,F){!function(m,j,q){"use strict";var Ce=function(Y){!Y||Object.assign(this,Y)},ce=function(){function de(Y,ve){this.el=Y,this.ngZone=ve,this.onAddressChange=new q.EventEmitter}return de.prototype.ngAfterViewInit=function(){this.options||(this.options=new Ce),this.initialize()},de.prototype.isGoogleLibExists=function(){return!(!google||!google.maps||!google.maps.places)},de.prototype.initialize=function(){var Y=this;if(!this.isGoogleLibExists())throw new Error("Google maps library can not be found");if(this.autocomplete=new google.maps.places.Autocomplete(this.el.nativeElement,this.options),!this.autocomplete)throw new Error("Autocomplete is not initialized");null!=!this.autocomplete.addListener&&(this.eventListener=this.autocomplete.addListener("place_changed",function(){Y.handleChangeEvent()})),this.el.nativeElement.addEventListener("keydown",function(ve){ve.key&&"enter"==ve.key.toLowerCase()&&ve.target===Y.el.nativeElement&&(ve.preventDefault(),ve.stopPropagation())}),window&&window.navigator&&window.navigator.userAgent&&navigator.userAgent.match(/(iPad|iPhone|iPod)/g)&&setTimeout(function(){var ve=document.getElementsByClassName("pac-container");if(ve){var J=Array.from(ve);if(J)for(var re=0,Z=J;re<Z.length;re++){var ue=Z[re];!ue||ue.addEventListener("touchend",function(Ye){Ye.stopImmediatePropagation()})}}},500)},de.prototype.reset=function(){this.autocomplete.setComponentRestrictions(this.options.componentRestrictions),this.autocomplete.setTypes(this.options.types)},de.prototype.handleChangeEvent=function(){var Y=this;this.ngZone.run(function(){Y.place=Y.autocomplete.getPlace(),Y.place&&Y.onAddressChange.emit(Y.place)})},de.ctorParameters=function(){return[{type:q.ElementRef},{type:q.NgZone}]},de.propDecorators={options:[{type:q.Input,args:["options"]}],onAddressChange:[{type:q.Output}]},de.\u0275fac=function(ve){return new(ve||de)(m.\u0275\u0275directiveInject(m.ElementRef),m.\u0275\u0275directiveInject(m.NgZone))},de.\u0275dir=m.\u0275\u0275defineDirective({type:de,selectors:[["","ngx-google-places-autocomplete",""]],inputs:{options:"options"},outputs:{onAddressChange:"onAddressChange"},exportAs:["ngx-places"]}),de}(),ie=function(){function de(){}return de.ctorParameters=function(){return[]},de.\u0275fac=function(ve){return new(ve||de)},de.\u0275mod=m.\u0275\u0275defineNgModule({type:de}),de.\u0275inj=m.\u0275\u0275defineInjector({}),de}();j.GooglePlaceModule=ie,j.GooglePlaceDirective=ce,Object.defineProperty(j,"__esModule",{value:!0})}(F(2741),je,F(2741))},9923:(Nt,je,F)=>{"use strict";F.d(je,{X:()=>q});var m=F(6006),j=F(7078);class q extends m.xQ{constructor(ce){super(),this._value=ce}get value(){return this.getValue()}_subscribe(ce){const ie=super._subscribe(ce);return ie&&!ie.closed&&ce.next(this._value),ie}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new j.N;return this._value}next(ce){super.next(this._value=ce)}}},2072:(Nt,je,F)=>{"use strict";F.d(je,{d:()=>j});var m=F(8744);class j extends m.L{constructor(Ce,ce,ie){super(),this.parent=Ce,this.outerValue=ce,this.outerIndex=ie,this.index=0}_next(Ce){this.parent.notifyNext(this.outerValue,Ce,this.outerIndex,this.index++,this)}_error(Ce){this.parent.notifyError(Ce,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}},3948:(Nt,je,F)=>{"use strict";F.d(je,{y:()=>re});var m=F(8744),q=F(9754),Ce=F(5669),ie=F(7631),de=F(7846);var J=F(6633);let re=(()=>{class ue{constructor(ze){this._isScalar=!1,ze&&(this._subscribe=ze)}lift(ze){const Xe=new ue;return Xe.source=this,Xe.operator=ze,Xe}subscribe(ze,Xe,Ie){const{operator:Te}=this,Me=function(ue,Ye,ze){if(ue){if(ue instanceof m.L)return ue;if(ue[q.b])return ue[q.b]()}return ue||Ye||ze?new m.L(ue,Ye,ze):new m.L(Ce.c)}(ze,Xe,Ie);if(Me.add(Te?Te.call(Me,this.source):this.source||J.v.useDeprecatedSynchronousErrorHandling&&!Me.syncErrorThrowable?this._subscribe(Me):this._trySubscribe(Me)),J.v.useDeprecatedSynchronousErrorHandling&&Me.syncErrorThrowable&&(Me.syncErrorThrowable=!1,Me.syncErrorThrown))throw Me.syncErrorValue;return Me}_trySubscribe(ze){try{return this._subscribe(ze)}catch(Xe){J.v.useDeprecatedSynchronousErrorHandling&&(ze.syncErrorThrown=!0,ze.syncErrorValue=Xe),function(ue){for(;ue;){const{closed:Ye,destination:ze,isStopped:Xe}=ue;if(Ye||Xe)return!1;ue=ze&&ze instanceof m.L?ze:null}return!0}(ze)?ze.error(Xe):console.warn(Xe)}}forEach(ze,Xe){return new(Xe=Z(Xe))((Ie,Te)=>{let Me;Me=this.subscribe(Se=>{try{ze(Se)}catch(Be){Te(Be),Me&&Me.unsubscribe()}},Te,Ie)})}_subscribe(ze){const{source:Xe}=this;return Xe&&Xe.subscribe(ze)}[ie.L](){return this}pipe(...ze){return 0===ze.length?this:function(ue){return 0===ue.length?de.y:1===ue.length?ue[0]:function(ze){return ue.reduce((Xe,Ie)=>Ie(Xe),ze)}}(ze)(this)}toPromise(ze){return new(ze=Z(ze))((Xe,Ie)=>{let Te;this.subscribe(Me=>Te=Me,Me=>Ie(Me),()=>Xe(Te))})}}return ue.create=Ye=>new ue(Ye),ue})();function Z(ue){if(ue||(ue=J.v.Promise||Promise),!ue)throw new Error("no Promise impl found");return ue}},5669:(Nt,je,F)=>{"use strict";F.d(je,{c:()=>q});var m=F(6633),j=F(3863);const q={closed:!0,next(Ce){},error(Ce){if(m.v.useDeprecatedSynchronousErrorHandling)throw Ce;(0,j.z)(Ce)},complete(){}}},2167:(Nt,je,F)=>{"use strict";F.d(je,{L:()=>j});var m=F(8744);class j extends m.L{notifyNext(Ce,ce,ie,de,Y){this.destination.next(ce)}notifyError(Ce,ce){this.destination.error(Ce)}notifyComplete(Ce){this.destination.complete()}}},6006:(Nt,je,F)=>{"use strict";F.d(je,{Yc:()=>de,xQ:()=>Y});var m=F(3948),j=F(8744),q=F(9734),Ce=F(7078),ce=F(2417),ie=F(9754);class de extends j.L{constructor(re){super(re),this.destination=re}}let Y=(()=>{class J extends m.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[ie.b](){return new de(this)}lift(Z){const ue=new ve(this,this);return ue.operator=Z,ue}next(Z){if(this.closed)throw new Ce.N;if(!this.isStopped){const{observers:ue}=this,Ye=ue.length,ze=ue.slice();for(let Xe=0;Xe<Ye;Xe++)ze[Xe].next(Z)}}error(Z){if(this.closed)throw new Ce.N;this.hasError=!0,this.thrownError=Z,this.isStopped=!0;const{observers:ue}=this,Ye=ue.length,ze=ue.slice();for(let Xe=0;Xe<Ye;Xe++)ze[Xe].error(Z);this.observers.length=0}complete(){if(this.closed)throw new Ce.N;this.isStopped=!0;const{observers:Z}=this,ue=Z.length,Ye=Z.slice();for(let ze=0;ze<ue;ze++)Ye[ze].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(Z){if(this.closed)throw new Ce.N;return super._trySubscribe(Z)}_subscribe(Z){if(this.closed)throw new Ce.N;return this.hasError?(Z.error(this.thrownError),q.w.EMPTY):this.isStopped?(Z.complete(),q.w.EMPTY):(this.observers.push(Z),new ce.W(this,Z))}asObservable(){const Z=new m.y;return Z.source=this,Z}}return J.create=(re,Z)=>new ve(re,Z),J})();class ve extends Y{constructor(re,Z){super(),this.destination=re,this.source=Z}next(re){const{destination:Z}=this;Z&&Z.next&&Z.next(re)}error(re){const{destination:Z}=this;Z&&Z.error&&this.destination.error(re)}complete(){const{destination:re}=this;re&&re.complete&&this.destination.complete()}_subscribe(re){const{source:Z}=this;return Z?this.source.subscribe(re):q.w.EMPTY}}},2417:(Nt,je,F)=>{"use strict";F.d(je,{W:()=>j});var m=F(9734);class j extends m.w{constructor(Ce,ce){super(),this.subject=Ce,this.subscriber=ce,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const Ce=this.subject,ce=Ce.observers;if(this.subject=null,!ce||0===ce.length||Ce.isStopped||Ce.closed)return;const ie=ce.indexOf(this.subscriber);-1!==ie&&ce.splice(ie,1)}}},8744:(Nt,je,F)=>{"use strict";F.d(je,{L:()=>de});var m=F(3673),j=F(5669),q=F(9734),Ce=F(9754),ce=F(6633),ie=F(3863);class de extends q.w{constructor(J,re,Z){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=j.c;break;case 1:if(!J){this.destination=j.c;break}if("object"==typeof J){J instanceof de?(this.syncErrorThrowable=J.syncErrorThrowable,this.destination=J,J.add(this)):(this.syncErrorThrowable=!0,this.destination=new Y(this,J));break}default:this.syncErrorThrowable=!0,this.destination=new Y(this,J,re,Z)}}[Ce.b](){return this}static create(J,re,Z){const ue=new de(J,re,Z);return ue.syncErrorThrowable=!1,ue}next(J){this.isStopped||this._next(J)}error(J){this.isStopped||(this.isStopped=!0,this._error(J))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(J){this.destination.next(J)}_error(J){this.destination.error(J),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:J}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=J,this}}class Y extends de{constructor(J,re,Z,ue){super(),this._parentSubscriber=J;let Ye,ze=this;(0,m.m)(re)?Ye=re:re&&(Ye=re.next,Z=re.error,ue=re.complete,re!==j.c&&(ze=Object.create(re),(0,m.m)(ze.unsubscribe)&&this.add(ze.unsubscribe.bind(ze)),ze.unsubscribe=this.unsubscribe.bind(this))),this._context=ze,this._next=Ye,this._error=Z,this._complete=ue}next(J){if(!this.isStopped&&this._next){const{_parentSubscriber:re}=this;ce.v.useDeprecatedSynchronousErrorHandling&&re.syncErrorThrowable?this.__tryOrSetError(re,this._next,J)&&this.unsubscribe():this.__tryOrUnsub(this._next,J)}}error(J){if(!this.isStopped){const{_parentSubscriber:re}=this,{useDeprecatedSynchronousErrorHandling:Z}=ce.v;if(this._error)Z&&re.syncErrorThrowable?(this.__tryOrSetError(re,this._error,J),this.unsubscribe()):(this.__tryOrUnsub(this._error,J),this.unsubscribe());else if(re.syncErrorThrowable)Z?(re.syncErrorValue=J,re.syncErrorThrown=!0):(0,ie.z)(J),this.unsubscribe();else{if(this.unsubscribe(),Z)throw J;(0,ie.z)(J)}}}complete(){if(!this.isStopped){const{_parentSubscriber:J}=this;if(this._complete){const re=()=>this._complete.call(this._context);ce.v.useDeprecatedSynchronousErrorHandling&&J.syncErrorThrowable?(this.__tryOrSetError(J,re),this.unsubscribe()):(this.__tryOrUnsub(re),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(J,re){try{J.call(this._context,re)}catch(Z){if(this.unsubscribe(),ce.v.useDeprecatedSynchronousErrorHandling)throw Z;(0,ie.z)(Z)}}__tryOrSetError(J,re,Z){if(!ce.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{re.call(this._context,Z)}catch(ue){return ce.v.useDeprecatedSynchronousErrorHandling?(J.syncErrorValue=ue,J.syncErrorThrown=!0,!0):((0,ie.z)(ue),!0)}return!1}_unsubscribe(){const{_parentSubscriber:J}=this;this._context=null,this._parentSubscriber=null,J.unsubscribe()}}},9734:(Nt,je,F)=>{"use strict";F.d(je,{w:()=>ie});var m=F(9622),j=F(153),q=F(3673);const ce=(()=>{function Y(ve){return Error.call(this),this.message=ve?`${ve.length} errors occurred during unsubscription:\n${ve.map((J,re)=>`${re+1}) ${J.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ve,this}return Y.prototype=Object.create(Error.prototype),Y})();class ie{constructor(ve){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,ve&&(this._unsubscribe=ve)}unsubscribe(){let ve;if(this.closed)return;let{_parentOrParents:J,_unsubscribe:re,_subscriptions:Z}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,J instanceof ie)J.remove(this);else if(null!==J)for(let ue=0;ue<J.length;++ue)J[ue].remove(this);if((0,q.m)(re))try{re.call(this)}catch(ue){ve=ue instanceof ce?de(ue.errors):[ue]}if((0,m.k)(Z)){let ue=-1,Ye=Z.length;for(;++ue<Ye;){const ze=Z[ue];if((0,j.K)(ze))try{ze.unsubscribe()}catch(Xe){ve=ve||[],Xe instanceof ce?ve=ve.concat(de(Xe.errors)):ve.push(Xe)}}}if(ve)throw new ce(ve)}add(ve){let J=ve;if(!ve)return ie.EMPTY;switch(typeof ve){case"function":J=new ie(ve);case"object":if(J===this||J.closed||"function"!=typeof J.unsubscribe)return J;if(this.closed)return J.unsubscribe(),J;if(!(J instanceof ie)){const ue=J;J=new ie,J._subscriptions=[ue]}break;default:throw new Error("unrecognized teardown "+ve+" added to Subscription.")}let{_parentOrParents:re}=J;if(null===re)J._parentOrParents=this;else if(re instanceof ie){if(re===this)return J;J._parentOrParents=[re,this]}else{if(-1!==re.indexOf(this))return J;re.push(this)}const Z=this._subscriptions;return null===Z?this._subscriptions=[J]:Z.push(J),J}remove(ve){const J=this._subscriptions;if(J){const re=J.indexOf(ve);-1!==re&&J.splice(re,1)}}}var Y;function de(Y){return Y.reduce((ve,J)=>ve.concat(J instanceof ce?J.errors:J),[])}ie.EMPTY=((Y=new ie).closed=!0,Y)},6633:(Nt,je,F)=>{"use strict";F.d(je,{v:()=>j});let m=!1;const j={Promise:void 0,set useDeprecatedSynchronousErrorHandling(q){if(q){const Ce=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+Ce.stack)}else m&&console.log("RxJS: Back to a better error behavior. Thank you. <3");m=q},get useDeprecatedSynchronousErrorHandling(){return m}}},955:(Nt,je,F)=>{"use strict";F.d(je,{c:()=>ce,N:()=>ie});var m=F(6006),j=F(3948),q=F(9734),Ce=F(5290);class ce extends j.y{constructor(re,Z){super(),this.source=re,this.subjectFactory=Z,this._refCount=0,this._isComplete=!1}_subscribe(re){return this.getSubject().subscribe(re)}getSubject(){const re=this._subject;return(!re||re.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let re=this._connection;return re||(this._isComplete=!1,re=this._connection=new q.w,re.add(this.source.subscribe(new de(this.getSubject(),this))),re.closed&&(this._connection=null,re=q.w.EMPTY)),re}refCount(){return(0,Ce.x)()(this)}}const ie=(()=>{const J=ce.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:J._subscribe},_isComplete:{value:J._isComplete,writable:!0},getSubject:{value:J.getSubject},connect:{value:J.connect},refCount:{value:J.refCount}}})();class de extends m.Yc{constructor(re,Z){super(re),this.connectable=Z}_error(re){this._unsubscribe(),super._error(re)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const re=this.connectable;if(re){this.connectable=null;const Z=re._connection;re._refCount=0,re._subject=null,re._connection=null,Z&&Z.unsubscribe()}}}},8895:(Nt,je,F)=>{"use strict";F.d(je,{z:()=>Ce});var m=F(267),j=F(4540);function Ce(...ce){return(0,j.J)(1)((0,m.of)(...ce))}},9765:(Nt,je,F)=>{"use strict";F.d(je,{P:()=>Ce});var m=F(3948),j=F(2850),q=F(3974);function Ce(ce){return new m.y(ie=>{let de;try{de=ce()}catch(ve){return void ie.error(ve)}return(de?(0,j.D)(de):(0,q.c)()).subscribe(ie)})}},3974:(Nt,je,F)=>{"use strict";F.d(je,{E:()=>j,c:()=>q});var m=F(3948);const j=new m.y(ce=>ce.complete());function q(ce){return ce?function(ce){return new m.y(ie=>ce.schedule(()=>ie.complete()))}(ce):j}},714:(Nt,je,F)=>{"use strict";F.d(je,{D:()=>ie});var m=F(3948),j=F(9622),q=F(8561),Ce=F(153),ce=F(2850);function ie(...Y){if(1===Y.length){const ve=Y[0];if((0,j.k)(ve))return de(ve,null);if((0,Ce.K)(ve)&&Object.getPrototypeOf(ve)===Object.prototype){const J=Object.keys(ve);return de(J.map(re=>ve[re]),J)}}if("function"==typeof Y[Y.length-1]){const ve=Y.pop();return de(Y=1===Y.length&&(0,j.k)(Y[0])?Y[0]:Y,null).pipe((0,q.U)(J=>ve(...J)))}return de(Y,null)}function de(Y,ve){return new m.y(J=>{const re=Y.length;if(0===re)return void J.complete();const Z=new Array(re);let ue=0,Ye=0;for(let ze=0;ze<re;ze++){const Xe=(0,ce.D)(Y[ze]);let Ie=!1;J.add(Xe.subscribe({next:Te=>{Ie||(Ie=!0,Ye++),Z[ze]=Te},error:Te=>J.error(Te),complete:()=>{ue++,(ue===re||!Ie)&&(Ye===re&&J.next(ve?ve.reduce((Te,Me,Se)=>(Te[Me]=Z[Se],Te),{}):Z),J.complete())}}))}})}},2850:(Nt,je,F)=>{"use strict";F.d(je,{D:()=>ze});var m=F(3948),j=F(7040),q=F(9734),Ce=F(7631),de=F(9112),Y=F(5389),re=F(8253),Z=F(1292);function ze(Xe,Ie){return Ie?function(Xe,Ie){if(null!=Xe){if(function(Xe){return Xe&&"function"==typeof Xe[Ce.L]}(Xe))return function(Xe,Ie){return new m.y(Te=>{const Me=new q.w;return Me.add(Ie.schedule(()=>{const Se=Xe[Ce.L]();Me.add(Se.subscribe({next(Be){Me.add(Ie.schedule(()=>Te.next(Be)))},error(Be){Me.add(Ie.schedule(()=>Te.error(Be)))},complete(){Me.add(Ie.schedule(()=>Te.complete()))}}))})),Me})}(Xe,Ie);if((0,re.t)(Xe))return function(Xe,Ie){return new m.y(Te=>{const Me=new q.w;return Me.add(Ie.schedule(()=>Xe.then(Se=>{Me.add(Ie.schedule(()=>{Te.next(Se),Me.add(Ie.schedule(()=>Te.complete()))}))},Se=>{Me.add(Ie.schedule(()=>Te.error(Se)))}))),Me})}(Xe,Ie);if((0,Z.z)(Xe))return(0,de.r)(Xe,Ie);if(function(Xe){return Xe&&"function"==typeof Xe[Y.hZ]}(Xe)||"string"==typeof Xe)return function(Xe,Ie){if(!Xe)throw new Error("Iterable cannot be null");return new m.y(Te=>{const Me=new q.w;let Se;return Me.add(()=>{Se&&"function"==typeof Se.return&&Se.return()}),Me.add(Ie.schedule(()=>{Se=Xe[Y.hZ](),Me.add(Ie.schedule(function(){if(Te.closed)return;let Be,nt;try{const kt=Se.next();Be=kt.value,nt=kt.done}catch(kt){return void Te.error(kt)}nt?Te.complete():(Te.next(Be),this.schedule())}))})),Me})}(Xe,Ie)}throw new TypeError((null!==Xe&&typeof Xe||Xe)+" is not observable")}(Xe,Ie):Xe instanceof m.y?Xe:new m.y((0,j.s)(Xe))}},6431:(Nt,je,F)=>{"use strict";F.d(je,{n:()=>Ce});var m=F(3948),j=F(4537),q=F(9112);function Ce(ce,ie){return ie?(0,q.r)(ce,ie):new m.y((0,j.V)(ce))}},636:(Nt,je,F)=>{"use strict";F.d(je,{T:()=>ce});var m=F(3948),j=F(7204),q=F(4540),Ce=F(6431);function ce(...ie){let de=Number.POSITIVE_INFINITY,Y=null,ve=ie[ie.length-1];return(0,j.K)(ve)?(Y=ie.pop(),ie.length>1&&"number"==typeof ie[ie.length-1]&&(de=ie.pop())):"number"==typeof ve&&(de=ie.pop()),null===Y&&1===ie.length&&ie[0]instanceof m.y?ie[0]:(0,q.J)(de)((0,Ce.n)(ie,Y))}},267:(Nt,je,F)=>{"use strict";F.d(je,{of:()=>Ce});var m=F(7204),j=F(6431),q=F(9112);function Ce(...ce){let ie=ce[ce.length-1];return(0,m.K)(ie)?(ce.pop(),(0,q.r)(ce,ie)):(0,j.n)(ce)}},7535:(Nt,je,F)=>{"use strict";F.d(je,{_:()=>j});var m=F(3948);function j(Ce,ce){return new m.y(ce?ie=>ce.schedule(q,0,{error:Ce,subscriber:ie}):ie=>ie.error(Ce))}function q({error:Ce,subscriber:ce}){ce.error(Ce)}},367:(Nt,je,F)=>{"use strict";F.d(je,{K:()=>Ce});var m=F(2167),j=F(2072),q=F(5348);function Ce(de){return function(ve){const J=new ce(de),re=ve.lift(J);return J.caught=re}}class ce{constructor(Y){this.selector=Y}call(Y,ve){return ve.subscribe(new ie(Y,this.selector,this.caught))}}class ie extends m.L{constructor(Y,ve,J){super(Y),this.selector=ve,this.caught=J}error(Y){if(!this.isStopped){let ve;try{ve=this.selector(Y,this.caught)}catch(Z){return void super.error(Z)}this._unsubscribeAndRecycle();const J=new j.d(this,void 0,void 0);this.add(J);const re=(0,q.D)(this,ve,void 0,void 0,J);re!==J&&this.add(re)}}}},3748:(Nt,je,F)=>{"use strict";F.d(je,{b:()=>j});var m=F(6513);function j(q,Ce){return(0,m.zg)(q,Ce,1)}},395:(Nt,je,F)=>{"use strict";F.d(je,{d:()=>j});var m=F(8744);function j(ce=null){return ie=>ie.lift(new q(ce))}class q{constructor(ie){this.defaultValue=ie}call(ie,de){return de.subscribe(new Ce(ie,this.defaultValue))}}class Ce extends m.L{constructor(ie,de){super(ie),this.defaultValue=de,this.isEmpty=!0}_next(ie){this.isEmpty=!1,this.destination.next(ie)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},7689:(Nt,je,F)=>{"use strict";F.d(je,{x:()=>j});var m=F(8744);function j(ce,ie){return de=>de.lift(new q(ce,ie))}class q{constructor(ie,de){this.compare=ie,this.keySelector=de}call(ie,de){return de.subscribe(new Ce(ie,this.compare,this.keySelector))}}class Ce extends m.L{constructor(ie,de,Y){super(ie),this.keySelector=Y,this.hasKey=!1,"function"==typeof de&&(this.compare=de)}compare(ie,de){return ie===de}_next(ie){let de;try{const{keySelector:ve}=this;de=ve?ve(ie):ie}catch(ve){return this.destination.error(ve)}let Y=!1;if(this.hasKey)try{const{compare:ve}=this;Y=ve(this.key,de)}catch(ve){return this.destination.error(ve)}else this.hasKey=!0;Y||(this.key=de,this.destination.next(ie))}}},3305:(Nt,je,F)=>{"use strict";F.d(je,{h:()=>j});var m=F(8744);function j(ce,ie){return function(Y){return Y.lift(new q(ce,ie))}}class q{constructor(ie,de){this.predicate=ie,this.thisArg=de}call(ie,de){return de.subscribe(new Ce(ie,this.predicate,this.thisArg))}}class Ce extends m.L{constructor(ie,de,Y){super(ie),this.predicate=de,this.thisArg=Y,this.count=0}_next(ie){let de;try{de=this.predicate.call(this.thisArg,ie,this.count++)}catch(Y){return void this.destination.error(Y)}de&&this.destination.next(ie)}}},7813:(Nt,je,F)=>{"use strict";F.d(je,{x:()=>q});var m=F(8744),j=F(9734);function q(ie){return de=>de.lift(new Ce(ie))}class Ce{constructor(de){this.callback=de}call(de,Y){return Y.subscribe(new ce(de,this.callback))}}class ce extends m.L{constructor(de,Y){super(de),this.add(new j.w(Y))}}},3987:(Nt,je,F)=>{"use strict";F.d(je,{P:()=>de});var m=F(6507),j=F(3305),q=F(9917),Ce=F(395),ce=F(3369),ie=F(7846);function de(Y,ve){const J=arguments.length>=2;return re=>re.pipe(Y?(0,j.h)((Z,ue)=>Y(Z,ue,re)):ie.y,(0,q.q)(1),J?(0,Ce.d)(ve):(0,ce.T)(()=>new m.K))}},8561:(Nt,je,F)=>{"use strict";F.d(je,{U:()=>j});var m=F(8744);function j(ce,ie){return function(Y){if("function"!=typeof ce)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return Y.lift(new q(ce,ie))}}class q{constructor(ie,de){this.project=ie,this.thisArg=de}call(ie,de){return de.subscribe(new Ce(ie,this.project,this.thisArg))}}class Ce extends m.L{constructor(ie,de,Y){super(ie),this.project=de,this.count=0,this.thisArg=Y||this}_next(ie){let de;try{de=this.project.call(this.thisArg,ie,this.count++)}catch(Y){return void this.destination.error(Y)}this.destination.next(de)}}},4540:(Nt,je,F)=>{"use strict";F.d(je,{J:()=>q});var m=F(6513),j=F(7846);function q(Ce=Number.POSITIVE_INFINITY){return(0,m.zg)(j.y,Ce)}},6513:(Nt,je,F)=>{"use strict";F.d(je,{zg:()=>ie});var m=F(5348),j=F(2167),q=F(2072),Ce=F(8561),ce=F(2850);function ie(J,re,Z=Number.POSITIVE_INFINITY){return"function"==typeof re?ue=>ue.pipe(ie((Ye,ze)=>(0,ce.D)(J(Ye,ze)).pipe((0,Ce.U)((Xe,Ie)=>re(Ye,Xe,ze,Ie))),Z)):("number"==typeof re&&(Z=re),ue=>ue.lift(new de(J,Z)))}class de{constructor(re,Z=Number.POSITIVE_INFINITY){this.project=re,this.concurrent=Z}call(re,Z){return Z.subscribe(new Y(re,this.project,this.concurrent))}}class Y extends j.L{constructor(re,Z,ue=Number.POSITIVE_INFINITY){super(re),this.project=Z,this.concurrent=ue,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(re){this.active<this.concurrent?this._tryNext(re):this.buffer.push(re)}_tryNext(re){let Z;const ue=this.index++;try{Z=this.project(re,ue)}catch(Ye){return void this.destination.error(Ye)}this.active++,this._innerSub(Z,re,ue)}_innerSub(re,Z,ue){const Ye=new q.d(this,Z,ue),ze=this.destination;ze.add(Ye);const Xe=(0,m.D)(this,re,void 0,void 0,Ye);Xe!==Ye&&ze.add(Xe)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(re,Z,ue,Ye,ze){this.destination.next(Z)}notifyComplete(re){const Z=this.buffer;this.remove(re),this.active--,Z.length>0?this._next(Z.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},8602:(Nt,je,F)=>{"use strict";F.d(je,{ht:()=>ve,QV:()=>de});var m=F(8744),j=F(3974),q=F(267),Ce=F(7535);class ie{constructor(Z,ue,Ye){this.kind=Z,this.value=ue,this.error=Ye,this.hasValue="N"===Z}observe(Z){switch(this.kind){case"N":return Z.next&&Z.next(this.value);case"E":return Z.error&&Z.error(this.error);case"C":return Z.complete&&Z.complete()}}do(Z,ue,Ye){switch(this.kind){case"N":return Z&&Z(this.value);case"E":return ue&&ue(this.error);case"C":return Ye&&Ye()}}accept(Z,ue,Ye){return Z&&"function"==typeof Z.next?this.observe(Z):this.do(Z,ue,Ye)}toObservable(){switch(this.kind){case"N":return(0,q.of)(this.value);case"E":return(0,Ce._)(this.error);case"C":return(0,j.c)()}throw new Error("unexpected notification kind value")}static createNext(Z){return void 0!==Z?new ie("N",Z):ie.undefinedValueNotification}static createError(Z){return new ie("E",void 0,Z)}static createComplete(){return ie.completeNotification}}function de(re,Z=0){return function(Ye){return Ye.lift(new Y(re,Z))}}ie.completeNotification=new ie("C"),ie.undefinedValueNotification=new ie("N",void 0);class Y{constructor(Z,ue=0){this.scheduler=Z,this.delay=ue}call(Z,ue){return ue.subscribe(new ve(Z,this.scheduler,this.delay))}}class ve extends m.L{constructor(Z,ue,Ye=0){super(Z),this.scheduler=ue,this.delay=Ye}static dispatch(Z){const{notification:ue,destination:Ye}=Z;ue.observe(Ye),this.unsubscribe()}scheduleMessage(Z){this.destination.add(this.scheduler.schedule(ve.dispatch,this.delay,new J(Z,this.destination)))}_next(Z){this.scheduleMessage(ie.createNext(Z))}_error(Z){this.scheduleMessage(ie.createError(Z)),this.unsubscribe()}_complete(){this.scheduleMessage(ie.createComplete()),this.unsubscribe()}}class J{constructor(Z,ue){this.notification=Z,this.destination=ue}}},5290:(Nt,je,F)=>{"use strict";F.d(je,{x:()=>j});var m=F(8744);function j(){return function(ie){return ie.lift(new q(ie))}}class q{constructor(ie){this.connectable=ie}call(ie,de){const{connectable:Y}=this;Y._refCount++;const ve=new Ce(ie,Y),J=de.subscribe(ve);return ve.closed||(ve.connection=Y.connect()),J}}class Ce extends m.L{constructor(ie,de){super(ie),this.connectable=de}_unsubscribe(){const{connectable:ie}=this;if(!ie)return void(this.connection=null);this.connectable=null;const de=ie._refCount;if(de<=0)return void(this.connection=null);if(ie._refCount=de-1,de>1)return void(this.connection=null);const{connection:Y}=this,ve=ie._connection;this.connection=null,ve&&(!Y||ve===Y)&&ve.unsubscribe()}}},1310:(Nt,je,F)=>{"use strict";F.d(je,{R:()=>j});var m=F(8744);function j(ce,ie){let de=!1;return arguments.length>=2&&(de=!0),function(ve){return ve.lift(new q(ce,ie,de))}}class q{constructor(ie,de,Y=!1){this.accumulator=ie,this.seed=de,this.hasSeed=Y}call(ie,de){return de.subscribe(new Ce(ie,this.accumulator,this.seed,this.hasSeed))}}class Ce extends m.L{constructor(ie,de,Y,ve){super(ie),this.accumulator=de,this._seed=Y,this.hasSeed=ve,this.index=0}get seed(){return this._seed}set seed(ie){this.hasSeed=!0,this._seed=ie}_next(ie){if(this.hasSeed)return this._tryNext(ie);this.seed=ie,this.destination.next(ie)}_tryNext(ie){const de=this.index++;let Y;try{Y=this.accumulator(this.seed,ie,de)}catch(ve){this.destination.error(ve)}this.seed=Y,this.destination.next(Y)}}},2564:(Nt,je,F)=>{"use strict";F.d(je,{B:()=>de});var m=F(955);var Ce=F(5290),ce=F(6006);function ie(){return new ce.xQ}function de(){return Y=>(0,Ce.x)()(function(Y,ve){return function(re){let Z;Z="function"==typeof Y?Y:function(){return Y};const ue=Object.create(re,m.N);return ue.source=re,ue.subjectFactory=Z,ue}}(ie)(Y))}},7923:(Nt,je,F)=>{"use strict";F.d(je,{d:()=>ve});var m=F(6006),j=F(6511),q=F(9734),Ce=F(8602),ce=F(7078),ie=F(2417);class de extends m.xQ{constructor(Z=Number.POSITIVE_INFINITY,ue=Number.POSITIVE_INFINITY,Ye){super(),this.scheduler=Ye,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=Z<1?1:Z,this._windowTime=ue<1?1:ue,ue===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(Z){const ue=this._events;ue.push(Z),ue.length>this._bufferSize&&ue.shift(),super.next(Z)}nextTimeWindow(Z){this._events.push(new Y(this._getNow(),Z)),this._trimBufferThenGetEvents(),super.next(Z)}_subscribe(Z){const ue=this._infiniteTimeWindow,Ye=ue?this._events:this._trimBufferThenGetEvents(),ze=this.scheduler,Xe=Ye.length;let Ie;if(this.closed)throw new ce.N;if(this.isStopped||this.hasError?Ie=q.w.EMPTY:(this.observers.push(Z),Ie=new ie.W(this,Z)),ze&&Z.add(Z=new Ce.ht(Z,ze)),ue)for(let Te=0;Te<Xe&&!Z.closed;Te++)Z.next(Ye[Te]);else for(let Te=0;Te<Xe&&!Z.closed;Te++)Z.next(Ye[Te].value);return this.hasError?Z.error(this.thrownError):this.isStopped&&Z.complete(),Ie}_getNow(){return(this.scheduler||j.c).now()}_trimBufferThenGetEvents(){const Z=this._getNow(),ue=this._bufferSize,Ye=this._windowTime,ze=this._events,Xe=ze.length;let Ie=0;for(;Ie<Xe&&!(Z-ze[Ie].time<Ye);)Ie++;return Xe>ue&&(Ie=Math.max(Ie,Xe-ue)),Ie>0&&ze.splice(0,Ie),ze}}class Y{constructor(Z,ue){this.time=Z,this.value=ue}}function ve(re,Z,ue){let Ye;return Ye=re&&"object"==typeof re?re:{bufferSize:re,windowTime:Z,refCount:!1,scheduler:ue},ze=>ze.lift(function({bufferSize:re=Number.POSITIVE_INFINITY,windowTime:Z=Number.POSITIVE_INFINITY,refCount:ue,scheduler:Ye}){let ze,Ie,Xe=0,Te=!1,Me=!1;return function(Be){let nt;Xe++,!ze||Te?(Te=!1,ze=new de(re,Z,Ye),nt=ze.subscribe(this),Ie=Be.subscribe({next(kt){ze.next(kt)},error(kt){Te=!0,ze.error(kt)},complete(){Me=!0,Ie=void 0,ze.complete()}})):nt=ze.subscribe(this),this.add(()=>{Xe--,nt.unsubscribe(),Ie&&!Me&&ue&&0===Xe&&(Ie.unsubscribe(),Ie=void 0,ze=void 0)})}}(Ye))}},3543:(Nt,je,F)=>{"use strict";F.d(je,{O:()=>q});var m=F(8895),j=F(7204);function q(...Ce){const ce=Ce[Ce.length-1];return(0,j.K)(ce)?(Ce.pop(),ie=>(0,m.z)(Ce,ie,ce)):ie=>(0,m.z)(Ce,ie)}},1557:(Nt,je,F)=>{"use strict";F.d(je,{R:()=>Xe});var m=F(3948);let j=1;const q=Promise.resolve(),Ce={};function ce(Te){return Te in Ce&&(delete Ce[Te],!0)}const ie={setImmediate(Te){const Me=j++;return Ce[Me]=!0,q.then(()=>ce(Me)&&Te()),Me},clearImmediate(Te){ce(Te)}};var Y=F(5464),J=F(708);const ue=new class extends J.v{flush(Me){this.active=!0,this.scheduled=void 0;const{actions:Se}=this;let Be,nt=-1,kt=Se.length;Me=Me||Se.shift();do{if(Be=Me.execute(Me.state,Me.delay))break}while(++nt<kt&&(Me=Se.shift()));if(this.active=!1,Be){for(;++nt<kt&&(Me=Se.shift());)Me.unsubscribe();throw Be}}}(class extends Y.o{constructor(Me,Se){super(Me,Se),this.scheduler=Me,this.work=Se}requestAsyncId(Me,Se,Be=0){return null!==Be&&Be>0?super.requestAsyncId(Me,Se,Be):(Me.actions.push(this),Me.scheduled||(Me.scheduled=ie.setImmediate(Me.flush.bind(Me,null))))}recycleAsyncId(Me,Se,Be=0){if(null!==Be&&Be>0||null===Be&&this.delay>0)return super.recycleAsyncId(Me,Se,Be);0===Me.actions.length&&(ie.clearImmediate(Se),Me.scheduled=void 0)}});var Ye=F(5264);class ze extends m.y{constructor(Me,Se=0,Be=ue){super(),this.source=Me,this.delayTime=Se,this.scheduler=Be,(!(0,Ye.k)(Se)||Se<0)&&(this.delayTime=0),(!Be||"function"!=typeof Be.schedule)&&(this.scheduler=ue)}static create(Me,Se=0,Be=ue){return new ze(Me,Se,Be)}static dispatch(Me){const{source:Se,subscriber:Be}=Me;return this.add(Se.subscribe(Be))}_subscribe(Me){return this.scheduler.schedule(ze.dispatch,this.delayTime,{source:this.source,subscriber:Me})}}function Xe(Te,Me=0){return function(Be){return Be.lift(new Ie(Te,Me))}}class Ie{constructor(Me,Se){this.scheduler=Me,this.delay=Se}call(Me,Se){return new ze(Se,this.delay,this.scheduler).subscribe(Me)}}},2812:(Nt,je,F)=>{"use strict";F.d(je,{w:()=>ie});var m=F(2167),j=F(2072),q=F(5348),Ce=F(8561),ce=F(2850);function ie(ve,J){return"function"==typeof J?re=>re.pipe(ie((Z,ue)=>(0,ce.D)(ve(Z,ue)).pipe((0,Ce.U)((Ye,ze)=>J(Z,Ye,ue,ze))))):re=>re.lift(new de(ve))}class de{constructor(J){this.project=J}call(J,re){return re.subscribe(new Y(J,this.project))}}class Y extends m.L{constructor(J,re){super(J),this.project=re,this.index=0}_next(J){let re;const Z=this.index++;try{re=this.project(J,Z)}catch(ue){return void this.destination.error(ue)}this._innerSub(re,J,Z)}_innerSub(J,re,Z){const ue=this.innerSubscription;ue&&ue.unsubscribe();const Ye=new j.d(this,re,Z),ze=this.destination;ze.add(Ye),this.innerSubscription=(0,q.D)(this,J,void 0,void 0,Ye),this.innerSubscription!==Ye&&ze.add(this.innerSubscription)}_complete(){const{innerSubscription:J}=this;(!J||J.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(J){this.destination.remove(J),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(J,re,Z,ue,Ye){this.destination.next(re)}}},9917:(Nt,je,F)=>{"use strict";F.d(je,{q:()=>Ce});var m=F(8744),j=F(9862),q=F(3974);function Ce(de){return Y=>0===de?(0,q.c)():Y.lift(new ce(de))}class ce{constructor(Y){if(this.total=Y,this.total<0)throw new j.W}call(Y,ve){return ve.subscribe(new ie(Y,this.total))}}class ie extends m.L{constructor(Y,ve){super(Y),this.total=ve,this.count=0}_next(Y){const ve=this.total,J=++this.count;J<=ve&&(this.destination.next(Y),J===ve&&(this.destination.complete(),this.unsubscribe()))}}},6286:(Nt,je,F)=>{"use strict";F.d(je,{b:()=>Ce});var m=F(8744);function j(){}var q=F(3673);function Ce(de,Y,ve){return function(re){return re.lift(new ce(de,Y,ve))}}class ce{constructor(Y,ve,J){this.nextOrObserver=Y,this.error=ve,this.complete=J}call(Y,ve){return ve.subscribe(new ie(Y,this.nextOrObserver,this.error,this.complete))}}class ie extends m.L{constructor(Y,ve,J,re){super(Y),this._tapNext=j,this._tapError=j,this._tapComplete=j,this._tapError=J||j,this._tapComplete=re||j,(0,q.m)(ve)?(this._context=this,this._tapNext=ve):ve&&(this._context=ve,this._tapNext=ve.next||j,this._tapError=ve.error||j,this._tapComplete=ve.complete||j)}_next(Y){try{this._tapNext.call(this._context,Y)}catch(ve){return void this.destination.error(ve)}this.destination.next(Y)}_error(Y){try{this._tapError.call(this._context,Y)}catch(ve){return void this.destination.error(ve)}this.destination.error(Y)}_complete(){try{this._tapComplete.call(this._context)}catch(Y){return void this.destination.error(Y)}return this.destination.complete()}}},3369:(Nt,je,F)=>{"use strict";F.d(je,{T:()=>q});var m=F(6507),j=F(8744);function q(de=ie){return Y=>Y.lift(new Ce(de))}class Ce{constructor(Y){this.errorFactory=Y}call(Y,ve){return ve.subscribe(new ce(Y,this.errorFactory))}}class ce extends j.L{constructor(Y,ve){super(Y),this.errorFactory=ve,this.hasValue=!1}_next(Y){this.hasValue=!0,this.destination.next(Y)}_complete(){if(this.hasValue)return this.destination.complete();{let Y;try{Y=this.errorFactory()}catch(ve){Y=ve}this.destination.error(Y)}}}function ie(){return new m.K}},9112:(Nt,je,F)=>{"use strict";F.d(je,{r:()=>q});var m=F(3948),j=F(9734);function q(Ce,ce){return new m.y(ie=>{const de=new j.w;let Y=0;return de.add(ce.schedule(function(){Y!==Ce.length?(ie.next(Ce[Y++]),ie.closed||de.add(this.schedule())):ie.complete()})),de})}},5464:(Nt,je,F)=>{"use strict";F.d(je,{o:()=>q});var m=F(9734);class j extends m.w{constructor(ce,ie){super()}schedule(ce,ie=0){return this}}class q extends j{constructor(ce,ie){super(ce,ie),this.scheduler=ce,this.work=ie,this.pending=!1}schedule(ce,ie=0){if(this.closed)return this;this.state=ce;const de=this.id,Y=this.scheduler;return null!=de&&(this.id=this.recycleAsyncId(Y,de,ie)),this.pending=!0,this.delay=ie,this.id=this.id||this.requestAsyncId(Y,this.id,ie),this}requestAsyncId(ce,ie,de=0){return setInterval(ce.flush.bind(ce,this),de)}recycleAsyncId(ce,ie,de=0){if(null!==de&&this.delay===de&&!1===this.pending)return ie;clearInterval(ie)}execute(ce,ie){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const de=this._execute(ce,ie);if(de)return de;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ce,ie){let Y,de=!1;try{this.work(ce)}catch(ve){de=!0,Y=!!ve&&ve||new Error(ve)}if(de)return this.unsubscribe(),Y}_unsubscribe(){const ce=this.id,ie=this.scheduler,de=ie.actions,Y=de.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==Y&&de.splice(Y,1),null!=ce&&(this.id=this.recycleAsyncId(ie,ce,null)),this.delay=null}}},708:(Nt,je,F)=>{"use strict";F.d(je,{v:()=>j});let m=(()=>{class q{constructor(ce,ie=q.now){this.SchedulerAction=ce,this.now=ie}schedule(ce,ie=0,de){return new this.SchedulerAction(this,ce).schedule(de,ie)}}return q.now=()=>Date.now(),q})();class j extends m{constructor(Ce,ce=m.now){super(Ce,()=>j.delegate&&j.delegate!==this?j.delegate.now():ce()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(Ce,ce=0,ie){return j.delegate&&j.delegate!==this?j.delegate.schedule(Ce,ce,ie):super.schedule(Ce,ce,ie)}flush(Ce){const{actions:ce}=this;if(this.active)return void ce.push(Ce);let ie;this.active=!0;do{if(ie=Ce.execute(Ce.state,Ce.delay))break}while(Ce=ce.shift());if(this.active=!1,ie){for(;Ce=ce.shift();)Ce.unsubscribe();throw ie}}}},8846:(Nt,je,F)=>{"use strict";F.d(je,{z:()=>q,P:()=>Ce});var m=F(5464);const q=new(F(708).v)(m.o),Ce=q},6511:(Nt,je,F)=>{"use strict";F.d(je,{c:()=>ie,N:()=>ce});var m=F(5464),q=F(708);const ce=new class extends q.v{}(class extends m.o{constructor(Y,ve){super(Y,ve),this.scheduler=Y,this.work=ve}schedule(Y,ve=0){return ve>0?super.schedule(Y,ve):(this.delay=ve,this.state=Y,this.scheduler.flush(this),this)}execute(Y,ve){return ve>0||this.closed?super.execute(Y,ve):this._execute(Y,ve)}requestAsyncId(Y,ve,J=0){return null!==J&&J>0||null===J&&this.delay>0?super.requestAsyncId(Y,ve,J):Y.flush(this)}}),ie=ce},5389:(Nt,je,F)=>{"use strict";F.d(je,{hZ:()=>j});const j="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},7631:(Nt,je,F)=>{"use strict";F.d(je,{L:()=>m});const m="function"==typeof Symbol&&Symbol.observable||"@@observable"},9754:(Nt,je,F)=>{"use strict";F.d(je,{b:()=>m});const m="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},9862:(Nt,je,F)=>{"use strict";F.d(je,{W:()=>j});const j=(()=>{function q(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return q.prototype=Object.create(Error.prototype),q})()},6507:(Nt,je,F)=>{"use strict";F.d(je,{K:()=>j});const j=(()=>{function q(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return q.prototype=Object.create(Error.prototype),q})()},7078:(Nt,je,F)=>{"use strict";F.d(je,{N:()=>j});const j=(()=>{function q(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return q.prototype=Object.create(Error.prototype),q})()},3863:(Nt,je,F)=>{"use strict";function m(j){setTimeout(()=>{throw j},0)}F.d(je,{z:()=>m})},7846:(Nt,je,F)=>{"use strict";function m(j){return j}F.d(je,{y:()=>m})},9622:(Nt,je,F)=>{"use strict";F.d(je,{k:()=>m});const m=Array.isArray||(j=>j&&"number"==typeof j.length)},1292:(Nt,je,F)=>{"use strict";F.d(je,{z:()=>m});const m=j=>j&&"number"==typeof j.length&&"function"!=typeof j},3673:(Nt,je,F)=>{"use strict";function m(j){return"function"==typeof j}F.d(je,{m:()=>m})},5264:(Nt,je,F)=>{"use strict";F.d(je,{k:()=>j});var m=F(9622);function j(q){return!(0,m.k)(q)&&q-parseFloat(q)+1>=0}},153:(Nt,je,F)=>{"use strict";function m(j){return null!==j&&"object"==typeof j}F.d(je,{K:()=>m})},8253:(Nt,je,F)=>{"use strict";function m(j){return!!j&&"function"!=typeof j.subscribe&&"function"==typeof j.then}F.d(je,{t:()=>m})},7204:(Nt,je,F)=>{"use strict";function m(j){return j&&"function"==typeof j.schedule}F.d(je,{K:()=>m})},7040:(Nt,je,F)=>{"use strict";F.d(je,{s:()=>re});var m=F(4537),j=F(3863),Ce=F(5389),ie=F(7631),Y=F(1292),ve=F(8253),J=F(153);const re=Z=>{if(Z&&"function"==typeof Z[ie.L])return(Z=>ue=>{const Ye=Z[ie.L]();if("function"!=typeof Ye.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return Ye.subscribe(ue)})(Z);if((0,Y.z)(Z))return(0,m.V)(Z);if((0,ve.t)(Z))return(Z=>ue=>(Z.then(Ye=>{ue.closed||(ue.next(Ye),ue.complete())},Ye=>ue.error(Ye)).then(null,j.z),ue))(Z);if(Z&&"function"==typeof Z[Ce.hZ])return(Z=>ue=>{const Ye=Z[Ce.hZ]();for(;;){let ze;try{ze=Ye.next()}catch(Xe){return ue.error(Xe),ue}if(ze.done){ue.complete();break}if(ue.next(ze.value),ue.closed)break}return"function"==typeof Ye.return&&ue.add(()=>{Ye.return&&Ye.return()}),ue})(Z);{const Ye=`You provided ${(0,J.K)(Z)?"an invalid object":`'${Z}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(Ye)}}},4537:(Nt,je,F)=>{"use strict";F.d(je,{V:()=>m});const m=j=>q=>{for(let Ce=0,ce=j.length;Ce<ce&&!q.closed;Ce++)q.next(j[Ce]);q.complete()}},5348:(Nt,je,F)=>{"use strict";F.d(je,{D:()=>Ce});var m=F(2072),j=F(7040),q=F(3948);function Ce(ce,ie,de,Y,ve=new m.d(ce,de,Y)){if(!ve.closed)return ie instanceof q.y?ie.subscribe(ve):(0,j.s)(ie)(ve)}},4197:(Nt,je,F)=>{"use strict";F.d(je,{N:()=>m});const m={production:!0,baseUrl:"https://netrink.com/",personalUrl:"https://personal.netrink.com/",restaurantUrl:"https://restaurant.netrink.com/",schoolUrl:"https://school.netrink.com/",enterpriseUrl:"https://enterprise.netrink.com/",associationUrl:"https://association.netrink.com/",hospitalUrl:"https://hospital.netrink.com/",hotelUrl:"https://hotel.netrink.com/",shopUrl:"https://shop.netrink.com/",productionUrl:"https://production.netrink.com/",firebase:{apiKey:"AIzaSyCdIR_KDHHiiG7bJU5w0AHDDKXB4MDmwLw",authDomain:"netrink-18.firebaseapp.com",projectId:"netrink-18",storageBucket:"netrink-18.appspot.com",messagingSenderId:"821993582816",appId:"1:821993582816:web:547676f0346a28542e2085",measurementId:"G-VE8DYFFHH2"}}},9759:(Nt,je,F)=>{"use strict";var m=F(3220),j=F(2741),q=F(1887),Ce=F(9202),ce=F(1728),ie=F(3324),de=F(9106),Y=F(531),ve=F(9805),J=F(9320);let re=(()=>{class Ie{constructor(Me){this.router=Me}canActivate(Me){return!!localStorage.getItem("personal_id")||(this.router.navigateByUrl("/auth/login"),!1)}canActivateChild(Me){return!!localStorage.getItem("personal_id")||(this.router.navigateByUrl("/auth/login"),!1)}}return Ie.\u0275fac=function(Me){return new(Me||Ie)(j.\u0275\u0275inject(Ce.F0))},Ie.\u0275prov=j.\u0275\u0275defineInjectable({token:Ie,factory:Ie.\u0275fac,providedIn:"root"}),Ie})();const Z=[{path:"",loadChildren:()=>F.e(238).then(F.bind(F,1238)).then(Ie=>Ie.GuestLandingPageModule)},{path:"guest",loadChildren:()=>F.e(238).then(F.bind(F,1238)).then(Ie=>Ie.GuestLandingPageModule)},{path:"auth",loadChildren:()=>Promise.all([F.e(592),F.e(275)]).then(F.bind(F,4275)).then(Ie=>Ie.AuthPageModule)},{path:"user-settings",loadChildren:()=>F.e(442).then(F.bind(F,9442)).then(Ie=>Ie.UserSettingsPageModule)},{path:"home",canActivate:[re],canActivateChild:[re],children:[{path:"",loadChildren:()=>F.e(627).then(F.bind(F,7627)).then(Ie=>Ie.HomePageModule)},{path:"portal",loadChildren:()=>Promise.all([F.e(575),F.e(592),F.e(29)]).then(F.bind(F,4029)).then(Ie=>Ie.PortalPageModule)},{path:"settings",loadChildren:()=>Promise.all([F.e(575),F.e(592),F.e(589)]).then(F.bind(F,1589)).then(Ie=>Ie.SettingsPageModule)},{path:"calendar",loadChildren:()=>Promise.all([F.e(575),F.e(424),F.e(592),F.e(519)]).then(F.bind(F,1519)).then(Ie=>Ie.CalendarPageModule)},{path:"budget",loadChildren:()=>Promise.all([F.e(575),F.e(424),F.e(592),F.e(198)]).then(F.bind(F,9198)).then(Ie=>Ie.BudgetPageModule)},{path:"notes",loadChildren:()=>Promise.all([F.e(575),F.e(424),F.e(592),F.e(464)]).then(F.bind(F,8464)).then(Ie=>Ie.NotesPageModule)},{path:"accounts",loadChildren:()=>Promise.all([F.e(575),F.e(424),F.e(592),F.e(81)]).then(F.bind(F,7081)).then(Ie=>Ie.AccountsPageModule)},{path:"tasks",loadChildren:()=>Promise.all([F.e(575),F.e(424),F.e(592),F.e(77)]).then(F.bind(F,4077)).then(Ie=>Ie.TasksPageModule)}]}];let ue=(()=>{class Ie{}return Ie.\u0275fac=function(Me){return new(Me||Ie)},Ie.\u0275mod=j.\u0275\u0275defineNgModule({type:Ie}),Ie.\u0275inj=j.\u0275\u0275defineInjector({imports:[[Ce.Bz.forRoot(Z)],Ce.Bz]}),Ie})(),Ye=(()=>{class Ie{constructor(){this.title="personal"}}return Ie.\u0275fac=function(Me){return new(Me||Ie)},Ie.\u0275cmp=j.\u0275\u0275defineComponent({type:Ie,selectors:[["app-root"]],decls:1,vars:0,template:function(Me,Se){1&Me&&j.\u0275\u0275element(0,"router-outlet")},directives:[Ce.lC],styles:[""]}),Ie})();var ze=F(4197);let Xe=(()=>{class Ie{}return Ie.\u0275fac=function(Me){return new(Me||Ie)},Ie.\u0275mod=j.\u0275\u0275defineNgModule({type:Ie,bootstrap:[Ye]}),Ie.\u0275inj=j.\u0275\u0275defineInjector({providers:[],imports:[[m.b2,q.JF,Ce.Bz,ce.PW,ie.u5,ie.UX,de.hO.initializeApp(ze.N.firebase),Y.ww,ve.yb,J.GooglePlaceModule,ue]]}),Ie})();ze.N.production&&((0,j.enableProdMode)(),window&&(window.console.log=function(){})),m.q6().bootstrapModule(Xe).catch(Ie=>console.error(Ie))},3160:Nt=>{function je(F){return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+F+"'");throw m.code="MODULE_NOT_FOUND",m})}je.keys=()=>[],je.resolve=je,je.id=3160,Nt.exports=je},1921:(Nt,je,F)=>{"use strict";function m(q,Ce,ce,ie,de,Y,ve){try{var J=q[Y](ve),re=J.value}catch(Z){return void ce(Z)}J.done?Ce(re):Promise.resolve(re).then(ie,de)}function j(q){return function(){var Ce=this,ce=arguments;return new Promise(function(ie,de){var Y=q.apply(Ce,ce);function ve(re){m(Y,ie,de,ve,J,"next",re)}function J(re){m(Y,ie,de,ve,J,"throw",re)}ve(void 0)})}}F.d(je,{Z:()=>j})},6043:(Nt,je,F)=>{"use strict";F.d(je,{Z:()=>ze});var m=F(9870),j=F(3552),q=F(4762),Ce=F(1773);class ce{constructor(Ie,Te){this._delegate=Ie,this.firebase=Te,(0,q._addComponent)(Ie,new j.wA("app-compat",()=>this,"PUBLIC")),this.container=Ie.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ie){this._delegate.automaticDataCollectionEnabled=Ie}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ie=>{this._delegate.checkDestroyed(),Ie()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,q.deleteApp)(this._delegate)))}_getService(Ie,Te=q._DEFAULT_ENTRY_NAME){var Me;this._delegate.checkDestroyed();const Se=this._delegate.container.getProvider(Ie);return!Se.isInitialized()&&"EXPLICIT"===(null===(Me=Se.getComponent())||void 0===Me?void 0:Me.instantiationMode)&&Se.initialize(),Se.getImmediate({identifier:Te})}_removeServiceInstance(Ie,Te=q._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ie).clearInstance(Te)}_addComponent(Ie){(0,q._addComponent)(this._delegate,Ie)}_addOrOverwriteComponent(Ie){(0,q._addOrOverwriteComponent)(this._delegate,Ie)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const de=new m.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),J=function ve(){const Xe=function(Xe){const Ie={},Te={__esModule:!0,initializeApp:function(Ht,Zt={}){const Qt=q.initializeApp(Ht,Zt);if((0,m.r3)(Ie,Qt.name))return Ie[Qt.name];const Wt=new Xe(Qt,Te);return Ie[Qt.name]=Wt,Wt},app:Se,registerVersion:q.registerVersion,setLogLevel:q.setLogLevel,onLog:q.onLog,apps:null,SDK_VERSION:q.SDK_VERSION,INTERNAL:{registerComponent:function(Ht){const Zt=Ht.name,Qt=Zt.replace("-compat","");if(q._registerComponent(Ht)&&"PUBLIC"===Ht.type){const Wt=(Lt=Se())=>{if("function"!=typeof Lt[Qt])throw de.create("invalid-app-argument",{appName:Zt});return Lt[Qt]()};void 0!==Ht.serviceProps&&(0,m.ZB)(Wt,Ht.serviceProps),Te[Qt]=Wt,Xe.prototype[Qt]=function(...Lt){return this._getService.bind(this,Zt).apply(this,Ht.multipleInstances?Lt:[])}}return"PUBLIC"===Ht.type?Te[Qt]:null},removeApp:function(Ht){delete Ie[Ht]},useAsService:function(Ht,Zt){return"serverAuth"===Zt?null:Zt},modularAPIs:q}};function Se(Ht){if(!(0,m.r3)(Ie,Ht=Ht||q._DEFAULT_ENTRY_NAME))throw de.create("no-app",{appName:Ht});return Ie[Ht]}return Te.default=Te,Object.defineProperty(Te,"apps",{get:function(){return Object.keys(Ie).map(Ht=>Ie[Ht])}}),Se.App=Xe,Te}(ce);return Xe.INTERNAL=Object.assign(Object.assign({},Xe.INTERNAL),{createFirebaseNamespace:ve,extendNamespace:function(Te){(0,m.ZB)(Xe,Te)},createSubscribe:m.ne,ErrorFactory:m.LL,deepExtend:m.ZB}),Xe}(),re=new Ce.Yd("@firebase/app-compat");if((0,m.jU)()&&void 0!==self.firebase){re.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Xe=self.firebase.SDK_VERSION;Xe&&Xe.indexOf("LITE")>=0&&re.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ze=J;(0,q.registerVersion)("@firebase/app-compat","0.1.18",undefined)},4762:(Nt,je,F)=>{"use strict";F.r(je),F.d(je,{FirebaseError:()=>Ce.ZR,SDK_VERSION:()=>Sn,_DEFAULT_ENTRY_NAME:()=>lr,_addComponent:()=>kn,_addOrOverwriteComponent:()=>rr,_apps:()=>Jt,_clearComponents:()=>Xt,_components:()=>$t,_getProvider:()=>bn,_registerComponent:()=>Cn,_removeServiceInstance:()=>Tr,deleteApp:()=>zn,getApp:()=>_n,getApps:()=>ot,initializeApp:()=>ir,onLog:()=>An,registerVersion:()=>Ft,setLogLevel:()=>yr});var m=F(1921),j=F(3552),q=F(1773),Ce=F(9870);class ce{constructor(ge){this.container=ge}getPlatformInfoString(){return this.container.getProviders().map(me=>{if(function($e){const ge=$e.getComponent();return"VERSION"===(null==ge?void 0:ge.type)}(me)){const rt=me.getImmediate();return`${rt.library}/${rt.version}`}return null}).filter(me=>me).join(" ")}}const de="@firebase/app",Y="0.7.17",ve=new q.Yd("@firebase/app"),lr="[DEFAULT]",Er={[de]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Jt=new Map,$t=new Map;function kn($e,ge){try{$e.container.addComponent(ge)}catch(me){ve.debug(`Component ${ge.name} failed to register with FirebaseApp ${$e.name}`,me)}}function rr($e,ge){$e.container.addOrOverwriteComponent(ge)}function Cn($e){const ge=$e.name;if($t.has(ge))return ve.debug(`There were multiple attempts to register component ${ge}.`),!1;$t.set(ge,$e);for(const me of Jt.values())kn(me,$e);return!0}function bn($e,ge){return $e.container.getProvider(ge)}function Tr($e,ge,me=lr){bn($e,ge).clearInstance(me)}function Xt(){$t.clear()}const Kt=new Ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class gn{constructor(ge,me,rt){this._isDeleted=!1,this._options=Object.assign({},ge),this._config=Object.assign({},me),this._name=me.name,this._automaticDataCollectionEnabled=me.automaticDataCollectionEnabled,this._container=rt,this.container.addComponent(new j.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ge){this.checkDestroyed(),this._automaticDataCollectionEnabled=ge}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ge){this._isDeleted=ge}checkDestroyed(){if(this.isDeleted)throw Kt.create("app-deleted",{appName:this._name})}}const Sn="9.6.7";function ir($e,ge={}){"object"!=typeof ge&&(ge={name:ge});const me=Object.assign({name:lr,automaticDataCollectionEnabled:!1},ge),rt=me.name;if("string"!=typeof rt||!rt)throw Kt.create("bad-app-name",{appName:String(rt)});const Ge=Jt.get(rt);if(Ge){if((0,Ce.vZ)($e,Ge.options)&&(0,Ce.vZ)(me,Ge.config))return Ge;throw Kt.create("duplicate-app",{appName:rt})}const Dt=new j.H0(rt);for(const xt of $t.values())Dt.addComponent(xt);const lt=new gn($e,me,Dt);return Jt.set(rt,lt),lt}function _n($e=lr){const ge=Jt.get($e);if(!ge)throw Kt.create("no-app",{appName:$e});return ge}function ot(){return Array.from(Jt.values())}function zn($e){return dr.apply(this,arguments)}function dr(){return(dr=(0,m.Z)(function*($e){const ge=$e.name;Jt.has(ge)&&(Jt.delete(ge),yield Promise.all($e.container.getProviders().map(me=>me.delete())),$e.isDeleted=!0)})).apply(this,arguments)}function Ft($e,ge,me){var rt;let Ge=null!==(rt=Er[$e])&&void 0!==rt?rt:$e;me&&(Ge+=`-${me}`);const Dt=Ge.match(/\s|\//),lt=ge.match(/\s|\//);if(Dt||lt){const xt=[`Unable to register library "${Ge}" with version "${ge}":`];return Dt&&xt.push(`library name "${Ge}" contains illegal characters (whitespace or "/")`),Dt&&lt&&xt.push("and"),lt&&xt.push(`version name "${ge}" contains illegal characters (whitespace or "/")`),void ve.warn(xt.join(" "))}Cn(new j.wA(`${Ge}-version`,()=>({library:Ge,version:ge}),"VERSION"))}function An($e,ge){if(null!==$e&&"function"!=typeof $e)throw Kt.create("invalid-log-argument");(0,q.Am)($e,ge)}function yr($e){(0,q.Ub)($e)}Cn(new j.wA("platform-logger",ge=>new ce(ge),"PRIVATE")),Ft(de,Y,""),Ft(de,Y,"esm2017"),Ft("fire-js","")},3552:(Nt,je,F)=>{"use strict";F.d(je,{wA:()=>q,H0:()=>Y});var m=F(1921),j=F(9870);class q{constructor(J,re,Z){this.name=J,this.instanceFactory=re,this.type=Z,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(J){return this.instantiationMode=J,this}setMultipleInstances(J){return this.multipleInstances=J,this}setServiceProps(J){return this.serviceProps=J,this}setInstanceCreatedCallback(J){return this.onInstanceCreated=J,this}}const Ce="[DEFAULT]";class ce{constructor(J,re){this.name=J,this.container=re,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(J){const re=this.normalizeInstanceIdentifier(J);if(!this.instancesDeferred.has(re)){const Z=new j.BH;if(this.instancesDeferred.set(re,Z),this.isInitialized(re)||this.shouldAutoInitialize())try{const ue=this.getOrInitializeService({instanceIdentifier:re});ue&&Z.resolve(ue)}catch(ue){}}return this.instancesDeferred.get(re).promise}getImmediate(J){var re;const Z=this.normalizeInstanceIdentifier(null==J?void 0:J.identifier),ue=null!==(re=null==J?void 0:J.optional)&&void 0!==re&&re;if(!this.isInitialized(Z)&&!this.shouldAutoInitialize()){if(ue)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Z})}catch(Ye){if(ue)return null;throw Ye}}getComponent(){return this.component}setComponent(J){if(J.name!==this.name)throw Error(`Mismatching Component ${J.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=J,this.shouldAutoInitialize()){if("EAGER"===J.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:Ce})}catch(re){}for(const[re,Z]of this.instancesDeferred.entries()){const ue=this.normalizeInstanceIdentifier(re);try{const Ye=this.getOrInitializeService({instanceIdentifier:ue});Z.resolve(Ye)}catch(Ye){}}}}clearInstance(J=Ce){this.instancesDeferred.delete(J),this.instancesOptions.delete(J),this.instances.delete(J)}delete(){var J=this;return(0,m.Z)(function*(){const re=Array.from(J.instances.values());yield Promise.all([...re.filter(Z=>"INTERNAL"in Z).map(Z=>Z.INTERNAL.delete()),...re.filter(Z=>"_delete"in Z).map(Z=>Z._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(J=Ce){return this.instances.has(J)}getOptions(J=Ce){return this.instancesOptions.get(J)||{}}initialize(J={}){const{options:re={}}=J,Z=this.normalizeInstanceIdentifier(J.instanceIdentifier);if(this.isInitialized(Z))throw Error(`${this.name}(${Z}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ue=this.getOrInitializeService({instanceIdentifier:Z,options:re});for(const[Ye,ze]of this.instancesDeferred.entries())Z===this.normalizeInstanceIdentifier(Ye)&&ze.resolve(ue);return ue}onInit(J,re){var Z;const ue=this.normalizeInstanceIdentifier(re),Ye=null!==(Z=this.onInitCallbacks.get(ue))&&void 0!==Z?Z:new Set;Ye.add(J),this.onInitCallbacks.set(ue,Ye);const ze=this.instances.get(ue);return ze&&J(ze,ue),()=>{Ye.delete(J)}}invokeOnInitCallbacks(J,re){const Z=this.onInitCallbacks.get(re);if(Z)for(const ue of Z)try{ue(J,re)}catch(Ye){}}getOrInitializeService({instanceIdentifier:J,options:re={}}){let Z=this.instances.get(J);if(!Z&&this.component&&(Z=this.component.instanceFactory(this.container,{instanceIdentifier:(ve=J,ve===Ce?void 0:ve),options:re}),this.instances.set(J,Z),this.instancesOptions.set(J,re),this.invokeOnInitCallbacks(Z,J),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,J,Z)}catch(ue){}var ve;return Z||null}normalizeInstanceIdentifier(J=Ce){return this.component?this.component.multipleInstances?J:Ce:J}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Y{constructor(J){this.name=J,this.providers=new Map}addComponent(J){const re=this.getProvider(J.name);if(re.isComponentSet())throw new Error(`Component ${J.name} has already been registered with ${this.name}`);re.setComponent(J)}addOrOverwriteComponent(J){this.getProvider(J.name).isComponentSet()&&this.providers.delete(J.name),this.addComponent(J)}getProvider(J){if(this.providers.has(J))return this.providers.get(J);const re=new ce(J,this);return this.providers.set(J,re),re}getProviders(){return Array.from(this.providers.values())}}},1773:(Nt,je,F)=>{"use strict";F.d(je,{in:()=>j,Yd:()=>de,Ub:()=>Y,Am:()=>ve});const m=[];var j=(()=>{return(J=j||(j={}))[J.DEBUG=0]="DEBUG",J[J.VERBOSE=1]="VERBOSE",J[J.INFO=2]="INFO",J[J.WARN=3]="WARN",J[J.ERROR=4]="ERROR",J[J.SILENT=5]="SILENT",j;var J})();const q={debug:j.DEBUG,verbose:j.VERBOSE,info:j.INFO,warn:j.WARN,error:j.ERROR,silent:j.SILENT},Ce=j.INFO,ce={[j.DEBUG]:"log",[j.VERBOSE]:"log",[j.INFO]:"info",[j.WARN]:"warn",[j.ERROR]:"error"},ie=(J,re,...Z)=>{if(re<J.logLevel)return;const ue=(new Date).toISOString(),Ye=ce[re];if(!Ye)throw new Error(`Attempted to log a message with an invalid logType (value: ${re})`);console[Ye](`[${ue}]  ${J.name}:`,...Z)};class de{constructor(re){this.name=re,this._logLevel=Ce,this._logHandler=ie,this._userLogHandler=null,m.push(this)}get logLevel(){return this._logLevel}set logLevel(re){if(!(re in j))throw new TypeError(`Invalid value "${re}" assigned to \`logLevel\``);this._logLevel=re}setLogLevel(re){this._logLevel="string"==typeof re?q[re]:re}get logHandler(){return this._logHandler}set logHandler(re){if("function"!=typeof re)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=re}get userLogHandler(){return this._userLogHandler}set userLogHandler(re){this._userLogHandler=re}debug(...re){this._userLogHandler&&this._userLogHandler(this,j.DEBUG,...re),this._logHandler(this,j.DEBUG,...re)}log(...re){this._userLogHandler&&this._userLogHandler(this,j.VERBOSE,...re),this._logHandler(this,j.VERBOSE,...re)}info(...re){this._userLogHandler&&this._userLogHandler(this,j.INFO,...re),this._logHandler(this,j.INFO,...re)}warn(...re){this._userLogHandler&&this._userLogHandler(this,j.WARN,...re),this._logHandler(this,j.WARN,...re)}error(...re){this._userLogHandler&&this._userLogHandler(this,j.ERROR,...re),this._logHandler(this,j.ERROR,...re)}}function Y(J){m.forEach(re=>{re.setLogLevel(J)})}function ve(J,re){for(const Z of m){let ue=null;re&&re.level&&(ue=q[re.level]),Z.userLogHandler=null===J?null:(Ye,ze,...Xe)=>{const Ie=Xe.map(Te=>{if(null==Te)return null;if("string"==typeof Te)return Te;if("number"==typeof Te||"boolean"==typeof Te)return Te.toString();if(Te instanceof Error)return Te.message;try{return JSON.stringify(Te)}catch(Me){return null}}).filter(Te=>Te).join(" ");ze>=(null!=ue?ue:Ye.logLevel)&&J({level:j[ze].toLowerCase(),message:Ie,args:Xe,type:Ye.name})}}}}},Nt=>{Nt(Nt.s=9759)}]);