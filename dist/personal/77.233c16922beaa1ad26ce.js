"use strict";(self.webpackChunkang_fire=self.webpackChunkang_fire||[]).push([[77],{4077:(Ie,g,l)=>{l.r(g),l.d(g,{TasksPageModule:()=>Ge});var c=l(6274),p=l(9202),e=l(2741),G=l(8088),I=l(7632);let y=(()=>{class a{constructor(){this.navLinks=[{text:"All Task Groups",url:"/home/tasks/all-task-groups",icon:"bi bi-list-ul"},{text:"All Task Items",url:"/home/tasks/all-task-items",icon:"bi bi-list-ul"}]}ngOnInit(){}}return a.\u0275fac=function(t){return new(t||a)},a.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["app-tasks-page"]],decls:6,vars:4,consts:[[3,"navBrand","source"],["id","wrapper"],[3,"navLinks","heading"],["id","content-wrapper",1,"d-flex","flex-column"],["id","content"]],template:function(t,n){1&t&&(e.\u0275\u0275element(0,"app-main-navbar",0),e.\u0275\u0275elementStart(1,"div",1),e.\u0275\u0275element(2,"app-module-sidenav",2),e.\u0275\u0275elementStart(3,"div",3),e.\u0275\u0275elementStart(4,"div",4),e.\u0275\u0275element(5,"router-outlet"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275property("navBrand","nR Personal")("source","Personal"),e.\u0275\u0275advance(2),e.\u0275\u0275property("navLinks",n.navLinks)("heading","Tasks"))},directives:[G.D,I.m,p.lC],styles:[""]}),a})(),E=(()=>{class a{constructor(){}ngOnInit(){}}return a.\u0275fac=function(t){return new(t||a)},a.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["app-kanban-view"]],decls:5,vars:0,consts:[[1,"row","mb-3"],[1,"col-md-12"],["routerLink","/home/tasks/view-task-group/checklist-view",1,"btn","btn-secondary","float-end","nr-standard-font"],[1,"bi","bi-arrow-left-right","me-2"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275elementStart(1,"div",1),e.\u0275\u0275elementStart(2,"button",2),e.\u0275\u0275element(3,"i",3),e.\u0275\u0275text(4," Checklist View "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd())},directives:[p.rH],styles:["smart-kanban[_ngcontent-%COMP%]{height:400px}"]}),a})(),x=(()=>{class a{constructor(){}ngOnInit(){}}return a.\u0275fac=function(t){return new(t||a)},a.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["app-checklist-view"]],decls:5,vars:0,consts:[[1,"row","mb-3"],[1,"col-md-12"],["routerLink","/home/tasks/view-task-group/kanban-view",1,"btn","btn-secondary","float-end","nr-standard-font"],[1,"bi","bi-arrow-left-right","me-2"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275elementStart(1,"div",1),e.\u0275\u0275elementStart(2,"button",2),e.\u0275\u0275element(3,"i",3),e.\u0275\u0275text(4," Kanban View "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd())},directives:[p.rH],styles:[""]}),a})();var A=l(8361),h=l.n(A),u=l(1580),_=l(7225),f=l(8972),T=l(6508);const P=["connectionToastComponentReference"];let v=(()=>{class a{constructor(t){this.tasksApi=t,this.navHeading=[{text:"Dashboard",url:"/home/tasks/dashboard"}],this.weekTaskGroupsCount=0,this.weekTaskItemsCount=0,this.taskGroupsLineChartData=[{data:[0],label:"Task Groups"}],this.taskGroupsLineChartLabels=[""],this.taskItemsLineChartData=[{data:[0],label:"Task Items"}],this.taskItemsLineChartLabels=[""],this.chartOptions={},this.today=h()()}ngOnInit(){this.initChart(),this.getWeekTaskGroup(),this.getWeekTaskItem()}initChart(){this.chartOptions={responsive:!0,scales:{yAxes:[{min:0,ticks:{stepSize:1,beginAtZero:!0}}]}}}getWeekTaskGroup(){this.tasksApi.getWeekTaskGroup(h()(this.today).add(-1,"months").toDate(),this.today.toDate()).then(t=>{console.log(t),this.weekTaskGroupsData=t.docs,this.weekTaskGroupsCount=t.docs.length,this.setTaskGroupChartData()},t=>{console.log(t),this.connectionToast.openToast()})}getWeekTaskItem(){this.tasksApi.getWeekTaskItem(h()(this.today).add(-6,"days").toDate(),this.today.toDate()).then(t=>{console.log(t),this.weekTaskItemsData=t.docs,this.weekTaskItemsCount=t.docs.length,this.setTaskItemChartData()},t=>{console.log(t),this.connectionToast.openToast()})}setTaskGroupChartData(){this.taskGroupsLineChartLabels=[];for(let s=6;s>=0;s--){var t=h()(this.today).add(-s,"days");this.taskGroupsLineChartLabels.push(t.toDate().toISOString().slice(0,10))}console.log(this.taskGroupsLineChartLabels);let n=[];for(let s=6;s>=0;s--)n.push(0);console.log(n),this.weekTaskGroupsData.forEach(s=>{var i=s.data().created_at.toDate().toISOString().slice(0,10);for(let m=6;m>=0;m--)this.taskGroupsLineChartLabels[m]==i&&n[m]++}),console.log(n),this.taskGroupsLineChartData=[{data:n,label:"TaskGroups"}]}setTaskItemChartData(){this.taskItemsLineChartLabels=[];for(let s=6;s>=0;s--){var t=h()(this.today).add(-s,"days");this.taskItemsLineChartLabels.push(t.toDate().toISOString().slice(0,10))}console.log(this.taskItemsLineChartLabels);let n=[];for(let s=6;s>=0;s--)n.push(0);console.log(n),this.weekTaskItemsData.forEach(s=>{var i=s.data().created_at.toDate().toISOString().slice(0,10);for(let m=6;m>=0;m--)this.taskItemsLineChartLabels[m]==i&&n[m]++}),console.log(n),this.taskItemsLineChartData=[{data:n,label:"TaskItems"}]}}return a.\u0275fac=function(t){return new(t||a)(e.\u0275\u0275directiveInject(_.c))},a.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["app-dashboard"]],viewQuery:function(t,n){if(1&t&&e.\u0275\u0275viewQuery(P,5,u.Y),2&t){let s;e.\u0275\u0275queryRefresh(s=e.\u0275\u0275loadQuery())&&(n.connectionToast=s.first)}},decls:41,vars:13,consts:[[3,"headings"],[1,"container"],[1,"row"],[1,"col-md-3","mb-4"],[1,"card","border-left-secondary","shadow","h-100","py-2"],[1,"card-body"],[1,"row","no-gutters","align-items-center"],[1,"col","mr-2"],[1,"text-xs","font-weight-bold","text-uppercase","mb-1"],[1,"h5","mb-0","font-weight-bold","text-gray-800"],[1,"col-md-8"],[1,"card","shadow","mb-4"],[1,"card-header","py-3","d-flex","flex-row","align-items-center","justify-content-between"],[1,"m-0","font-weight-bold"],[1,"chart-area"],["baseChart","",3,"datasets","labels","options","legend","chartType"],["connectionToastComponentReference",""]],template:function(t,n){1&t&&(e.\u0275\u0275element(0,"app-module-topnav",0),e.\u0275\u0275elementStart(1,"div",1),e.\u0275\u0275elementStart(2,"div",2),e.\u0275\u0275elementStart(3,"div",3),e.\u0275\u0275elementStart(4,"div",4),e.\u0275\u0275elementStart(5,"div",5),e.\u0275\u0275elementStart(6,"div",6),e.\u0275\u0275elementStart(7,"div",7),e.\u0275\u0275elementStart(8,"div",8),e.\u0275\u0275text(9,"Task Groups this Week"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"div",9),e.\u0275\u0275text(11),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"div",3),e.\u0275\u0275elementStart(13,"div",4),e.\u0275\u0275elementStart(14,"div",5),e.\u0275\u0275elementStart(15,"div",6),e.\u0275\u0275elementStart(16,"div",7),e.\u0275\u0275elementStart(17,"div",8),e.\u0275\u0275text(18,"Task Items this Week"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"div",9),e.\u0275\u0275text(20),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"div",2),e.\u0275\u0275elementStart(22,"div",10),e.\u0275\u0275elementStart(23,"div",11),e.\u0275\u0275elementStart(24,"div",12),e.\u0275\u0275elementStart(25,"h6",13),e.\u0275\u0275text(26,"Total Task Groups by Day"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(27,"div",5),e.\u0275\u0275elementStart(28,"div",14),e.\u0275\u0275element(29,"canvas",15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(30,"div",2),e.\u0275\u0275elementStart(31,"div",10),e.\u0275\u0275elementStart(32,"div",11),e.\u0275\u0275elementStart(33,"div",12),e.\u0275\u0275elementStart(34,"h6",13),e.\u0275\u0275text(35,"Total Task Items by Day"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(36,"div",5),e.\u0275\u0275elementStart(37,"div",14),e.\u0275\u0275element(38,"canvas",15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(39,"app-connection-toast",null,16)),2&t&&(e.\u0275\u0275property("headings",n.navHeading),e.\u0275\u0275advance(11),e.\u0275\u0275textInterpolate(n.weekTaskGroupsCount),e.\u0275\u0275advance(9),e.\u0275\u0275textInterpolate(n.weekTaskItemsCount),e.\u0275\u0275advance(9),e.\u0275\u0275property("datasets",n.taskGroupsLineChartData)("labels",n.taskGroupsLineChartLabels)("options",n.chartOptions)("legend",!0)("chartType","line"),e.\u0275\u0275advance(9),e.\u0275\u0275property("datasets",n.taskItemsLineChartData)("labels",n.taskItemsLineChartLabels)("options",n.chartOptions)("legend",!0)("chartType","line"))},directives:[f.H,T.jh,u.Y],styles:[""]}),a})();var o=l(3324),D=l(756);const V=["newButtonElementReference"],F=["dismissButtonElementReference"],L=["connectionToastComponentReference"];let b=(()=>{class a{constructor(t,n){this.router=t,this.tasksApi=n,this.taskGroupForm=new o.cw({}),this.isTaskGroupSaving=!1}ngOnInit(){this.initTaskForm()}openModal(){this.newButton.nativeElement.click()}initTaskForm(){this.taskGroupForm=new o.cw({taskGroupName:new o.NI("")})}createTaskGroup(){let t={created_at:(0,D.Bt)(),user:localStorage.getItem("personal_id"),task_group:this.taskGroupForm.controls.taskGroupName.value};console.log(t),this.isTaskGroupSaving=!0,this.tasksApi.createTaskGroup(t).then(n=>{console.log(n),n.id&&(sessionStorage.setItem("personal_task_group_id",n.id),this.router.navigateByUrl("/home/tasks/view-task-group/kanban-view"),this.dismissButton.nativeElement.click()),this.isTaskGroupSaving=!1},n=>{console.log(n),this.isTaskGroupSaving=!1,this.connectionToast.openToast()})}}return a.\u0275fac=function(t){return new(t||a)(e.\u0275\u0275directiveInject(p.F0),e.\u0275\u0275directiveInject(_.c))},a.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["app-new-task-group"]],viewQuery:function(t,n){if(1&t&&(e.\u0275\u0275viewQuery(V,5,e.ElementRef),e.\u0275\u0275viewQuery(F,5,e.ElementRef),e.\u0275\u0275viewQuery(L,5,u.Y)),2&t){let s;e.\u0275\u0275queryRefresh(s=e.\u0275\u0275loadQuery())&&(n.newButton=s.first),e.\u0275\u0275queryRefresh(s=e.\u0275\u0275loadQuery())&&(n.dismissButton=s.first),e.\u0275\u0275queryRefresh(s=e.\u0275\u0275loadQuery())&&(n.connectionToast=s.first)}},decls:26,vars:3,consts:[["data-bs-toggle","modal","data-bs-target","#newTaskGroupModal",3,"hidden"],["newButtonElementReference",""],["id","newTaskGroupModal","tabindex","-1","aria-labelledby","newTaskGroupModalLabel","aria-hidden","true",1,"modal","fade","form-modal"],[1,"modal-dialog"],[1,"modal-content"],[1,"page-form",3,"formGroup","ngSubmit"],[1,"modal-header","bg-light"],["id","newTaskGroupModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],["dismissButtonElementReference",""],[1,"modal-body"],[1,"row","mb-1"],[1,"col-md-4"],[1,"float-md-end","float-sm-start","mt-1"],[1,"col-md-8"],["formControlName","taskGroupName",1,"form-control","form-control-sm","w-100"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-secondary","modal-form-btn",3,"disabled"],["type","button","data-bs-dismiss","modal",1,"btn","btn-sm","btn-secondary","modal-form-btn"],["connectionToastComponentReference",""]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"button",0,1),e.\u0275\u0275text(2," Launch demo modal\n"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",2),e.\u0275\u0275elementStart(4,"div",3),e.\u0275\u0275elementStart(5,"div",4),e.\u0275\u0275elementStart(6,"form",5),e.\u0275\u0275listener("ngSubmit",function(){return n.createTaskGroup()}),e.\u0275\u0275elementStart(7,"div",6),e.\u0275\u0275elementStart(8,"span",7),e.\u0275\u0275text(9,"Add New Task Group"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(10,"button",8,9),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"div",10),e.\u0275\u0275elementStart(13,"div",11),e.\u0275\u0275elementStart(14,"div",12),e.\u0275\u0275elementStart(15,"label",13),e.\u0275\u0275text(16,"Task Group Name :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"div",14),e.\u0275\u0275element(18,"input",15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"div",16),e.\u0275\u0275elementStart(20,"button",17),e.\u0275\u0275text(21,"Save"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(22,"button",18),e.\u0275\u0275text(23,"Cancel"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(24,"app-connection-toast",null,19)),2&t&&(e.\u0275\u0275property("hidden",!0),e.\u0275\u0275advance(6),e.\u0275\u0275property("formGroup",n.taskGroupForm),e.\u0275\u0275advance(14),e.\u0275\u0275property("disabled",n.isTaskGroupSaving))},directives:[o._Y,o.JL,o.sg,o.Fj,o.JJ,o.u,u.Y],styles:[""]}),a})();var C=l(1921),N=l(6424);let S=(()=>{class a{constructor(t,n){this.pdfPrint=t,this.tasksApi=n}printAllTaskGroups(){var t=this;return(0,C.Z)(function*(){const n=yield t.tasksApi.getAllUserTaskGroup();var s=[["Task Group","Created At"]];for(let k of n.docs){var i=[];let d=k.data();i.push(d.task_group),i.push(d.created_at),s.push(i)}t.pdfPrint.openPdf([{layout:"lightHorizontalLines",table:{headerRows:1,widths:["65%","35%"],body:s}}])})()}printAllTaskItems(){var t=this;return(0,C.Z)(function*(){const n=yield t.tasksApi.getAllUserTaskItem();var s=[["Task Item","Priority","Start Date","End Date","Status"]];for(let k of n.docs){var i=[];let d=k.data();i.push(d.task_item),i.push(d.priority),i.push(d.start_date),i.push(d.end_date),i.push(d.status),s.push(i)}t.pdfPrint.openPdf([{layout:"lightHorizontalLines",table:{headerRows:1,widths:["36%","14%","18%","18%","14%"],body:s}}])})()}}return a.\u0275fac=function(t){return new(t||a)(e.\u0275\u0275inject(N.n),e.\u0275\u0275inject(_.c))},a.\u0275prov=e.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const R=["connectionToastComponentReference"],j=["newTaskGroupComponentReference"];function Q(a,r){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",31),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("task_group","desc")}),e.\u0275\u0275elementEnd()}}function O(a,r){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",32),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("task_group","asc")}),e.\u0275\u0275elementEnd()}}function U(a,r){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",33),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("task_group","desc")}),e.\u0275\u0275elementEnd()}}function M(a,r){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",31),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("created_at","desc")}),e.\u0275\u0275elementEnd()}}function B(a,r){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",32),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("created_at","asc")}),e.\u0275\u0275elementEnd()}}function H(a,r){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",33),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("created_at","desc")}),e.\u0275\u0275elementEnd()}}function Y(a,r){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tr",34),e.\u0275\u0275listener("dblclick",function(){const i=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275nextContext().viewTaskGroup(i.uid)}),e.\u0275\u0275elementStart(1,"td"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"td"),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"date"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()}if(2&a){const t=r.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(null==t?null:t.data().task_group),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(5,2,null==t?null:t.data().created_at.toDate()))}}function z(a,r){1&a&&(e.\u0275\u0275elementStart(0,"tr",35),e.\u0275\u0275elementStart(1,"td",19),e.\u0275\u0275elementStart(2,"div",36),e.\u0275\u0275elementStart(3,"span",37),e.\u0275\u0275text(4,"Loading..."),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd())}function W(a,r){1&a&&(e.\u0275\u0275elementStart(0,"tr",35),e.\u0275\u0275elementStart(1,"td",19),e.\u0275\u0275elementStart(2,"p",38),e.\u0275\u0275text(3,"No data available"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd())}let J=(()=>{class a{constructor(t,n,s){this.router=t,this.tasksApi=n,this.tasksPrint=s,this.navHeading=[{text:"All Task Groups",url:"/home/tasks/all-task-groups"}],this.taskGroupsGridData=[],this.isFetchingGridData=!1,this.isDataAvailable=!0,this.firstInResponse=[],this.lastInResponse=[],this.prevStartAt=[],this.nextStartAfter=[],this.pageNumber=0,this.disableNext=!0,this.disablePrev=!0,this.sortParams={field:"created_at",direction:"desc"}}ngOnInit(){this.getUserTaskGroup()}getUserTaskGroup(){this.isFetchingGridData=!0,this.tasksApi.getUserTaskGroup(this.sortParams,20).then(t=>{console.log(t),this.taskGroupsGridData=t.docs,this.isFetchingGridData=!1,this.prevStartAt=this.firstInResponse,this.nextStartAfter=t.docs[t.docs.length-1],this.firstInResponse=t.docs[0],this.pageNumber=1,this.isDataAvailable=!!t.docs.length,!t.docs.length||t.docs.length<20?(this.disableNext=!0,this.disablePrev=!0):(this.disableNext=!1,this.disablePrev=!0)},t=>{console.log(t),this.isFetchingGridData=!1,this.connectionToast.openToast()})}nextPage(t){t.preventDefault(),this.isFetchingGridData=!0,this.tasksApi.getUserTaskGroupNext(this.sortParams,20,this.nextStartAfter).then(n=>{console.log(n),this.taskGroupsGridData=n.docs,this.isFetchingGridData=!1,this.prevStartAt=this.firstInResponse,this.nextStartAfter=n.docs[n.docs.length-1],this.firstInResponse=n.docs[0],this.pageNumber++,n.docs.length<20&&(this.disableNext=!0,this.disablePrev=!1)},n=>{console.log(n),this.isFetchingGridData=!1,this.connectionToast.openToast()})}previousPage(t){t.preventDefault(),this.isFetchingGridData=!0,this.tasksApi.getUserTaskGroupPrev(this.sortParams,20,this.prevStartAt).then(n=>{console.log(n),this.taskGroupsGridData=n.docs,this.isFetchingGridData=!1,this.prevStartAt=this.firstInResponse,this.nextStartAfter=n.docs[n.docs.length-1],this.firstInResponse=n.docs[0],this.pageNumber--,1==this.pageNumber&&(this.disableNext=!1,this.disablePrev=!0)},n=>{console.log(n),this.isFetchingGridData=!1,this.connectionToast.openToast()})}sortTable(t,n){this.sortParams.field=t,this.sortParams.direction=n,this.getUserTaskGroup()}viewTaskGroup(t){console.log(t),sessionStorage.setItem("personal_task_group_id",t),this.router.navigateByUrl("/home/tasks/view-task-group/kanban-view")}onPrint(){console.log("lets start printing..."),this.tasksPrint.printAllTaskGroups()}}return a.\u0275fac=function(t){return new(t||a)(e.\u0275\u0275directiveInject(p.F0),e.\u0275\u0275directiveInject(_.c),e.\u0275\u0275directiveInject(S))},a.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["app-all-task-groups"]],viewQuery:function(t,n){if(1&t&&(e.\u0275\u0275viewQuery(R,5,u.Y),e.\u0275\u0275viewQuery(j,5,b)),2&t){let s;e.\u0275\u0275queryRefresh(s=e.\u0275\u0275loadQuery())&&(n.connectionToast=s.first),e.\u0275\u0275queryRefresh(s=e.\u0275\u0275loadQuery())&&(n.newTaskGroup=s.first)}},decls:46,vars:15,consts:[[3,"headings","showPrint","print"],[1,"container"],[1,"row"],[1,"col-md-7"],[1,"row","mb-3"],[1,"col-md-12"],[1,"btn","btn-secondary","page-add-btn",3,"click"],[1,"btn","btn-light","border","float-end","page-refresh-btn",3,"disabled","click"],[1,"bi","bi-arrow-clockwise"],[1,"overflow-auto"],[1,"table","table-bordered","table-sm","w-100","page-table"],[1,"bg-light"],["width","65%",1,"min-width-4"],["class","bi bi-filter float-end list-pointer",3,"click",4,"ngIf"],["class","bi bi-sort-down float-end list-pointer",3,"click",4,"ngIf"],["class","bi bi-sort-up float-end list-pointer",3,"click",4,"ngIf"],["width","35%",1,"min-width-3"],["class","table-pointer",3,"dblclick",4,"ngFor","ngForOf"],["class","text-center",4,"ngIf"],["colspan","2"],["aria-label","Page navigation",1,"nav-light","float-end"],[1,"pagination","pagination-sm","mb-0","justify-content-end"],[1,"page-item",3,"ngClass"],["href","#","aria-label","First",1,"page-link",3,"click"],[1,"bi","bi-caret-left-fill"],[1,"page-item"],["href","#","aria-label","Current",1,"page-link",3,"click"],["href","#","aria-label","Last",1,"page-link",3,"click"],[1,"bi","bi-caret-right-fill"],["newTaskGroupComponentReference",""],["connectionToastComponentReference",""],[1,"bi","bi-filter","float-end","list-pointer",3,"click"],[1,"bi","bi-sort-down","float-end","list-pointer",3,"click"],[1,"bi","bi-sort-up","float-end","list-pointer",3,"click"],[1,"table-pointer",3,"dblclick"],[1,"text-center"],["role","status",1,"spinner-grow","m-4"],[1,"visually-hidden"],[1,"m-4"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"app-module-topnav",0),e.\u0275\u0275listener("print",function(){return n.onPrint()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(1,"div",1),e.\u0275\u0275elementStart(2,"div",2),e.\u0275\u0275elementStart(3,"div",3),e.\u0275\u0275elementStart(4,"div",4),e.\u0275\u0275elementStart(5,"div",5),e.\u0275\u0275elementStart(6,"button",6),e.\u0275\u0275listener("click",function(){return n.newTaskGroup.openModal()}),e.\u0275\u0275text(7,"New Task Group"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"button",7),e.\u0275\u0275listener("click",function(){return n.getUserTaskGroup()}),e.\u0275\u0275element(9,"i",8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"div",9),e.\u0275\u0275elementStart(11,"table",10),e.\u0275\u0275elementStart(12,"thead"),e.\u0275\u0275elementStart(13,"tr",11),e.\u0275\u0275elementStart(14,"th",12),e.\u0275\u0275text(15," Task Group Name "),e.\u0275\u0275template(16,Q,1,0,"i",13),e.\u0275\u0275template(17,O,1,0,"i",14),e.\u0275\u0275template(18,U,1,0,"i",15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"th",16),e.\u0275\u0275text(20," Created At "),e.\u0275\u0275template(21,M,1,0,"i",13),e.\u0275\u0275template(22,B,1,0,"i",14),e.\u0275\u0275template(23,H,1,0,"i",15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(24,"tbody"),e.\u0275\u0275template(25,Y,6,4,"tr",17),e.\u0275\u0275template(26,z,5,0,"tr",18),e.\u0275\u0275template(27,W,4,0,"tr",18),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(28,"tfoot"),e.\u0275\u0275elementStart(29,"tr",11),e.\u0275\u0275elementStart(30,"td",19),e.\u0275\u0275elementStart(31,"nav",20),e.\u0275\u0275elementStart(32,"ul",21),e.\u0275\u0275elementStart(33,"li",22),e.\u0275\u0275elementStart(34,"a",23),e.\u0275\u0275listener("click",function(i){return n.previousPage(i)}),e.\u0275\u0275element(35,"i",24),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(36,"li",25),e.\u0275\u0275elementStart(37,"a",26),e.\u0275\u0275listener("click",function(i){return i.preventDefault()}),e.\u0275\u0275text(38),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(39,"li",22),e.\u0275\u0275elementStart(40,"a",27),e.\u0275\u0275listener("click",function(i){return n.nextPage(i)}),e.\u0275\u0275element(41,"i",28),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(42,"app-new-task-group",null,29),e.\u0275\u0275element(44,"app-connection-toast",null,30)),2&t&&(e.\u0275\u0275property("headings",n.navHeading)("showPrint",!0),e.\u0275\u0275advance(8),e.\u0275\u0275property("disabled",n.isFetchingGridData),e.\u0275\u0275advance(8),e.\u0275\u0275property("ngIf","task_group"!=n.sortParams.field),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","task_group"==n.sortParams.field&&"desc"==n.sortParams.direction),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","task_group"==n.sortParams.field&&"asc"==n.sortParams.direction),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf","created_at"!=n.sortParams.field),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","created_at"==n.sortParams.field&&"desc"==n.sortParams.direction),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","created_at"==n.sortParams.field&&"asc"==n.sortParams.direction),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",n.taskGroupsGridData),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.isFetchingGridData),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!n.isDataAvailable&&!n.isFetchingGridData),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngClass",n.disablePrev?"disabled":""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",n.pageNumber," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",n.disableNext?"disabled":""))},directives:[f.H,c.O5,c.sg,c.mk,b,u.Y],pipes:[c.uU],styles:[""]}),a})();const K=["connectionToastComponentReference"];function Z(a,r){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",30),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("task_item","desc")}),e.\u0275\u0275elementEnd()}}function $(a,r){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",31),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("task_item","asc")}),e.\u0275\u0275elementEnd()}}function X(a,r){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",32),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("task_item","desc")}),e.\u0275\u0275elementEnd()}}function q(a,r){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",30),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("priority","desc")}),e.\u0275\u0275elementEnd()}}function ee(a,r){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",31),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("priority","asc")}),e.\u0275\u0275elementEnd()}}function te(a,r){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",32),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("priority","desc")}),e.\u0275\u0275elementEnd()}}function ne(a,r){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",30),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("start_date","desc")}),e.\u0275\u0275elementEnd()}}function ae(a,r){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",31),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("start_date","asc")}),e.\u0275\u0275elementEnd()}}function se(a,r){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",32),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("start_date","desc")}),e.\u0275\u0275elementEnd()}}function re(a,r){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",30),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("end_date","desc")}),e.\u0275\u0275elementEnd()}}function ie(a,r){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",31),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("end_date","asc")}),e.\u0275\u0275elementEnd()}}function oe(a,r){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",32),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("end_date","desc")}),e.\u0275\u0275elementEnd()}}function le(a,r){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",30),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("status","desc")}),e.\u0275\u0275elementEnd()}}function me(a,r){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",31),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("status","asc")}),e.\u0275\u0275elementEnd()}}function ce(a,r){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",32),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("status","desc")}),e.\u0275\u0275elementEnd()}}function de(a,r){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",30),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("task_group","desc")}),e.\u0275\u0275elementEnd()}}function pe(a,r){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",31),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("task_group","asc")}),e.\u0275\u0275elementEnd()}}function ue(a,r){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",32),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("task_group","desc")}),e.\u0275\u0275elementEnd()}}function _e(a,r){if(1&a&&(e.\u0275\u0275elementStart(0,"tr"),e.\u0275\u0275elementStart(1,"td"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"td"),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"td"),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"date"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"td"),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"date"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"td"),e.\u0275\u0275text(12),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"td"),e.\u0275\u0275text(14),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&a){const t=r.$implicit;let n,s,i,m,k,d;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(null==(n=t.data())?null:n.task_item),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(null==(s=t.data())?null:s.priority),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(7,6,null==(i=t.data())?null:i.start_date)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(10,8,null==(m=t.data())?null:m.end_date)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(null==(k=t.data())?null:k.status),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(null==(d=t.data())?null:d.task_group.data.task_group)}}function ke(a,r){1&a&&(e.\u0275\u0275elementStart(0,"tr",33),e.\u0275\u0275elementStart(1,"td",19),e.\u0275\u0275elementStart(2,"div",34),e.\u0275\u0275elementStart(3,"span",35),e.\u0275\u0275text(4,"Loading..."),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd())}function he(a,r){1&a&&(e.\u0275\u0275elementStart(0,"tr",33),e.\u0275\u0275elementStart(1,"td",19),e.\u0275\u0275elementStart(2,"p",36),e.\u0275\u0275text(3,"No data available"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd())}let fe=(()=>{class a{constructor(t,n){this.tasksApi=t,this.tasksPrint=n,this.navHeading=[{text:"All Task Items",url:"/home/tasks/all-task-items"}],this.taskItemsGridData=[],this.isFetchingGridData=!1,this.isDataAvailable=!0,this.firstInResponse=[],this.lastInResponse=[],this.prevStartAt=[],this.nextStartAfter=[],this.pageNumber=0,this.disableNext=!0,this.disablePrev=!0,this.sortParams={field:"created_at",direction:"desc"}}ngOnInit(){this.getUserTaskItem()}getUserTaskItem(){this.isFetchingGridData=!0,this.tasksApi.getUserTaskItem(this.sortParams,20).then(t=>{console.log(t),this.taskItemsGridData=t.docs,this.isFetchingGridData=!1,this.prevStartAt=this.firstInResponse,this.nextStartAfter=t.docs[t.docs.length-1],this.firstInResponse=t.docs[0],this.pageNumber=1,this.isDataAvailable=!!t.docs.length,!t.docs.length||t.docs.length<20?(this.disableNext=!0,this.disablePrev=!0):(this.disableNext=!1,this.disablePrev=!0)},t=>{console.log(t),this.isFetchingGridData=!1,this.connectionToast.openToast()})}nextPage(t){t.preventDefault(),this.isFetchingGridData=!0,this.tasksApi.getUserTaskItemNext(this.sortParams,20,this.nextStartAfter).then(n=>{console.log(n),this.taskItemsGridData=n.docs,this.isFetchingGridData=!1,this.prevStartAt=this.firstInResponse,this.nextStartAfter=n.docs[n.docs.length-1],this.firstInResponse=n.docs[0],this.pageNumber++,n.docs.length<20&&(this.disableNext=!0,this.disablePrev=!1)},n=>{console.log(n),this.isFetchingGridData=!1,this.connectionToast.openToast()})}previousPage(t){t.preventDefault(),this.isFetchingGridData=!0,this.tasksApi.getUserTaskItemPrev(this.sortParams,20,this.prevStartAt).then(n=>{console.log(n),this.taskItemsGridData=n.docs,this.isFetchingGridData=!1,this.prevStartAt=this.firstInResponse,this.nextStartAfter=n.docs[n.docs.length-1],this.firstInResponse=n.docs[0],this.pageNumber--,1==this.pageNumber&&(this.disableNext=!1,this.disablePrev=!0)},n=>{console.log(n),this.isFetchingGridData=!1,this.connectionToast.openToast()})}sortTable(t,n){this.sortParams.field=t,this.sortParams.direction=n,this.getUserTaskItem()}onPrint(){console.log("lets start printing..."),this.tasksPrint.printAllTaskItems()}}return a.\u0275fac=function(t){return new(t||a)(e.\u0275\u0275directiveInject(_.c),e.\u0275\u0275directiveInject(S))},a.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["app-all-task-items"]],viewQuery:function(t,n){if(1&t&&e.\u0275\u0275viewQuery(K,5,u.Y),2&t){let s;e.\u0275\u0275queryRefresh(s=e.\u0275\u0275loadQuery())&&(n.connectionToast=s.first)}},decls:62,vars:27,consts:[[3,"headings","showPrint","print"],[1,"container"],[1,"row"],[1,"col-md-12"],[1,"row","mb-3"],[1,"btn","btn-light","border","float-end","page-refresh-btn",3,"disabled","click"],[1,"bi","bi-arrow-clockwise"],[1,"overflow-auto"],[1,"table","table-bordered","table-sm","w-100","page-table"],[1,"bg-light"],["width","30%",1,"min-width-4"],["class","bi bi-filter float-end list-pointer",3,"click",4,"ngIf"],["class","bi bi-sort-down float-end list-pointer",3,"click",4,"ngIf"],["class","bi bi-sort-up float-end list-pointer",3,"click",4,"ngIf"],["width","10%",1,"min-width-2"],["width","15%",1,"min-width-3"],["width","20%",1,"min-width-3"],[4,"ngFor","ngForOf"],["class","text-center",4,"ngIf"],["colspan","6"],["aria-label","Page navigation",1,"nav-light","float-end"],[1,"pagination","pagination-sm","mb-0","justify-content-end"],[1,"page-item",3,"ngClass"],["href","#","aria-label","First",1,"page-link",3,"click"],[1,"bi","bi-caret-left-fill"],[1,"page-item"],["href","#","aria-label","Current",1,"page-link",3,"click"],["href","#","aria-label","Last",1,"page-link",3,"click"],[1,"bi","bi-caret-right-fill"],["connectionToastComponentReference",""],[1,"bi","bi-filter","float-end","list-pointer",3,"click"],[1,"bi","bi-sort-down","float-end","list-pointer",3,"click"],[1,"bi","bi-sort-up","float-end","list-pointer",3,"click"],[1,"text-center"],["role","status",1,"spinner-grow","m-4"],[1,"visually-hidden"],[1,"m-4"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"app-module-topnav",0),e.\u0275\u0275listener("print",function(){return n.onPrint()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(1,"div",1),e.\u0275\u0275elementStart(2,"div",2),e.\u0275\u0275elementStart(3,"div",3),e.\u0275\u0275elementStart(4,"div",4),e.\u0275\u0275elementStart(5,"div",3),e.\u0275\u0275elementStart(6,"button",5),e.\u0275\u0275listener("click",function(){return n.getUserTaskItem()}),e.\u0275\u0275element(7,"i",6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"div",7),e.\u0275\u0275elementStart(9,"table",8),e.\u0275\u0275elementStart(10,"thead"),e.\u0275\u0275elementStart(11,"tr",9),e.\u0275\u0275elementStart(12,"th",10),e.\u0275\u0275text(13," Task Item "),e.\u0275\u0275template(14,Z,1,0,"i",11),e.\u0275\u0275template(15,$,1,0,"i",12),e.\u0275\u0275template(16,X,1,0,"i",13),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"th",14),e.\u0275\u0275text(18," Priority "),e.\u0275\u0275template(19,q,1,0,"i",11),e.\u0275\u0275template(20,ee,1,0,"i",12),e.\u0275\u0275template(21,te,1,0,"i",13),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(22,"th",15),e.\u0275\u0275text(23," Start Date "),e.\u0275\u0275template(24,ne,1,0,"i",11),e.\u0275\u0275template(25,ae,1,0,"i",12),e.\u0275\u0275template(26,se,1,0,"i",13),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(27,"th",15),e.\u0275\u0275text(28," End Date "),e.\u0275\u0275template(29,re,1,0,"i",11),e.\u0275\u0275template(30,ie,1,0,"i",12),e.\u0275\u0275template(31,oe,1,0,"i",13),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(32,"th",14),e.\u0275\u0275text(33," Status "),e.\u0275\u0275template(34,le,1,0,"i",11),e.\u0275\u0275template(35,me,1,0,"i",12),e.\u0275\u0275template(36,ce,1,0,"i",13),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(37,"th",16),e.\u0275\u0275text(38," Task Group "),e.\u0275\u0275template(39,de,1,0,"i",11),e.\u0275\u0275template(40,pe,1,0,"i",12),e.\u0275\u0275template(41,ue,1,0,"i",13),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(42,"tbody"),e.\u0275\u0275template(43,_e,15,10,"tr",17),e.\u0275\u0275template(44,ke,5,0,"tr",18),e.\u0275\u0275template(45,he,4,0,"tr",18),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(46,"tfoot"),e.\u0275\u0275elementStart(47,"tr",9),e.\u0275\u0275elementStart(48,"td",19),e.\u0275\u0275elementStart(49,"nav",20),e.\u0275\u0275elementStart(50,"ul",21),e.\u0275\u0275elementStart(51,"li",22),e.\u0275\u0275elementStart(52,"a",23),e.\u0275\u0275listener("click",function(i){return n.previousPage(i)}),e.\u0275\u0275element(53,"i",24),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(54,"li",25),e.\u0275\u0275elementStart(55,"a",26),e.\u0275\u0275listener("click",function(i){return i.preventDefault()}),e.\u0275\u0275text(56),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(57,"li",22),e.\u0275\u0275elementStart(58,"a",27),e.\u0275\u0275listener("click",function(i){return n.nextPage(i)}),e.\u0275\u0275element(59,"i",28),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(60,"app-connection-toast",null,29)),2&t&&(e.\u0275\u0275property("headings",n.navHeading)("showPrint",!0),e.\u0275\u0275advance(6),e.\u0275\u0275property("disabled",n.isFetchingGridData),e.\u0275\u0275advance(8),e.\u0275\u0275property("ngIf","task_item"!=n.sortParams.field),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","task_item"==n.sortParams.field&&"desc"==n.sortParams.direction),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","task_item"==n.sortParams.field&&"asc"==n.sortParams.direction),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf","priority"!=n.sortParams.field),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","priority"==n.sortParams.field&&"desc"==n.sortParams.direction),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","priority"==n.sortParams.field&&"asc"==n.sortParams.direction),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf","start_date"!=n.sortParams.field),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","start_date"==n.sortParams.field&&"desc"==n.sortParams.direction),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","start_date"==n.sortParams.field&&"asc"==n.sortParams.direction),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf","end_date"!=n.sortParams.field),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","end_date"==n.sortParams.field&&"desc"==n.sortParams.direction),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","end_date"==n.sortParams.field&&"asc"==n.sortParams.direction),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf","status"!=n.sortParams.field),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","status"==n.sortParams.field&&"desc"==n.sortParams.direction),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","status"==n.sortParams.field&&"asc"==n.sortParams.direction),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf","task_group"!=n.sortParams.field),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","task_group"==n.sortParams.field&&"desc"==n.sortParams.direction),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","task_group"==n.sortParams.field&&"asc"==n.sortParams.direction),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",n.taskItemsGridData),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.isFetchingGridData),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!n.isDataAvailable&&!n.isFetchingGridData),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngClass",n.disablePrev?"disabled":""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",n.pageNumber," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",n.disableNext?"disabled":""))},directives:[f.H,c.O5,c.sg,c.mk,u.Y],pipes:[c.uU],styles:[""]}),a})();const ge=["connectionToastComponentReference"];function Te(a,r){if(1&a&&(e.\u0275\u0275elementStart(0,"div",6),e.\u0275\u0275elementStart(1,"button",12),e.\u0275\u0275text(2,"Save"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("disabled",t.isTaskGroupSaving)}}function ve(a,r){1&a&&(e.\u0275\u0275elementStart(0,"div",6),e.\u0275\u0275elementStart(1,"button",13),e.\u0275\u0275elementStart(2,"div",14),e.\u0275\u0275elementStart(3,"span",15),e.\u0275\u0275text(4,"Loading..."),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd())}const be=[{path:"",component:y,children:[{path:"",component:v},{path:"dashboard",component:v},{path:"all-task-groups",component:J},{path:"view-task-group",component:(()=>{class a{constructor(t){this.tasksApi=t,this.navHeading=[{text:"View Task Group",url:"/home/tasks/view-task-group"}],this.taskGroupForm=new o.cw({}),this.isTaskGroupLoading=!1,this.isTaskGroupSaving=!1}ngOnInit(){this.initTaskGroupForm(),this.getTaskGroup()}initTaskGroupForm(){this.taskGroupForm=new o.cw({taskGroupName:new o.NI("")})}getTaskGroup(){this.isTaskGroupLoading=!0,this.tasksApi.getTaskGroup().then(t=>{console.log(t),this.taskGroupFormData=t,this.taskGroupForm.controls.taskGroupName.setValue(this.taskGroupFormData.data().task_group),this.isTaskGroupLoading=!1},t=>{console.log(t),this.isTaskGroupLoading=!1,this.connectionToast.openToast()})}updateTaskGroup(){let t={task_group:this.taskGroupForm.controls.taskGroupName.value};console.log(t),this.isTaskGroupSaving=!0,this.tasksApi.updateTaskGroup(t).then(n=>{console.log(n),this.isTaskGroupSaving=!1},n=>{console.log(n),this.connectionToast.openToast(),this.isTaskGroupSaving=!1})}}return a.\u0275fac=function(t){return new(t||a)(e.\u0275\u0275directiveInject(_.c))},a.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["app-view-task-group"]],viewQuery:function(t,n){if(1&t&&e.\u0275\u0275viewQuery(ge,5,u.Y),2&t){let s;e.\u0275\u0275queryRefresh(s=e.\u0275\u0275loadQuery())&&(n.connectionToast=s.first)}},decls:17,vars:5,consts:[[3,"headings","showPrint"],[1,"container"],[1,"row","page-form"],[1,"col-md-9"],[1,"page-form",3,"formGroup","ngSubmit"],[1,"row","mb-3"],[1,"col-md-3"],[1,"float-md-end","float-sm-start","mt-1"],[1,"col-md-6"],["formControlName","taskGroupName",1,"form-control","form-control-sm","w-100"],["class","col-md-3",4,"ngIf"],["connectionToastComponentReference",""],["type","submit",1,"btn","btn-sm","btn-secondary","page-form-btn",3,"disabled"],["type","button",1,"btn","btn-sm","btn-light","page-form-btn"],["role","status",1,"spinner-grow","spinner-grow-sm"],[1,"visually-hidden"]],template:function(t,n){1&t&&(e.\u0275\u0275element(0,"app-module-topnav",0),e.\u0275\u0275elementStart(1,"div",1),e.\u0275\u0275elementStart(2,"div",2),e.\u0275\u0275elementStart(3,"div",3),e.\u0275\u0275elementStart(4,"form",4),e.\u0275\u0275listener("ngSubmit",function(){return n.updateTaskGroup()}),e.\u0275\u0275elementStart(5,"div",5),e.\u0275\u0275elementStart(6,"div",6),e.\u0275\u0275elementStart(7,"label",7),e.\u0275\u0275text(8,"Task Group Name :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"div",8),e.\u0275\u0275element(10,"input",9),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(11,Te,3,1,"div",10),e.\u0275\u0275template(12,ve,5,0,"div",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(13,"hr"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(14,"router-outlet"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(15,"app-connection-toast",null,11)),2&t&&(e.\u0275\u0275property("headings",n.navHeading)("showPrint",!0),e.\u0275\u0275advance(4),e.\u0275\u0275property("formGroup",n.taskGroupForm),e.\u0275\u0275advance(7),e.\u0275\u0275property("ngIf",!n.isTaskGroupLoading),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.isTaskGroupLoading))},directives:[f.H,o._Y,o.JL,o.sg,o.Fj,o.JJ,o.u,c.O5,p.lC,u.Y],styles:[""]}),a})(),canActivate:[(()=>{class a{constructor(t){this.router=t}canActivate(t){return!!sessionStorage.getItem("personal_task_group_id")||(this.router.navigateByUrl("/home/tasks"),!1)}}return a.\u0275fac=function(t){return new(t||a)(e.\u0275\u0275inject(p.F0))},a.\u0275prov=e.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()],children:[{path:"kanban-view",component:E},{path:"checklist-view",component:x}]},{path:"all-task-items",component:fe}]}];let Ce=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=e.\u0275\u0275defineInjector({imports:[[p.Bz.forChild(be)],p.Bz]}),a})();var Se=l(7264),w=l(5018);let we=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=e.\u0275\u0275defineInjector({imports:[[c.ez,p.Bz,o.u5,o.UX,T.m9,w.p]]}),a})(),Ge=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=e.\u0275\u0275defineInjector({imports:[[c.ez,Ce,Se.M,w.p,we]]}),a})()}}]);