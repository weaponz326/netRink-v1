"use strict";(self.webpackChunkang_fire=self.webpackChunkang_fire||[]).push([[198],{9198:(Ge,T,r)=>{r.r(T),r.d(T,{BudgetPageModule:()=>Ve});var c=r(6274),s=r(9202),e=r(2741),j=r(8088),O=r(7632);let J=(()=>{class o{constructor(){this.navLinks=[{text:"All Budgets",url:"/home/budget/all-budget",icon:"bi bi-list-ul"}]}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.\u0275\u0275defineComponent({type:o,selectors:[["app-budget-page"]],decls:6,vars:4,consts:[[3,"navBrand","source"],["id","wrapper"],[3,"navLinks","heading"],["id","content-wrapper",1,"d-flex","flex-column"],["id","content"]],template:function(t,n){1&t&&(e.\u0275\u0275element(0,"app-main-navbar",0),e.\u0275\u0275elementStart(1,"div",1),e.\u0275\u0275element(2,"app-module-sidenav",2),e.\u0275\u0275elementStart(3,"div",3),e.\u0275\u0275elementStart(4,"div",4),e.\u0275\u0275element(5,"router-outlet"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275property("navBrand","nR Personal")("source","Personal"),e.\u0275\u0275advance(2),e.\u0275\u0275property("navLinks",n.navLinks)("heading","Budget"))},directives:[j.D,O.m,s.lC],styles:[""]}),o})();var a=r(3324),S=r(756),m=r(1580),b=r(1886);const Y=["newButtonElementReference"],z=["dismissButtonElementReference"],H=["connectionToastComponentReference"];let D=(()=>{class o{constructor(t,n){this.router=t,this.budgetApi=n,this.budgetForm=new a.cw({}),this.isSavingBudget=!1}ngOnInit(){this.initBudgetForm()}openModal(){this.budgetForm.controls.budgetType.setValue("Monthly"),this.newButton.nativeElement.click()}initBudgetForm(){this.budgetForm=new a.cw({budgetName:new a.NI(""),budgetType:new a.NI("")})}createBudget(){this.isSavingBudget=!0;let t={created_at:(0,S.Bt)(),user:localStorage.getItem("personal_id"),budget_name:this.budgetForm.controls.budgetName.value,budget_type:this.budgetForm.controls.budgetType.value};console.log(t),this.budgetApi.createBudget(t).then(n=>{console.log(n),n.id&&(sessionStorage.setItem("personal_budget_id",n.id),this.router.navigateByUrl("/home/budget/view-budget"),this.dismissButton.nativeElement.click()),this.isSavingBudget=!1},n=>{console.log(n),this.isSavingBudget=!1,this.connectionToast.openToast()})}}return o.\u0275fac=function(t){return new(t||o)(e.\u0275\u0275directiveInject(s.F0),e.\u0275\u0275directiveInject(b._))},o.\u0275cmp=e.\u0275\u0275defineComponent({type:o,selectors:[["app-new-budget"]],viewQuery:function(t,n){if(1&t&&(e.\u0275\u0275viewQuery(Y,5,e.ElementRef),e.\u0275\u0275viewQuery(z,5,e.ElementRef),e.\u0275\u0275viewQuery(H,5,m.Y)),2&t){let i;e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(n.newButton=i.first),e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(n.dismissButton=i.first),e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(n.connectionToast=i.first)}},decls:40,vars:3,consts:[["data-bs-toggle","modal","data-bs-target","#newBudgetModal",3,"hidden"],["newButtonElementReference",""],["id","newBudgetModal","tabindex","-1","aria-labelledby","newBudgetModalLabel","aria-hidden","true",1,"modal","fade","form-modal"],[1,"modal-dialog"],[1,"modal-content"],[1,"page-form",3,"formGroup","ngSubmit"],[1,"modal-header","bg-light"],["id","newBudgetModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],["dismissButtonElementReference",""],[1,"modal-body"],[1,"row","mb-1"],[1,"col-md-4"],[1,"float-md-end","float-sm-start","mt-1"],[1,"col-md-8"],["formControlName","budgetName",1,"form-control","form-control-sm","w-100"],["formControlName","budgetType",1,"form-control","form-control-sm","w-100"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-secondary","modal-form-btn",3,"disabled"],["type","button","data-bs-dismiss","modal",1,"btn","btn-sm","btn-secondary","modal-form-btn"],["connectionToastComponentReference",""]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"button",0,1),e.\u0275\u0275text(2," Launch demo modal\n"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",2),e.\u0275\u0275elementStart(4,"div",3),e.\u0275\u0275elementStart(5,"div",4),e.\u0275\u0275elementStart(6,"form",5),e.\u0275\u0275listener("ngSubmit",function(){return n.createBudget()}),e.\u0275\u0275elementStart(7,"div",6),e.\u0275\u0275elementStart(8,"span",7),e.\u0275\u0275text(9,"Add New Budget"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(10,"button",8,9),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"div",10),e.\u0275\u0275elementStart(13,"div",11),e.\u0275\u0275elementStart(14,"div",12),e.\u0275\u0275elementStart(15,"label",13),e.\u0275\u0275text(16,"Budget Name :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"div",14),e.\u0275\u0275element(18,"input",15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"div",11),e.\u0275\u0275elementStart(20,"div",12),e.\u0275\u0275elementStart(21,"label",13),e.\u0275\u0275text(22,"Budget Type :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"div",14),e.\u0275\u0275elementStart(24,"select",16),e.\u0275\u0275elementStart(25,"option"),e.\u0275\u0275text(26,"Daily"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(27,"option"),e.\u0275\u0275text(28,"Weekly"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(29,"option"),e.\u0275\u0275text(30,"Monthly"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(31,"option"),e.\u0275\u0275text(32,"Quarterly"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(33,"div",17),e.\u0275\u0275elementStart(34,"button",18),e.\u0275\u0275text(35,"Save"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(36,"button",19),e.\u0275\u0275text(37,"Cancel"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(38,"app-connection-toast",null,20)),2&t&&(e.\u0275\u0275property("hidden",!0),e.\u0275\u0275advance(6),e.\u0275\u0275property("formGroup",n.budgetForm),e.\u0275\u0275advance(28),e.\u0275\u0275property("disabled",n.isSavingBudget))},directives:[a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,a.EJ,a.YN,a.Kr,m.Y],styles:[""]}),o})();var F=r(1921),U=r(6424);let A=(()=>{class o{constructor(t,n){this.pdfPrint=t,this.budgetApi=n}printAllBudget(){var t=this;return(0,F.Z)(function*(){const n=yield t.budgetApi.getAllUserBudget();var i=[["Budget Name","Budget Type"]];for(let _ of n.docs){var l=[];let f=_.data();l.push(f.budget_name),l.push(f.budget_type),i.push(l)}t.pdfPrint.openPdf([{layout:"lightHorizontalLines",table:{headerRows:1,widths:["60%","40%"],body:i}}])})()}printViewBudget(){var t=this;return(0,F.Z)(function*(){const n=t.budgetApi.getBudget(),i=t.budgetApi.getBudgetIncome(),l=t.budgetApi.getBudgetExpenditure(),[p,_,f]=yield Promise.all([n,i,l]);let L=p.data();var x=[["Item No.","Description","Amount"]];for(let g of _.docs){var u=[];let E=g.data();u.push(E.item_number),u.push(E.item_description),u.push(E.amount),x.push(u)}let I=0;for(let g of _.docs)I+=g.data().amount;x.push(["","",I.toString()]);var B=[["Item No.","Description","Amount"]];for(let g of f.docs){u=[];let C=g.data();u.push(C.item_number),u.push(C.item_description),u.push(C.amount),B.push(u)}let w=0;for(let g of f.docs)w+=g.data().amount;B.push(["","",w.toString()]),t.pdfPrint.openPdf([{columns:[[{text:"Budget Name: "+L.budget_name},{text:"Budget Type: "+L.budget_type}],[{text:"Income over Expenditure",bold:!0,alignment:"center"},{text:"$"+(I-w),bold:!0,alignment:"center"}]]},{columns:[[{text:"Income",bold:!0,margin:[0,20,0,10]},{layout:"lightHorizontalLines",table:{headerRows:1,body:x}}],[{text:"Expenditure",bold:!0,margin:[0,20,0,10]},{layout:"lightHorizontalLines",table:{headerRows:1,body:B}}]],columnGap:20}])})()}}return o.\u0275fac=function(t){return new(t||o)(e.\u0275\u0275inject(U.n),e.\u0275\u0275inject(b._))},o.\u0275prov=e.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var y=r(8972);const W=["newBudgetComponentReference"],$=["connectionToastComponentReference"];function q(o,d){if(1&o){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",31),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("budget_name","desc")}),e.\u0275\u0275elementEnd()}}function Z(o,d){if(1&o){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",32),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("budget_name","asc")}),e.\u0275\u0275elementEnd()}}function K(o,d){if(1&o){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",33),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("budget_name","desc")}),e.\u0275\u0275elementEnd()}}function X(o,d){if(1&o){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",31),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("budget_type","desc")}),e.\u0275\u0275elementEnd()}}function ee(o,d){if(1&o){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",32),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("budget_type","asc")}),e.\u0275\u0275elementEnd()}}function te(o,d){if(1&o){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",33),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("budget_type","desc")}),e.\u0275\u0275elementEnd()}}function ne(o,d){if(1&o){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tr",34),e.\u0275\u0275listener("dblclick",function(){const l=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275nextContext().viewBudget(null==l?null:l.id)}),e.\u0275\u0275elementStart(1,"td"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"td"),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()}if(2&o){const t=d.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(null==t?null:t.data().budget_name),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(null==t?null:t.data().budget_type)}}function oe(o,d){1&o&&(e.\u0275\u0275elementStart(0,"tr",35),e.\u0275\u0275elementStart(1,"td",19),e.\u0275\u0275elementStart(2,"div",36),e.\u0275\u0275elementStart(3,"span",37),e.\u0275\u0275text(4,"Loading..."),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd())}function ie(o,d){1&o&&(e.\u0275\u0275elementStart(0,"tr",35),e.\u0275\u0275elementStart(1,"td",19),e.\u0275\u0275elementStart(2,"p",38),e.\u0275\u0275text(3,"No data available"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd())}let ae=(()=>{class o{constructor(t,n,i){this.router=t,this.budgetApi=n,this.budgetPrint=i,this.navHeading=[{text:"All Budgets",url:"/home/budget/all-budget"}],this.budgetGridData=[],this.isFetchingGridData=!1,this.isDataAvailable=!0,this.firstInResponse=[],this.lastInResponse=[],this.prevStartAt=[],this.nextStartAfter=[],this.pageNumber=0,this.disableNext=!0,this.disablePrev=!0,this.sortParams={field:"created_at",direction:"desc"}}ngOnInit(){this.getUserBudget()}getUserBudget(){this.isFetchingGridData=!0,this.budgetApi.getUserBudget(this.sortParams,20).then(t=>{console.log(t),this.budgetGridData=t.docs,this.isFetchingGridData=!1,this.prevStartAt=this.firstInResponse,this.nextStartAfter=t.docs[t.docs.length-1],this.firstInResponse=t.docs[0],this.pageNumber=1,this.isDataAvailable=!!t.docs.length,!t.docs.length||t.docs.length<20?(this.disableNext=!0,this.disablePrev=!0):(this.disableNext=!1,this.disablePrev=!0)},t=>{console.log(t),this.isFetchingGridData=!1,this.connectionToast.openToast()})}nextPage(t){t.preventDefault(),this.isFetchingGridData=!0,this.budgetApi.getUserBudgetNext(this.sortParams,20,this.nextStartAfter).then(n=>{console.log(n),this.budgetGridData=n.docs,this.isFetchingGridData=!1,this.prevStartAt=this.firstInResponse,this.nextStartAfter=n.docs[n.docs.length-1],this.firstInResponse=n.docs[0],this.pageNumber++,n.docs.length<20&&(this.disableNext=!0,this.disablePrev=!1)},n=>{console.log(n),this.isFetchingGridData=!1,this.connectionToast.openToast()})}previousPage(t){t.preventDefault(),this.isFetchingGridData=!0,this.budgetApi.getUserBudgetPrev(this.sortParams,20,this.prevStartAt).then(n=>{console.log(n),this.budgetGridData=n.docs,this.isFetchingGridData=!1,this.prevStartAt=this.firstInResponse,this.nextStartAfter=n.docs[n.docs.length-1],this.firstInResponse=n.docs[0],this.pageNumber--,1==this.pageNumber&&(this.disableNext=!1,this.disablePrev=!0)},n=>{console.log(n),this.isFetchingGridData=!1,this.connectionToast.openToast()})}sortTable(t,n){this.sortParams.field=t,this.sortParams.direction=n,this.getUserBudget()}viewBudget(t){console.log(t),sessionStorage.setItem("personal_budget_id",t),this.router.navigateByUrl("/home/budget/view-budget")}onPrint(){console.log("lets start printing..."),this.budgetPrint.printAllBudget()}}return o.\u0275fac=function(t){return new(t||o)(e.\u0275\u0275directiveInject(s.F0),e.\u0275\u0275directiveInject(b._),e.\u0275\u0275directiveInject(A))},o.\u0275cmp=e.\u0275\u0275defineComponent({type:o,selectors:[["app-all-budget"]],viewQuery:function(t,n){if(1&t&&(e.\u0275\u0275viewQuery(W,5,D),e.\u0275\u0275viewQuery($,5,m.Y)),2&t){let i;e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(n.newBudget=i.first),e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(n.connectionToast=i.first)}},decls:46,vars:15,consts:[[3,"headings","showPrint","print"],[1,"container"],[1,"row"],[1,"col-md-7"],[1,"row","mb-3"],[1,"col-md-12"],[1,"btn","btn-secondary","page-add-btn",3,"click"],[1,"btn","btn-light","border","float-end","page-refresh-btn",3,"disabled","click"],[1,"bi","bi-arrow-clockwise"],[1,"overflow-auto"],[1,"table","table-bordered","table-sm","w-100","page-table"],[1,"bg-light"],["width","60%",1,"min-width-4"],["class","bi bi-filter float-end list-pointer",3,"click",4,"ngIf"],["class","bi bi-sort-down float-end list-pointer",3,"click",4,"ngIf"],["class","bi bi-sort-up float-end list-pointer",3,"click",4,"ngIf"],["width","40%",1,"min-width-2"],["class","table-pointer",3,"dblclick",4,"ngFor","ngForOf"],["class","text-center",4,"ngIf"],["colspan","2"],["aria-label","Page navigation",1,"nav-light","float-end"],[1,"pagination","pagination-sm","mb-0","justify-content-end"],[1,"page-item",3,"ngClass"],["href","#","aria-label","First",1,"page-link",3,"click"],[1,"bi","bi-caret-left-fill"],[1,"page-item"],["href","#","aria-label","Current",1,"page-link",3,"click"],["href","#","aria-label","Last",1,"page-link",3,"click"],[1,"bi","bi-caret-right-fill"],["newBudgetComponentReference",""],["connectionToastComponentReference",""],[1,"bi","bi-filter","float-end","list-pointer",3,"click"],[1,"bi","bi-sort-down","float-end","list-pointer",3,"click"],[1,"bi","bi-sort-up","float-end","list-pointer",3,"click"],[1,"table-pointer",3,"dblclick"],[1,"text-center"],["role","status",1,"spinner-grow","m-4"],[1,"visually-hidden"],[1,"m-4"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"app-module-topnav",0),e.\u0275\u0275listener("print",function(){return n.onPrint()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(1,"div",1),e.\u0275\u0275elementStart(2,"div",2),e.\u0275\u0275elementStart(3,"div",3),e.\u0275\u0275elementStart(4,"div",4),e.\u0275\u0275elementStart(5,"div",5),e.\u0275\u0275elementStart(6,"button",6),e.\u0275\u0275listener("click",function(){return n.newBudget.openModal()}),e.\u0275\u0275text(7,"New Budget"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"button",7),e.\u0275\u0275listener("click",function(){return n.getUserBudget()}),e.\u0275\u0275element(9,"i",8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"div",9),e.\u0275\u0275elementStart(11,"table",10),e.\u0275\u0275elementStart(12,"thead"),e.\u0275\u0275elementStart(13,"tr",11),e.\u0275\u0275elementStart(14,"th",12),e.\u0275\u0275text(15," Budget Name "),e.\u0275\u0275template(16,q,1,0,"i",13),e.\u0275\u0275template(17,Z,1,0,"i",14),e.\u0275\u0275template(18,K,1,0,"i",15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"th",16),e.\u0275\u0275text(20," Budget Type "),e.\u0275\u0275template(21,X,1,0,"i",13),e.\u0275\u0275template(22,ee,1,0,"i",14),e.\u0275\u0275template(23,te,1,0,"i",15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(24,"tbody"),e.\u0275\u0275template(25,ne,5,2,"tr",17),e.\u0275\u0275template(26,oe,5,0,"tr",18),e.\u0275\u0275template(27,ie,4,0,"tr",18),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(28,"tfoot"),e.\u0275\u0275elementStart(29,"tr",11),e.\u0275\u0275elementStart(30,"td",19),e.\u0275\u0275elementStart(31,"nav",20),e.\u0275\u0275elementStart(32,"ul",21),e.\u0275\u0275elementStart(33,"li",22),e.\u0275\u0275elementStart(34,"a",23),e.\u0275\u0275listener("click",function(l){return n.previousPage(l)}),e.\u0275\u0275element(35,"i",24),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(36,"li",25),e.\u0275\u0275elementStart(37,"a",26),e.\u0275\u0275listener("click",function(l){return l.preventDefault()}),e.\u0275\u0275text(38),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(39,"li",22),e.\u0275\u0275elementStart(40,"a",27),e.\u0275\u0275listener("click",function(l){return n.nextPage(l)}),e.\u0275\u0275element(41,"i",28),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(42,"app-new-budget",null,29),e.\u0275\u0275element(44,"app-connection-toast",null,30)),2&t&&(e.\u0275\u0275property("headings",n.navHeading)("showPrint",!0),e.\u0275\u0275advance(8),e.\u0275\u0275property("disabled",n.isFetchingGridData),e.\u0275\u0275advance(8),e.\u0275\u0275property("ngIf","budget_name"!=n.sortParams.field),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","budget_name"==n.sortParams.field&&"desc"==n.sortParams.direction),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","budget_name"==n.sortParams.field&&"asc"==n.sortParams.direction),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf","budget_type"!=n.sortParams.field),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","budget_type"==n.sortParams.field&&"desc"==n.sortParams.direction),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","budget_type"==n.sortParams.field&&"asc"==n.sortParams.direction),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",n.budgetGridData),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.isFetchingGridData),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!n.isDataAvailable&&!n.isFetchingGridData),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngClass",n.disablePrev?"disabled":""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",n.pageNumber," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",n.disableNext?"disabled":""))},directives:[y.H,c.O5,c.sg,c.mk,D,m.Y],styles:[""]}),o})();const de=["addButtonElementReference"],le=["dismissButtonElementReference"];let N=(()=>{class o{constructor(){this.saveIncomeEvent=new e.EventEmitter,this.addIncomeForm=new a.cw({}),this.isSaving=!1}ngOnInit(){this.initAddIncomeForm()}openModal(){this.addIncomeForm.controls.amount.setValue(0),this.addButton.nativeElement.click()}initAddIncomeForm(){this.addIncomeForm=new a.cw({itemNumber:new a.NI(""),itemDescription:new a.NI(""),amount:new a.NI(0)})}saveIncome(){let t={created_at:(0,S.Bt)(),item_number:this.addIncomeForm.controls.itemNumber.value,item_description:this.addIncomeForm.controls.itemDescription.value,amount:this.addIncomeForm.controls.amount.value,budget:{id:sessionStorage.getItem("personal_budget_id"),data:this.budgetData}};this.saveIncomeEvent.emit(t)}resetForm(){this.addIncomeForm.controls.itemNumber.setValue(""),this.addIncomeForm.controls.itemDescription.setValue(""),this.addIncomeForm.controls.amount.setValue("")}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.\u0275\u0275defineComponent({type:o,selectors:[["app-add-income"]],viewQuery:function(t,n){if(1&t&&(e.\u0275\u0275viewQuery(de,5,e.ElementRef),e.\u0275\u0275viewQuery(le,5,e.ElementRef)),2&t){let i;e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(n.addButton=i.first),e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(n.dismissButton=i.first)}},outputs:{saveIncomeEvent:"saveIncomeEvent"},decls:36,vars:3,consts:[["data-bs-toggle","modal","data-bs-target","#addIncomeModal",3,"hidden"],["addButtonElementReference",""],["id","addIncomeModal","tabindex","-1","aria-labelledby","addIncomeModalLabel","aria-hidden","true",1,"modal","fade","form-modal"],[1,"modal-dialog"],[1,"modal-content"],[1,"page-form",3,"formGroup","ngSubmit"],[1,"modal-header","bg-light"],["id","addIncomeModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],["dismissButtonElementReference",""],[1,"modal-body"],[1,"row","mb-1"],[1,"col-md-4"],[1,"float-md-end","float-sm-start","mt-1"],[1,"col-md-8"],["formControlName","itemNumber","type","number","min","1",1,"form-control","form-control-sm","w-100"],["formControlName","itemDescription",1,"form-control","form-control-sm","w-100"],["formControlName","amount","type","number","min","0","step",".01",1,"form-control","form-control-sm","w-100"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-secondary","modal-form-btn",3,"disabled"],["type","button","data-bs-dismiss","modal",1,"btn","btn-sm","btn-secondary","modal-form-btn"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"button",0,1),e.\u0275\u0275text(2," Launch demo modal\n"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",2),e.\u0275\u0275elementStart(4,"div",3),e.\u0275\u0275elementStart(5,"div",4),e.\u0275\u0275elementStart(6,"form",5),e.\u0275\u0275listener("ngSubmit",function(){return n.saveIncome()}),e.\u0275\u0275elementStart(7,"div",6),e.\u0275\u0275elementStart(8,"span",7),e.\u0275\u0275text(9,"Add Income"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(10,"button",8,9),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"div",10),e.\u0275\u0275elementStart(13,"div",11),e.\u0275\u0275elementStart(14,"div",12),e.\u0275\u0275elementStart(15,"label",13),e.\u0275\u0275text(16,"Item No. :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"div",14),e.\u0275\u0275element(18,"input",15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"div",11),e.\u0275\u0275elementStart(20,"div",12),e.\u0275\u0275elementStart(21,"label",13),e.\u0275\u0275text(22,"Item Description :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"div",14),e.\u0275\u0275element(24,"input",16),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(25,"div",11),e.\u0275\u0275elementStart(26,"div",12),e.\u0275\u0275elementStart(27,"label",13),e.\u0275\u0275text(28,"Amount :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(29,"div",14),e.\u0275\u0275element(30,"input",17),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(31,"div",18),e.\u0275\u0275elementStart(32,"button",19),e.\u0275\u0275text(33,"Save"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(34,"button",20),e.\u0275\u0275text(35,"Cancel"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275property("hidden",!0),e.\u0275\u0275advance(6),e.\u0275\u0275property("formGroup",n.addIncomeForm),e.\u0275\u0275advance(26),e.\u0275\u0275property("disabled",n.isSaving))},directives:[a._Y,a.JL,a.sg,a.Fj,a.wV,a.qQ,a.JJ,a.u],styles:[""]}),o})();const re=["editButtonElementReference"],me=["dismissButtonElementReference"];let R=(()=>{class o{constructor(){this.saveIncomeEvent=new e.EventEmitter,this.editIncomeForm=new a.cw({}),this.isSaving=!1}ngOnInit(){this.initeditIncomeForm()}openModal(t){this.incomeFormData=t,this.editIncomeForm.controls.itemNumber.setValue(this.incomeFormData.data().item_number),this.editIncomeForm.controls.itemDescription.setValue(this.incomeFormData.data().item_description),this.editIncomeForm.controls.amount.setValue(this.incomeFormData.data().amount),this.editButton.nativeElement.click()}initeditIncomeForm(){this.editIncomeForm=new a.cw({itemNumber:new a.NI,itemDescription:new a.NI(""),amount:new a.NI("")})}saveIncome(){let t={item_number:this.editIncomeForm.controls.itemNumber.value,item_description:this.editIncomeForm.controls.itemDescription.value,amount:this.editIncomeForm.controls.amount.value,budget:{id:sessionStorage.getItem("personal_budget_id"),data:this.budgetData}};this.saveIncomeEvent.emit({id:this.incomeFormData.id,data:t})}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.\u0275\u0275defineComponent({type:o,selectors:[["app-edit-income"]],viewQuery:function(t,n){if(1&t&&(e.\u0275\u0275viewQuery(re,5,e.ElementRef),e.\u0275\u0275viewQuery(me,5,e.ElementRef)),2&t){let i;e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(n.editButton=i.first),e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(n.dismissButton=i.first)}},outputs:{saveIncomeEvent:"saveIncomeEvent"},decls:36,vars:3,consts:[["data-bs-toggle","modal","data-bs-target","#editIncomeModal",3,"hidden"],["editButtonElementReference",""],["id","editIncomeModal","tabindex","-1","aria-labelledby","editIncomeModalLabel","aria-hidden","true",1,"modal","fade","form-modal"],[1,"modal-dialog"],[1,"modal-content"],[1,"page-form",3,"formGroup","ngSubmit"],[1,"modal-header","bg-light"],["id","editIncomeModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],["dismissButtonElementReference",""],[1,"modal-body"],[1,"row","mb-1"],[1,"col-md-4"],[1,"float-md-end","float-sm-start","mt-1"],[1,"col-md-8"],["formControlName","itemNumber","type","number","min","1",1,"form-control","form-control-sm","w-100"],["formControlName","itemDescription",1,"form-control","form-control-sm","w-100"],["formControlName","amount","type","number","min","0","step",".01",1,"form-control","form-control-sm","w-100"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-secondary","modal-form-btn",3,"disabled"],["type","button","data-bs-dismiss","modal",1,"btn","btn-sm","btn-secondary","modal-form-btn"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"button",0,1),e.\u0275\u0275text(2," Launch demo modal\n"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",2),e.\u0275\u0275elementStart(4,"div",3),e.\u0275\u0275elementStart(5,"div",4),e.\u0275\u0275elementStart(6,"form",5),e.\u0275\u0275listener("ngSubmit",function(){return n.saveIncome()}),e.\u0275\u0275elementStart(7,"div",6),e.\u0275\u0275elementStart(8,"span",7),e.\u0275\u0275text(9,"Edit Income"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(10,"button",8,9),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"div",10),e.\u0275\u0275elementStart(13,"div",11),e.\u0275\u0275elementStart(14,"div",12),e.\u0275\u0275elementStart(15,"label",13),e.\u0275\u0275text(16,"Item No. :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"div",14),e.\u0275\u0275element(18,"input",15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"div",11),e.\u0275\u0275elementStart(20,"div",12),e.\u0275\u0275elementStart(21,"label",13),e.\u0275\u0275text(22,"Item Description :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"div",14),e.\u0275\u0275element(24,"input",16),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(25,"div",11),e.\u0275\u0275elementStart(26,"div",12),e.\u0275\u0275elementStart(27,"label",13),e.\u0275\u0275text(28,"Amount :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(29,"div",14),e.\u0275\u0275element(30,"input",17),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(31,"div",18),e.\u0275\u0275elementStart(32,"button",19),e.\u0275\u0275text(33,"Save"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(34,"button",20),e.\u0275\u0275text(35,"Cancel"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275property("hidden",!0),e.\u0275\u0275advance(6),e.\u0275\u0275property("formGroup",n.editIncomeForm),e.\u0275\u0275advance(26),e.\u0275\u0275property("disabled",n.isSaving))},directives:[a._Y,a.JL,a.sg,a.Fj,a.wV,a.qQ,a.JJ,a.u],styles:[""]}),o})();const se=["addButtonElementReference"],ue=["dismissButtonElementReference"];let k=(()=>{class o{constructor(){this.saveExpenditureEvent=new e.EventEmitter,this.addExpenditureForm=new a.cw({}),this.isSaving=!1}ngOnInit(){this.initAddExpenditureForm()}openModal(){this.addExpenditureForm.controls.amount.setValue(0),this.addButton.nativeElement.click()}initAddExpenditureForm(){this.addExpenditureForm=new a.cw({itemNumber:new a.NI(""),itemDescription:new a.NI(""),amount:new a.NI(0)})}saveExpenditure(){let t={created_at:(0,S.Bt)(),item_number:this.addExpenditureForm.controls.itemNumber.value,item_description:this.addExpenditureForm.controls.itemDescription.value,amount:this.addExpenditureForm.controls.amount.value,budget:{id:sessionStorage.getItem("personal_budget_id"),data:this.budgetData}};this.saveExpenditureEvent.emit(t)}resetForm(){this.addExpenditureForm.controls.itemNumber.setValue(""),this.addExpenditureForm.controls.itemDescription.setValue(""),this.addExpenditureForm.controls.amount.setValue("")}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.\u0275\u0275defineComponent({type:o,selectors:[["app-add-expenditure"]],viewQuery:function(t,n){if(1&t&&(e.\u0275\u0275viewQuery(se,5,e.ElementRef),e.\u0275\u0275viewQuery(ue,5,e.ElementRef)),2&t){let i;e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(n.addButton=i.first),e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(n.dismissButton=i.first)}},outputs:{saveExpenditureEvent:"saveExpenditureEvent"},decls:36,vars:3,consts:[["data-bs-toggle","modal","data-bs-target","#addExpenditureModal",3,"hidden"],["addButtonElementReference",""],["id","addExpenditureModal","tabindex","-1","aria-labelledby","addExpenditureModalLabel","aria-hidden","true",1,"modal","fade","form-modal"],[1,"modal-dialog"],[1,"modal-content"],[1,"page-form",3,"formGroup","ngSubmit"],[1,"modal-header","bg-light"],["id","addExpenditureModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],["dismissButtonElementReference",""],[1,"modal-body"],[1,"row","mb-1"],[1,"col-md-4"],[1,"float-md-end","float-sm-start","mt-1"],[1,"col-md-8"],["formControlName","itemNumber","type","number","min","1",1,"form-control","form-control-sm","w-100"],["formControlName","itemDescription",1,"form-control","form-control-sm","w-100"],["formControlName","amount","type","number","min","0","step",".01",1,"form-control","form-control-sm","w-100"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-secondary","modal-form-btn",3,"disabled"],["type","button","data-bs-dismiss","modal",1,"btn","btn-sm","btn-secondary","modal-form-btn"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"button",0,1),e.\u0275\u0275text(2," Launch demo modal\n"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",2),e.\u0275\u0275elementStart(4,"div",3),e.\u0275\u0275elementStart(5,"div",4),e.\u0275\u0275elementStart(6,"form",5),e.\u0275\u0275listener("ngSubmit",function(){return n.saveExpenditure()}),e.\u0275\u0275elementStart(7,"div",6),e.\u0275\u0275elementStart(8,"span",7),e.\u0275\u0275text(9,"Add Expenditure"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(10,"button",8,9),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"div",10),e.\u0275\u0275elementStart(13,"div",11),e.\u0275\u0275elementStart(14,"div",12),e.\u0275\u0275elementStart(15,"label",13),e.\u0275\u0275text(16,"Item No. :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"div",14),e.\u0275\u0275element(18,"input",15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"div",11),e.\u0275\u0275elementStart(20,"div",12),e.\u0275\u0275elementStart(21,"label",13),e.\u0275\u0275text(22,"Item Description :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"div",14),e.\u0275\u0275element(24,"input",16),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(25,"div",11),e.\u0275\u0275elementStart(26,"div",12),e.\u0275\u0275elementStart(27,"label",13),e.\u0275\u0275text(28,"Amount :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(29,"div",14),e.\u0275\u0275element(30,"input",17),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(31,"div",18),e.\u0275\u0275elementStart(32,"button",19),e.\u0275\u0275text(33,"Save"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(34,"button",20),e.\u0275\u0275text(35,"Cancel"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275property("hidden",!0),e.\u0275\u0275advance(6),e.\u0275\u0275property("formGroup",n.addExpenditureForm),e.\u0275\u0275advance(26),e.\u0275\u0275property("disabled",n.isSaving))},directives:[a._Y,a.JL,a.sg,a.Fj,a.wV,a.qQ,a.JJ,a.u],styles:[""]}),o})();const ce=["editButtonElementReference"],pe=["dismissButtonElementReference"];let P=(()=>{class o{constructor(){this.saveExpenditureEvent=new e.EventEmitter,this.editExpenditureForm=new a.cw({}),this.isSaving=!1}ngOnInit(){this.initeditExpenditureForm()}openModal(t){this.expenditureFormData=t,this.editExpenditureForm.controls.itemNumber.setValue(this.expenditureFormData.data().item_number),this.editExpenditureForm.controls.itemDescription.setValue(this.expenditureFormData.data().item_description),this.editExpenditureForm.controls.amount.setValue(this.expenditureFormData.data().amount),this.editButton.nativeElement.click()}initeditExpenditureForm(){this.editExpenditureForm=new a.cw({itemNumber:new a.NI,itemDescription:new a.NI(""),amount:new a.NI("")})}saveExpenditure(){let t={item_number:this.editExpenditureForm.controls.itemNumber.value,item_description:this.editExpenditureForm.controls.itemDescription.value,amount:this.editExpenditureForm.controls.amount.value,budget:{id:sessionStorage.getItem("personal_budget_id"),data:this.budgetData}};this.saveExpenditureEvent.emit({id:this.expenditureFormData.id,data:t})}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.\u0275\u0275defineComponent({type:o,selectors:[["app-edit-expenditure"]],viewQuery:function(t,n){if(1&t&&(e.\u0275\u0275viewQuery(ce,5,e.ElementRef),e.\u0275\u0275viewQuery(pe,5,e.ElementRef)),2&t){let i;e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(n.editButton=i.first),e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(n.dismissButton=i.first)}},outputs:{saveExpenditureEvent:"saveExpenditureEvent"},decls:36,vars:3,consts:[["data-bs-toggle","modal","data-bs-target","#editExpenditureModal",3,"hidden"],["editButtonElementReference",""],["id","editExpenditureModal","tabindex","-1","aria-labelledby","editExpenditureModalLabel","aria-hidden","true",1,"modal","fade","form-modal"],[1,"modal-dialog"],[1,"modal-content"],[1,"page-form",3,"formGroup","ngSubmit"],[1,"modal-header","bg-light"],["id","editExpenditureModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],["dismissButtonElementReference",""],[1,"modal-body"],[1,"row","mb-1"],[1,"col-md-4"],[1,"float-md-end","float-sm-start","mt-1"],[1,"col-md-8"],["formControlName","itemNumber","type","number","min","1",1,"form-control","form-control-sm","w-100"],["formControlName","itemDescription",1,"form-control","form-control-sm","w-100"],["formControlName","amount","type","number","min","0","step",".01",1,"form-control","form-control-sm","w-100"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-secondary","modal-form-btn",3,"disabled"],["type","button","data-bs-dismiss","modal",1,"btn","btn-sm","btn-secondary","modal-form-btn"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"button",0,1),e.\u0275\u0275text(2," Launch demo modal\n"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",2),e.\u0275\u0275elementStart(4,"div",3),e.\u0275\u0275elementStart(5,"div",4),e.\u0275\u0275elementStart(6,"form",5),e.\u0275\u0275listener("ngSubmit",function(){return n.saveExpenditure()}),e.\u0275\u0275elementStart(7,"div",6),e.\u0275\u0275elementStart(8,"span",7),e.\u0275\u0275text(9,"Edit Expenditure"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(10,"button",8,9),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"div",10),e.\u0275\u0275elementStart(13,"div",11),e.\u0275\u0275elementStart(14,"div",12),e.\u0275\u0275elementStart(15,"label",13),e.\u0275\u0275text(16,"Item No. :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"div",14),e.\u0275\u0275element(18,"input",15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"div",11),e.\u0275\u0275elementStart(20,"div",12),e.\u0275\u0275elementStart(21,"label",13),e.\u0275\u0275text(22,"Item Description :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"div",14),e.\u0275\u0275element(24,"input",16),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(25,"div",11),e.\u0275\u0275elementStart(26,"div",12),e.\u0275\u0275elementStart(27,"label",13),e.\u0275\u0275text(28,"Amount :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(29,"div",14),e.\u0275\u0275element(30,"input",17),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(31,"div",18),e.\u0275\u0275elementStart(32,"button",19),e.\u0275\u0275text(33,"Save"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(34,"button",20),e.\u0275\u0275text(35,"Cancel"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275property("hidden",!0),e.\u0275\u0275advance(6),e.\u0275\u0275property("formGroup",n.editExpenditureForm),e.\u0275\u0275advance(26),e.\u0275\u0275property("disabled",n.isSaving))},directives:[a._Y,a.JL,a.sg,a.Fj,a.wV,a.qQ,a.JJ,a.u],styles:[""]}),o})();var v=r(8622);const ge=["addIncomeComponentReference"],be=["editIncomeComponentReference"],he=["addExpenditureComponentReference"],fe=["editExpenditureComponentReference"],Ee=["connectionToastComponentReference"],ve=["deleteModalComponentReference"];function _e(o,d){if(1&o){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tr"),e.\u0275\u0275elementStart(1,"td"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"td"),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"td"),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"td",27),e.\u0275\u0275elementStart(8,"button",28),e.\u0275\u0275listener("click",function(){const l=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275nextContext().openEditIncome(l)}),e.\u0275\u0275element(9,"i",29),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"button",30),e.\u0275\u0275listener("click",function(){const l=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275nextContext().confirmDelete("Income",l.id)}),e.\u0275\u0275element(11,"i",31),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()}if(2&o){const t=d.$implicit,n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(null==t?null:t.data().item_number),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(null==t?null:t.data().item_description),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(null==t?null:t.data().amount),e.\u0275\u0275advance(4),e.\u0275\u0275property("disabled",n.isIncomeDeleting)}}function Se(o,d){1&o&&(e.\u0275\u0275elementStart(0,"tr",32),e.\u0275\u0275elementStart(1,"td",33),e.\u0275\u0275elementStart(2,"div",34),e.\u0275\u0275elementStart(3,"span",35),e.\u0275\u0275text(4,"Loading..."),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd())}function ye(o,d){if(1&o){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tr"),e.\u0275\u0275elementStart(1,"td"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"td"),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"td"),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"td",27),e.\u0275\u0275elementStart(8,"button",28),e.\u0275\u0275listener("click",function(){const l=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275nextContext().openEditExpenditure(l)}),e.\u0275\u0275element(9,"i",29),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"button",30),e.\u0275\u0275listener("click",function(){const l=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275nextContext().confirmDelete("Expenditure",l.id)}),e.\u0275\u0275element(11,"i",31),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()}if(2&o){const t=d.$implicit,n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(null==t?null:t.data().item_number),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(null==t?null:t.data().item_description),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(null==t?null:t.data().amount),e.\u0275\u0275advance(4),e.\u0275\u0275property("disabled",n.isExpenditureDeleting)}}function xe(o,d){1&o&&(e.\u0275\u0275elementStart(0,"tr",32),e.\u0275\u0275elementStart(1,"td",33),e.\u0275\u0275elementStart(2,"div",34),e.\u0275\u0275elementStart(3,"span",35),e.\u0275\u0275text(4,"Loading..."),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd())}let Q=(()=>{class o{constructor(t){this.budgetApi=t,this.ioeEvent=new e.EventEmitter,this.incomeGridData=[],this.expenditureGridData=[],this.isFetchingIncomeGridData=!1,this.isFetchingExpenditureGridData=!1,this.isIncomeDeleting=!1,this.isExpenditureDeleting=!1,this.totalIncome=0,this.totalExpenditure=0,this.deleteType="",this.deleteId="",this.sortParams={field:"created_at",direction:"desc"}}ngOnInit(){this.getBudgetIncome(),this.getBudgetExpenditure()}calculateIoe(){let t=this.totalIncome-this.totalExpenditure;this.ioeEvent.emit(t),console.log(t)}calculateTotalIncome(){this.totalIncome=0;for(let t of this.incomeGridData)this.totalIncome+=t.data().amount;console.log(this.totalIncome),this.calculateIoe()}getBudgetIncome(){this.isFetchingIncomeGridData=!0,this.budgetApi.getBudgetIncome().then(t=>{console.log(t),this.incomeGridData=t.docs,this.isFetchingIncomeGridData=!1,this.calculateTotalIncome()},t=>{console.log(t),this.isFetchingIncomeGridData=!1,this.connectionToast.openToast()})}createIncome(t){console.log(t),this.addIncome.isSaving=!0,this.budgetApi.createIncome(t).then(n=>{console.log(n),this.addIncome.isSaving=!1,n.id&&(this.addIncome.dismissButton.nativeElement.click(),this.getBudgetIncome(),this.addIncome.resetForm())},n=>{console.log(n),this.addIncome.isSaving=!1,this.connectionToast.openToast()})}updateIncome(t){console.log(t),this.editIncome.isSaving=!0,this.budgetApi.updateIncome(t.id,t.data).then(n=>{console.log(n),this.editIncome.dismissButton.nativeElement.click(),this.editIncome.isSaving=!1,this.getBudgetIncome()},n=>{console.log(n),this.editIncome.isSaving=!1,this.connectionToast.openToast()})}deleteIncome(t){console.log(t),this.isIncomeDeleting=!0,this.budgetApi.deleteIncome(t).then(n=>{console.log(n),this.isIncomeDeleting=!1,this.getBudgetIncome()},n=>{console.log(n),this.isIncomeDeleting=!1,this.connectionToast.openToast()})}openEditIncome(t){console.log(t),this.editIncome.openModal(t)}calculateTotalExpenditure(){this.totalExpenditure=0;for(let t of this.expenditureGridData)this.totalExpenditure+=t.data().amount;console.log(this.totalExpenditure),this.calculateIoe()}getBudgetExpenditure(){this.isFetchingExpenditureGridData=!0,this.budgetApi.getBudgetExpenditure().then(t=>{console.log(t),this.expenditureGridData=t.docs,this.isFetchingExpenditureGridData=!1,this.calculateTotalExpenditure()},t=>{console.log(t),this.isFetchingExpenditureGridData=!1,this.connectionToast.openToast()})}createExpenditure(t){console.log(t),this.addExpenditure.isSaving=!0,this.budgetApi.createExpenditure(t).then(n=>{console.log(n),this.addExpenditure.isSaving=!1,n.id&&(this.addExpenditure.dismissButton.nativeElement.click(),this.getBudgetExpenditure(),this.addExpenditure.resetForm())},n=>{console.log(n),this.addExpenditure.isSaving=!1,this.connectionToast.openToast()})}updateExpenditure(t){console.log(t),this.editExpenditure.isSaving=!0,this.budgetApi.updateExpenditure(t.id,t.data).then(n=>{console.log(n),this.editExpenditure.dismissButton.nativeElement.click(),this.editExpenditure.isSaving=!1,this.getBudgetExpenditure()},n=>{console.log(n),this.editExpenditure.isSaving=!1,this.connectionToast.openToast()})}deleteExpenditure(t){console.log(t),this.isExpenditureDeleting=!0,this.budgetApi.deleteExpenditure(t).then(n=>{console.log(n),this.isExpenditureDeleting=!1,this.getBudgetExpenditure()},n=>{console.log(n),this.isExpenditureDeleting=!1,this.connectionToast.openToast()})}openEditExpenditure(t){console.log(t),this.editExpenditure.openModal(t)}confirmDelete(t,n){console.log(t),this.deleteType=t,this.deleteId=n,this.deleteModal.openModal()}deleteItem(){"Income"==this.deleteType?this.deleteIncome(this.deleteId):"Expenditure"==this.deleteType&&this.deleteExpenditure(this.deleteId)}}return o.\u0275fac=function(t){return new(t||o)(e.\u0275\u0275directiveInject(b._))},o.\u0275cmp=e.\u0275\u0275defineComponent({type:o,selectors:[["app-budget-tables"]],viewQuery:function(t,n){if(1&t&&(e.\u0275\u0275viewQuery(ge,5,N),e.\u0275\u0275viewQuery(be,5,R),e.\u0275\u0275viewQuery(he,5,k),e.\u0275\u0275viewQuery(fe,5,P),e.\u0275\u0275viewQuery(Ee,5,m.Y),e.\u0275\u0275viewQuery(ve,5,v.z)),2&t){let i;e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(n.addIncome=i.first),e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(n.editIncome=i.first),e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(n.addExpenditure=i.first),e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(n.editExpenditure=i.first),e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(n.connectionToast=i.first),e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(n.deleteModal=i.first)}},outputs:{ioeEvent:"ioeEvent"},decls:65,vars:6,consts:[[1,"row"],[1,"col-md-12"],[1,"top-divider"],[1,"bottom-divider"],[1,"col-md-6"],[1,"mb-3"],[1,"overflow-auto"],[1,"table","table-bordered","table-sm","w-100","page-table"],[1,"bg-light"],["width","10%",1,"min-width-1"],["width","55%",1,"min-width-3"],["width","20%",1,"min-width-2"],["width","15%",1,"p-0","min-width-2"],[1,"btn","btn-secondary","btn-sm","w-100",3,"click"],[1,"bi","bi-plus"],[4,"ngFor","ngForOf"],["class","text-center",4,"ngIf"],["colspan","2"],[3,"saveIncomeEvent"],["addIncomeComponentReference",""],["editIncomeComponentReference",""],[3,"saveExpenditureEvent"],["addExpenditureComponentReference",""],["editExpenditureComponentReference",""],["connectionToastComponentReference",""],[3,"confirmEvent"],["deleteModalComponentReference",""],[1,"p-0"],[1,"btn","btn-sm","border","w-50",3,"click"],[1,"bi","bi-pen"],[1,"btn","btn-sm","border","w-50",3,"disabled","click"],[1,"bi","bi-trash"],[1,"text-center"],["colspan","4"],["role","status",1,"spinner-grow","spinner-grow-sm","m-2"],[1,"visually-hidden"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275elementStart(1,"div",1),e.\u0275\u0275element(2,"hr",2),e.\u0275\u0275element(3,"hr",3),e.\u0275\u0275elementStart(4,"div",0),e.\u0275\u0275elementStart(5,"div",4),e.\u0275\u0275elementStart(6,"h4",5),e.\u0275\u0275text(7,"Income"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"div",6),e.\u0275\u0275elementStart(9,"table",7),e.\u0275\u0275elementStart(10,"thead"),e.\u0275\u0275elementStart(11,"tr",8),e.\u0275\u0275elementStart(12,"th",9),e.\u0275\u0275text(13,"No."),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"th",10),e.\u0275\u0275text(15,"Item"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"th",11),e.\u0275\u0275text(17,"Amount"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"th",12),e.\u0275\u0275elementStart(19,"button",13),e.\u0275\u0275listener("click",function(){return n.addIncome.openModal()}),e.\u0275\u0275element(20,"i",14),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"tbody"),e.\u0275\u0275template(22,_e,12,4,"tr",15),e.\u0275\u0275template(23,Se,5,0,"tr",16),e.\u0275\u0275elementStart(24,"tr",8),e.\u0275\u0275element(25,"td",17),e.\u0275\u0275elementStart(26,"td"),e.\u0275\u0275text(27),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(28,"td"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(29,"div",4),e.\u0275\u0275elementStart(30,"h4",5),e.\u0275\u0275text(31,"Expenditure"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(32,"div",6),e.\u0275\u0275elementStart(33,"table",7),e.\u0275\u0275elementStart(34,"thead"),e.\u0275\u0275elementStart(35,"tr",8),e.\u0275\u0275elementStart(36,"th",9),e.\u0275\u0275text(37,"No."),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(38,"th",10),e.\u0275\u0275text(39,"Item"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(40,"th",11),e.\u0275\u0275text(41,"Amount"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(42,"th",12),e.\u0275\u0275elementStart(43,"button",13),e.\u0275\u0275listener("click",function(){return n.addExpenditure.openModal()}),e.\u0275\u0275element(44,"i",14),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(45,"tbody"),e.\u0275\u0275template(46,ye,12,4,"tr",15),e.\u0275\u0275template(47,xe,5,0,"tr",16),e.\u0275\u0275elementStart(48,"tr",8),e.\u0275\u0275element(49,"td",17),e.\u0275\u0275elementStart(50,"td"),e.\u0275\u0275text(51),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(52,"td"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(53,"app-add-income",18,19),e.\u0275\u0275listener("saveIncomeEvent",function(l){return n.createIncome(l)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(55,"app-edit-income",18,20),e.\u0275\u0275listener("saveIncomeEvent",function(l){return n.updateIncome(l)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(57,"app-add-expenditure",21,22),e.\u0275\u0275listener("saveExpenditureEvent",function(l){return n.createExpenditure(l)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(59,"app-edit-expenditure",21,23),e.\u0275\u0275listener("saveExpenditureEvent",function(l){return n.updateExpenditure(l)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(61,"app-connection-toast",null,24),e.\u0275\u0275elementStart(63,"app-delete-modal",25,26),e.\u0275\u0275listener("confirmEvent",function(){return n.deleteItem()}),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275advance(22),e.\u0275\u0275property("ngForOf",n.incomeGridData),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.isFetchingIncomeGridData),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(n.totalIncome),e.\u0275\u0275advance(19),e.\u0275\u0275property("ngForOf",n.expenditureGridData),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.isFetchingExpenditureGridData),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(n.totalExpenditure))},directives:[c.sg,c.O5,N,R,k,P,m.Y,v.z],styles:[""]}),o})();const Ie=["budgetTablesComponentReference"],Be=["connectionToastComponentReference"],we=["deleteModalComponentReference"];function Ce(o,d){if(1&o){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",20),e.\u0275\u0275elementStart(1,"div",21),e.\u0275\u0275elementStart(2,"button",22),e.\u0275\u0275text(3,"Cancel"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"button",23),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().confirmDelete()}),e.\u0275\u0275text(5,"Delete"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"button",24),e.\u0275\u0275text(7,"Save"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()}if(2&o){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(4),e.\u0275\u0275property("disabled",t.isBudgetDeleting),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",t.isBudgetSaving)}}function Te(o,d){1&o&&(e.\u0275\u0275elementStart(0,"div",20),e.\u0275\u0275elementStart(1,"div",21),e.\u0275\u0275elementStart(2,"button",25),e.\u0275\u0275elementStart(3,"div",26),e.\u0275\u0275elementStart(4,"span",27),e.\u0275\u0275text(5,"Loading..."),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd())}let De=(()=>{class o{constructor(t,n,i){this.router=t,this.budgetApi=n,this.budgetPrint=i,this.navHeading=[{text:"All Budgets",url:"/home/budget/all-budget"},{text:"View Budget",url:"/home/budget/view-budget"}],this.budgetForm=new a.cw({}),this.ioe=0,this.isBudgetLoading=!1,this.isBudgetSaving=!1,this.isBudgetDeleting=!1}ngOnInit(){this.initBudgetForm(),this.getBudget()}initBudgetForm(){this.budgetForm=new a.cw({budgetName:new a.NI(""),budgetType:new a.NI("")})}getBudget(){this.isBudgetLoading=!0,this.budgetApi.getBudget().then(t=>{console.log(t),this.budgetFormData=t,this.budgetForm.controls.budgetName.setValue(this.budgetFormData.data().budget_name),this.budgetForm.controls.budgetType.setValue(this.budgetFormData.data().budget_type),this.budgetTables.addIncome.budgetData=this.budgetFormData.data(),this.budgetTables.editIncome.budgetData=this.budgetFormData.data(),this.budgetTables.addExpenditure.budgetData=this.budgetFormData.data(),this.budgetTables.editExpenditure.budgetData=this.budgetFormData.data(),this.isBudgetLoading=!1},t=>{console.log(t),this.isBudgetLoading=!1,this.connectionToast.openToast()})}updateBudget(){let t={budget_name:this.budgetForm.controls.budgetName.value,budget_type:this.budgetForm.controls.budgetType.value};console.log(t),this.isBudgetSaving=!0,this.budgetApi.updateBudget(t).then(n=>{console.log(n),this.isBudgetSaving=!1},n=>{console.log(n),this.connectionToast.openToast(),this.isBudgetSaving=!1})}confirmDelete(){this.deleteModal.openModal()}deleteBudget(){this.isBudgetDeleting=!0,console.log("deleting..."),this.budgetApi.deleteBudget().then(t=>{console.log(t),this.router.navigateByUrl("/home/budget/all-budget")},t=>{console.log(t),this.connectionToast.openToast(),this.isBudgetDeleting=!1})}onPrint(){console.log("lets start printing..."),this.budgetPrint.printViewBudget()}}return o.\u0275fac=function(t){return new(t||o)(e.\u0275\u0275directiveInject(s.F0),e.\u0275\u0275directiveInject(b._),e.\u0275\u0275directiveInject(A))},o.\u0275cmp=e.\u0275\u0275defineComponent({type:o,selectors:[["app-view-budget"]],viewQuery:function(t,n){if(1&t&&(e.\u0275\u0275viewQuery(Ie,5,Q),e.\u0275\u0275viewQuery(Be,5,m.Y),e.\u0275\u0275viewQuery(we,5,v.z)),2&t){let i;e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(n.budgetTables=i.first),e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(n.connectionToast=i.first),e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(n.deleteModal=i.first)}},decls:41,vars:6,consts:[[3,"headings","showPrint","print"],[1,"container"],[1,"row","page-form"],[1,"col-md-6"],[1,"page-form",3,"formGroup","ngSubmit"],[1,"mb-3"],[1,"row","mb-1"],[1,"col-md-4"],[1,"float-md-end","float-sm-start","mt-1"],[1,"col-md-8"],["formControlName","budgetName",1,"form-control","form-control-sm","w-100"],["formControlName","budgetType",1,"form-control","form-control-sm","w-100"],["class","row",4,"ngIf"],[1,"col-md-6","text-center"],[1,"h1"],[3,"ioeEvent"],["budgetTablesComponentReference",""],["connectionToastComponentReference",""],[3,"confirmEvent"],["deleteModalComponentReference",""],[1,"row"],[1,"col-md-12"],["type","button","routerLink","/home/budget/all-budget",1,"btn","btn-secondary","btn-sm","float-end","ms-1","page-form-btn"],["type","button",1,"btn","btn-secondary","btn-sm","float-end","ms-1","page-form-btn",3,"disabled","click"],["type","submit",1,"btn","btn-secondary","btn-sm","float-end","ms-1","page-form-btn",3,"disabled"],["type","button",1,"btn","btn-sm","float-end","ms-1","btn-light","page-form-btn"],["role","status",1,"spinner-grow","spinner-grow-sm"],[1,"visually-hidden"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"app-module-topnav",0),e.\u0275\u0275listener("print",function(){return n.onPrint()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(1,"div",1),e.\u0275\u0275elementStart(2,"div",2),e.\u0275\u0275elementStart(3,"div",3),e.\u0275\u0275elementStart(4,"form",4),e.\u0275\u0275listener("ngSubmit",function(){return n.updateBudget()}),e.\u0275\u0275elementStart(5,"h4",5),e.\u0275\u0275text(6,"Budget Details"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"div",6),e.\u0275\u0275elementStart(8,"div",7),e.\u0275\u0275elementStart(9,"label",8),e.\u0275\u0275text(10,"Budget Name :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"div",9),e.\u0275\u0275element(12,"input",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"div",6),e.\u0275\u0275elementStart(14,"div",7),e.\u0275\u0275elementStart(15,"label",8),e.\u0275\u0275text(16,"Budget Type :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"div",9),e.\u0275\u0275elementStart(18,"select",11),e.\u0275\u0275elementStart(19,"option"),e.\u0275\u0275text(20,"Daily"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"option"),e.\u0275\u0275text(22,"Weekly"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"option"),e.\u0275\u0275text(24,"Monthly"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(25,"option"),e.\u0275\u0275text(26,"Quarterly"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(27,"hr"),e.\u0275\u0275template(28,Ce,8,2,"div",12),e.\u0275\u0275template(29,Te,6,0,"div",12),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(30,"div",13),e.\u0275\u0275elementStart(31,"h4"),e.\u0275\u0275text(32,"Income over Expenditure :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(33,"p",14),e.\u0275\u0275text(34),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(35,"app-budget-tables",15,16),e.\u0275\u0275listener("ioeEvent",function(l){return n.ioe=l}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(37,"app-connection-toast",null,17),e.\u0275\u0275elementStart(39,"app-delete-modal",18,19),e.\u0275\u0275listener("confirmEvent",function(){return n.deleteBudget()}),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275property("headings",n.navHeading)("showPrint",!0),e.\u0275\u0275advance(4),e.\u0275\u0275property("formGroup",n.budgetForm),e.\u0275\u0275advance(24),e.\u0275\u0275property("ngIf",!n.isBudgetLoading),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.isBudgetLoading),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1("$ ",n.ioe,""))},directives:[y.H,a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,a.EJ,a.YN,a.Kr,c.O5,Q,m.Y,v.z,s.rH],styles:[""]}),o})();var Fe=r(8361),h=r.n(Fe),V=r(6508);const Ae=["connectionToastComponentReference"],Ne=function(){return{responsive:!0}};let M=(()=>{class o{constructor(t){this.budgetApi=t,this.navHeading=[{text:"Dashboard",url:"/home/budget/dashboard"}],this.monthBudgetCount=0,this.weekIncomeCount=0,this.weekExpenditureCount=0,this.weekIncomeData=[],this.weekExpenditureData=[],this.ieBarChartData=[{data:[0],label:"Income"},{data:[0],label:"Expendture"}],this.ieBarChartLabels=[""],this.iePieChartLabels=["Income","Expenditure"],this.iePieChartData=[0,0],this.chartOptions={},this.today=h()()}ngOnInit(){this.initChart(),this.getMonthBudget(),this.getWeekIncome(),this.getWeekExpenditure()}initChart(){this.chartOptions={responsive:!0,scales:{yAxes:[{min:0,ticks:{stepSize:1,beginAtZero:!0}}]}}}getMonthBudget(){this.budgetApi.getMonthBudget(h()(this.today).add(-7,"days").toDate(),this.today.toDate()).then(t=>{console.log(t),this.monthBudgetCount=t.docs.length},t=>{console.log(t),this.connectionToast.openToast()})}getWeekIncome(){this.budgetApi.getWeekIncome(h()(this.today).add(-7,"days").toDate(),this.today.toDate()).then(t=>{console.log(t),this.weekIncomeData=t.docs,this.weekIncomeCount=t.docs.length,this.iePieChartData[0]=t.docs.length},t=>{console.log(t),this.connectionToast.openToast()})}getWeekExpenditure(){this.budgetApi.getWeekExpenditure(h()(this.today).add(-1,"months").toDate(),this.today.toDate()).then(t=>{console.log(t),this.weekExpenditureData=t.docs,this.weekExpenditureCount=t.docs.length,this.iePieChartData[1]=t.docs.length},t=>{console.log(t),this.connectionToast.openToast()})}setIEBarChartLabels(t){this.ieBarChartLabels=[];for(let i=7;i>0;i--){var n=h()(this.today).add(-i,"days");this.ieBarChartLabels.push(n.toDate().toISOString().slice(0,10))}console.log(this.ieBarChartLabels)}}return o.\u0275fac=function(t){return new(t||o)(e.\u0275\u0275directiveInject(b._))},o.\u0275cmp=e.\u0275\u0275defineComponent({type:o,selectors:[["app-dashboard"]],viewQuery:function(t,n){if(1&t&&e.\u0275\u0275viewQuery(Ae,5,m.Y),2&t){let i;e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(n.connectionToast=i.first)}},decls:48,vars:15,consts:[[3,"headings"],[1,"container"],[1,"row"],[1,"col-md-3","mb-4"],[1,"card","border-left-secondary","shadow","h-100","py-2"],[1,"card-body"],[1,"row","no-gutters","align-items-center"],[1,"col","mr-2"],[1,"text-xs","font-weight-bold","text-uppercase","mb-1"],[1,"h5","mb-0","font-weight-bold","text-gray-800"],[1,"col-lg-8"],[1,"card","shadow","mb-4"],[1,"card-header","py-3","d-flex","flex-row","align-items-center","justify-content-between"],[1,"m-0","font-weight-bold"],[1,"chart-area"],["baseChart","",3,"datasets","labels","options","legend","chartType"],[1,"col-md-4"],["baseChart","",3,"data","labels","options","legend","chartType"],["connectionToastComponentReference",""]],template:function(t,n){1&t&&(e.\u0275\u0275element(0,"app-module-topnav",0),e.\u0275\u0275elementStart(1,"div",1),e.\u0275\u0275elementStart(2,"div",2),e.\u0275\u0275elementStart(3,"div",3),e.\u0275\u0275elementStart(4,"div",4),e.\u0275\u0275elementStart(5,"div",5),e.\u0275\u0275elementStart(6,"div",6),e.\u0275\u0275elementStart(7,"div",7),e.\u0275\u0275elementStart(8,"div",8),e.\u0275\u0275text(9,"Budgets this Month"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"div",9),e.\u0275\u0275text(11),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"div",3),e.\u0275\u0275elementStart(13,"div",4),e.\u0275\u0275elementStart(14,"div",5),e.\u0275\u0275elementStart(15,"div",6),e.\u0275\u0275elementStart(16,"div",7),e.\u0275\u0275elementStart(17,"div",8),e.\u0275\u0275text(18,"Income Items this Week"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"div",9),e.\u0275\u0275text(20),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"div",3),e.\u0275\u0275elementStart(22,"div",4),e.\u0275\u0275elementStart(23,"div",5),e.\u0275\u0275elementStart(24,"div",6),e.\u0275\u0275elementStart(25,"div",7),e.\u0275\u0275elementStart(26,"div",8),e.\u0275\u0275text(27,"Expenditure Items this Week"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(28,"div",9),e.\u0275\u0275text(29),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(30,"div",2),e.\u0275\u0275elementStart(31,"div",10),e.\u0275\u0275elementStart(32,"div",11),e.\u0275\u0275elementStart(33,"div",12),e.\u0275\u0275elementStart(34,"h6",13),e.\u0275\u0275text(35,"Income - Expenditure by Day"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(36,"div",5),e.\u0275\u0275elementStart(37,"div",14),e.\u0275\u0275element(38,"canvas",15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(39,"div",16),e.\u0275\u0275elementStart(40,"div",11),e.\u0275\u0275elementStart(41,"div",12),e.\u0275\u0275elementStart(42,"h6",13),e.\u0275\u0275text(43,"Income / Expenditure"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(44,"div",5),e.\u0275\u0275element(45,"canvas",17),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(46,"app-connection-toast",null,18)),2&t&&(e.\u0275\u0275property("headings",n.navHeading),e.\u0275\u0275advance(11),e.\u0275\u0275textInterpolate(n.monthBudgetCount),e.\u0275\u0275advance(9),e.\u0275\u0275textInterpolate(n.weekIncomeCount),e.\u0275\u0275advance(9),e.\u0275\u0275textInterpolate(n.weekExpenditureCount),e.\u0275\u0275advance(9),e.\u0275\u0275property("datasets",n.ieBarChartData)("labels",n.ieBarChartLabels)("options",n.chartOptions)("legend",!0)("chartType","line"),e.\u0275\u0275advance(7),e.\u0275\u0275property("data",n.iePieChartData)("labels",n.iePieChartLabels)("options",e.\u0275\u0275pureFunction0(14,Ne))("legend",!0)("chartType","pie"))},directives:[y.H,V.jh,m.Y],styles:[""]}),o})();const Re=[{path:"",component:J,children:[{path:"",component:M},{path:"dashboard",component:M},{path:"all-budget",component:ae},{path:"view-budget",component:De,canActivate:[(()=>{class o{constructor(t){this.router=t}canActivate(t){return!!sessionStorage.getItem("personal_budget_id")||(this.router.navigateByUrl("/home/budget"),!1)}}return o.\u0275fac=function(t){return new(t||o)(e.\u0275\u0275inject(s.F0))},o.\u0275prov=e.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o})()]}]}];let ke=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=e.\u0275\u0275defineInjector({imports:[[s.Bz.forChild(Re)],s.Bz]}),o})();var Pe=r(7264),G=r(5018);let Qe=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=e.\u0275\u0275defineInjector({imports:[[c.ez,s.Bz,a.u5,a.UX,V.m9,G.p]]}),o})(),Ve=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=e.\u0275\u0275defineInjector({imports:[[c.ez,ke,Pe.M,G.p,Qe]]}),o})()}}]);