"use strict";(self.webpackChunkang_fire=self.webpackChunkang_fire||[]).push([[589],{1589:(ki,xe,m)=>{m.r(xe),m.d(xe,{SettingsPageModule:()=>Ui});var R=m(6274),Q=m(9202),e=m(2741),Et=m(8088),Ct=m(7632);let It=(()=>{class n{constructor(){this.navLinks=[{text:"Profile",url:"/home/settings/profile",icon:"bi bi-person"},{text:"All Accounts",url:"/home/settings/all-accounts",icon:"bi bi-list-ul"}]}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-settings-page"]],decls:6,vars:4,consts:[[3,"navBrand","source"],["id","wrapper"],[3,"navLinks","heading"],["id","content-wrapper",1,"d-flex","flex-column"],["id","content"]],template:function(t,i){1&t&&(e.\u0275\u0275element(0,"app-main-navbar",0),e.\u0275\u0275elementStart(1,"div",1),e.\u0275\u0275element(2,"app-module-sidenav",2),e.\u0275\u0275elementStart(3,"div",3),e.\u0275\u0275elementStart(4,"div",4),e.\u0275\u0275element(5,"router-outlet"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275property("navBrand","nR Personal")("source","Personal"),e.\u0275\u0275advance(2),e.\u0275\u0275property("navLinks",i.navLinks)("heading","Settings"))},directives:[Et.D,Ct.m,Q.lC],styles:[""]}),n})();var B=m(4197),E=m(1580),N=m(867),te=m(8972),Ae=m(6508);const Rt=["connectionToastComponentReference"];let Pe=(()=>{class n{constructor(t){this.settingsApi=t,this.navHeading=[{text:"Dashboard",url:"/home/portal/dashboard"}],this.allAccounts=1,this.accountsData=[1,0,0,0,0,0,0,0,0],this.suiteUrls=[B.N.restaurantUrl,B.N.schoolUrl,B.N.enterpriseUrl,B.N.associationUrl,B.N.hospitalUrl,B.N.hotelUrl,B.N.shopUrl,B.N.productionUrl],this.chartOptions={responsive:!0,scales:{yAxes:[{min:0,ticks:{stepSize:1}}]}},this.accountsBarChartData=[{data:this.accountsData,label:"Accounts"}],this.accountsBarChartLabels=["Personal","Restaurant","School","Enterprise","Association","Hospital","Hotel","Shop","Restaurant"]}ngOnInit(){}ngAfterViewInit(){this.getSuiteAccounts()}getSuiteAccounts(){this.suiteUrls.forEach((t,i)=>{})}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(N.p))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-dashboard"]],viewQuery:function(t,i){if(1&t&&e.\u0275\u0275viewQuery(Rt,5,E.Y),2&t){let a;e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(i.connectionToast=a.first)}},decls:23,vars:7,consts:[[3,"headings"],[1,"container"],[1,"row"],[1,"col-md-3","mb-4"],[1,"card","border-left-secondary","shadow","h-100","py-2"],[1,"card-body"],[1,"row","no-gutters","align-items-center"],[1,"col","mr-2"],[1,"text-xs","font-weight-bold","text-uppercase","mb-1"],[1,"h5","mb-0","font-weight-bold","text-gray-800"],[1,"col-md-8"],[1,"card","shadow","mb-4"],[1,"card-header","py-3","d-flex","flex-row","align-items-center","justify-content-between"],[1,"m-0","font-weight-bold"],[1,"chart-area"],["baseChart","",3,"datasets","labels","options","legend","chartType"],["connectionToastComponentReference",""]],template:function(t,i){1&t&&(e.\u0275\u0275element(0,"app-module-topnav",0),e.\u0275\u0275elementStart(1,"div",1),e.\u0275\u0275elementStart(2,"div",2),e.\u0275\u0275elementStart(3,"div",3),e.\u0275\u0275elementStart(4,"div",4),e.\u0275\u0275elementStart(5,"div",5),e.\u0275\u0275elementStart(6,"div",6),e.\u0275\u0275elementStart(7,"div",7),e.\u0275\u0275elementStart(8,"div",8),e.\u0275\u0275text(9,"All Accounts"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"div",9),e.\u0275\u0275text(11),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"div",2),e.\u0275\u0275elementStart(13,"div",10),e.\u0275\u0275elementStart(14,"div",11),e.\u0275\u0275elementStart(15,"div",12),e.\u0275\u0275elementStart(16,"h6",13),e.\u0275\u0275text(17,"All netRink Accounts"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"div",5),e.\u0275\u0275elementStart(19,"div",14),e.\u0275\u0275element(20,"canvas",15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(21,"app-connection-toast",null,16)),2&t&&(e.\u0275\u0275property("headings",i.navHeading),e.\u0275\u0275advance(11),e.\u0275\u0275textInterpolate(i.allAccounts),e.\u0275\u0275advance(9),e.\u0275\u0275property("datasets",i.accountsBarChartData)("labels",i.accountsBarChartLabels)("options",i.chartOptions)("legend",!0)("chartType","bar"))},directives:[te.H,Ae.jh,E.Y],styles:[""]}),n})();var he=m(6491),V=m(9475),Tt=m(9805);let Ue=(()=>{class n{constructor(t){this.afs=t,this.personalUserSearchRef=this.afs.collection("personal/users/personal_user"),this.accountUserRef=this.afs.collection("restaurant/module_admin/restaurant_account_user"),this.userAccessRef=this.afs.collection("restaurant/module_admin/restaurant_user_access"),this.invitationRef=this.afs.collection("restaurant/module_admin/restaurant_invitation")}getSearchResult(t){return this.personalUserSearchRef.ref.where("last_name",">=",t).where("last_name","<",t+"z").get()}getSearchDetail(t){return this.personalUserSearchRef.doc(t).ref.get()}createAccountUser(t){return this.accountUserRef.add(t)}getAccountUser(){return this.accountUserRef.doc(String(sessionStorage.getItem("restaurant_account_user_id"))).ref.get()}updateAccountUser(t){return this.accountUserRef.doc(String(sessionStorage.getItem("restaurant_account_user_id"))).update(t)}deleteAccountUser(){return this.accountUserRef.doc(String(sessionStorage.getItem("restaurant_account_user_id"))).delete()}getAccountAccountUser(t){return this.accountUserRef.ref.where("account.id","==",String(localStorage.getItem("restaurant_id"))).orderBy(t.field,t.direction).get()}getUserAccountUser(){return this.accountUserRef.ref.where("user.id","==",String(localStorage.getItem("personal_id"))).get()}createUserAccess(t,i){return this.userAccessRef.doc(t).set(i)}getUserAccess(){return this.userAccessRef.doc(String(sessionStorage.getItem("restaurant_account_user_id"))).ref.get()}updateUserAccess(t){return this.userAccessRef.doc(String(sessionStorage.getItem("restaurant_account_user_id"))).update(t)}deleteUserAccess(){return this.userAccessRef.doc(String(sessionStorage.getItem("restaurant_account_user_id"))).delete()}createInvitation(t){return this.invitationRef.add(t)}getInvitation(t){return this.invitationRef.doc(t).ref.get()}updateInvitation(t,i){return this.invitationRef.doc(t).update(i)}deleteInvitation(t){return this.invitationRef.doc(t).delete()}getAccountInvitation(t,i){return this.invitationRef.ref.where("account","==",localStorage.getItem("restaurant_id")).orderBy(null==t?void 0:t.field,null==t?void 0:t.direction).limit(i).get()}getAccountInvitationNext(t,i,a){return this.invitationRef.ref.where("account","==",localStorage.getItem("restaurant_id")).orderBy(null==t?void 0:t.field,null==t?void 0:t.direction).startAfter(a).limit(i).get()}getAccountInvitationPrev(t,i,a){return this.invitationRef.ref.where("account","==",localStorage.getItem("restaurant_id")).orderBy(null==t?void 0:t.field,null==t?void 0:t.direction).startAt(a).limit(i).get()}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275inject(Tt.ST))},n.\u0275prov=e.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const xt=["connectionToastComponentReference"];function At(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"tr"),e.\u0275\u0275elementStart(1,"td"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"td"),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&n){const t=o.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.data().account.data.name),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.data().account.data.location)}}function Pt(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"div",7),e.\u0275\u0275elementStart(1,"h5",8),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"table",9),e.\u0275\u0275elementStart(4,"thead"),e.\u0275\u0275elementStart(5,"tr"),e.\u0275\u0275elementStart(6,"th",13),e.\u0275\u0275text(7,"Account Name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"th",14),e.\u0275\u0275text(9,"Location"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"tbody"),e.\u0275\u0275template(11,At,5,2,"tr",15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&n){const t=o.$implicit,i=o.index,a=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("",a.suiteNames[i]," Accounts"),e.\u0275\u0275advance(9),e.\u0275\u0275property("ngForOf",t)}}let Ut=(()=>{class n{constructor(t,i,a,r){this.authApi=t,this.userApi=i,this.settingsApi=a,this.restaurantAdminApi=r,this.navHeading=[{text:"All Accounts",url:"/home/profile/all-accounts"}],this.userEmail="",this.restaurantData=[],this.suiteData=[this.restaurantData],this.suiteNames=["Restaurant"]}ngOnInit(){}ngAfterViewInit(){this.getAuth(),this.getUser(),this.getRestaurantAccounts()}getAuth(){this.authApi.getAuth().subscribe(t=>{console.log(t),this.userEmail=t.email},t=>{console.log(t),this.connectionToast.openToast()})}getUser(){this.userApi.getUser().then(t=>{console.log(t),this.userData=t},t=>{console.log(t),this.connectionToast.openToast()})}getRestaurantAccounts(){this.restaurantAdminApi.getUserAccountUser().then(t=>{console.log(t),this.suiteData[0]=t.docs},t=>{console.log(t),this.connectionToast.openToast()})}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(he.Q),e.\u0275\u0275directiveInject(V.Q),e.\u0275\u0275directiveInject(N.p),e.\u0275\u0275directiveInject(Ue))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-all-accounts"]],viewQuery:function(t,i){if(1&t&&e.\u0275\u0275viewQuery(xt,5,E.Y),2&t){let a;e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(i.connectionToast=a.first)}},decls:28,vars:5,consts:[[3,"headings"],[1,"container"],[1,"row","mb-3"],[1,"col-md-9"],["routerLink","/home/settings/invitations",1,"btn","btn-secondary","float-end","nr-standard-font"],[1,"bi","bi-arrow-left-right","me-2"],[1,"row"],[1,"mb-5"],[1,"mb-2"],[1,"table","table-sm"],["width","50%","scope","col"],["class","mb-5",4,"ngFor","ngForOf"],["connectionToastComponentReference",""],["width","55%","scope","col"],["width","45%","scope","col"],[4,"ngFor","ngForOf"]],template:function(t,i){1&t&&(e.\u0275\u0275element(0,"app-module-topnav",0),e.\u0275\u0275elementStart(1,"div",1),e.\u0275\u0275elementStart(2,"div",2),e.\u0275\u0275elementStart(3,"div",3),e.\u0275\u0275elementStart(4,"button",4),e.\u0275\u0275element(5,"i",5),e.\u0275\u0275text(6," Invitations "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"div",6),e.\u0275\u0275elementStart(8,"div",3),e.\u0275\u0275elementStart(9,"div",7),e.\u0275\u0275elementStart(10,"h5",8),e.\u0275\u0275text(11,"Personal Account"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"table",9),e.\u0275\u0275elementStart(13,"thead"),e.\u0275\u0275elementStart(14,"tr"),e.\u0275\u0275elementStart(15,"th",10),e.\u0275\u0275text(16,"Name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"th",10),e.\u0275\u0275text(18,"Email"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"tbody"),e.\u0275\u0275elementStart(20,"tr"),e.\u0275\u0275elementStart(21,"td"),e.\u0275\u0275text(22),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"td"),e.\u0275\u0275text(24),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(25,Pt,12,2,"div",11),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(26,"app-connection-toast",null,12)),2&t&&(e.\u0275\u0275property("headings",i.navHeading),e.\u0275\u0275advance(22),e.\u0275\u0275textInterpolate2("",null==i.userData?null:i.userData.data().first_name," ",null==i.userData?null:i.userData.data().last_name,""),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(i.userEmail),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",i.suiteData))},directives:[te.H,Q.rH,R.sg,E.Y],styles:[""]}),n})();var d=m(3324);const kt=["connectionToastComponentReference"];function Dt(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"div",13),e.\u0275\u0275elementStart(1,"div",4),e.\u0275\u0275elementStart(2,"button",14),e.\u0275\u0275text(3,"Save"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",t.isUserSaving)}}function Ft(n,o){1&n&&(e.\u0275\u0275elementStart(0,"div",13),e.\u0275\u0275elementStart(1,"div",4),e.\u0275\u0275elementStart(2,"button",15),e.\u0275\u0275elementStart(3,"div",16),e.\u0275\u0275elementStart(4,"span",17),e.\u0275\u0275text(5,"Loading..."),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd())}let Lt=(()=>{class n{constructor(t){this.userApi=t,this.basicForm=new d.cw({}),this.isUserLoading=!1,this.isUserSaving=!1}ngOnInit(){this.initBasicForm()}initBasicForm(){this.basicForm=new d.cw({firstName:new d.NI(""),lastName:new d.NI(""),about:new d.NI("")})}updateUser(){this.isUserSaving=!0,this.userApi.updateUser({first_name:this.basicForm.controls.first_name.value,last_name:this.basicForm.controls.last_name.value,about:this.basicForm.controls.about.value}).then(i=>{console.log(i),this.isUserSaving=!1},i=>{console.log(i),this.isUserSaving=!1,this.connectionToast.openToast()})}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(V.Q))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-basic"]],viewQuery:function(t,i){if(1&t&&e.\u0275\u0275viewQuery(kt,5,E.Y),2&t){let a;e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(i.connectionToast=a.first)}},decls:27,vars:3,consts:[[1,"row","m-2","page-form"],[1,"col-md-6"],[1,"page-form",3,"formGroup","ngSubmit"],[1,"row","mb-3"],[1,"col-md-12"],[1,"row","mb-2"],[1,"col-md-4"],[1,"mt-1"],[1,"col-md-8"],["formControlName","firstName",1,"form-control","form-control-sm","w-100"],["formControlName","lastName",1,"form-control","form-control-sm","w-100"],["formControlName","about","rows","3",1,"form-control","form-control-sm","w-100"],["class","row mt-3",4,"ngIf"],[1,"row","mt-3"],["type","submit",1,"btn","btn-secondary","btn-sm","float-end","page-form-btn",3,"disabled"],["type","button",1,"btn","btn-sm","float-end","btn-light","page-form-btn"],["role","status",1,"spinner-grow","spinner-grow-sm"],[1,"visually-hidden"]],template:function(t,i){1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275elementStart(1,"div",1),e.\u0275\u0275elementStart(2,"form",2),e.\u0275\u0275listener("ngSubmit",function(){return i.updateUser()}),e.\u0275\u0275elementStart(3,"div",3),e.\u0275\u0275elementStart(4,"div",4),e.\u0275\u0275elementStart(5,"h5"),e.\u0275\u0275text(6,"Basic Profile"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"div",5),e.\u0275\u0275elementStart(8,"div",6),e.\u0275\u0275elementStart(9,"label",7),e.\u0275\u0275text(10,"First Name :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"div",8),e.\u0275\u0275element(12,"input",9),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"div",5),e.\u0275\u0275elementStart(14,"div",6),e.\u0275\u0275elementStart(15,"label",7),e.\u0275\u0275text(16,"Last Name :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"div",8),e.\u0275\u0275element(18,"input",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"div",5),e.\u0275\u0275elementStart(20,"div",6),e.\u0275\u0275elementStart(21,"label",7),e.\u0275\u0275text(22,"About :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"div",8),e.\u0275\u0275element(24,"textarea",11),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(25,Dt,4,1,"div",12),e.\u0275\u0275template(26,Ft,6,0,"div",12),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275advance(2),e.\u0275\u0275property("formGroup",i.basicForm),e.\u0275\u0275advance(23),e.\u0275\u0275property("ngIf",!i.isUserLoading),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.isUserLoading))},directives:[d._Y,d.JL,d.sg,d.Fj,d.JJ,d.u,R.O5],styles:[""]}),n})();var Mt=m(7813);let ke=(()=>{class n{constructor(){this.imgType="logo",this.height=120,this.width=120,this.imgSrc="",this.isImageSet=!1,this.isImageChanged=!1}ngOnInit(){this.setPlaceholderImage()}setPlaceholderImage(){this.imgSrc="","photo"==this.imgType?this.imgSrc="assets/images/utilities/photo-avatar.jpg":"logo"==this.imgType&&(this.imgSrc="assets/images/utilities/logo-placeholder.jpg")}onImageSelected(t){const i=t.target.files[0];if(i){var a=new FileReader;a.readAsDataURL(i),a.onload=r=>{this.imgSrc=r.target.result,this.image=i,this.isImageSet=!0,this.isImageSet=!0}}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-image-input"]],inputs:{imgType:"imgType",height:"height",width:"width"},decls:5,vars:8,consts:[["type","file","requiredFileType","image",1,"d-none",3,"hidden","change"],["imageInput",""],[1,"card","border","rounded","list-pointer",3,"click"],[1,"card-img-top"],[3,"src","width","height"]],template:function(t,i){if(1&t){const a=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"input",0,1),e.\u0275\u0275listener("change",function(s){return i.onImageSelected(s)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"div",2),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(a),e.\u0275\u0275reference(1).click()}),e.\u0275\u0275elementStart(3,"div",3),e.\u0275\u0275element(4,"img",4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()}2&t&&(e.\u0275\u0275property("hidden",!0),e.\u0275\u0275advance(2),e.\u0275\u0275styleProp("width",i.width,"px")("height",i.height,"px"),e.\u0275\u0275advance(2),e.\u0275\u0275property("src",i.imgSrc,e.\u0275\u0275sanitizeUrl)("width",i.width)("height",i.height))},styles:[""]}),n})();var Ot=m(3948),De=m(267),ne=m(2850),Bt=m(7299),Nt=m(8561),Fe=m(2812),X=m(8682),oe=m(9106),jt=m(6043),ie=m(1921),ae=m(4762),P=m(9870),Le=m(3552);const Me="firebasestorage.googleapis.com",Oe="storageBucket";class f extends P.ZR{constructor(o,t){super(pe(o),`Firebase Storage: ${t} (${pe(o)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,f.prototype)}_codeEquals(o){return pe(o)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(o){this.customData.serverResponse=o,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function pe(n){return"storage/"+n}function fe(){return new f("unknown","An unknown error occurred, please check the error payload for server response.")}function Be(){return new f("canceled","User canceled the upload/download.")}function Ne(){return new f("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function H(n){return new f("invalid-argument",n)}function je(){return new f("app-deleted","The Firebase app was deleted.")}function Ge(n){return new f("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function W(n,o){return new f("invalid-format","String does not match format '"+n+"': "+o)}function J(n){throw new f("internal-error","Internal error: "+n)}class y{constructor(o,t){this.bucket=o,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const o=encodeURIComponent;return"/b/"+o(this.bucket)+"/o/"+o(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(o,t){let i;try{i=y.makeFromUrl(o,t)}catch(a){return new y(o,"")}if(""===i.path)return i;throw new f("invalid-default-bucket","Invalid default bucket '"+o+"'.")}static makeFromUrl(o,t){let i=null;const a="([A-Za-z0-9.\\-_]+)",c=new RegExp("^gs://"+a+"(/(.*))?$","i");function u(S){S.path_=decodeURIComponent(S.path)}const g=t.replace(/[.]/g,"\\."),w=[{regex:c,indices:{bucket:1,path:3},postModify:function(S){"/"===S.path.charAt(S.path.length-1)&&(S.path_=S.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${g}/v[A-Za-z0-9_]+/b/${a}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:u},{regex:new RegExp(`^https?://${t===Me?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${a}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:u}];for(let S=0;S<w.length;S++){const z=w[S],Y=z.regex.exec(o);if(Y){let ee=Y[z.indices.path];ee||(ee=""),i=new y(Y[z.indices.bucket],ee),z.postModify(i);break}}if(null==i)throw new f("invalid-url","Invalid URL '"+o+"'.");return i}}class en{constructor(o){this.promise_=Promise.reject(o)}getPromise(){return this.promise_}cancel(o=!1){}}function re(n){return"string"==typeof n||n instanceof String}function Qe(n){return ge()&&n instanceof Blob}function ge(){return"undefined"!=typeof Blob}function _e(n,o,t,i){if(i<o)throw H(`Invalid value for '${n}'. Expected ${o} or greater.`);if(i>t)throw H(`Invalid value for '${n}'. Expected ${t} or less.`)}function F(n,o,t){let i=o;return null==t&&(i=`https://${o}`),`${t}://${i}/v0${n}`}function Ve(n){const o=encodeURIComponent;let t="?";for(const i in n)n.hasOwnProperty(i)&&(t=t+(o(i)+"=")+o(n[i])+"&");return t=t.slice(0,-1),t}var j=(()=>{return(n=j||(j={}))[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",j;var n})();class sn{constructor(o,t,i,a,r,s,c,l,u,h,g){this.url_=o,this.method_=t,this.headers_=i,this.body_=a,this.successCodes_=r,this.additionalRetryCodes_=s,this.callback_=c,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=h,this.connectionFactory_=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,v)=>{this.resolve_=p,this.reject_=v,this.start_()})}start_(){const t=(i,a)=>{const r=this.resolve_,s=this.reject_,c=a.connection;if(a.wasSuccessCode)try{const l=this.callback_(c,c.getResponse());void 0!==l?r(l):r()}catch(l){s(l)}else if(null!==c){const l=fe();l.serverResponse=c.getErrorText(),s(this.errorCallback_?this.errorCallback_(c,l):l)}else s(a.canceled?this.appDelete_?je():Be():new f("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))};this.canceled_?t(0,new se(!1,null,!0)):this.backoffId_=function(n,o,t){let i=1,a=null,r=null,s=!1,c=0;function l(){return 2===c}let u=!1;function h(..._){u||(u=!0,o.apply(null,_))}function g(_){a=setTimeout(()=>{a=null,n(v,l())},_)}function p(){r&&clearTimeout(r)}function v(_,...M){if(u)return void p();if(_)return p(),void h.call(null,_,...M);if(l()||s)return p(),void h.call(null,_,...M);let w;i<64&&(i*=2),1===c?(c=2,w=0):w=1e3*(i+Math.random()),g(w)}let b=!1;function x(_){b||(b=!0,p(),!u&&(null!==a?(_||(c=2),clearTimeout(a),g(0)):_||(c=1)))}return g(0),r=setTimeout(()=>{s=!0,x(!0)},t),x}((i,a)=>{if(a)return void i(!1,new se(!1,null,!0));const r=this.connectionFactory_();this.pendingConnection_=r;const s=c=>{null!==this.progressCallback_&&this.progressCallback_(c.loaded,c.lengthComputable?c.total:-1)};null!==this.progressCallback_&&r.addUploadProgressListener(s),r.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&r.removeUploadProgressListener(s),this.pendingConnection_=null;const c=r.getErrorCode()===j.NO_ERROR,l=r.getStatus();if(!c||this.isRetryStatusCode_(l)){const h=r.getErrorCode()===j.ABORT;return void i(!1,new se(!1,null,h))}const u=-1!==this.successCodes_.indexOf(l);i(!0,new se(u,r))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(o){this.canceled_=!0,this.appDelete_=o||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(o){const t=o>=500&&o<600,a=-1!==[408,429].indexOf(o),r=-1!==this.additionalRetryCodes_.indexOf(o);return t||a||r}}class se{constructor(o,t,i){this.wasSuccessCode=o,this.connection=t,this.canceled=!!i}}function pn(...n){const o="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==o){const t=new o;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}if(ge())return new Blob(n);throw new f("unsupported-environment","This browser doesn't seem to support creating Blobs")}const T={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ve{constructor(o,t){this.data=o,this.contentType=t||null}}function be(n,o){switch(n){case T.RAW:return new ve(He(o));case T.BASE64:case T.BASE64URL:return new ve(qe(n,o));case T.DATA_URL:return new ve(function(n){const o=new $e(n);return o.base64?qe(T.BASE64,o.rest):function(n){let o;try{o=decodeURIComponent(n)}catch(t){throw W(T.DATA_URL,"Malformed data URL.")}return He(o)}(o.rest)}(o),function(n){return new $e(n).contentType}(o))}throw fe()}function He(n){const o=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);i<=127?o.push(i):i<=2047?o.push(192|i>>6,128|63&i):55296==(64512&i)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++t),o.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):o.push(239,191,189):56320==(64512&i)?o.push(239,191,189):o.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(o)}function qe(n,o){switch(n){case T.BASE64:{const a=-1!==o.indexOf("-"),r=-1!==o.indexOf("_");if(a||r)throw W(n,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case T.BASE64URL:{const a=-1!==o.indexOf("+"),r=-1!==o.indexOf("/");if(a||r)throw W(n,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");o=o.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function(n){return atob(n)}(o)}catch(a){throw W(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i}class $e{constructor(o){this.base64=!1,this.contentType=null;const t=o.match(/^data:([^,]+)?,/);if(null===t)throw W(T.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;null!=i&&(this.base64=function(n,o){return n.length>=o.length&&n.substring(n.length-o.length)===o}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-";base64".length):i),this.rest=o.substring(o.indexOf(",")+1)}}class U{constructor(o,t){let i=0,a="";Qe(o)?(this.data_=o,i=o.size,a=o.type):o instanceof ArrayBuffer?(t?this.data_=new Uint8Array(o):(this.data_=new Uint8Array(o.byteLength),this.data_.set(new Uint8Array(o))),i=this.data_.length):o instanceof Uint8Array&&(t?this.data_=o:(this.data_=new Uint8Array(o.length),this.data_.set(o)),i=o.length),this.size_=i,this.type_=a}size(){return this.size_}type(){return this.type_}slice(o,t){if(Qe(this.data_)){const a=function(n,o,t){return n.webkitSlice?n.webkitSlice(o,t):n.mozSlice?n.mozSlice(o,t):n.slice?n.slice(o,t):null}(this.data_,o,t);return null===a?null:new U(a)}{const i=new Uint8Array(this.data_.buffer,o,t-o);return new U(i,!0)}}static getBlob(...o){if(ge()){const t=o.map(i=>i instanceof U?i.data_:i);return new U(pn.apply(null,t))}{const t=o.map(s=>re(s)?be(T.RAW,s).data:s.data_);let i=0;t.forEach(s=>{i+=s.byteLength});const a=new Uint8Array(i);let r=0;return t.forEach(s=>{for(let c=0;c<s.length;c++)a[r++]=s[c]}),new U(a,!0)}}uploadData(){return this.data_}}function Se(n){let o;try{o=JSON.parse(n)}catch(t){return null}return function(n){return"object"==typeof n&&!Array.isArray(n)}(o)?o:null}function ze(n){const o=n.lastIndexOf("/",n.length-2);return-1===o?n:n.slice(o+1)}function En(n,o){return o}class C{constructor(o,t,i,a){this.server=o,this.local=t||o,this.writable=!!i,this.xform=a||En}}let le=null;function K(){if(le)return le;const n=[];n.push(new C("bucket")),n.push(new C("generation")),n.push(new C("metageneration")),n.push(new C("name","fullPath",!0));const t=new C("name");t.xform=function(r,s){return function(n){return!re(n)||n.length<2?n:ze(n)}(s)},n.push(t);const a=new C("size");return a.xform=function(r,s){return void 0!==s?Number(s):s},n.push(a),n.push(new C("timeCreated")),n.push(new C("updated")),n.push(new C("md5Hash",null,!0)),n.push(new C("cacheControl",null,!0)),n.push(new C("contentDisposition",null,!0)),n.push(new C("contentEncoding",null,!0)),n.push(new C("contentLanguage",null,!0)),n.push(new C("contentType",null,!0)),n.push(new C("metadata","customMetadata",!0)),le=n,le}function Ye(n,o,t){const i=Se(o);return null===i?null:function(n,o,t){const i={type:"file"},a=t.length;for(let r=0;r<a;r++){const s=t[r];i[s.local]=s.xform(i,o[s.server])}return function(n,o){Object.defineProperty(n,"ref",{get:function(){const r=new y(n.bucket,n.fullPath);return o._makeStorageReference(r)}})}(i,n),i}(n,i,t)}function ye(n,o){const t={},i=o.length;for(let a=0;a<i;a++){const r=o[a];r.writable&&(t[r.server]=n[r.local])}return JSON.stringify(t)}const Xe="prefixes";class k{constructor(o,t,i,a){this.url=o,this.method=t,this.handler=i,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function D(n){if(!n)throw fe()}function ce(n,o){return function(i,a){const r=Ye(n,a,o);return D(null!==r),r}}function q(n){return function(t,i){let a;return a=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?new f("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new f("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?function(n){return new f("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function(n){return new f("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):i,a.serverResponse=i.serverResponse,a}}function Z(n){const o=q(n);return function(i,a){let r=o(i,a);return 404===i.getStatus()&&(r=function(n){return new f("object-not-found","Object '"+n+"' does not exist.")}(n.path)),r.serverResponse=a.serverResponse,r}}function Je(n,o,t){const a=F(o.fullServerUrl(),n.host,n._protocol),s=n.maxOperationRetryTime,c=new k(a,"GET",ce(n,t),s);return c.errorHandler=Z(o),c}function kn(n,o,t,i,a){const r={};r.prefix=o.isRoot?"":o.path+"/",t&&t.length>0&&(r.delimiter=t),i&&(r.pageToken=i),a&&(r.maxResults=a);const c=F(o.bucketOnlyServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,h=new k(c,"GET",function(n,o){return function(i,a){const r=function(n,o,t){const i=Se(t);return null===i?null:function(n,o,t){const i={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[Xe])for(const a of t[Xe]){const r=a.replace(/\/$/,""),s=n._makeStorageReference(new y(o,r));i.prefixes.push(s)}if(t.items)for(const a of t.items){const r=n._makeStorageReference(new y(o,a.name));i.items.push(r)}return i}(n,o,i)}(n,o,a);return D(null!==r),r}}(n,o.bucket),u);return h.urlParams=r,h.errorHandler=q(o),h}function Ze(n,o,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=o.size(),i.contentType||(i.contentType=function(n,o){return o&&o.type()||"application/octet-stream"}(0,o)),i}class de{constructor(o,t,i,a){this.current=o,this.total=t,this.finalized=!!i,this.metadata=a||null}}function we(n,o){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch(a){D(!1)}return D(!!t&&-1!==(o||["active"]).indexOf(t)),t}const jn={STATE_CHANGED:"state_changed"},I={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Ee(n){switch(n){case"running":case"pausing":case"canceling":return I.RUNNING;case"paused":return I.PAUSED;case"success":return I.SUCCESS;case"canceled":return I.CANCELED;case"error":default:return I.ERROR}}class Gn{constructor(o,t,i){if("function"==typeof o||null!=t||null!=i)this.next=o,this.error=null!=t?t:void 0,this.complete=null!=i?i:void 0;else{const r=o;this.next=r.next,this.error=r.error,this.complete=r.complete}}}function $(n){return(...o)=>{Promise.resolve().then(()=>n(...o))}}class Vn extends class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=j.NO_ERROR,this.sendPromise_=new Promise(o=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=j.ABORT,o()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=j.NETWORK_ERROR,o()}),this.xhr_.addEventListener("load",()=>{o()})})}send(o,t,i,a){if(this.sent_)throw J("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,o,!0),void 0!==a)for(const r in a)a.hasOwnProperty(r)&&this.xhr_.setRequestHeader(r,a[r].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw J("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw J("cannot .getStatus() before sending");try{return this.xhr_.status}catch(o){return-1}}getResponse(){if(!this.sent_)throw J("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw J("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(o){return this.xhr_.getResponseHeader(o)}addUploadProgressListener(o){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",o)}removeUploadProgressListener(o){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",o)}}{initXhr(){this.xhr_.responseType="text"}}function A(){return new Vn}class ot{constructor(o,t,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=o,this._blob=t,this._metadata=i,this._mappings=K(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=a=>{this._request=void 0,this._chunkMultiplier=1,a._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=a,this._transition("error"))},this._metadataErrorHandler=a=>{this._request=void 0,a._codeEquals("canceled")?this.completeTransitions_():(this._error=a,this._transition("error"))},this._promise=new Promise((a,r)=>{this._resolve=a,this._reject=r,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const o=this._transferred;return t=>this._updateProgress(o+t)}_shouldDoResumable(o){return o.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(o){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,i])=>{switch(this._state){case"running":o(t,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((o,t)=>{const i=function(n,o,t,i,a){const r=o.bucketOnlyServerUrl(),s=Ze(o,i,a),c={name:s.fullPath},l=F(r,n.host,n._protocol),h={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},g=ye(s,t),b=new k(l,"POST",function(x){let _;we(x);try{_=x.getResponseHeader("X-Goog-Upload-URL")}catch(M){D(!1)}return D(re(_)),_},n.maxUploadRetryTime);return b.urlParams=c,b.headers=h,b.body=g,b.errorHandler=q(o),b}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(i,A,o,t);this._request=a,a.getPromise().then(r=>{this._request=void 0,this._uploadUrl=r,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const o=this._uploadUrl;this._resolveToken((t,i)=>{const a=function(n,o,t,i){const l=new k(t,"POST",function(u){const h=we(u,["active","final"]);let g=null;try{g=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch(v){D(!1)}g||D(!1);const p=Number(g);return D(!isNaN(p)),new de(p,i.size(),"final"===h)},n.maxUploadRetryTime);return l.headers={"X-Goog-Upload-Command":"query"},l.errorHandler=q(o),l}(this._ref.storage,this._ref._location,o,this._blob),r=this._ref.storage._makeRequest(a,A,t,i);this._request=r,r.getPromise().then(s=>{s=s,this._request=void 0,this._updateProgress(s.current),this._needToFetchStatus=!1,s.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const o=262144*this._chunkMultiplier,t=new de(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((a,r)=>{let s;try{s=function(n,o,t,i,a,r,s,c){const l=new de(0,0);if(s?(l.current=s.current,l.total=s.total):(l.current=0,l.total=i.size()),i.size()!==l.total)throw new f("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");const u=l.total-l.current;let h=u;a>0&&(h=Math.min(h,a));const g=l.current,b={"X-Goog-Upload-Command":h===u?"upload, finalize":"upload","X-Goog-Upload-Offset":`${l.current}`},x=i.slice(g,g+h);if(null===x)throw Ne();const w=new k(t,"POST",function(S,z){const Y=we(S,["active","final"]),Re=l.current+h,ee=i.size();let Te;return Te="final"===Y?ce(o,r)(S,z):null,new de(Re,ee,"final"===Y,Te)},o.maxUploadRetryTime);return w.headers=b,w.body=x.uploadData(),w.progressCallback=c||null,w.errorHandler=q(n),w}(this._ref._location,this._ref.storage,i,this._blob,o,this._mappings,t,this._makeProgressCallback())}catch(l){return this._error=l,void this._transition("error")}const c=this._ref.storage._makeRequest(s,A,a,r);this._request=c,c.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((o,t)=>{const i=Je(this._ref.storage,this._ref._location,this._mappings),a=this._ref.storage._makeRequest(i,A,o,t);this._request=a,a.getPromise().then(r=>{this._request=void 0,this._metadata=r,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((o,t)=>{const i=function(n,o,t,i,a){const r=o.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},l=function(){let w="";for(let S=0;S<2;S++)w+=Math.random().toString().slice(2);return w}();s["Content-Type"]="multipart/related; boundary="+l;const u=Ze(o,i,a),h=ye(u,t),v=U.getBlob("--"+l+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+h+"\r\n--"+l+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",i,"\r\n--"+l+"--");if(null===v)throw Ne();const b={name:u.fullPath},x=F(r,n.host,n._protocol),M=n.maxUploadRetryTime,O=new k(x,"POST",ce(n,t),M);return O.urlParams=b,O.headers=s,O.body=v.uploadData(),O.errorHandler=q(o),O}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(i,A,o,t);this._request=a,a.getPromise().then(r=>{this._request=void 0,this._metadata=r,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(o){const t=this._transferred;this._transferred=o,this._transferred!==t&&this._notifyObservers()}_transition(o){if(this._state!==o)switch(o){case"canceling":case"pausing":this._state=o,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=o,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=o,this._notifyObservers();break;case"canceled":this._error=Be(),this._state=o,this._notifyObservers();break;case"error":case"success":this._state=o,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const o=Ee(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:o,metadata:this._metadata,task:this,ref:this._ref}}on(o,t,i,a){const r=new Gn(t||void 0,i||void 0,a||void 0);return this._addObserver(r),()=>{this._removeObserver(r)}}then(o,t){return this._promise.then(o,t)}catch(o){return this.then(null,o)}_addObserver(o){this._observers.push(o),this._notifyObserver(o)}_removeObserver(o){const t=this._observers.indexOf(o);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let o=!0;switch(Ee(this._state)){case I.SUCCESS:$(this._resolve.bind(null,this.snapshot))();break;case I.CANCELED:case I.ERROR:$(this._reject.bind(null,this._error))();break;default:o=!1}o&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(o){switch(Ee(this._state)){case I.RUNNING:case I.PAUSED:o.next&&$(o.next.bind(o,this.snapshot))();break;case I.SUCCESS:o.complete&&$(o.complete.bind(o))();break;case I.CANCELED:case I.ERROR:o.error&&$(o.error.bind(o,this._error))();break;default:o.error&&$(o.error.bind(o,this._error))()}}resume(){const o="paused"===this._state||"pausing"===this._state;return o&&this._transition("running"),o}pause(){const o="running"===this._state;return o&&this._transition("pausing"),o}cancel(){const o="running"===this._state||"pausing"===this._state;return o&&this._transition("canceling"),o}}class G{constructor(o,t){this._service=o,this._location=t instanceof y?t:y.makeFromUrl(t,o.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(o,t){return new G(o,t)}get root(){const o=new y(this._location.bucket,"");return this._newRef(this._service,o)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ze(this._location.path)}get storage(){return this._service}get parent(){const o=function(n){if(0===n.length)return null;const o=n.lastIndexOf("/");return-1===o?"":n.slice(0,o)}(this._location.path);if(null===o)return null;const t=new y(this._location.bucket,o);return new G(this._service,t)}_throwIfRoot(o){if(""===this._location.path)throw Ge(o)}}function at(n,o,t){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,ie.Z)(function*(n,o,t){const a=yield rt(n,{pageToken:t});o.prefixes.push(...a.prefixes),o.items.push(...a.items),null!=a.nextPageToken&&(yield at(n,o,a.nextPageToken))})).apply(this,arguments)}function rt(n,o){null!=o&&"number"==typeof o.maxResults&&_e("options.maxResults",1,1e3,o.maxResults);const t=o||{},i=kn(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(i,A)}function to(n){n._throwIfRoot("getDownloadURL");const o=function(n,o,t){const a=F(o.fullServerUrl(),n.host,n._protocol),s=n.maxOperationRetryTime,c=new k(a,"GET",function(n,o){return function(i,a){const r=Ye(n,a,o);return D(null!==r),function(n,o,t,i){const a=Se(o);if(null===a||!re(a.downloadTokens))return null;const r=a.downloadTokens;if(0===r.length)return null;const s=encodeURIComponent;return r.split(",").map(u=>{const g=n.fullPath;return F("/b/"+s(n.bucket)+"/o/"+s(g),t,i)+Ve({alt:"media",token:u})})[0]}(r,a,n.host,n._protocol)}}(n,t),s);return c.errorHandler=Z(o),c}(n.storage,n._location,K());return n.storage.makeRequestWithTokens(o,A).then(t=>{if(null===t)throw new f("no-download-url","The given file does not have any download URLs.");return t})}function st(n,o){const t=function(n,o){const t=o.split("/").filter(i=>i.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,o),i=new y(n._location.bucket,t);return new G(n.storage,i)}function lt(n,o){if(n instanceof Ie){const t=n;if(null==t._bucket)throw new f("no-default-bucket","No default bucket found. Did you set the '"+Oe+"' property when initializing the app?");const i=new G(t,t._bucket);return null!=o?lt(i,o):i}return void 0!==o?st(n,o):n}function ao(n,o){if(o&&function(n){return/^[A-Za-z]+:\/\//.test(n)}(o)){if(n instanceof Ie)return function(n,o){return new G(n,o)}(n,o);throw H("To use ref(service, url), the first argument must be a Storage instance.")}return lt(n,o)}function ct(n,o){const t=null==o?void 0:o[Oe];return null==t?null:y.makeFromBucketSpec(t,n)}class Ie{constructor(o,t,i,a,r){this.app=o,this._authProvider=t,this._appCheckProvider=i,this._url=a,this._firebaseVersion=r,this._bucket=null,this._host=Me,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=a?y.makeFromBucketSpec(a,this._host):ct(this._host,this.app.options)}get host(){return this._host}set host(o){this._host=o,this._bucket=null!=this._url?y.makeFromBucketSpec(this._url,o):ct(o,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(o){_e("time",0,Number.POSITIVE_INFINITY,o),this._maxUploadRetryTime=o}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(o){_e("time",0,Number.POSITIVE_INFINITY,o),this._maxOperationRetryTime=o}_getAuthToken(){var o=this;return(0,ie.Z)(function*(){if(o._overrideAuthToken)return o._overrideAuthToken;const t=o._authProvider.getImmediate({optional:!0});if(t){const i=yield t.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var o=this;return(0,ie.Z)(function*(){const t=o._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(o=>o.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(o){return new G(this,o)}_makeRequest(o,t,i,a){if(this._deleted)return new en(je());{const r=function(n,o,t,i,a,r){const s=Ve(n.urlParams),c=n.url+s,l=Object.assign({},n.headers);return function(n,o){o&&(n["X-Firebase-GMPID"]=o)}(l,o),function(n,o){null!==o&&o.length>0&&(n.Authorization="Firebase "+o)}(l,t),function(n,o){n["X-Firebase-Storage-Version"]="webjs/"+(null!=o?o:"AppManager")}(l,r),function(n,o){null!==o&&(n["X-Firebase-AppCheck"]=o)}(l,i),new sn(c,n.method,l,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a)}(o,this._appId,i,a,t,this._firebaseVersion);return this._requests.add(r),r.getPromise().then(()=>this._requests.delete(r),()=>this._requests.delete(r)),r}}makeRequestWithTokens(o,t){var i=this;return(0,ie.Z)(function*(){const[a,r]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(o,t,a,r).getPromise()})()}}const dt="@firebase/storage";function ht(n,o){return ao(n=(0,P.m9)(n),o)}(0,ae._registerComponent)(new Le.wA("storage",function(n,{instanceIdentifier:o}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new Ie(t,i,a,o,ae.SDK_VERSION)},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(dt,"0.9.2",""),(0,ae.registerVersion)(dt,"0.9.2","esm2017");class ue{constructor(o,t,i){this._delegate=o,this.task=t,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class pt{constructor(o,t){this._delegate=o,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new ue(this._delegate.snapshot,this,this._ref)}then(o,t){return this._delegate.then(i=>{if(o)return o(new ue(i,this,this._ref))},t)}on(o,t,i,a){let r;return t&&(r="function"==typeof t?s=>t(new ue(s,this,this._ref)):{next:t.next?s=>t.next(new ue(s,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(o,r,i||void 0,a||void 0)}}class ft{constructor(o,t){this._delegate=o,this._service=t}get prefixes(){return this._delegate.prefixes.map(o=>new L(o,this._service))}get items(){return this._delegate.items.map(o=>new L(o,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class L{constructor(o,t){this._delegate=o,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(o){const t=function(n,o){return st(n,o)}(this._delegate,o);return new L(t,this.storage)}get root(){return new L(this._delegate.root,this.storage)}get parent(){const o=this._delegate.parent;return null==o?null:new L(o,this.storage)}put(o,t){return this._throwIfRoot("put"),new pt(function(n,o,t){return function(n,o,t){return n._throwIfRoot("uploadBytesResumable"),new ot(n,new U(o),t)}(n=(0,P.m9)(n),o,t)}(this._delegate,o,t),this)}putString(o,t=T.RAW,i){this._throwIfRoot("putString");const a=be(t,o),r=Object.assign({},i);return null==r.contentType&&null!=a.contentType&&(r.contentType=a.contentType),new pt(new ot(this._delegate,new U(a.data,!0),r),this)}listAll(){return(n=this._delegate,function(n){const o={prefixes:[],items:[]};return at(n,o).then(()=>o)}(n=(0,P.m9)(n))).then(o=>new ft(o,this.storage));var n}list(o){return function(n,o){return rt(n=(0,P.m9)(n),o)}(this._delegate,o||void 0).then(t=>new ft(t,this.storage))}getMetadata(){return function(n){n._throwIfRoot("getMetadata");const o=Je(n.storage,n._location,K());return n.storage.makeRequestWithTokens(o,A)}((0,P.m9)(this._delegate))}updateMetadata(o){return function(n,o){return function(n,o){n._throwIfRoot("updateMetadata");const t=function(n,o,t,i){const r=F(o.fullServerUrl(),n.host,n._protocol),c=ye(t,i),u=n.maxOperationRetryTime,h=new k(r,"PATCH",ce(n,i),u);return h.headers={"Content-Type":"application/json; charset=utf-8"},h.body=c,h.errorHandler=Z(o),h}(n.storage,n._location,o,K());return n.storage.makeRequestWithTokens(t,A)}(n=(0,P.m9)(n),o)}(this._delegate,o)}getDownloadURL(){return to((0,P.m9)(this._delegate))}delete(){return this._throwIfRoot("delete"),function(n){n._throwIfRoot("deleteObject");const o=function(n,o){const i=F(o.fullServerUrl(),n.host,n._protocol),c=new k(i,"DELETE",function(l,u){},n.maxOperationRetryTime);return c.successCodes=[200,204],c.errorHandler=Z(o),c}(n.storage,n._location);return n.storage.makeRequestWithTokens(o,A)}((0,P.m9)(this._delegate))}_throwIfRoot(o){if(""===this._delegate._location.path)throw Ge(o)}}class gt{constructor(o,t){this.app=o,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(o){if(_t(o))throw H("ref() expected a child path but got a URL, use refFromURL instead.");return new L(ht(this._delegate,o),this)}refFromURL(o){if(!_t(o))throw H("refFromURL() expected a full URL but got a child path, use ref() instead.");try{y.makeFromUrl(o,this._delegate.host)}catch(t){throw H("refFromUrl() expected a valid full URL but got an invalid one.")}return new L(ht(this._delegate,o),this)}setMaxUploadRetryTime(o){this._delegate.maxUploadRetryTime=o}setMaxOperationRetryTime(o){this._delegate.maxOperationRetryTime=o}useEmulator(o,t,i={}){!function(n,o,t,i={}){!function(n,o,t,i={}){n.host=`${o}:${t}`,n._protocol="http";const{mockUserToken:a}=i;a&&(n._overrideAuthToken="string"==typeof a?a:(0,P.Sg)(a,n.app.options.projectId))}(n,o,t,i)}(this._delegate,o,t,i)}}function _t(n){return/^[A-Za-z]+:\/\//.test(n)}function wo(n,{instanceIdentifier:o}){const t=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:o});return new gt(t,i)}!function(n){const o={TaskState:I,TaskEvent:jn,StringFormat:T,Storage:gt,Reference:L};n.INTERNAL.registerComponent(new Le.wA("storage-compat",wo,"PUBLIC").setServiceProps(o).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.10")}(jt.Z);var Co=m(7240);function vt(n){const o=function(n){return new Ot.y(o=>{const t=s=>o.next(s);t(n.snapshot);const r=n.on("state_changed",t);return n.then(s=>{t(s),o.complete()},s=>{t(n.snapshot),(s=>{o.error(s)})(s)}),function(){r()}}).pipe((0,Bt.b)(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>o,percentageChanges:()=>o.pipe((0,Nt.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function me(n){return{getDownloadURL:()=>(0,De.of)(void 0).pipe(X.fc,(0,Fe.w)(()=>n.getDownloadURL()),X.iC),getMetadata:()=>(0,De.of)(void 0).pipe(X.fc,(0,Fe.w)(()=>n.getMetadata()),X.iC),delete:()=>(0,ne.D)(n.delete()),child:o=>me(n.child(o)),updateMetadata:o=>(0,ne.D)(n.updateMetadata(o)),put:(o,t)=>vt(n.put(o,t)),putString:(o,t,i)=>vt(n.putString(o,t,i)),list:o=>(0,ne.D)(n.list(o)),listAll:()=>(0,ne.D)(n.listAll())}}m(2837);const Ro=new e.InjectionToken("angularfire2.storageBucket"),To=new e.InjectionToken("angularfire2.storage.maxUploadRetryTime"),xo=new e.InjectionToken("angularfire2.storage.maxOperationRetryTime"),Ao=new e.InjectionToken("angularfire2.storage.use-emulator");let Po=(()=>{class n{constructor(t,i,a,r,s,c,l,u,h,g){const p=(0,oe.on)(t,s,i);this.storage=(0,oe.cc)(`${p.name}.storage.${a}`,"AngularFireStorage",p.name,()=>{const v=s.runOutsideAngular(()=>p.storage(a||void 0)),b=h;return b&&v.useEmulator(...b),l&&v.setMaxUploadRetryTime(l),u&&v.setMaxOperationRetryTime(u),v},[l,u])}ref(t){return me(this.storage.ref(t))}refFromURL(t){return me(this.storage.refFromURL(t))}upload(t,i,a){return me(this.storage.ref(t)).put(i,a)}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275inject(oe.Dh),e.\u0275\u0275inject(oe.xv,8),e.\u0275\u0275inject(Ro,8),e.\u0275\u0275inject(e.PLATFORM_ID),e.\u0275\u0275inject(e.NgZone),e.\u0275\u0275inject(X.HU),e.\u0275\u0275inject(To,8),e.\u0275\u0275inject(xo,8),e.\u0275\u0275inject(Ao,8),e.\u0275\u0275inject(Co.nm,8))},n.\u0275prov=e.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();const Uo=["imageInputComponentReference"],ko=["connectionToastComponentReference"];let Do=(()=>{class n{constructor(t,i){this.storage=t,this.userApi=i,this.storageBasePath="/personal/"+localStorage.getItem("personal_id")+"/user/",this.isUserSaving=!1}ngOnInit(){}uploadImage(){if(this.imageInput.isImageChanged){this.isUserSaving=!0;const t=this.storageBasePath,i=this.storage.ref(t);this.storage.upload(t,this.imageInput.image).snapshotChanges().pipe((0,Mt.x)(()=>{i.getDownloadURL().subscribe(r=>{this.updateUser({photo:r})})})).subscribe()}}updateUser(t){this.userApi.updateUser(t).then(i=>{console.log(i),this.isUserSaving=!1},i=>{console.log(i),this.isUserSaving=!1,this.connectionToast.openToast()})}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(Po),e.\u0275\u0275directiveInject(V.Q))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-photo"]],viewQuery:function(t,i){if(1&t&&(e.\u0275\u0275viewQuery(Uo,5,ke),e.\u0275\u0275viewQuery(ko,5,E.Y)),2&t){let a;e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(i.imageInput=a.first),e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(i.connectionToast=a.first)}},decls:13,vars:4,consts:[[1,"row","m-2","page-form"],[1,"col-md-6"],[1,"row","mb-3"],[1,"col-md-12"],[1,"row","mt-3","page-form-div"],[3,"width","height","imgType"],[1,"btn","btn-secondary","btn-sm","page-form-btn",3,"disabled","click"]],template:function(t,i){1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275elementStart(1,"div",1),e.\u0275\u0275elementStart(2,"div",2),e.\u0275\u0275elementStart(3,"div",3),e.\u0275\u0275elementStart(4,"h5"),e.\u0275\u0275text(5,"Profile Photo"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"div",4),e.\u0275\u0275elementStart(7,"div",3),e.\u0275\u0275element(8,"app-image-input",5),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"div",4),e.\u0275\u0275elementStart(10,"div",3),e.\u0275\u0275elementStart(11,"button",6),e.\u0275\u0275listener("click",function(){return i.uploadImage()}),e.\u0275\u0275text(12,"Save"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275advance(8),e.\u0275\u0275property("width",180)("height",200)("imgType","photo"),e.\u0275\u0275advance(3),e.\u0275\u0275property("disabled",i.isUserSaving))},directives:[ke],styles:[""]}),n})();function Fo(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"option"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=o.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t)}}function Lo(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"option"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=o.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t)}}function Mo(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"option"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=o.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t)}}let bt=(()=>{class n{constructor(){this.dayInput="",this.monthInput="",this.yearInput="",this.value=this.yearInput+"-"+this.monthInput+"-"+this.dayInput,this.dobDaySource=this.getDays(),this.dobMonthSource=this.getMonths(),this.dobYearSource=this.getYears()}ngOnInit(){}getValue(){return this.yearInput+"-"+this.monthInput+"-"+this.dayInput}setValue(t){var i=t.split("-");this.yearInput=i[0],this.monthInput=i[1],this.dayInput=i[2]}getDays(){var t,i=[];for(let a=1;a<=31;a++)t=a>=10?a.toString():"0"+a.toString(),i.push(t);return i}getMonths(){var t,i=[];for(let a=1;a<=12;a++)t=a>=10?a.toString():"0"+a.toString(),i.push(t);return i}getYears(){var t,i=[];for(t=2022;t>=1900;t--)i.push(t.toString());return i}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-bday-input"]],decls:10,vars:6,consts:[[1,"row","w-100","m-0"],[1,"col","ps-0","pe-1"],[1,"form-control","form-control-sm","w-100",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],[1,"col","p-0"],[1,"col","ps-1","pe-0"]],template:function(t,i){1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275elementStart(1,"div",1),e.\u0275\u0275elementStart(2,"select",2),e.\u0275\u0275listener("ngModelChange",function(r){return i.dayInput=r}),e.\u0275\u0275template(3,Fo,2,1,"option",3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",4),e.\u0275\u0275elementStart(5,"select",2),e.\u0275\u0275listener("ngModelChange",function(r){return i.monthInput=r}),e.\u0275\u0275template(6,Lo,2,1,"option",3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"div",5),e.\u0275\u0275elementStart(8,"select",2),e.\u0275\u0275listener("ngModelChange",function(r){return i.yearInput=r}),e.\u0275\u0275template(9,Mo,2,1,"option",3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",i.dayInput),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",i.dobDaySource),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",i.monthInput),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",i.dobMonthSource),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",i.yearInput),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",i.dobYearSource))},directives:[d.EJ,d.JJ,d.On,R.sg,d.YN,d.Kr],styles:[""]}),n})();const Oo=["bdayInputComponentReference"],Bo=["connectionToastComponentReference"];function No(n,o){1&n&&(e.\u0275\u0275elementStart(0,"div",12),e.\u0275\u0275elementStart(1,"div",4),e.\u0275\u0275elementStart(2,"button",13),e.\u0275\u0275text(3,"Save"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd())}function jo(n,o){1&n&&(e.\u0275\u0275elementStart(0,"div",12),e.\u0275\u0275elementStart(1,"div",4),e.\u0275\u0275elementStart(2,"button",14),e.\u0275\u0275elementStart(3,"div",15),e.\u0275\u0275elementStart(4,"span",16),e.\u0275\u0275text(5,"Loading..."),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd())}let Go=(()=>{class n{constructor(t){this.settingsApi=t,this.additionalForm=new d.cw({}),this.isExtendedProfileLoading=!1}ngOnInit(){this.initAdditionalForm()}initAdditionalForm(){this.additionalForm=new d.cw({gender:new d.NI})}updateExtendedProfile(){let t={date_of_birth:this.bdayInput.value,gender:this.additionalForm.controls.gender.value};this.isExtendedProfileLoading=!0,this.settingsApi.updateExtendedProfile(t).then(i=>{console.log(i),this.isExtendedProfileLoading=!1},i=>{console.log(i),this.isExtendedProfileLoading=!1,this.connectionToast.openToast()})}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(N.p))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-additional"]],viewQuery:function(t,i){if(1&t&&(e.\u0275\u0275viewQuery(Oo,5,bt),e.\u0275\u0275viewQuery(Bo,5,E.Y)),2&t){let a;e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(i.bdayInput=a.first),e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(i.connectionToast=a.first)}},decls:26,vars:3,consts:[[1,"row","m-2","page-form"],[1,"col-md-6"],[1,"page-form",3,"formGroup","ngSubmit"],[1,"row","mb-3"],[1,"col-md-12"],[1,"row","mb-2"],[1,"col-md-4"],[1,"mt-1"],[1,"col-md-8"],["bdayInputComponentReference",""],["formControlName","gender",1,"form-control","form-control-sm","w-100"],["class","row mt-3",4,"ngIf"],[1,"row","mt-3"],["type","submit",1,"btn","btn-secondary","btn-sm","float-end","page-form-btn"],["type","button",1,"btn","btn-sm","float-end","btn-light","page-form-btn"],["role","status",1,"spinner-grow","spinner-grow-sm"],[1,"visually-hidden"]],template:function(t,i){1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275elementStart(1,"div",1),e.\u0275\u0275elementStart(2,"form",2),e.\u0275\u0275listener("ngSubmit",function(){return i.updateExtendedProfile()}),e.\u0275\u0275elementStart(3,"div",3),e.\u0275\u0275elementStart(4,"div",4),e.\u0275\u0275elementStart(5,"h5"),e.\u0275\u0275text(6,"Bio Profile"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"div",5),e.\u0275\u0275elementStart(8,"div",6),e.\u0275\u0275elementStart(9,"label",7),e.\u0275\u0275text(10,"Date of Birth :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"div",8),e.\u0275\u0275element(12,"app-bday-input",null,9),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"div",5),e.\u0275\u0275elementStart(15,"div",6),e.\u0275\u0275elementStart(16,"label",7),e.\u0275\u0275text(17,"Gender :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"div",8),e.\u0275\u0275elementStart(19,"select",10),e.\u0275\u0275elementStart(20,"option"),e.\u0275\u0275text(21,"Male"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(22,"option"),e.\u0275\u0275text(23,"Female"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(24,No,4,0,"div",11),e.\u0275\u0275template(25,jo,6,0,"div",11),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275advance(2),e.\u0275\u0275property("formGroup",i.additionalForm),e.\u0275\u0275advance(22),e.\u0275\u0275property("ngIf",!i.isExtendedProfileLoading),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.isExtendedProfileLoading))},directives:[d._Y,d.JL,d.sg,bt,d.EJ,d.JJ,d.u,d.YN,d.Kr,R.O5],styles:[""]}),n})();var St=m(9320);const Qo=["connectionToastComponentReference"];function Vo(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"div",16),e.\u0275\u0275elementStart(1,"div",4),e.\u0275\u0275elementStart(2,"button",17),e.\u0275\u0275text(3,"Save"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",t.isUserSaving||t.isExtendedProfileSaving)}}function Ho(n,o){1&n&&(e.\u0275\u0275elementStart(0,"div",18),e.\u0275\u0275elementStart(1,"div",4),e.\u0275\u0275elementStart(2,"button",19),e.\u0275\u0275elementStart(3,"div",20),e.\u0275\u0275elementStart(4,"span",21),e.\u0275\u0275text(5,"Loading..."),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd())}let qo=(()=>{class n{constructor(t,i){this.userApi=t,this.settingsApi=i,this.locationForm=new d.cw({}),this.isUserLoading=!1,this.isExtendedProfileLoading=!1,this.isUserSaving=!1,this.isExtendedProfileSaving=!1}ngOnInit(){this.initLocationForm()}initLocationForm(){this.locationForm=new d.cw({location:new d.NI,country:new d.NI,state:new d.NI,city:new d.NI})}updateLocation(){this.updateUser(),this.updateExtendedProfile()}updateUser(){let t={location:this.locationForm.controls.location.value};this.isUserSaving=!0,this.userApi.updateUser(t).then(i=>{console.log(i),this.isUserSaving=!1},i=>{console.log(i),this.isUserSaving=!1,this.connectionToast.openToast()})}updateExtendedProfile(){console.log(),this.isExtendedProfileSaving=!0,this.settingsApi.updateExtendedProfile({country:this.locationForm.controls.country.value,state:this.locationForm.controls.state.value,city:this.locationForm.controls.city.value}).then(i=>{console.log(i),this.isExtendedProfileSaving=!1},i=>{console.log(i),this.isExtendedProfileSaving=!1,this.connectionToast.openToast()})}onAddressChange(t){this.locationForm.controls.location.setValue(t.formatted_address),console.log(t)}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(V.Q),e.\u0275\u0275directiveInject(N.p))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-location"]],viewQuery:function(t,i){if(1&t&&e.\u0275\u0275viewQuery(Qo,5,E.Y),2&t){let a;e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(i.connectionToast=a.first)}},decls:34,vars:3,consts:[[1,"row","m-2","page-form"],[1,"col-md-6"],[1,"page-form",3,"formGroup","ngSubmit"],[1,"row","mb-3"],[1,"col-md-12"],[1,"row","mb-2"],[1,"col-md-4"],[1,"mt-1"],[1,"col-md-8"],["formControlName","country",1,"form-control","form-control-sm","w-100"],["formControlName","state",1,"form-control","form-control-sm","w-100"],["formControlName","city",1,"form-control","form-control-sm","w-100"],["formControlName","location","ngx-google-places-autocomplete","",1,"form-control","form-control-sm","w-100",3,"onAddressChange"],["placesRef","ngx-places"],["class","row mt-3 page-form-div",4,"ngIf"],["class","row mt-3",4,"ngIf"],[1,"row","mt-3","page-form-div"],["type","submit",1,"btn","btn-secondary","btn-sm","float-end","page-form-btn",3,"disabled"],[1,"row","mt-3"],["type","button",1,"btn","btn-sm","float-end","btn-light","page-form-btn"],["role","status",1,"spinner-grow","spinner-grow-sm"],[1,"visually-hidden"]],template:function(t,i){1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275elementStart(1,"div",1),e.\u0275\u0275elementStart(2,"form",2),e.\u0275\u0275listener("ngSubmit",function(){return i.updateLocation()}),e.\u0275\u0275elementStart(3,"div",3),e.\u0275\u0275elementStart(4,"div",4),e.\u0275\u0275elementStart(5,"h5"),e.\u0275\u0275text(6,"Location Details"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"div",5),e.\u0275\u0275elementStart(8,"div",6),e.\u0275\u0275elementStart(9,"label",7),e.\u0275\u0275text(10,"Country :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"div",8),e.\u0275\u0275element(12,"input",9),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"div",5),e.\u0275\u0275elementStart(14,"div",6),e.\u0275\u0275elementStart(15,"label",7),e.\u0275\u0275text(16,"Region / State :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"div",8),e.\u0275\u0275element(18,"input",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"div",5),e.\u0275\u0275elementStart(20,"div",6),e.\u0275\u0275elementStart(21,"label",7),e.\u0275\u0275text(22,"City / Town :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"div",8),e.\u0275\u0275element(24,"input",11),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(25,"div",5),e.\u0275\u0275elementStart(26,"div",6),e.\u0275\u0275elementStart(27,"label",7),e.\u0275\u0275text(28,"Location :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(29,"div",8),e.\u0275\u0275elementStart(30,"input",12,13),e.\u0275\u0275listener("onAddressChange",function(r){return i.onAddressChange(r)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(32,Vo,4,1,"div",14),e.\u0275\u0275template(33,Ho,6,0,"div",15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275advance(2),e.\u0275\u0275property("formGroup",i.locationForm),e.\u0275\u0275advance(30),e.\u0275\u0275property("ngIf",!(i.isUserLoading||i.isExtendedProfileLoading)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.isUserLoading||i.isExtendedProfileLoading))},directives:[d._Y,d.JL,d.sg,d.Fj,d.JJ,d.u,St.GooglePlaceDirective,R.O5],styles:[""]}),n})();const $o=["connectionToastComponentReference"];function zo(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"div",13),e.\u0275\u0275elementStart(1,"div",4),e.\u0275\u0275elementStart(2,"button",14),e.\u0275\u0275text(3,"Save"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",t.isExtendedProfileSaving)}}function Yo(n,o){1&n&&(e.\u0275\u0275elementStart(0,"div",13),e.\u0275\u0275elementStart(1,"div",4),e.\u0275\u0275elementStart(2,"button",15),e.\u0275\u0275elementStart(3,"div",16),e.\u0275\u0275elementStart(4,"span",17),e.\u0275\u0275text(5,"Loading..."),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd())}let Xo=(()=>{class n{constructor(t,i){this.authApi=t,this.settingsApi=i,this.contactForm=new d.cw({}),this.isAuthLoading=!1,this.isExtendedProfileLoading=!1,this.isExtendedProfileSaving=!1}ngOnInit(){this.initContactForm()}initContactForm(){this.contactForm=new d.cw({email:new d.NI({valaue:"",disabled:!0}),phone:new d.NI,address:new d.NI})}updateExtendedProfile(){console.log(),this.isExtendedProfileSaving=!0,this.settingsApi.updateExtendedProfile({phone:this.contactForm.controls.phone.value,address:this.contactForm.controls.address.value}).then(i=>{console.log(i),this.isExtendedProfileSaving=!1},i=>{console.log(i),this.isExtendedProfileSaving=!1,this.connectionToast.openToast()})}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(he.Q),e.\u0275\u0275directiveInject(N.p))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-contact"]],viewQuery:function(t,i){if(1&t&&e.\u0275\u0275viewQuery($o,5,E.Y),2&t){let a;e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(i.connectionToast=a.first)}},decls:27,vars:4,consts:[[1,"row","m-2","page-form"],[1,"col-md-6"],[1,"page-form",3,"formGroup","ngSubmit"],[1,"row","mb-3"],[1,"col-md-12"],[1,"row","mb-2"],[1,"col-md-4"],[1,"mt-1"],[1,"col-md-8"],["formControlName","email",1,"form-control","form-control-sm","w-100",3,"disabled"],["formControlName","phone",1,"form-control","form-control-sm","w-100"],["formControlName","address","rows","3",1,"form-control","form-control-sm","w-100"],["class","row mt-3",4,"ngIf"],[1,"row","mt-3"],["type","submit",1,"btn","btn-secondary","btn-sm","float-end","page-form-btn",3,"disabled"],["type","button",1,"btn","btn-sm","float-end","btn-light","page-form-btn"],["role","status",1,"spinner-grow","spinner-grow-sm"],[1,"visually-hidden"]],template:function(t,i){1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275elementStart(1,"div",1),e.\u0275\u0275elementStart(2,"form",2),e.\u0275\u0275listener("ngSubmit",function(){return i.updateExtendedProfile()}),e.\u0275\u0275elementStart(3,"div",3),e.\u0275\u0275elementStart(4,"div",4),e.\u0275\u0275elementStart(5,"h5"),e.\u0275\u0275text(6,"Contact Details"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"div",5),e.\u0275\u0275elementStart(8,"div",6),e.\u0275\u0275elementStart(9,"label",7),e.\u0275\u0275text(10,"Email :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"div",8),e.\u0275\u0275element(12,"input",9),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"div",5),e.\u0275\u0275elementStart(14,"div",6),e.\u0275\u0275elementStart(15,"label",7),e.\u0275\u0275text(16,"Phone No. :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"div",8),e.\u0275\u0275element(18,"input",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"div",5),e.\u0275\u0275elementStart(20,"div",6),e.\u0275\u0275elementStart(21,"label",7),e.\u0275\u0275text(22,"Address :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"div",8),e.\u0275\u0275element(24,"teaxtarea",11),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(25,zo,4,1,"div",12),e.\u0275\u0275template(26,Yo,6,0,"div",12),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275advance(2),e.\u0275\u0275property("formGroup",i.contactForm),e.\u0275\u0275advance(10),e.\u0275\u0275property("disabled",!0),e.\u0275\u0275advance(13),e.\u0275\u0275property("ngIf",!(i.isAuthLoading||i.isExtendedProfileLoading)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.isAuthLoading||i.isExtendedProfileLoading))},directives:[d._Y,d.JL,d.sg,d.Fj,d.JJ,d.u,R.O5],styles:[""]}),n})();const Wo=["basicComponentReference"],Jo=["additionalComponentReference"],Ko=["photoComponentReference"],Zo=["locationComponentReference"],ei=["contactComponentReference"],ti=["connectionToastComponentReference"];let ni=(()=>{class n{constructor(t,i,a){this.authApi=t,this.userApi=i,this.settingsApi=a,this.navHeading=[{text:"Profile",url:"/home/profile/dashboard"}]}ngOnInit(){}ngAfterViewInit(){this.getAuth(),this.getUser(),this.getExtendedProfile()}getAuth(){this.contact.isAuthLoading=!0,this.authApi.getAuth().subscribe(t=>{console.log(t),this.contact.contactForm.controls.email.setValue(t.email),this.contact.isAuthLoading=!1},t=>{console.log(t),this.connectionToast.openToast()})}getUser(){this.basic.isUserLoading=!0,this.location.isUserLoading=!0,this.userApi.getUser().then(t=>{console.log(t),this.userData=t,this.basic.basicForm.controls.firstName.setValue(this.userData.data().first_name),this.basic.basicForm.controls.lastName.setValue(this.userData.data().last_name),this.basic.basicForm.controls.about.setValue(this.userData.data().about),this.location.locationForm.controls.location.setValue(this.userData.data().location),this.photo.imageInput.imgSrc=this.userData.data().photo,this.basic.isUserLoading=!1,this.location.isUserLoading=!1},t=>{console.log(t),this.connectionToast.openToast()})}getExtendedProfile(){this.additional.isExtendedProfileLoading=!0,this.location.isExtendedProfileLoading=!0,this.contact.isExtendedProfileLoading=!0,this.settingsApi.getExtendedProfile().then(t=>{console.log(t),this.extendedProfileData=t,this.additional.bdayInput.value=this.extendedProfileData.date_of_birth,this.additional.additionalForm.controls.gender.setValue(this.extendedProfileData.data().gender),this.location.locationForm.controls.country.setValue(this.extendedProfileData.data().country),this.location.locationForm.controls.state.setValue(this.extendedProfileData.data().state),this.location.locationForm.controls.city.setValue(this.extendedProfileData.data().city),this.contact.contactForm.controls.phone.setValue(this.extendedProfileData.data().phone),this.contact.contactForm.controls.address.setValue(this.extendedProfileData.data().address),this.additional.isExtendedProfileLoading=!1,this.location.isExtendedProfileLoading=!1,this.contact.isExtendedProfileLoading=!1},t=>{console.log(t),this.connectionToast.openToast()})}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(he.Q),e.\u0275\u0275directiveInject(V.Q),e.\u0275\u0275directiveInject(N.p))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-profile"]],viewQuery:function(t,i){if(1&t&&(e.\u0275\u0275viewQuery(Wo,5),e.\u0275\u0275viewQuery(Jo,5),e.\u0275\u0275viewQuery(Ko,5),e.\u0275\u0275viewQuery(Zo,5),e.\u0275\u0275viewQuery(ei,5),e.\u0275\u0275viewQuery(ti,5,E.Y)),2&t){let a;e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(i.basic=a.first),e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(i.additional=a.first),e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(i.photo=a.first),e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(i.location=a.first),e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(i.contact=a.first),e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(i.connectionToast=a.first)}},decls:34,vars:1,consts:[[3,"headings"],[1,"container"],[1,"row"],[1,"col-md-12"],[1,"settings-tabs"],["id","nav-tab","role","tablist",1,"nav","nav-tabs"],["id","nav-basic-tab","data-bs-toggle","tab","data-bs-target","#nav-basic","type","button","role","tab","aria-controls","nav-basic","aria-selected","true",1,"nav-link","active"],["id","nav-photo-tab","data-bs-toggle","tab","data-bs-target","#nav-photo","type","button","role","tab","aria-controls","nav-photo","aria-selected","false",1,"nav-link"],["id","nav-bio-tab","data-bs-toggle","tab","data-bs-target","#nav-bio","type","button","role","tab","aria-controls","nav-bio","aria-selected","false",1,"nav-link"],["id","nav-location-tab","data-bs-toggle","tab","data-bs-target","#nav-location","type","button","role","tab","aria-controls","nav-location","aria-selected","false",1,"nav-link"],["id","nav-contact-tab","data-bs-toggle","tab","data-bs-target","#nav-contact","type","button","role","tab","aria-controls","nav-contact","aria-selected","false",1,"nav-link"],["id","nav-tabContent",1,"tab-content"],["id","nav-basic","role","tabpanel","aria-labelledby","nav-basic-tab",1,"tab-pane","fade","show","active"],["basicComponentReference",""],["id","nav-photo","role","tabpanel","aria-labelledby","nav-photo-tab",1,"tab-pane","fade"],["photoComponentReference",""],["id","nav-bio","role","tabpanel","aria-labelledby","nav-bio-tab",1,"tab-pane","fade"],["additionalComponentReference",""],["id","nav-location","role","tabpanel","aria-labelledby","nav-location-tab",1,"tab-pane","fade"],["locationComponentReference",""],["id","nav-contact","role","tabpanel","aria-labelledby","nav-contact-tab",1,"tab-pane","fade"],["contactComponentReference",""],["connectionToastComponentReference",""]],template:function(t,i){1&t&&(e.\u0275\u0275element(0,"app-module-topnav",0),e.\u0275\u0275elementStart(1,"div",1),e.\u0275\u0275elementStart(2,"div",2),e.\u0275\u0275elementStart(3,"div",3),e.\u0275\u0275elementStart(4,"nav",4),e.\u0275\u0275elementStart(5,"div",5),e.\u0275\u0275elementStart(6,"button",6),e.\u0275\u0275text(7," Basic Profle "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"button",7),e.\u0275\u0275text(9," Profle Photo "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"button",8),e.\u0275\u0275text(11," Bio Profle "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"button",9),e.\u0275\u0275text(13," Location Details "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"button",10),e.\u0275\u0275text(15," Contact Details "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"div",11),e.\u0275\u0275elementStart(17,"div",12),e.\u0275\u0275element(18,"app-basic",null,13),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"div",14),e.\u0275\u0275element(21,"app-photo",null,15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"div",16),e.\u0275\u0275element(24,"app-additional",null,17),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(26,"div",18),e.\u0275\u0275element(27,"app-location",null,19),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(29,"div",20),e.\u0275\u0275element(30,"app-contact",null,21),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(32,"app-connection-toast",null,22)),2&t&&e.\u0275\u0275property("headings",i.navHeading)},directives:[te.H,Lt,Do,Go,qo,Xo,E.Y],styles:[""]}),n})();var oi=m(756);const ii=["editButtonElementReference"],ai=["dismissButtonElementReference"],ri=["connectionToastComponentReference"];function si(n,o){if(1&n&&e.\u0275\u0275element(0,"img",18),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("src",null==t.invitationData?null:t.invitationData.data().account.data.logo,e.\u0275\u0275sanitizeUrl)}}function li(n,o){1&n&&e.\u0275\u0275element(0,"img",19)}function ci(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",15),e.\u0275\u0275elementStart(1,"button",20),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().updateInvitation("Accepted")}),e.\u0275\u0275text(2,"Accept"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"button",20),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().updateInvitation("Declined")}),e.\u0275\u0275text(4,"Decline"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()}}let yt=(()=>{class n{constructor(t,i,a){this.userApi=t,this.settingsApi=i,this.restaurantAdminApi=a,this.updatedEvent=new e.EventEmitter,this.isUpdating=!1}ngOnInit(){}openModal(t){console.log(t),this.invitationData=t,this.editButton.nativeElement.click()}updateInvitation(t){this.isUpdating=!0;let i={invitation_status:t};this.settingsApi.updateInvitation(this.invitationData.id,i).then(a=>{console.log(a),this.updatedEvent.emit(),this.editButton.nativeElement.click(),this.isUpdating=!1},a=>{console.log(a),this.isUpdating=!1,this.connectionToast.openToast()}),this.restaurantAdminApi.updateInvitation(this.invitationData.data().account_invitaion,i).then(a=>{console.log(a)},a=>{console.log(a),this.connectionToast.openToast()}),"Accepted"==t&&(console.log("accepted invitation!"),this.getUser())}getUser(){this.userApi.getUser().then(t=>{console.log(t),this.thisUser=t.data(),this.createAccountUser()},t=>{console.log(t),this.connectionToast.openToast()})}createAccountUser(){let t={created_at:(0,oi.Bt)(),user:{id:localStorage.getItem("personal_id"),data:this.thisUser},access_level:"Staff",account:{id:this.invitationData.data().account.id,data:this.invitationData.data().account.data}};this.restaurantAdminApi.createAccountUser(t).then(i=>{console.log(i),this.createUserAccess(i.id)},i=>{console.log(i),this.connectionToast.openToast()})}createUserAccess(t){this.restaurantAdminApi.createUserAccess(t,{admin_access:!1,customers_access:!1,deliveries_access:!1,kitchen_stock_access:!1,menu_access:!1,orders_access:!1,payments_access:!1,portal_access:!1,roster_access:!1,settings_access:!1,staff_access:!1,reservations_access:!1,tables_access:!1}).then(a=>{console.log(a)},a=>{console.log(a),this.connectionToast.openToast()})}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(V.Q),e.\u0275\u0275directiveInject(N.p),e.\u0275\u0275directiveInject(Ue))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-view-invitation"]],viewQuery:function(t,i){if(1&t&&(e.\u0275\u0275viewQuery(ii,5,e.ElementRef),e.\u0275\u0275viewQuery(ai,5,e.ElementRef),e.\u0275\u0275viewQuery(ri,5,E.Y)),2&t){let a;e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(i.editButton=a.first),e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(i.dismissButton=a.first),e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(i.connectionToast=a.first)}},outputs:{updatedEvent:"updatedEvent"},decls:40,vars:11,consts:[["data-bs-toggle","modal","data-bs-target","#editItemModal",3,"hidden"],["editButtonElementReference",""],["id","editItemModal","tabindex","-1","aria-labelledby","editItemModalLabel","aria-hidden","true",1,"modal","fade","form-modal"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header","bg-light"],["id","editItemModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],["dismissButtonElementReference",""],[1,"modal-body","text-center"],[1,"row","mb-4"],[1,"col"],[1,"row","mb-2"],["alt","","width","70","height","60","class","rounded",3,"src",4,"ngIf"],["src","../../../../../assets/images/utilities/logo-placeholder.jpg","alt","Company","width","70","height","60","class","rounded",4,"ngIf"],[1,"row"],["class","row",4,"ngIf"],["connectionToastComponentReference",""],["alt","","width","70","height","60",1,"rounded",3,"src"],["src","../../../../../assets/images/utilities/logo-placeholder.jpg","alt","Company","width","70","height","60",1,"rounded"],[1,"btn","btn-secondary","page-add-btn","m-1",3,"click"]],template:function(t,i){1&t&&(e.\u0275\u0275elementStart(0,"button",0,1),e.\u0275\u0275text(2," Launch demo modal\n"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",2),e.\u0275\u0275elementStart(4,"div",3),e.\u0275\u0275elementStart(5,"div",4),e.\u0275\u0275elementStart(6,"div",5),e.\u0275\u0275elementStart(7,"span",6),e.\u0275\u0275text(8,"View Invitation"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(9,"button",7,8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"div",9),e.\u0275\u0275elementStart(12,"div",10),e.\u0275\u0275elementStart(13,"div",11),e.\u0275\u0275elementStart(14,"label"),e.\u0275\u0275elementStart(15,"em"),e.\u0275\u0275text(16,"Invitation Date :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(17),e.\u0275\u0275pipe(18,"date"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"div",12),e.\u0275\u0275elementStart(20,"div",11),e.\u0275\u0275template(21,si,1,1,"img",13),e.\u0275\u0275template(22,li,1,0,"img",14),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"div",12),e.\u0275\u0275elementStart(24,"div",11),e.\u0275\u0275elementStart(25,"strong"),e.\u0275\u0275text(26),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(27,"div",10),e.\u0275\u0275elementStart(28,"div",11),e.\u0275\u0275text(29),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(30,"div",10),e.\u0275\u0275elementStart(31,"div",11),e.\u0275\u0275elementStart(32,"label"),e.\u0275\u0275elementStart(33,"em"),e.\u0275\u0275text(34,"Invitation Status :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(35),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(36,"div",15),e.\u0275\u0275template(37,ci,5,0,"div",16),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(38,"app-connection-toast",null,17)),2&t&&(e.\u0275\u0275property("hidden",!0),e.\u0275\u0275advance(17),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind2(18,8,null==i.invitationData?null:i.invitationData.data().created_at.toDate(),"MMMM d, y, hh:mm:ss a")," "),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",""!=(null==i.invitationData?null:i.invitationData.data().account.data.logo)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",""==(null==i.invitationData?null:i.invitationData.data().account.data.logo)),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(null==i.invitationData?null:i.invitationData.data().account.data.name),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",null==i.invitationData?null:i.invitationData.data().account.data.location," "),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1(" ",null==i.invitationData?null:i.invitationData.data().invitation_status," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf","Awaiting"==(null==i.invitationData?null:i.invitationData.data().invitation_status)))},directives:[R.O5,E.Y],pipes:[R.uU],styles:[""]}),n})();const di=["connectionToastComponentReference"],ui=["viewInvitationComponentReference"];function mi(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",35),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("created_at","desc")}),e.\u0275\u0275elementEnd()}}function hi(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",36),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("created_at","asc")}),e.\u0275\u0275elementEnd()}}function pi(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",37),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("created_at","desc")}),e.\u0275\u0275elementEnd()}}function fi(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",35),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("invitee_name","desc")}),e.\u0275\u0275elementEnd()}}function gi(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",36),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("invitee_name","asc")}),e.\u0275\u0275elementEnd()}}function _i(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",37),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("invitee_name","desc")}),e.\u0275\u0275elementEnd()}}function vi(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",35),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("invitee_name","desc")}),e.\u0275\u0275elementEnd()}}function bi(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",36),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("invitee_name","asc")}),e.\u0275\u0275elementEnd()}}function Si(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",37),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("invitee_name","desc")}),e.\u0275\u0275elementEnd()}}function yi(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",35),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("invitation_status","desc")}),e.\u0275\u0275elementEnd()}}function wi(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",36),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("invitation_status","asc")}),e.\u0275\u0275elementEnd()}}function Ei(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",37),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("invitation_status","desc")}),e.\u0275\u0275elementEnd()}}function Ci(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tr",38),e.\u0275\u0275listener("dblclick",function(){const r=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275nextContext().openInvitation(r)}),e.\u0275\u0275elementStart(1,"td"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"date"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"td"),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"td"),e.\u0275\u0275text(7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"td"),e.\u0275\u0275text(9),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()}if(2&n){const t=o.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,4,null==t?null:t.data().created_at.toDate())),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(null==t?null:t.data().account.data.name),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(null==t?null:t.data().account_type),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(null==t?null:t.data().invitation_status)}}function Ii(n,o){1&n&&(e.\u0275\u0275elementStart(0,"tr",39),e.\u0275\u0275elementStart(1,"td",22),e.\u0275\u0275elementStart(2,"div",40),e.\u0275\u0275elementStart(3,"span",41),e.\u0275\u0275text(4,"Loading..."),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd())}function Ri(n,o){1&n&&(e.\u0275\u0275elementStart(0,"tr",39),e.\u0275\u0275elementStart(1,"td",22),e.\u0275\u0275elementStart(2,"p",42),e.\u0275\u0275text(3,"No data available"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd())}const Ti=[{path:"",component:It,children:[{path:"",component:Pe},{path:"dashboard",component:Pe},{path:"profile",component:ni},{path:"all-accounts",component:Ut},{path:"invitations",component:(()=>{class n{constructor(t){this.settingsApi=t,this.navHeading=[{text:"All Accounts",url:"/home/settings/all-accounts"},{text:"Invitations",url:"/home/settings/invitations"}],this.invitationsGridData=[],this.isFetchingGridData=!1,this.isDataAvailable=!0,this.firstInResponse=[],this.lastInResponse=[],this.nextStartAfter=[],this.prevStartAt=[],this.pageNumber=0,this.disableNext=!0,this.disablePrev=!0,this.sortParams={field:"created_at",direction:"desc"}}ngOnInit(){this.getUserInvitation()}getUserInvitation(){this.isFetchingGridData=!0,this.settingsApi.getUserInvitation(this.sortParams,20).then(t=>{console.log(t),this.invitationsGridData=t.docs,this.isFetchingGridData=!1,this.prevStartAt=this.firstInResponse,this.nextStartAfter=t.docs[t.docs.length-1],this.firstInResponse=t.docs[0],this.pageNumber=1,this.isDataAvailable=!!t.docs.length,!t.docs.length||t.docs.length<20?(this.disableNext=!0,this.disablePrev=!0):(this.disableNext=!1,this.disablePrev=!0)},t=>{console.log(t),this.isFetchingGridData=!1,this.connectionToast.openToast()})}nextPage(t){t.preventDefault(),this.isFetchingGridData=!0,this.settingsApi.getUserInvitationNext(this.sortParams,20,this.nextStartAfter).then(i=>{console.log(i),this.invitationsGridData=i.docs,this.isFetchingGridData=!1,this.prevStartAt=this.firstInResponse,this.nextStartAfter=i.docs[i.docs.length-1],this.firstInResponse=i.docs[0],this.pageNumber++,i.docs.length<20&&(this.disableNext=!0,this.disablePrev=!1)},i=>{console.log(i),this.isFetchingGridData=!1,this.connectionToast.openToast()})}previousPage(t){t.preventDefault(),this.isFetchingGridData=!0,this.settingsApi.getUserInvitationPrev(this.sortParams,20,this.prevStartAt).then(i=>{console.log(i),this.invitationsGridData=i.docs,this.isFetchingGridData=!1,i.docs.length||(this.isDataAvailable=!1),this.prevStartAt=this.firstInResponse,this.nextStartAfter=i.docs[i.docs.length-1],this.firstInResponse=i.docs[0],this.pageNumber--,1==this.pageNumber&&(this.disableNext=!1,this.disablePrev=!0)},i=>{console.log(i),this.isFetchingGridData=!1,this.connectionToast.openToast()})}openInvitation(t){this.viewInvitation.openModal(t)}sortTable(t,i){this.sortParams.field=t,this.sortParams.direction=i,this.getUserInvitation()}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(N.p))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-invitations"]],viewQuery:function(t,i){if(1&t&&(e.\u0275\u0275viewQuery(di,5,E.Y),e.\u0275\u0275viewQuery(ui,5,yt)),2&t){let a;e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(i.connectionToast=a.first),e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(i.viewInvitation=a.first)}},decls:59,vars:20,consts:[[3,"headings"],[1,"container"],[1,"row"],[1,"col-md-9"],[1,"row","mb-3"],[1,"col-md-12"],["routerLink","/home/settings/all-accounts",1,"btn","btn-secondary","float-end","nr-standard-font"],[1,"bi","bi-arrow-left-right","me-2"],[1,"col"],[1,"btn","btn-light","border","float-end","page-refresh-btn",3,"disabled","click"],[1,"bi","bi-arrow-clockwise"],[1,"overflow-auto"],[1,"table","table-bordered","table-sm","w-100","page-table"],[1,"bg-light"],["width","20%",1,"min-width-3"],["class","bi bi-filter float-end list-pointer",3,"click",4,"ngIf"],["class","bi bi-sort-down float-end list-pointer",3,"click",4,"ngIf"],["class","bi bi-sort-up float-end list-pointer",3,"click",4,"ngIf"],["width","40%",1,"min-width-4"],["width","20%",1,"min-width-2"],["class","table-pointer",3,"dblclick",4,"ngFor","ngForOf"],["class","text-center",4,"ngIf"],["colspan","4"],["aria-label","Page navigation",1,"nav-light","float-end"],[1,"pagination","pagination-sm","mb-0","justify-content-end"],[1,"page-item",3,"ngClass"],["href","#","aria-label","First",1,"page-link",3,"click"],[1,"bi","bi-caret-left-fill"],[1,"page-item"],["href","#","aria-label","Current",1,"page-link",3,"click"],["href","#","aria-label","Last",1,"page-link",3,"click"],[1,"bi","bi-caret-right-fill"],["connectionToastComponentReference",""],[3,"updatedEvent"],["viewInvitationComponentReference",""],[1,"bi","bi-filter","float-end","list-pointer",3,"click"],[1,"bi","bi-sort-down","float-end","list-pointer",3,"click"],[1,"bi","bi-sort-up","float-end","list-pointer",3,"click"],[1,"table-pointer",3,"dblclick"],[1,"text-center"],["role","status",1,"spinner-grow","m-4"],[1,"visually-hidden"],[1,"m-4"]],template:function(t,i){1&t&&(e.\u0275\u0275element(0,"app-module-topnav",0),e.\u0275\u0275elementStart(1,"div",1),e.\u0275\u0275elementStart(2,"div",2),e.\u0275\u0275elementStart(3,"div",3),e.\u0275\u0275elementStart(4,"div",4),e.\u0275\u0275elementStart(5,"div",5),e.\u0275\u0275elementStart(6,"button",6),e.\u0275\u0275element(7,"i",7),e.\u0275\u0275text(8," All Accounts "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"div",4),e.\u0275\u0275elementStart(10,"div",8),e.\u0275\u0275elementStart(11,"button",9),e.\u0275\u0275listener("click",function(){return i.getUserInvitation()}),e.\u0275\u0275element(12,"i",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"div",11),e.\u0275\u0275elementStart(14,"table",12),e.\u0275\u0275elementStart(15,"thead"),e.\u0275\u0275elementStart(16,"tr",13),e.\u0275\u0275elementStart(17,"th",14),e.\u0275\u0275text(18," Invitation Date "),e.\u0275\u0275template(19,mi,1,0,"i",15),e.\u0275\u0275template(20,hi,1,0,"i",16),e.\u0275\u0275template(21,pi,1,0,"i",17),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(22,"th",18),e.\u0275\u0275text(23," Account Name "),e.\u0275\u0275template(24,fi,1,0,"i",15),e.\u0275\u0275template(25,gi,1,0,"i",16),e.\u0275\u0275template(26,_i,1,0,"i",17),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(27,"th",14),e.\u0275\u0275text(28," Account Type "),e.\u0275\u0275template(29,vi,1,0,"i",15),e.\u0275\u0275template(30,bi,1,0,"i",16),e.\u0275\u0275template(31,Si,1,0,"i",17),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(32,"th",19),e.\u0275\u0275text(33," Invitation Status "),e.\u0275\u0275template(34,yi,1,0,"i",15),e.\u0275\u0275template(35,wi,1,0,"i",16),e.\u0275\u0275template(36,Ei,1,0,"i",17),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(37,"tbody"),e.\u0275\u0275template(38,Ci,10,6,"tr",20),e.\u0275\u0275template(39,Ii,5,0,"tr",21),e.\u0275\u0275template(40,Ri,4,0,"tr",21),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(41,"tfoot"),e.\u0275\u0275elementStart(42,"tr",13),e.\u0275\u0275elementStart(43,"td",22),e.\u0275\u0275elementStart(44,"nav",23),e.\u0275\u0275elementStart(45,"ul",24),e.\u0275\u0275elementStart(46,"li",25),e.\u0275\u0275elementStart(47,"a",26),e.\u0275\u0275listener("click",function(r){return i.previousPage(r)}),e.\u0275\u0275element(48,"i",27),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(49,"li",28),e.\u0275\u0275elementStart(50,"a",29),e.\u0275\u0275listener("click",function(r){return r.preventDefault()}),e.\u0275\u0275text(51),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(52,"li",25),e.\u0275\u0275elementStart(53,"a",30),e.\u0275\u0275listener("click",function(r){return i.nextPage(r)}),e.\u0275\u0275element(54,"i",31),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(55,"app-connection-toast",null,32),e.\u0275\u0275elementStart(57,"app-view-invitation",33,34),e.\u0275\u0275listener("updatedEvent",function(){return i.getUserInvitation()}),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275property("headings",i.navHeading),e.\u0275\u0275advance(11),e.\u0275\u0275property("disabled",i.isFetchingGridData),e.\u0275\u0275advance(8),e.\u0275\u0275property("ngIf","created_at"!=i.sortParams.field),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","created_at"==i.sortParams.field&&"desc"==i.sortParams.direction),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","created_at"==i.sortParams.field&&"asc"==i.sortParams.direction),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf","invitee_name"!=i.sortParams.field),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","invitee_name"==i.sortParams.field&&"desc"==i.sortParams.direction),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","invitee_name"==i.sortParams.field&&"asc"==i.sortParams.direction),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf","invitee_name"!=i.sortParams.field),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","invitee_name"==i.sortParams.field&&"desc"==i.sortParams.direction),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","invitee_name"==i.sortParams.field&&"asc"==i.sortParams.direction),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf","invitation_status"!=i.sortParams.field),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","invitation_status"==i.sortParams.field&&"desc"==i.sortParams.direction),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","invitation_status"==i.sortParams.field&&"asc"==i.sortParams.direction),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",i.invitationsGridData),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.isFetchingGridData),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!i.isDataAvailable&&!i.isFetchingGridData),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngClass",i.disablePrev?"disabled":""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",i.pageNumber," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",i.disableNext?"disabled":""))},directives:[te.H,Q.rH,R.O5,R.sg,R.mk,E.Y,yt],pipes:[R.uU],styles:[""]}),n})()}]}];let xi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({imports:[[Q.Bz.forChild(Ti)],Q.Bz]}),n})();var Ai=m(7264),wt=m(5018);let Pi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({imports:[[R.ez,Q.Bz,d.u5,d.UX,St.GooglePlaceModule,Ae.m9,wt.p]]}),n})(),Ui=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({imports:[[R.ez,xi,Ai.M,wt.p,Pi]]}),n})()}}]);