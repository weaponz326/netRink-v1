"use strict";(self.webpackChunkang_fire=self.webpackChunkang_fire||[]).push([[535],{756:(h,_,o)=>{o.d(_,{Bt:()=>e.Bt});var e=o(9665)},7667:(h,_,o)=>{o.d(_,{Q:()=>s});var e=o(6274),u=o(5018),p=o(2741);let s=(()=>{class m{}return m.\u0275fac=function(c){return new(c||m)},m.\u0275mod=p.\u0275\u0275defineNgModule({type:m}),m.\u0275inj=p.\u0275\u0275defineInjector({imports:[[e.ez,u.p]]}),m})()},2521:(h,_,o)=>{o.d(_,{a:()=>w});var e=o(2741),u=o(1580),p=o(365),s=o(6274);const m=["openButtonElementReference"],l=["closeButtonElementReference"],c=["connectionToastComponentReference"];function f(a,i){if(1&a){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",30),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(n),e.\u0275\u0275nextContext().sortTable("customer_code","desc")}),e.\u0275\u0275elementEnd()}}function b(a,i){if(1&a){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",31),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(n),e.\u0275\u0275nextContext().sortTable("customer_code","asc")}),e.\u0275\u0275elementEnd()}}function g(a,i){if(1&a){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",32),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(n),e.\u0275\u0275nextContext().sortTable("customer_code","desc")}),e.\u0275\u0275elementEnd()}}function S(a,i){if(1&a){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",30),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(n),e.\u0275\u0275nextContext().sortTable("customer_name","desc")}),e.\u0275\u0275elementEnd()}}function C(a,i){if(1&a){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",31),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(n),e.\u0275\u0275nextContext().sortTable("customer_name","asc")}),e.\u0275\u0275elementEnd()}}function v(a,i){if(1&a){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",32),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(n),e.\u0275\u0275nextContext().sortTable("customer_name","desc")}),e.\u0275\u0275elementEnd()}}function T(a,i){if(1&a){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",30),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(n),e.\u0275\u0275nextContext().sortTable("phone","desc")}),e.\u0275\u0275elementEnd()}}function E(a,i){if(1&a){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",31),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(n),e.\u0275\u0275nextContext().sortTable("phone","asc")}),e.\u0275\u0275elementEnd()}}function x(a,i){if(1&a){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",32),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(n),e.\u0275\u0275nextContext().sortTable("phone","desc")}),e.\u0275\u0275elementEnd()}}function P(a,i){if(1&a){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tr",33),e.\u0275\u0275listener("dblclick",function(){const d=e.\u0275\u0275restoreView(n).$implicit;return e.\u0275\u0275nextContext().selectRow(d)}),e.\u0275\u0275elementStart(1,"td"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"td"),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"td"),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()}if(2&a){const n=i.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(null==n?null:n.data().customer_code),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(null==n?null:n.data().customer_name),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(null==n?null:n.data().phone)}}function y(a,i){1&a&&(e.\u0275\u0275elementStart(0,"tr",34),e.\u0275\u0275elementStart(1,"td",35),e.\u0275\u0275elementStart(2,"div",36),e.\u0275\u0275elementStart(3,"span",37),e.\u0275\u0275text(4,"Loading..."),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd())}function I(a,i){1&a&&(e.\u0275\u0275elementStart(0,"tr",34),e.\u0275\u0275elementStart(1,"td",35),e.\u0275\u0275elementStart(2,"p",38),e.\u0275\u0275text(3,"No data available"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd())}let w=(()=>{class a{constructor(n){this.customersApi=n,this.rowSelected=new e.EventEmitter,this.customersGridData=[],this.isFetchingGridData=!1,this.isDataAvailable=!0,this.firstInResponse=[],this.lastInResponse=[],this.nextStartAfter=[],this.prevStartAt=[],this.pageNumber=0,this.disableNext=!1,this.disablePrev=!0,this.sortParams={field:"created_at",direction:"desc"}}ngOnInit(){}openModal(){this.customersGridData=[],this.getAccountCustomer(),this.openButton.nativeElement.click()}getAccountCustomer(){this.isFetchingGridData=!0,this.customersApi.getAccountCustomer(this.sortParams,15).then(n=>{console.log(n),this.customersGridData=n.docs,this.isFetchingGridData=!1,this.prevStartAt=this.firstInResponse,this.nextStartAfter=n.docs[n.docs.length-1],this.firstInResponse=n.docs[0],this.pageNumber=1,n.docs.length||(this.isDataAvailable=!1),!n.docs.length||n.docs.length<15?(this.disableNext=!0,this.disablePrev=!0):(this.disableNext=!1,this.disablePrev=!0)},n=>{console.log(n),this.isFetchingGridData=!1,this.connectionToast.openToast()})}nextPage(n){n.preventDefault(),this.isFetchingGridData=!0,this.customersApi.getAccountCustomerNext(this.sortParams,15,this.nextStartAfter).then(t=>{console.log(t),this.customersGridData=t.docs,this.isFetchingGridData=!1,this.prevStartAt=this.firstInResponse,this.nextStartAfter=t.docs[t.docs.length-1],this.firstInResponse=t.docs[0],this.pageNumber++,t.docs.length<15&&(this.disableNext=!0,this.disablePrev=!1)},t=>{console.log(t),this.isFetchingGridData=!1,this.connectionToast.openToast()})}previousPage(n){n.preventDefault(),this.isFetchingGridData=!0,this.customersApi.getAccountCustomerPrev(this.sortParams,15,this.prevStartAt).then(t=>{console.log(t),this.customersGridData=t.docs,this.isFetchingGridData=!1,t.docs.length||(this.isDataAvailable=!1),this.prevStartAt=this.firstInResponse,this.nextStartAfter=t.docs[t.docs.length-1],this.firstInResponse=t.docs[0],this.pageNumber--,1==this.pageNumber&&(this.disableNext=!1,this.disablePrev=!0)},t=>{console.log(t),this.isFetchingGridData=!1,this.connectionToast.openToast()})}sortTable(n,t){this.sortParams.field=n,this.sortParams.direction=t,this.getAccountCustomer()}selectRow(n){this.rowSelected.emit(n),this.closeButton.nativeElement.click(),console.log(n)}}return a.\u0275fac=function(n){return new(n||a)(e.\u0275\u0275directiveInject(p.M))},a.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["app-select-customer"]],viewQuery:function(n,t){if(1&n&&(e.\u0275\u0275viewQuery(m,5,e.ElementRef),e.\u0275\u0275viewQuery(l,5,e.ElementRef),e.\u0275\u0275viewQuery(c,5,u.Y)),2&n){let r;e.\u0275\u0275queryRefresh(r=e.\u0275\u0275loadQuery())&&(t.openButton=r.first),e.\u0275\u0275queryRefresh(r=e.\u0275\u0275loadQuery())&&(t.closeButton=r.first),e.\u0275\u0275queryRefresh(r=e.\u0275\u0275loadQuery())&&(t.connectionToast=r.first)}},outputs:{rowSelected:"rowSelected"},decls:52,vars:17,consts:[["data-bs-toggle","modal","data-bs-target","#selectCustomerModal",3,"hidden"],["openButtonElementReference",""],["id","selectCustomerModal","tabindex","-1","aria-labelledby","selectCustomerModalLabel","aria-hidden","true",1,"modal","fade","select-table-modal"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header","bg-light"],["id","selectCustomerModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body","overflow-auto"],[1,"table","table-bordered","table-sm","w-100","page-table"],[1,"bg-light"],["width","25%",1,"min-width-2"],["class","bi bi-filter float-end list-pointer",3,"click",4,"ngIf"],["class","bi bi-sort-down float-end list-pointer",3,"click",4,"ngIf"],["class","bi bi-sort-up float-end list-pointer",3,"click",4,"ngIf"],["width","50%",1,"min-width-3"],["class","table-pointer",3,"dblclick",4,"ngFor","ngForOf"],["class","text-center",4,"ngIf"],["colspan","3"],["aria-label","Page navigation",1,"nav-light","float-end"],[1,"pagination","pagination-sm","mb-0","justify-content-end"],[1,"page-item",3,"ngClass"],["href","#","aria-label","First",1,"page-link",3,"click"],[1,"bi","bi-caret-left-fill"],[1,"page-item"],["href","#","aria-label","Current",1,"page-link",3,"click"],["href","#","aria-label","Last",1,"page-link",3,"click"],[1,"bi","bi-caret-right-fill"],["closeButtonElementReference",""],["connectionToastComponentReference",""],[1,"bi","bi-filter","float-end","list-pointer",3,"click"],[1,"bi","bi-sort-down","float-end","list-pointer",3,"click"],[1,"bi","bi-sort-up","float-end","list-pointer",3,"click"],[1,"table-pointer",3,"dblclick"],[1,"text-center"],["colspan","4"],["role","status",1,"spinner-grow","m-4"],[1,"visually-hidden"],[1,"m-4"]],template:function(n,t){1&n&&(e.\u0275\u0275elementStart(0,"button",0,1),e.\u0275\u0275text(2," Launch demo modal\n"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",2),e.\u0275\u0275elementStart(4,"div",3),e.\u0275\u0275elementStart(5,"div",4),e.\u0275\u0275elementStart(6,"div",5),e.\u0275\u0275elementStart(7,"span",6),e.\u0275\u0275text(8,"Select Restaurant Customer"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(9,"button",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"div",8),e.\u0275\u0275elementStart(11,"table",9),e.\u0275\u0275elementStart(12,"thead"),e.\u0275\u0275elementStart(13,"tr",10),e.\u0275\u0275elementStart(14,"th",11),e.\u0275\u0275text(15," Customer ID "),e.\u0275\u0275template(16,f,1,0,"i",12),e.\u0275\u0275template(17,b,1,0,"i",13),e.\u0275\u0275template(18,g,1,0,"i",14),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"th",15),e.\u0275\u0275text(20," Customer Name "),e.\u0275\u0275template(21,S,1,0,"i",12),e.\u0275\u0275template(22,C,1,0,"i",13),e.\u0275\u0275template(23,v,1,0,"i",14),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(24,"th",11),e.\u0275\u0275text(25," Phone No. "),e.\u0275\u0275template(26,T,1,0,"i",12),e.\u0275\u0275template(27,E,1,0,"i",13),e.\u0275\u0275template(28,x,1,0,"i",14),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(29,"tbody"),e.\u0275\u0275template(30,P,7,3,"tr",16),e.\u0275\u0275template(31,y,5,0,"tr",17),e.\u0275\u0275template(32,I,4,0,"tr",17),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(33,"tfoot"),e.\u0275\u0275elementStart(34,"tr",10),e.\u0275\u0275elementStart(35,"td",18),e.\u0275\u0275elementStart(36,"nav",19),e.\u0275\u0275elementStart(37,"ul",20),e.\u0275\u0275elementStart(38,"li",21),e.\u0275\u0275elementStart(39,"a",22),e.\u0275\u0275listener("click",function(d){return t.previousPage(d)}),e.\u0275\u0275element(40,"i",23),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(41,"li",24),e.\u0275\u0275elementStart(42,"a",25),e.\u0275\u0275listener("click",function(d){return d.preventDefault()}),e.\u0275\u0275text(43),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(44,"li",21),e.\u0275\u0275elementStart(45,"a",26),e.\u0275\u0275listener("click",function(d){return t.nextPage(d)}),e.\u0275\u0275element(46,"i",27),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(47,"button",0,28),e.\u0275\u0275text(49," Launch demo modal "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(50,"app-connection-toast",null,29)),2&n&&(e.\u0275\u0275property("hidden",!0),e.\u0275\u0275advance(16),e.\u0275\u0275property("ngIf","customer_code"!=t.sortParams.field),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","customer_code"==t.sortParams.field&&"desc"==t.sortParams.direction),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","customer_code"==t.sortParams.field&&"asc"==t.sortParams.direction),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf","customer_name"!=t.sortParams.field),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","customer_name"==t.sortParams.field&&"desc"==t.sortParams.direction),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","customer_name"==t.sortParams.field&&"asc"==t.sortParams.direction),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf","phone"!=t.sortParams.field),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","phone"==t.sortParams.field&&"desc"==t.sortParams.direction),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","phone"==t.sortParams.field&&"asc"==t.sortParams.direction),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",t.customersGridData),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isFetchingGridData),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.isDataAvailable&&!t.isFetchingGridData),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngClass",t.disablePrev?"disabled":""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",t.pageNumber," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",t.disableNext?"disabled":""),e.\u0275\u0275advance(3),e.\u0275\u0275property("hidden",!0))},directives:[s.O5,s.sg,s.mk,u.Y],styles:[""]}),a})()},5725:(h,_,o)=>{o.d(_,{d:()=>w});var e=o(2741),u=o(1580),p=o(5239),s=o(6274);const m=["openButtonElementReference"],l=["closeButtonElementReference"],c=["connectionToastComponentReference"];function f(a,i){if(1&a){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",31),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(n),e.\u0275\u0275nextContext().sortTable("table_number","desc")}),e.\u0275\u0275elementEnd()}}function b(a,i){if(1&a){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",32),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(n),e.\u0275\u0275nextContext().sortTable("table_number","asc")}),e.\u0275\u0275elementEnd()}}function g(a,i){if(1&a){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",33),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(n),e.\u0275\u0275nextContext().sortTable("table_number","desc")}),e.\u0275\u0275elementEnd()}}function S(a,i){if(1&a){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",31),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(n),e.\u0275\u0275nextContext().sortTable("table_type","desc")}),e.\u0275\u0275elementEnd()}}function C(a,i){if(1&a){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",32),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(n),e.\u0275\u0275nextContext().sortTable("table_type","asc")}),e.\u0275\u0275elementEnd()}}function v(a,i){if(1&a){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",33),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(n),e.\u0275\u0275nextContext().sortTable("table_type","desc")}),e.\u0275\u0275elementEnd()}}function T(a,i){if(1&a){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",31),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(n),e.\u0275\u0275nextContext().sortTable("table_status","desc")}),e.\u0275\u0275elementEnd()}}function E(a,i){if(1&a){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",32),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(n),e.\u0275\u0275nextContext().sortTable("table_status","asc")}),e.\u0275\u0275elementEnd()}}function x(a,i){if(1&a){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",33),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(n),e.\u0275\u0275nextContext().sortTable("table_status","desc")}),e.\u0275\u0275elementEnd()}}function P(a,i){if(1&a){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tr",34),e.\u0275\u0275listener("dblclick",function(){const d=e.\u0275\u0275restoreView(n).$implicit;return e.\u0275\u0275nextContext().selectRow(d)}),e.\u0275\u0275elementStart(1,"td"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"td"),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"td"),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()}if(2&a){const n=i.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(null==n?null:n.data().table_number),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(null==n?null:n.data().table_type),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(null==n?null:n.data().table_status)}}function y(a,i){1&a&&(e.\u0275\u0275elementStart(0,"tr",35),e.\u0275\u0275elementStart(1,"td",19),e.\u0275\u0275elementStart(2,"div",36),e.\u0275\u0275elementStart(3,"span",37),e.\u0275\u0275text(4,"Loading..."),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd())}function I(a,i){1&a&&(e.\u0275\u0275elementStart(0,"tr",35),e.\u0275\u0275elementStart(1,"td",19),e.\u0275\u0275elementStart(2,"p",38),e.\u0275\u0275text(3,"No data available"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd())}let w=(()=>{class a{constructor(n){this.tablesApi=n,this.rowSelected=new e.EventEmitter,this.tablesGridData=[],this.isFetchingGridData=!1,this.isDataAvailable=!0,this.firstInResponse=[],this.lastInResponse=[],this.nextStartAfter=[],this.prevStartAt=[],this.pageNumber=0,this.disableNext=!0,this.disablePrev=!0,this.sortParams={field:"created_at",direction:"desc"}}ngOnInit(){}openModal(){this.tablesGridData=[],this.getAccountTable(),this.openButton.nativeElement.click()}getAccountTable(){this.isFetchingGridData=!0,this.tablesApi.getAccountTable(this.sortParams,15).then(n=>{console.log(n),this.tablesGridData=n.docs,this.isFetchingGridData=!1,this.prevStartAt=this.firstInResponse,this.nextStartAfter=n.docs[n.docs.length-1],this.firstInResponse=n.docs[0],this.pageNumber=1,n.docs.length||(this.isDataAvailable=!1),!n.docs.length||n.docs.length<15?(this.disableNext=!0,this.disablePrev=!0):(this.disableNext=!1,this.disablePrev=!0)},n=>{console.log(n),this.isFetchingGridData=!1,this.connectionToast.openToast()})}nextPage(n){n.preventDefault(),this.isFetchingGridData=!0,this.tablesApi.getAccountTableNext(this.sortParams,15,this.nextStartAfter).then(t=>{console.log(t),this.tablesGridData=t.docs,this.isFetchingGridData=!1,this.prevStartAt=this.firstInResponse,this.nextStartAfter=t.docs[t.docs.length-1],this.firstInResponse=t.docs[0],this.pageNumber++,t.docs.length<15&&(this.disableNext=!0,this.disablePrev=!1)},t=>{console.log(t),this.isFetchingGridData=!1,this.connectionToast.openToast()})}previousPage(n){n.preventDefault(),this.isFetchingGridData=!0,this.tablesApi.getAccountTablePrev(this.sortParams,15,this.prevStartAt).then(t=>{console.log(t),this.tablesGridData=t.docs,this.isFetchingGridData=!1,t.docs.length||(this.isDataAvailable=!1),this.prevStartAt=this.firstInResponse,this.nextStartAfter=t.docs[t.docs.length-1],this.firstInResponse=t.docs[0],this.pageNumber--,1==this.pageNumber&&(this.disableNext=!1,this.disablePrev=!0)},t=>{console.log(t),this.isFetchingGridData=!1,this.connectionToast.openToast()})}sortTable(n,t){this.sortParams.field=n,this.sortParams.direction=t,this.getAccountTable()}selectRow(n){this.rowSelected.emit(n),this.closeButton.nativeElement.click(),console.log(n)}}return a.\u0275fac=function(n){return new(n||a)(e.\u0275\u0275directiveInject(p.j))},a.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["app-select-table"]],viewQuery:function(n,t){if(1&n&&(e.\u0275\u0275viewQuery(m,5,e.ElementRef),e.\u0275\u0275viewQuery(l,5,e.ElementRef),e.\u0275\u0275viewQuery(c,5,u.Y)),2&n){let r;e.\u0275\u0275queryRefresh(r=e.\u0275\u0275loadQuery())&&(t.openButton=r.first),e.\u0275\u0275queryRefresh(r=e.\u0275\u0275loadQuery())&&(t.closeButton=r.first),e.\u0275\u0275queryRefresh(r=e.\u0275\u0275loadQuery())&&(t.connectionToast=r.first)}},outputs:{rowSelected:"rowSelected"},decls:52,vars:17,consts:[["data-bs-toggle","modal","data-bs-target","#selectTableModal",3,"hidden"],["openButtonElementReference",""],["id","selectTableModal","tabindex","-1","aria-labelledby","selectTableModalLabel","aria-hidden","true",1,"modal","fade","select-table-modal"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header","bg-light"],["id","selectTableModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body","overflow-auto"],[1,"table","table-bordered","table-sm","w-100","page-table"],[1,"bg-light"],["width","30%",1,"min-width-2"],["class","bi bi-filter float-end list-pointer",3,"click",4,"ngIf"],["class","bi bi-sort-down float-end list-pointer",3,"click",4,"ngIf"],["class","bi bi-sort-up float-end list-pointer",3,"click",4,"ngIf"],["width","35%",1,"min-width-3"],["width","35%",1,"min-width-2"],["class","table-pointer",3,"dblclick",4,"ngFor","ngForOf"],["class","text-center",4,"ngIf"],["colspan","3"],["aria-label","Page navigation",1,"nav-light","float-end"],[1,"pagination","pagination-sm","mb-0","justify-content-end"],[1,"page-item",3,"ngClass"],["href","#","aria-label","First",1,"page-link",3,"click"],[1,"bi","bi-caret-left-fill"],[1,"page-item"],["href","#","aria-label","Current",1,"page-link",3,"click"],["href","#","aria-label","Last",1,"page-link",3,"click"],[1,"bi","bi-caret-right-fill"],["closeButtonElementReference",""],["connectionToastComponentReference",""],[1,"bi","bi-filter","float-end","list-pointer",3,"click"],[1,"bi","bi-sort-down","float-end","list-pointer",3,"click"],[1,"bi","bi-sort-up","float-end","list-pointer",3,"click"],[1,"table-pointer",3,"dblclick"],[1,"text-center"],["role","status",1,"spinner-grow","m-4"],[1,"visually-hidden"],[1,"m-4"]],template:function(n,t){1&n&&(e.\u0275\u0275elementStart(0,"button",0,1),e.\u0275\u0275text(2," Launch demo modal\n"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",2),e.\u0275\u0275elementStart(4,"div",3),e.\u0275\u0275elementStart(5,"div",4),e.\u0275\u0275elementStart(6,"div",5),e.\u0275\u0275elementStart(7,"span",6),e.\u0275\u0275text(8,"Select Restaurant Table"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(9,"button",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"div",8),e.\u0275\u0275elementStart(11,"table",9),e.\u0275\u0275elementStart(12,"thead"),e.\u0275\u0275elementStart(13,"tr",10),e.\u0275\u0275elementStart(14,"th",11),e.\u0275\u0275text(15," Table No. "),e.\u0275\u0275template(16,f,1,0,"i",12),e.\u0275\u0275template(17,b,1,0,"i",13),e.\u0275\u0275template(18,g,1,0,"i",14),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"th",15),e.\u0275\u0275text(20," Table Type "),e.\u0275\u0275template(21,S,1,0,"i",12),e.\u0275\u0275template(22,C,1,0,"i",13),e.\u0275\u0275template(23,v,1,0,"i",14),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(24,"th",16),e.\u0275\u0275text(25," Table Status "),e.\u0275\u0275template(26,T,1,0,"i",12),e.\u0275\u0275template(27,E,1,0,"i",13),e.\u0275\u0275template(28,x,1,0,"i",14),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(29,"tbody"),e.\u0275\u0275template(30,P,7,3,"tr",17),e.\u0275\u0275template(31,y,5,0,"tr",18),e.\u0275\u0275template(32,I,4,0,"tr",18),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(33,"tfoot"),e.\u0275\u0275elementStart(34,"tr",10),e.\u0275\u0275elementStart(35,"td",19),e.\u0275\u0275elementStart(36,"nav",20),e.\u0275\u0275elementStart(37,"ul",21),e.\u0275\u0275elementStart(38,"li",22),e.\u0275\u0275elementStart(39,"a",23),e.\u0275\u0275listener("click",function(d){return t.previousPage(d)}),e.\u0275\u0275element(40,"i",24),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(41,"li",25),e.\u0275\u0275elementStart(42,"a",26),e.\u0275\u0275listener("click",function(d){return d.preventDefault()}),e.\u0275\u0275text(43),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(44,"li",22),e.\u0275\u0275elementStart(45,"a",27),e.\u0275\u0275listener("click",function(d){return t.nextPage(d)}),e.\u0275\u0275element(46,"i",28),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(47,"button",0,29),e.\u0275\u0275text(49," Launch demo modal "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(50,"app-connection-toast",null,30)),2&n&&(e.\u0275\u0275property("hidden",!0),e.\u0275\u0275advance(16),e.\u0275\u0275property("ngIf","table_number"!=t.sortParams.field),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","table_number"==t.sortParams.field&&"desc"==t.sortParams.direction),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","table_number"==t.sortParams.field&&"asc"==t.sortParams.direction),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf","table_type"!=t.sortParams.field),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","table_type"==t.sortParams.field&&"desc"==t.sortParams.direction),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","table_type"==t.sortParams.field&&"asc"==t.sortParams.direction),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf","table_status"!=t.sortParams.field),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","table_status"==t.sortParams.field&&"desc"==t.sortParams.direction),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","table_status"==t.sortParams.field&&"asc"==t.sortParams.direction),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",t.tablesGridData),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isFetchingGridData),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.isDataAvailable&&!t.isFetchingGridData),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngClass",t.disablePrev?"disabled":""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",t.pageNumber," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",t.disableNext?"disabled":""),e.\u0275\u0275advance(3),e.\u0275\u0275property("hidden",!0))},directives:[s.O5,s.sg,s.mk,u.Y],styles:[""]}),a})()},8731:(h,_,o)=>{o.d(_,{Z:()=>s});var e=o(6274),u=o(5018),p=o(2741);let s=(()=>{class m{}return m.\u0275fac=function(c){return new(c||m)},m.\u0275mod=p.\u0275\u0275defineNgModule({type:m}),m.\u0275inj=p.\u0275\u0275defineInjector({imports:[[e.ez,u.p]]}),m})()},365:(h,_,o)=>{o.d(_,{M:()=>p});var e=o(2741),u=o(9805);let p=(()=>{class s{constructor(l){this.afs=l,this.customerRef=this.afs.collection("restaurant/module_customers/restaurant_customer")}createCustomer(l){return this.customerRef.add(l)}getCustomer(){return this.customerRef.doc(String(sessionStorage.getItem("restaurant_customer_id"))).ref.get()}updateCustomer(l){return this.customerRef.doc(String(sessionStorage.getItem("restaurant_customer_id"))).update(l)}deleteCustomer(){return this.customerRef.doc(String(sessionStorage.getItem("restaurant_customer_id"))).delete()}getAccountCustomer(l,c){return this.customerRef.ref.where("account","==",localStorage.getItem("restaurant_id")).orderBy(null==l?void 0:l.field,null==l?void 0:l.direction).limit(c).get()}getAccountCustomerNext(l,c,f){return this.customerRef.ref.where("account","==",localStorage.getItem("restaurant_id")).orderBy(null==l?void 0:l.field,null==l?void 0:l.direction).startAfter(f).limit(c).get()}getAccountCustomerPrev(l,c,f){return this.customerRef.ref.where("account","==",localStorage.getItem("restaurant_id")).orderBy(null==l?void 0:l.field,null==l?void 0:l.direction).startAt(f).limit(c).get()}getAllAccountCustomer(){return this.customerRef.ref.where("account","==",localStorage.getItem("restaurant_id")).orderBy("created_by","desc").get()}getWeekCustomer(l,c){return this.customerRef.ref.where("account","==",localStorage.getItem("restaurant_id")).where("created_at","<=",l).where("created_at",">=",c).get()}}return s.\u0275fac=function(l){return new(l||s)(e.\u0275\u0275inject(u.ST))},s.\u0275prov=e.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()},5239:(h,_,o)=>{o.d(_,{j:()=>p});var e=o(2741),u=o(9805);let p=(()=>{class s{constructor(l){this.afs=l,this.tableRef=this.afs.collection("restaurant/module_tables/restaurant_table")}createTable(l){return this.tableRef.add(l)}getTable(l){return this.tableRef.doc(l).ref.get()}updateTable(l,c){return console.log(l),console.log(c),this.tableRef.doc(l).update(c)}deleteTable(l){return this.tableRef.doc(l).delete()}getAccountTable(l,c){return this.tableRef.ref.where("account","==",localStorage.getItem("restaurant_id")).orderBy(null==l?void 0:l.field,null==l?void 0:l.direction).limit(c).get()}getAccountTableNext(l,c,f){return this.tableRef.ref.where("account","==",localStorage.getItem("restaurant_id")).orderBy(null==l?void 0:l.field,null==l?void 0:l.direction).startAfter(f).limit(c).get()}getAccountTablePrev(l,c,f){return this.tableRef.ref.where("account","==",localStorage.getItem("restaurant_id")).orderBy(null==l?void 0:l.field,null==l?void 0:l.direction).startAt(f).limit(c).get()}getAllAccountTable(){return this.tableRef.ref.where("account","==",localStorage.getItem("restaurant_id")).orderBy("created_at","desc").get()}}return s.\u0275fac=function(l){return new(l||s)(e.\u0275\u0275inject(u.ST))},s.\u0275prov=e.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()}}]);