"use strict";(self.webpackChunkang_fire=self.webpackChunkang_fire||[]).push([[151],{2151:(Je,F,d)=>{d.r(F),d.d(F,{OrdersPageModule:()=>ze});var f=d(6274),h=d(8718),e=d(2741),L=d(8088),G=d(7632);let B=(()=>{class r{constructor(){this.navLinks=[{text:"All Orders",url:"/home/orders/all-orders",icon:"bi bi-list-ul"}]}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["app-orders-page"]],decls:6,vars:4,consts:[[3,"navBrand","source"],["id","wrapper"],[3,"navLinks","heading"],["id","content-wrapper",1,"d-flex","flex-column"],["id","content"]],template:function(t,n){1&t&&(e.\u0275\u0275element(0,"app-main-navbar",0),e.\u0275\u0275elementStart(1,"div",1),e.\u0275\u0275element(2,"app-module-sidenav",2),e.\u0275\u0275elementStart(3,"div",3),e.\u0275\u0275elementStart(4,"div",4),e.\u0275\u0275element(5,"router-outlet"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275property("navBrand","nR Restaurant")("source","Restaurant"),e.\u0275\u0275advance(2),e.\u0275\u0275property("navLinks",n.navLinks)("heading","Orders"))},directives:[L.D,G.m,h.lC],styles:[""]}),r})();var j=d(8361),C=d.n(j),_=d(1580),b=d(1766),I=d(8972),A=d(6508);const Y=["connectionToastComponentReference"];let q=(()=>{class r{constructor(t){this.ordersApi=t,this.navHeading=[{text:"Dashboard",url:"/home/orders/dashboard"}],this.weekOrdersCount=0,this.ordersLineChartData=[{data:[0],label:"Menu Groups"}],this.ordersLineChartLabels=[""],this.chartOptions={},this.today=C()()}ngOnInit(){this.initChart(),this.getWeekOrder()}initChart(){this.chartOptions={responsive:!0,scales:{yAxes:[{min:0,ticks:{stepSize:1,beginAtZero:!0}}]}}}getWeekOrder(){this.ordersApi.getWeekOrder(C()(this.today).add(-1,"months").toDate(),this.today.toDate()).then(t=>{console.log(t),this.weekOrdersData=t.docs,this.weekOrdersCount=t.docs.length,this.setOrderChartData()},t=>{console.log(t),this.connectionToast.openToast()})}setOrderChartData(){this.ordersLineChartLabels=[];for(let o=6;o>=0;o--){var t=C()(this.today).add(-o,"days");this.ordersLineChartLabels.push(t.toDate().toISOString().slice(0,10))}console.log(this.ordersLineChartLabels);let n=[];for(let o=6;o>=0;o--)n.push(0);console.log(n),this.weekOrdersData.forEach(o=>{var a=o.data().created_at.toDate().toISOString().slice(0,10);for(let m=6;m>=0;m--)this.ordersLineChartLabels[m]==a&&n[m]++}),console.log(n),this.ordersLineChartData=[{data:n,label:"Orders"}]}}return r.\u0275fac=function(t){return new(t||r)(e.\u0275\u0275directiveInject(b.O))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["app-dashboard"]],viewQuery:function(t,n){if(1&t&&e.\u0275\u0275viewQuery(Y,5,_.Y),2&t){let o;e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n.connectionToast=o.first)}},decls:23,vars:7,consts:[[3,"headings"],[1,"container"],[1,"row"],[1,"col-md-3","mb-4"],[1,"card","border-left-secondary","shadow","h-100","py-2"],[1,"card-body"],[1,"row","no-gutters","align-items-center"],[1,"col","mr-2"],[1,"text-xs","font-weight-bold","text-uppercase","mb-1"],[1,"h5","mb-0","font-weight-bold","text-gray-800"],[1,"col-md-8"],[1,"card","shadow","mb-4"],[1,"card-header","py-3","d-flex","flex-row","align-items-center","justify-content-between"],[1,"m-0","font-weight-bold"],[1,"chart-area"],["baseChart","",3,"datasets","labels","options","legend","chartType"],["connectionToastComponentReference",""]],template:function(t,n){1&t&&(e.\u0275\u0275element(0,"app-module-topnav",0),e.\u0275\u0275elementStart(1,"div",1),e.\u0275\u0275elementStart(2,"div",2),e.\u0275\u0275elementStart(3,"div",3),e.\u0275\u0275elementStart(4,"div",4),e.\u0275\u0275elementStart(5,"div",5),e.\u0275\u0275elementStart(6,"div",6),e.\u0275\u0275elementStart(7,"div",7),e.\u0275\u0275elementStart(8,"div",8),e.\u0275\u0275text(9,"Orders this Week"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"div",9),e.\u0275\u0275text(11),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"div",2),e.\u0275\u0275elementStart(13,"div",10),e.\u0275\u0275elementStart(14,"div",11),e.\u0275\u0275elementStart(15,"div",12),e.\u0275\u0275elementStart(16,"h6",13),e.\u0275\u0275text(17,"Total Orders by Day"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"div",5),e.\u0275\u0275elementStart(19,"div",14),e.\u0275\u0275element(20,"canvas",15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(21,"app-connection-toast",null,16)),2&t&&(e.\u0275\u0275property("headings",n.navHeading),e.\u0275\u0275advance(11),e.\u0275\u0275textInterpolate(n.weekOrdersCount),e.\u0275\u0275advance(9),e.\u0275\u0275property("datasets",n.ordersLineChartData)("labels",n.ordersLineChartLabels)("options",n.chartOptions)("legend",!0)("chartType","line"))},directives:[I.H,A.jh,_.Y],styles:[""]}),r})();var i=d(3324),O=d(756),S=d(2521),y=d(5725),W=d(9416);const H=["newButtonElementReference"],z=["dismissButtonElementReference"],J=["connectionToastComponentReference"],U=["selectCustomerComponentReference"],Z=["selectTableComponentReference"];let D=(()=>{class r{constructor(t,n,o){this.router=t,this.ordersApi=n,this.deliveriesApi=o,this.orderForm=new i.cw({}),this.selectedCustomerId="",this.selectedTableId="",this.isOrderSaving=!1}ngOnInit(){this.initOrderForm()}openModal(){this.newButton.nativeElement.click(),this.orderForm.controls.orderDate.setValue((new Date).toISOString().slice(0,16))}initOrderForm(){this.orderForm=new i.cw({orderCode:new i.NI(""),orderDate:new i.NI(""),customerName:new i.NI(""),orderType:new i.NI(""),tableNumber:new i.NI({value:"",disabled:!0})})}createOrder(){let t={created_at:(0,O.Bt)(),account:localStorage.getItem("restaurant_id"),order_code:this.orderForm.controls.orderCode.value,order_date:this.orderForm.controls.orderDate.value,order_type:this.orderForm.controls.orderType.value,total_amount:0,order_status:"",customer:{id:this.selectedCustomerId,customer_name:this.orderForm.controls.customerName.value},table:{id:this.selectedTableId,table_number:this.orderForm.controls.tableNumber.value}};console.log(t),this.isOrderSaving=!0,this.ordersApi.createOrder(t).then(n=>{console.log(n),n.id&&(sessionStorage.setItem("restaurant_order_id",n.id),"Delivery"==t.order_type&&this.createDelivery(),this.dismissButton.nativeElement.click(),this.isOrderSaving=!1,this.router.navigateByUrl("/home/orders/view-order"))},n=>{console.log(n),this.isOrderSaving=!1,this.connectionToast.openToast()}),console.log(t)}openCustomerWindow(){console.log("You are opening select customer window"),this.selectCustomer.openModal()}onCustomerSelected(t){console.log(t),this.orderForm.controls.customerName.setValue(t.data().customer_name),this.selectedCustomerId=t.id}openTableWindow(){console.log("You are opening select table window"),this.selectTable.openModal()}onTableSelected(t){console.log(t),this.selectedTableId=t.id,this.orderForm.controls.tableNumber.setValue(t.data().table_number)}createDelivery(){let t={created_at:(0,O.Bt)(),account:localStorage.getItem("restaurant_id"),delivery_location:"",delivery_status:"",date_delivered:"",order:{order_code:this.orderForm.controls.orderCode.value,order_date:this.orderForm.controls.orderDate.value,customer:{id:this.selectedCustomerId,customer_name:this.orderForm.controls.customerName.value}}};this.deliveriesApi.createDelivery(t).then(n=>{console.log(n)},n=>{console.log(n),this.connectionToast.openToast()}),console.log(t)}}return r.\u0275fac=function(t){return new(t||r)(e.\u0275\u0275directiveInject(h.F0),e.\u0275\u0275directiveInject(b.O),e.\u0275\u0275directiveInject(W.g))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["app-add-order"]],viewQuery:function(t,n){if(1&t&&(e.\u0275\u0275viewQuery(H,5,e.ElementRef),e.\u0275\u0275viewQuery(z,5,e.ElementRef),e.\u0275\u0275viewQuery(J,5,_.Y),e.\u0275\u0275viewQuery(U,5,S.a),e.\u0275\u0275viewQuery(Z,5,y.d)),2&t){let o;e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n.newButton=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n.dismissButton=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n.connectionToast=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n.selectCustomer=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n.selectTable=o.first)}},decls:66,vars:3,consts:[["data-bs-toggle","modal","data-bs-target","#addOrderModal",3,"hidden"],["newButtonElementReference",""],["id","addOrderModal","tabindex","-1","aria-labelledby","addOrderModalLabel","aria-hidden","true",1,"modal","fade","form-modal"],[1,"modal-dialog"],[1,"modal-content"],[1,"page-form",3,"formGroup","ngSubmit"],[1,"modal-header","bg-light"],["id","addOrderModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],["dismissButtonElementReference",""],[1,"modal-body"],[1,"row","mb-1"],[1,"col-md-4"],[1,"float-md-end","float-sm-start","mt-1"],[1,"col-md-8"],["formControlName","orderCode",1,"form-control","form-control-sm","w-100"],["type","datetime-local","formControlName","orderDate",1,"form-control","form-control-sm","w-100"],[1,"input-group","input-group-sm","w-100"],["formControlName","customerName",1,"form-control"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"bi","bi-three-dots"],["formControlName","orderType",1,"form-control","form-control-sm","w-100"],["formControlName","tableNumber",1,"form-control"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-secondary","modal-form-btn",3,"disabled"],["type","button","data-bs-dismiss","modal",1,"btn","btn-sm","btn-secondary","modal-form-btn"],["connectionToastComponentReference",""],[3,"rowSelected"],["selectCustomerComponentReference",""],["selectTableComponentReference",""]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"button",0,1),e.\u0275\u0275text(2," Launch demo modal\n"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",2),e.\u0275\u0275elementStart(4,"div",3),e.\u0275\u0275elementStart(5,"div",4),e.\u0275\u0275elementStart(6,"form",5),e.\u0275\u0275listener("ngSubmit",function(){return n.createOrder()}),e.\u0275\u0275elementStart(7,"div",6),e.\u0275\u0275elementStart(8,"span",7),e.\u0275\u0275text(9,"Add New Order"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(10,"button",8,9),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"div",10),e.\u0275\u0275elementStart(13,"div",11),e.\u0275\u0275elementStart(14,"div",12),e.\u0275\u0275elementStart(15,"label",13),e.\u0275\u0275text(16,"Order ID :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"div",14),e.\u0275\u0275element(18,"input",15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"div",11),e.\u0275\u0275elementStart(20,"div",12),e.\u0275\u0275elementStart(21,"label",13),e.\u0275\u0275text(22,"Order Date :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"div",14),e.\u0275\u0275element(24,"input",16),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(25,"div",11),e.\u0275\u0275elementStart(26,"div",12),e.\u0275\u0275elementStart(27,"label",13),e.\u0275\u0275text(28,"Customer Name :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(29,"div",14),e.\u0275\u0275elementStart(30,"div",17),e.\u0275\u0275element(31,"input",18),e.\u0275\u0275elementStart(32,"button",19),e.\u0275\u0275listener("click",function(){return n.openCustomerWindow()}),e.\u0275\u0275element(33,"i",20),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(34,"div",11),e.\u0275\u0275elementStart(35,"div",12),e.\u0275\u0275elementStart(36,"label",13),e.\u0275\u0275text(37,"Order Type :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(38,"div",14),e.\u0275\u0275elementStart(39,"select",21),e.\u0275\u0275elementStart(40,"option"),e.\u0275\u0275text(41,"Dine In"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(42,"option"),e.\u0275\u0275text(43,"Delivery"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(44,"option"),e.\u0275\u0275text(45,"Take Away"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(46,"div",11),e.\u0275\u0275elementStart(47,"div",12),e.\u0275\u0275elementStart(48,"label",13),e.\u0275\u0275text(49,"Table No. :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(50,"div",14),e.\u0275\u0275elementStart(51,"div",17),e.\u0275\u0275element(52,"input",22),e.\u0275\u0275elementStart(53,"button",19),e.\u0275\u0275listener("click",function(){return n.openTableWindow()}),e.\u0275\u0275element(54,"i",20),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(55,"div",23),e.\u0275\u0275elementStart(56,"button",24),e.\u0275\u0275text(57,"Save"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(58,"button",25),e.\u0275\u0275text(59,"Cancel"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(60,"app-connection-toast",null,26),e.\u0275\u0275elementStart(62,"app-select-customer",27,28),e.\u0275\u0275listener("rowSelected",function(a){return n.onCustomerSelected(a)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(64,"app-select-table",27,29),e.\u0275\u0275listener("rowSelected",function(a){return n.onTableSelected(a)}),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275property("hidden",!0),e.\u0275\u0275advance(6),e.\u0275\u0275property("formGroup",n.orderForm),e.\u0275\u0275advance(50),e.\u0275\u0275property("disabled",n.isOrderSaving))},directives:[i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u,i.EJ,i.YN,i.Kr,_.Y,S.a,y.d],styles:[""]}),r})();var w=d(1921),$=d(6424);let k=(()=>{class r{constructor(t,n){this.pdfPrint=t,this.ordersApi=n}printAllOrders(){var t=this;return(0,w.Z)(function*(){const n=yield t.ordersApi.getAllAccountOrder();var o=[["Order ID","Order Date","Customer Name","Total Amount"]];for(let c of n.docs){var a=[];let u=c.data();a.push(u.order_code),a.push(u.order_date),a.push(u.customer.customer_name),a.push(u.total_amount),o.push(a)}t.pdfPrint.openPdf([{layout:"lightHorizontalLines",table:{headerRows:1,widths:["20%","25%","35%","20%"],body:o}}])})()}printViewOrder(){var t=this;return(0,w.Z)(function*(){const n=t.ordersApi.getOrder(),o=t.ordersApi.getOrderOrderItem(),[a,m]=yield Promise.all([n,o]);let c=a.data();var u=[["Menu Item","Item Price","Quantity","Total Price"]];for(let v of m.docs){var p=[];let s=v.data();p.push(s.menu_item.data.item_name),p.push(s.menu_item.data.price),p.push(s.quantity),p.push(s.menu_item.data.price*s.quantity),u.push(p)}var g=0;for(let v of m.docs){let s=v.data();g+=s.menu_item.data.price*s.quantity}u.push(["","","",g.toString()]),t.pdfPrint.openPdf([{columns:[[{text:"Order ID: "+c.order_code},{text:"Order Date: "+c.order_date},{text:"Customer Name: "+c.customer.customer_name}],[{text:"Order Type: "+c.order_type},{text:"Order Status: "+c.order_tatus}]]},{text:"Order Items",bold:!0,margin:[0,20,0,10]},{layout:"lightHorizontalLines",table:{headerRows:1,widths:["35%","20%","15%","20%"],body:u}}])})()}printOrderRoll(){var t=this;return(0,w.Z)(function*(){const n=t.ordersApi.getOrder(),o=t.ordersApi.getOrderOrderItem(),[a,m]=yield Promise.all([n,o]);let c=a.data();var u=[["Menu Item","Item Price","Quantity","Total Price"]];for(let v of m.docs){var p=[];let s=v.data();p.push(s.menu_item.data.item_name),p.push(s.menu_item.data.price),p.push(s.quantity),p.push(s.menu_item.data.price*s.quantity),u.push(p)}var g=0;for(let v of m.docs){let s=v.data();g+=s.menu_item.data.price*s.quantity}u.push(["","","",g.toString()]),t.pdfPrint.printRoll([{columns:[[{text:"Order ID: "+c.order_code},{text:"Order Date: "+c.order_date},{text:"Customer Name: "+c.customer.customer_name},{text:"Order Type: "+c.order_type},{text:"Order Status: "+c.order_tatus}]]},{text:"Order Items",bold:!0,margin:[0,20,0,10]},{layout:"lightHorizontalLines",table:{headerRows:1,widths:["35%","20%","15%","20%"],body:u}}])})()}}return r.\u0275fac=function(t){return new(t||r)(e.\u0275\u0275inject($.n),e.\u0275\u0275inject(b.O))},r.\u0275prov=e.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const K=["addOrderComponentReference"],X=["connectionToastComponentReference"];function ee(r,l){if(1&r){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",33),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("order_code","desc")}),e.\u0275\u0275elementEnd()}}function te(r,l){if(1&r){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",34),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("order_code","asc")}),e.\u0275\u0275elementEnd()}}function ne(r,l){if(1&r){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",35),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("order_code","desc")}),e.\u0275\u0275elementEnd()}}function re(r,l){if(1&r){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",33),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("order_date","desc")}),e.\u0275\u0275elementEnd()}}function oe(r,l){if(1&r){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",34),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("order_date","asc")}),e.\u0275\u0275elementEnd()}}function le(r,l){if(1&r){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",35),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("order_date","desc")}),e.\u0275\u0275elementEnd()}}function ie(r,l){if(1&r){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",33),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("customer_name","desc")}),e.\u0275\u0275elementEnd()}}function ae(r,l){if(1&r){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",34),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("customer_name","asc")}),e.\u0275\u0275elementEnd()}}function de(r,l){if(1&r){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",35),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("customer_name","desc")}),e.\u0275\u0275elementEnd()}}function se(r,l){if(1&r){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",33),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("order_type","desc")}),e.\u0275\u0275elementEnd()}}function me(r,l){if(1&r){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",34),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("order_type","asc")}),e.\u0275\u0275elementEnd()}}function ce(r,l){if(1&r){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",35),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("order_type","desc")}),e.\u0275\u0275elementEnd()}}function ue(r,l){if(1&r){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",33),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("total_amount","desc")}),e.\u0275\u0275elementEnd()}}function pe(r,l){if(1&r){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",34),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("total_amount","asc")}),e.\u0275\u0275elementEnd()}}function _e(r,l){if(1&r){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",35),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("total_amount","desc")}),e.\u0275\u0275elementEnd()}}function fe(r,l){if(1&r){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tr",36),e.\u0275\u0275listener("dblclick",function(){const a=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275nextContext().viewOrder(a.id)}),e.\u0275\u0275elementStart(1,"td"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"td"),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"date"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"td"),e.\u0275\u0275text(7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"td"),e.\u0275\u0275text(9),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"td"),e.\u0275\u0275text(11),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()}if(2&r){const t=l.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(null==t?null:t.data().order_code),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(5,5,null==t?null:t.data().order_date)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(null==t?null:t.data().customer.customer_name),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(null==t?null:t.data().order_type),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(null==t?null:t.data().total_amount)}}function he(r,l){1&r&&(e.\u0275\u0275elementStart(0,"tr",37),e.\u0275\u0275elementStart(1,"td",21),e.\u0275\u0275elementStart(2,"div",38),e.\u0275\u0275elementStart(3,"span",39),e.\u0275\u0275text(4,"Loading..."),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd())}function ve(r,l){1&r&&(e.\u0275\u0275elementStart(0,"tr",37),e.\u0275\u0275elementStart(1,"td",21),e.\u0275\u0275elementStart(2,"p",40),e.\u0275\u0275text(3,"No data available"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd())}let R=(()=>{class r{constructor(t,n,o){this.router=t,this.ordersApi=n,this.ordersPrint=o,this.navHeading=[{text:"All Orders",url:"/home/orders/all-orders"}],this.ordersGridData=[],this.isFetchingGridData=!1,this.isDataAvailable=!0,this.firstInResponse=[],this.lastInResponse=[],this.nextStartAfter=[],this.prevStartAt=[],this.pageNumber=0,this.disableNext=!0,this.disablePrev=!0,this.sortParams={field:"created_at",direction:"desc"}}ngOnInit(){this.getAccountOrder()}getAccountOrder(){this.isFetchingGridData=!0,this.ordersApi.getAccountOrder(this.sortParams,20).then(t=>{console.log(t),this.ordersGridData=t.docs,this.isFetchingGridData=!1,this.prevStartAt=this.firstInResponse,this.nextStartAfter=t.docs[t.docs.length-1],this.firstInResponse=t.docs[0],this.pageNumber=1,this.isDataAvailable=!!t.docs.length,!t.docs.length||t.docs.length<20?(this.disableNext=!0,this.disablePrev=!0):(this.disableNext=!1,this.disablePrev=!0)},t=>{console.log(t),this.isFetchingGridData=!1,this.connectionToast.openToast()})}nextPage(t){t.preventDefault(),this.isFetchingGridData=!0,this.ordersApi.getAccountOrderNext(this.sortParams,20,this.nextStartAfter).then(n=>{console.log(n),this.ordersGridData=n.docs,this.isFetchingGridData=!1,this.prevStartAt=this.firstInResponse,this.nextStartAfter=n.docs[n.docs.length-1],this.firstInResponse=n.docs[0],this.pageNumber++,n.docs.length<20&&(this.disableNext=!0,this.disablePrev=!1)},n=>{console.log(n),this.isFetchingGridData=!1,this.connectionToast.openToast()})}previousPage(t){t.preventDefault(),this.isFetchingGridData=!0,this.ordersApi.getAccountOrderPrev(this.sortParams,20,this.prevStartAt).then(n=>{console.log(n),this.ordersGridData=n.docs,this.isFetchingGridData=!1,n.docs.length||(this.isDataAvailable=!1),this.prevStartAt=this.firstInResponse,this.nextStartAfter=n.docs[n.docs.length-1],this.firstInResponse=n.docs[0],this.pageNumber--,1==this.pageNumber&&(this.disableNext=!1,this.disablePrev=!0)},n=>{console.log(n),this.isFetchingGridData=!1,this.connectionToast.openToast()})}sortTable(t,n){this.sortParams.field=t,this.sortParams.direction=n,this.getAccountOrder()}viewOrder(t){console.log(t),sessionStorage.setItem("restaurant_order_id",t),this.router.navigateByUrl("/home/orders/view-order")}onPrint(){console.log("lets start printing..."),this.ordersPrint.printAllOrders()}}return r.\u0275fac=function(t){return new(t||r)(e.\u0275\u0275directiveInject(h.F0),e.\u0275\u0275directiveInject(b.O),e.\u0275\u0275directiveInject(k))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["app-all-orders"]],viewQuery:function(t,n){if(1&t&&(e.\u0275\u0275viewQuery(K,5,D),e.\u0275\u0275viewQuery(X,5,_.Y)),2&t){let o;e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n.addOrder=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n.connectionToast=o.first)}},decls:61,vars:24,consts:[[3,"headings","showPrint","print"],[1,"container"],[1,"row"],[1,"col-md-10"],[1,"row","mb-3"],[1,"col-md-12"],[1,"btn","btn-secondary","page-add-btn",3,"click"],[1,"btn","btn-light","border","float-end","page-refresh-btn",3,"disabled","click"],[1,"bi","bi-arrow-clockwise"],[1,"overflow-auto"],[1,"table","table-bordered","table-sm","w-100","page-table"],[1,"bg-light"],["width","15%",1,"min-width-2"],["class","bi bi-filter float-end list-pointer",3,"click",4,"ngIf"],["class","bi bi-sort-down float-end list-pointer",3,"click",4,"ngIf"],["class","bi bi-sort-up float-end list-pointer",3,"click",4,"ngIf"],["width","20%",1,"min-width-3"],["width","30%",1,"min-width-3"],["width","20%",1,"min-width-2"],["class","table-pointer",3,"dblclick",4,"ngFor","ngForOf"],["class","text-center",4,"ngIf"],["colspan","5"],["aria-label","Page navigation",1,"nav-light","float-end"],[1,"pagination","pagination-sm","mb-0","justify-content-end"],[1,"page-item",3,"ngClass"],["href","#","aria-label","First",1,"page-link",3,"click"],[1,"bi","bi-caret-left-fill"],[1,"page-item"],["href","#","aria-label","Current",1,"page-link",3,"click"],["href","#","aria-label","Last",1,"page-link",3,"click"],[1,"bi","bi-caret-right-fill"],["connectionToastComponentReference",""],["addOrderComponentReference",""],[1,"bi","bi-filter","float-end","list-pointer",3,"click"],[1,"bi","bi-sort-down","float-end","list-pointer",3,"click"],[1,"bi","bi-sort-up","float-end","list-pointer",3,"click"],[1,"table-pointer",3,"dblclick"],[1,"text-center"],["role","status",1,"spinner-grow","m-4"],[1,"visually-hidden"],[1,"m-4"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"app-module-topnav",0),e.\u0275\u0275listener("print",function(){return n.onPrint()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(1,"div",1),e.\u0275\u0275elementStart(2,"div",2),e.\u0275\u0275elementStart(3,"div",3),e.\u0275\u0275elementStart(4,"div",4),e.\u0275\u0275elementStart(5,"div",5),e.\u0275\u0275elementStart(6,"button",6),e.\u0275\u0275listener("click",function(){return n.addOrder.openModal()}),e.\u0275\u0275text(7,"Add New Order"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"button",7),e.\u0275\u0275listener("click",function(){return n.getAccountOrder()}),e.\u0275\u0275element(9,"i",8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"div",9),e.\u0275\u0275elementStart(11,"table",10),e.\u0275\u0275elementStart(12,"thead"),e.\u0275\u0275elementStart(13,"tr",11),e.\u0275\u0275elementStart(14,"th",12),e.\u0275\u0275text(15," Order ID "),e.\u0275\u0275template(16,ee,1,0,"i",13),e.\u0275\u0275template(17,te,1,0,"i",14),e.\u0275\u0275template(18,ne,1,0,"i",15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"th",16),e.\u0275\u0275text(20," Order Date "),e.\u0275\u0275template(21,re,1,0,"i",13),e.\u0275\u0275template(22,oe,1,0,"i",14),e.\u0275\u0275template(23,le,1,0,"i",15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(24,"th",17),e.\u0275\u0275text(25," Customer Name "),e.\u0275\u0275template(26,ie,1,0,"i",13),e.\u0275\u0275template(27,ae,1,0,"i",14),e.\u0275\u0275template(28,de,1,0,"i",15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(29,"th",12),e.\u0275\u0275text(30," Order Type "),e.\u0275\u0275template(31,se,1,0,"i",13),e.\u0275\u0275template(32,me,1,0,"i",14),e.\u0275\u0275template(33,ce,1,0,"i",15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(34,"th",18),e.\u0275\u0275text(35," Total Amount "),e.\u0275\u0275template(36,ue,1,0,"i",13),e.\u0275\u0275template(37,pe,1,0,"i",14),e.\u0275\u0275template(38,_e,1,0,"i",15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(39,"tbody"),e.\u0275\u0275template(40,fe,12,7,"tr",19),e.\u0275\u0275template(41,he,5,0,"tr",20),e.\u0275\u0275template(42,ve,4,0,"tr",20),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(43,"tfoot"),e.\u0275\u0275elementStart(44,"tr",11),e.\u0275\u0275elementStart(45,"td",21),e.\u0275\u0275elementStart(46,"nav",22),e.\u0275\u0275elementStart(47,"ul",23),e.\u0275\u0275elementStart(48,"li",24),e.\u0275\u0275elementStart(49,"a",25),e.\u0275\u0275listener("click",function(a){return n.previousPage(a)}),e.\u0275\u0275element(50,"i",26),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(51,"li",27),e.\u0275\u0275elementStart(52,"a",28),e.\u0275\u0275listener("click",function(a){return a.preventDefault()}),e.\u0275\u0275text(53),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(54,"li",24),e.\u0275\u0275elementStart(55,"a",29),e.\u0275\u0275listener("click",function(a){return n.nextPage(a)}),e.\u0275\u0275element(56,"i",30),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(57,"app-connection-toast",null,31),e.\u0275\u0275element(59,"app-add-order",null,32)),2&t&&(e.\u0275\u0275property("headings",n.navHeading)("showPrint",!0),e.\u0275\u0275advance(8),e.\u0275\u0275property("disabled",n.isFetchingGridData),e.\u0275\u0275advance(8),e.\u0275\u0275property("ngIf","order_code"!=n.sortParams.field),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","order_code"==n.sortParams.field&&"desc"==n.sortParams.direction),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","order_code"==n.sortParams.field&&"asc"==n.sortParams.direction),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf","order_date"!=n.sortParams.field),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","order_date"==n.sortParams.field&&"desc"==n.sortParams.direction),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","order_date"==n.sortParams.field&&"asc"==n.sortParams.direction),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf","customer_name"!=n.sortParams.field),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","customer_name"==n.sortParams.field&&"desc"==n.sortParams.direction),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","customer_name"==n.sortParams.field&&"asc"==n.sortParams.direction),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf","order_type"!=n.sortParams.field),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","order_type"==n.sortParams.field&&"desc"==n.sortParams.direction),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","order_type"==n.sortParams.field&&"asc"==n.sortParams.direction),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf","total_amount"!=n.sortParams.field),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","total_amount"==n.sortParams.field&&"desc"==n.sortParams.direction),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","total_amount"==n.sortParams.field&&"asc"==n.sortParams.direction),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",n.ordersGridData),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.isFetchingGridData),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!n.isDataAvailable&&!n.isFetchingGridData),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngClass",n.disablePrev?"disabled":""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",n.pageNumber," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",n.disableNext?"disabled":""))},directives:[I.H,f.O5,f.sg,f.mk,_.Y,D],pipes:[f.uU],styles:[""]}),r})();var T=d(8622),P=d(5982);const be=["selectMenuItemComponentReference"];let E=(()=>{class r{constructor(){this.itemForm=new i.cw({}),this.selectedMenuItemId=""}ngOnInit(){this.initItemForm()}initItemForm(){this.itemForm=new i.cw({menuItem:new i.NI({value:"",disabled:!0}),price:new i.NI({value:0,disabled:!0}),quantity:new i.NI(1)})}openMenuItemWindow(){console.log("You are opening select menu item window"),this.selectMenuItem.openModal()}onMenuItemSelected(t){console.log(t),this.selectedMenuItemId=t.id,this.selectedMenuItemData=t.data(),this.itemForm.controls.menuItem.setValue(t.data().item_name),this.itemForm.controls.price.setValue(t.data().price)}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["app-item-form"]],viewQuery:function(t,n){if(1&t&&e.\u0275\u0275viewQuery(be,5,P.R),2&t){let o;e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n.selectMenuItem=o.first)}},decls:24,vars:1,consts:[[1,"page-form",3,"formGroup"],[1,"row","mb-1"],[1,"col-md-4"],[1,"float-md-end","float-sm-start","mt-1"],[1,"col-md-8"],[1,"input-group","input-group-sm","w-100"],["formControlName","menuItem",1,"form-control"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"bi","bi-three-dots"],["type","number","min","0","step",".01","formControlName","price",1,"form-control","form-control-sm","w-100"],["type","number","min","1","formControlName","quantity",1,"form-control","form-control-sm","w-100"],[3,"rowSelected"],["selectMenuItemComponentReference",""]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"form",0),e.\u0275\u0275elementStart(1,"div",1),e.\u0275\u0275elementStart(2,"div",2),e.\u0275\u0275elementStart(3,"label",3),e.\u0275\u0275text(4,"Menu Item :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",4),e.\u0275\u0275elementStart(6,"div",5),e.\u0275\u0275element(7,"input",6),e.\u0275\u0275elementStart(8,"button",7),e.\u0275\u0275listener("click",function(){return n.openMenuItemWindow()}),e.\u0275\u0275element(9,"i",8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"div",1),e.\u0275\u0275elementStart(11,"div",2),e.\u0275\u0275elementStart(12,"label",3),e.\u0275\u0275text(13,"Price :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"div",4),e.\u0275\u0275element(15,"input",9),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"div",1),e.\u0275\u0275elementStart(17,"div",2),e.\u0275\u0275elementStart(18,"label",3),e.\u0275\u0275text(19,"Quantity :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"div",4),e.\u0275\u0275element(21,"input",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(22,"app-select-menu-item",11,12),e.\u0275\u0275listener("rowSelected",function(a){return n.onMenuItemSelected(a)}),e.\u0275\u0275elementEnd()),2&t&&e.\u0275\u0275property("formGroup",n.itemForm)},directives:[i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u,i.qQ,i.wV,P.R],styles:[""]}),r})();const ge=["addButtonElementReference"],Se=["dismissButtonElementReference"],ye=["itemFormComponentReference"];let V=(()=>{class r{constructor(){this.saveItemEvent=new e.EventEmitter,this.isItemSaving=!1}ngOnInit(){}openModal(){this.itemForm.itemForm.controls.price.setValue(0),this.itemForm.itemForm.controls.quantity.setValue(1),this.addButton.nativeElement.click()}saveItem(){let t={created_at:(0,O.Bt)(),order:sessionStorage.getItem("restaurant_order_id"),quantity:this.itemForm.itemForm.controls.quantity.value,menu_item:{id:this.itemForm.selectedMenuItemId,data:this.itemForm.selectedMenuItemData}};this.saveItemEvent.emit(t)}resetForm(){this.itemForm.itemForm.controls.menuItem.setValue(""),this.itemForm.itemForm.controls.price.setValue(0),this.itemForm.itemForm.controls.quantity.setValue(1)}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["app-add-item"]],viewQuery:function(t,n){if(1&t&&(e.\u0275\u0275viewQuery(ge,5,e.ElementRef),e.\u0275\u0275viewQuery(Se,5,e.ElementRef),e.\u0275\u0275viewQuery(ye,5,E)),2&t){let o;e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n.addButton=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n.dismissButton=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n.itemForm=o.first)}},outputs:{saveItemEvent:"saveItemEvent"},decls:19,vars:2,consts:[["data-bs-toggle","modal","data-bs-target","#addItemModal",3,"hidden"],["addButtonElementReference",""],["id","addItemModal","tabindex","-1","aria-labelledby","addItemModalLabel","aria-hidden","true",1,"modal","fade","form-modal"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header","bg-light"],["id","addItemModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],["dismissButtonElementReference",""],[1,"modal-body"],["itemFormComponentReference",""],[1,"modal-footer"],[1,"btn","btn-sm","btn-secondary","modal-form-btn",3,"disabled","click"],["data-bs-dismiss","modal",1,"btn","btn-sm","btn-secondary","modal-form-btn"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"button",0,1),e.\u0275\u0275text(2," Launch demo modal\n"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",2),e.\u0275\u0275elementStart(4,"div",3),e.\u0275\u0275elementStart(5,"div",4),e.\u0275\u0275elementStart(6,"div",5),e.\u0275\u0275elementStart(7,"span",6),e.\u0275\u0275text(8,"Add Item"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(9,"button",7,8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"div",9),e.\u0275\u0275element(12,"app-item-form",null,10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"div",11),e.\u0275\u0275elementStart(15,"button",12),e.\u0275\u0275listener("click",function(){return n.saveItem()}),e.\u0275\u0275text(16,"Save"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"button",13),e.\u0275\u0275text(18,"Cancel"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275property("hidden",!0),e.\u0275\u0275advance(15),e.\u0275\u0275property("disabled",n.isItemSaving))},directives:[E],styles:[""]}),r})();const Ee=["editButtonElementReference"],Ce=["dismissButtonElementReference"],Ie=["itemFormComponentReference"];let N=(()=>{class r{constructor(){this.saveItemEvent=new e.EventEmitter,this.isItemSaving=!1}ngOnInit(){}openModal(t){this.orderItemData=t,this.itemForm.itemForm.controls.menuItem.setValue(t.data().menu_item.data.item_name),this.itemForm.itemForm.controls.price.setValue(t.data().menu_item.data.price),this.itemForm.itemForm.controls.quantity.setValue(t.data().quantity),this.itemForm.selectedMenuItemId=t.data().menu_item.id,this.itemForm.selectedMenuItemData=t.data().menu_item.data,this.editButton.nativeElement.click()}saveItem(){this.saveItemEvent.emit({id:this.orderItemData.id,data:{quantity:this.itemForm.itemForm.controls.quantity.value,menu_item:{id:this.itemForm.selectedMenuItemId,data:this.itemForm.selectedMenuItemData}}})}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["app-edit-item"]],viewQuery:function(t,n){if(1&t&&(e.\u0275\u0275viewQuery(Ee,5,e.ElementRef),e.\u0275\u0275viewQuery(Ce,5,e.ElementRef),e.\u0275\u0275viewQuery(Ie,5,E)),2&t){let o;e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n.editButton=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n.dismissButton=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n.itemForm=o.first)}},outputs:{saveItemEvent:"saveItemEvent"},decls:19,vars:2,consts:[["data-bs-toggle","modal","data-bs-target","#editItemModal",3,"hidden"],["editButtonElementReference",""],["id","editItemModal","tabindex","-1","aria-labelledby","editItemModalLabel","aria-hidden","true",1,"modal","fade","form-modal"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header","bg-light"],["id","editItemModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],["dismissButtonElementReference",""],[1,"modal-body"],["itemFormComponentReference",""],[1,"modal-footer"],[1,"btn","btn-sm","btn-secondary","modal-form-btn",3,"disabled","click"],["data-bs-dismiss","modal",1,"btn","btn-sm","btn-secondary","modal-form-btn"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"button",0,1),e.\u0275\u0275text(2," Launch demo modal\n"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",2),e.\u0275\u0275elementStart(4,"div",3),e.\u0275\u0275elementStart(5,"div",4),e.\u0275\u0275elementStart(6,"div",5),e.\u0275\u0275elementStart(7,"span",6),e.\u0275\u0275text(8,"Edit Item"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(9,"button",7,8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"div",9),e.\u0275\u0275element(12,"app-item-form",null,10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"div",11),e.\u0275\u0275elementStart(15,"button",12),e.\u0275\u0275listener("click",function(){return n.saveItem()}),e.\u0275\u0275text(16,"Save"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"button",13),e.\u0275\u0275text(18,"Cancel"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275property("hidden",!0),e.\u0275\u0275advance(15),e.\u0275\u0275property("disabled",n.isItemSaving))},directives:[E],styles:[""]}),r})();const Oe=["addItemComponentReference"],we=["editItemComponentReference"],Te=["connectionToastComponentReference"],xe=["deleteModalComponentReference"];function Fe(r,l){if(1&r){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tr",18),e.\u0275\u0275listener("dblClick",function(){const a=e.\u0275\u0275restoreView(t).index;return e.\u0275\u0275nextContext().openEditItem(a)}),e.\u0275\u0275elementStart(1,"td"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"td"),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"td"),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"td"),e.\u0275\u0275text(8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"td",19),e.\u0275\u0275elementStart(10,"button",20),e.\u0275\u0275listener("click",function(){const a=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275nextContext().openEditItem(a)}),e.\u0275\u0275element(11,"i",21),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"button",22),e.\u0275\u0275listener("click",function(){const a=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275nextContext().deleteOrderItem(a.id)}),e.\u0275\u0275element(13,"i",23),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()}if(2&r){const t=l.$implicit,n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(null==t?null:t.data().menu_item.data.item_name),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(null==t?null:t.data().menu_item.data.price),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(null==t?null:t.data().quantity),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate((null==t?null:t.data().menu_item.data.price)*(null==t?null:t.data().quantity)),e.\u0275\u0275advance(4),e.\u0275\u0275property("disabled",n.isItemDeleting)}}function Ae(r,l){1&r&&(e.\u0275\u0275elementStart(0,"tr",24),e.\u0275\u0275elementStart(1,"td",25),e.\u0275\u0275elementStart(2,"div",26),e.\u0275\u0275elementStart(3,"span",27),e.\u0275\u0275text(4,"Loading..."),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd())}let Q=(()=>{class r{constructor(t){this.ordersApi=t,this.itemsGridData=[],this.totalAmount=0,this.deleteId="",this.isItemDeleting=!1,this.isFetchingGridData=!1}ngOnInit(){this.getOrderOrderItem()}getOrderOrderItem(){this.isFetchingGridData=!0,this.ordersApi.getOrderOrderItem().then(t=>{console.log(t),this.itemsGridData=t.docs,this.calculateTotalPrice(),this.isFetchingGridData=!1},t=>{console.log(t),this.isFetchingGridData=!1,this.connectionToast.openToast()})}calculateTotalPrice(){this.totalAmount=0;for(let t of this.itemsGridData)this.totalAmount+=t.data().menu_item.data.price*t.data().quantity;this.updateTotalAmount(),console.log(this.totalAmount)}createOrderItem(t){console.log(t),this.addItem.isItemSaving=!0,this.ordersApi.createOrderItem(t).then(n=>{console.log(n),n.id&&(this.getOrderOrderItem(),this.addItem.isItemSaving=!1,this.addItem.dismissButton.nativeElement.click(),this.addItem.resetForm())},n=>{console.log(n),this.addItem.isItemSaving=!1,this.addItem.dismissButton.nativeElement.click(),this.connectionToast.openToast()})}updateOrderItem(t){console.log(t),this.editItem.isItemSaving=!0,this.ordersApi.updateOrderItem(t.id,t.data).then(n=>{console.log(n),this.editItem.isItemSaving=!1,this.editItem.dismissButton.nativeElement.click(),this.getOrderOrderItem()},n=>{console.log(n),this.editItem.isItemSaving=!1,this.editItem.dismissButton.nativeElement.click(),this.connectionToast.openToast()})}deleteOrderItem(t){this.isItemDeleting=!0,this.ordersApi.deleteOrderItem(t).then(n=>{console.log(n),this.isItemDeleting=!1,this.getOrderOrderItem()},n=>{console.log(n),this.isItemDeleting=!1,this.connectionToast.openToast()})}updateTotalAmount(){this.ordersApi.updateOrder({total_amount:this.totalAmount}).then(n=>{console.log(n)},n=>{console.log(n),this.connectionToast.openToast()})}openEditItem(t){console.log(t),this.editItem.openModal(t)}confirmDelete(t){this.deleteId=t,this.deleteModal.openModal()}}return r.\u0275fac=function(t){return new(t||r)(e.\u0275\u0275directiveInject(b.O))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["app-order-items"]],viewQuery:function(t,n){if(1&t&&(e.\u0275\u0275viewQuery(Oe,5,V),e.\u0275\u0275viewQuery(we,5,N),e.\u0275\u0275viewQuery(Te,5,_.Y),e.\u0275\u0275viewQuery(xe,5,T.z)),2&t){let o;e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n.addItem=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n.editItem=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n.connectionToast=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n.deleteModal=o.first)}},decls:33,vars:3,consts:[[1,"row"],[1,"col-md-8"],[1,"overflow-auto"],[1,"table","table-bordered","table-sm","w-100","page-table"],[1,"bg-light"],["width","40%",1,"min-width-3"],["width","15%",1,"min-width-2"],["width","10%",1,"min-width-2"],["width","10%",1,"p-0","min-width-2"],[1,"btn","btn-secondary","btn-sm","w-100",3,"click"],[1,"bi","bi-plus"],[3,"dblClick",4,"ngFor","ngForOf"],["class","text-center",4,"ngIf"],["colspan","3"],[3,"saveItemEvent"],["addItemComponentReference",""],["editItemComponentReference",""],["connectionToastComponentReference",""],[3,"dblClick"],[1,"p-0"],[1,"btn","btn-sm","border","w-50",3,"click"],[1,"bi","bi-pen"],[1,"btn","btn-sm","border","w-50",3,"disabled","click"],[1,"bi","bi-trash"],[1,"text-center"],["colspan","5"],["role","status",1,"spinner-grow","m-2"],[1,"visually-hidden"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275elementStart(1,"div",1),e.\u0275\u0275elementStart(2,"h4"),e.\u0275\u0275text(3,"Order Items"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",2),e.\u0275\u0275elementStart(5,"table",3),e.\u0275\u0275elementStart(6,"thead"),e.\u0275\u0275elementStart(7,"tr",4),e.\u0275\u0275elementStart(8,"th",5),e.\u0275\u0275text(9,"Menu Item"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"th",6),e.\u0275\u0275text(11,"Item Price"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"th",7),e.\u0275\u0275text(13,"Quantity"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"th",6),e.\u0275\u0275text(15,"Total Price"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"th",8),e.\u0275\u0275elementStart(17,"button",9),e.\u0275\u0275listener("click",function(){return n.addItem.openModal()}),e.\u0275\u0275element(18,"i",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"tbody"),e.\u0275\u0275template(20,Fe,14,5,"tr",11),e.\u0275\u0275template(21,Ae,5,0,"tr",12),e.\u0275\u0275elementStart(22,"tr",4),e.\u0275\u0275element(23,"td",13),e.\u0275\u0275elementStart(24,"td"),e.\u0275\u0275text(25),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(26,"td"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(27,"app-add-item",14,15),e.\u0275\u0275listener("saveItemEvent",function(a){return n.createOrderItem(a)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(29,"app-edit-item",14,16),e.\u0275\u0275listener("saveItemEvent",function(a){return n.updateOrderItem(a)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(31,"app-connection-toast",null,17)),2&t&&(e.\u0275\u0275advance(20),e.\u0275\u0275property("ngForOf",n.itemsGridData),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.isFetchingGridData),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(n.totalAmount))},directives:[f.sg,f.O5,V,N,_.Y],styles:[""]}),r})();const De=["connectionToastComponentReference"],ke=["deleteModalComponentReference"],Re=["orderItemsComponentReference"],Pe=["selectCustomerComponentReference"],Ve=["selectTableComponentReference"];function Ne(r,l){1&r&&(e.\u0275\u0275elementStart(0,"select",30),e.\u0275\u0275elementStart(1,"option"),e.\u0275\u0275text(2,"Dine In"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"option"),e.\u0275\u0275text(4,"Delivery"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"option"),e.\u0275\u0275text(6,"Take Away"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd())}function Qe(r,l){if(1&r){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",12),e.\u0275\u0275elementStart(1,"select",31),e.\u0275\u0275elementStart(2,"option"),e.\u0275\u0275text(3,"Dine In"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"option"),e.\u0275\u0275text(5,"Delivery"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"option"),e.\u0275\u0275text(7,"Take Away"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"button",14),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return o.gotoDelivery(o.orderFormData.id)}),e.\u0275\u0275element(9,"i",32),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()}}function Me(r,l){if(1&r){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",4),e.\u0275\u0275elementStart(1,"div",33),e.\u0275\u0275elementStart(2,"button",34),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().onPrintRoll()}),e.\u0275\u0275element(3,"i",35),e.\u0275\u0275text(4,"Print"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"button",36),e.\u0275\u0275text(6,"Cancel"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"button",37),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().confirmDelete()}),e.\u0275\u0275text(8,"Delete"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"button",38),e.\u0275\u0275text(10,"Save"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()}if(2&r){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(7),e.\u0275\u0275property("disabled",t.isOrderDeleting),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",t.isOrderSaving)}}function Le(r,l){1&r&&(e.\u0275\u0275elementStart(0,"div",4),e.\u0275\u0275elementStart(1,"div",33),e.\u0275\u0275elementStart(2,"button",39),e.\u0275\u0275elementStart(3,"div",40),e.\u0275\u0275elementStart(4,"span",41),e.\u0275\u0275text(5,"Loading..."),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd())}const Ge=[{path:"",component:B,children:[{path:"",component:R},{path:"dashboard",component:q},{path:"all-orders",component:R},{path:"view-order",component:(()=>{class r{constructor(t,n,o){this.router=t,this.ordersApi=n,this.ordersPrint=o,this.navHeading=[{text:"All Orders",url:"/home/orders/all-orders"},{text:"View Order",url:"/home/orders/view-order"}],this.orderForm=new i.cw({}),this.selectedCustomerId="",this.selectedTableId="",this.isOrderLoading=!1,this.isOrderSaving=!1,this.isOrderDeleting=!1}ngOnInit(){this.initOrderForm(),this.getOrder()}initOrderForm(){this.orderForm=new i.cw({orderCode:new i.NI(""),orderDate:new i.NI(""),orderType:new i.NI(""),orderStatus:new i.NI(""),customerName:new i.NI(""),tableNumber:new i.NI({value:"",disabled:!0})})}getOrder(){this.isOrderLoading=!0,this.ordersApi.getOrder().then(t=>{console.log(t),this.orderFormData=t,this.isOrderLoading=!1,this.orderForm.controls.orderCode.setValue(this.orderFormData.data().order_code),this.orderForm.controls.orderDate.setValue(this.orderFormData.data().order_date),this.orderForm.controls.orderType.setValue(this.orderFormData.data().order_type),this.orderForm.controls.orderStatus.setValue(this.orderFormData.data().order_status),this.selectedCustomerId=this.orderFormData.data().customer.id,this.selectedTableId=this.orderFormData.data().table.id,this.orderForm.controls.customerName.setValue(this.orderFormData.data().customer.customer_name),this.orderForm.controls.tableNumber.setValue(this.orderFormData.data().table.table_number)},t=>{console.log(t),this.isOrderLoading=!1,this.connectionToast.openToast()})}updateOrder(){let t={order_code:this.orderForm.controls.orderCode.value,order_date:this.orderForm.controls.orderDate.value,order_type:this.orderForm.controls.orderType.value,order_status:this.orderForm.controls.orderStatus.value,total_amount:this.orderItems.totalAmount,customer:{id:this.selectedCustomerId,customer_name:this.orderForm.controls.customerName.value},table:{id:this.selectedTableId,table_number:this.orderForm.controls.tableNumber.value}};console.log(t),this.isOrderSaving=!0,this.ordersApi.updateOrder(t).then(n=>{console.log(n),this.isOrderSaving=!1},n=>{console.log(n),this.isOrderSaving=!1,this.connectionToast.openToast()})}confirmDelete(){this.deleteModal.openModal()}deleteOrder(){this.isOrderDeleting=!0,this.ordersApi.deleteOrder().then(t=>{console.log(t),this.router.navigateByUrl("/home/orders/all-orders")},t=>{console.log(t),this.connectionToast.openToast()})}openCustomerWindow(){console.log("You are opening select customer window"),this.selectCustomer.openModal()}onCustomerSelected(t){console.log(t),this.orderForm.controls.customerName.setValue(t.data().customer_name),this.selectedCustomerId=t.id}openTableWindow(){console.log("You are opening select table window"),this.selectTable.openModal()}onTableSelected(t){console.log(t),this.orderForm.controls.tableNumber.setValue(t.data().table_number),this.selectedTableId=t.id}gotoDelivery(t){console.log(t),sessionStorage.setItem("restaurant_delivery_id",t),this.router.navigateByUrl("/home/deliveries/view-delivery")}onPrint(){console.log("lets start printing..."),this.ordersPrint.printViewOrder()}onPrintRoll(){console.log("lets start printing roll..."),this.ordersPrint.printOrderRoll()}}return r.\u0275fac=function(t){return new(t||r)(e.\u0275\u0275directiveInject(h.F0),e.\u0275\u0275directiveInject(b.O),e.\u0275\u0275directiveInject(k))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["app-view-order"]],viewQuery:function(t,n){if(1&t&&(e.\u0275\u0275viewQuery(De,5,_.Y),e.\u0275\u0275viewQuery(ke,5,T.z),e.\u0275\u0275viewQuery(Re,5,Q),e.\u0275\u0275viewQuery(Pe,5,S.a),e.\u0275\u0275viewQuery(Ve,5,y.d)),2&t){let o;e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n.connectionToast=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n.deleteModal=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n.orderItems=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n.selectCustomer=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n.selectTable=o.first)}},decls:70,vars:7,consts:[[3,"headings","showPrint","print"],[1,"container"],[1,"page-form",3,"formGroup","ngSubmit"],[1,"mb-3"],[1,"row"],[1,"col-md-6"],[1,"row","mb-1"],[1,"col-md-4"],[1,"float-md-end","float-sm-start","mt-1"],[1,"col-md-8"],["formControlName","orderCode",1,"form-control","form-control-sm","w-100"],["type","datetime-local","formControlName","orderDate",1,"form-control","form-control-sm","w-100"],[1,"input-group","input-group-sm","w-100"],["formControlName","customerName",1,"form-control"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"bi","bi-three-dots"],["formControlName","orderType","class","form-control form-control-sm w-100",4,"ngIf"],["class","input-group input-group-sm w-100",4,"ngIf"],["formControlName","orderStatus",1,"form-control","form-control-sm","w-100"],["formControlName","tableNumber",1,"form-control"],["class","row",4,"ngIf"],[1,"top-divider"],[1,"bottom-divider"],["orderItemsComponentReference",""],["connectionToastComponentReference",""],[3,"confirmEvent"],["deleteModalComponentReference",""],[3,"rowSelected"],["selectCustomerComponentReference",""],["selectTableComponentReference",""],["formControlName","orderType",1,"form-control","form-control-sm","w-100"],["formControlName","orderType",1,"form-control"],[1,"bi","bi-eye"],[1,"col-md-12"],["type","button",1,"btn","btn-secondary","btn-sm","page-form-btn",3,"click"],[1,"bi","bi-receipt","me-2"],["type","button","routerLink","/home/orders/all-orders",1,"btn","btn-secondary","btn-sm","float-end","ms-1","page-form-btn"],["type","button",1,"btn","btn-secondary","btn-sm","float-end","ms-1","page-form-btn",3,"disabled","click"],["type","submit",1,"btn","btn-secondary","btn-sm","float-end","ms-1","page-form-btn",3,"disabled"],["type","button",1,"btn","btn-sm","float-end","ms-1","btn-light","page-form-btn"],["role","status",1,"spinner-grow","spinner-grow-sm"],[1,"visually-hidden"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"app-module-topnav",0),e.\u0275\u0275listener("print",function(){return n.onPrint()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(1,"div",1),e.\u0275\u0275elementStart(2,"form",2),e.\u0275\u0275listener("ngSubmit",function(){return n.updateOrder()}),e.\u0275\u0275elementStart(3,"h4",3),e.\u0275\u0275text(4,"Order Details"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",4),e.\u0275\u0275elementStart(6,"div",5),e.\u0275\u0275elementStart(7,"div",6),e.\u0275\u0275elementStart(8,"div",7),e.\u0275\u0275elementStart(9,"label",8),e.\u0275\u0275text(10,"Order ID :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"div",9),e.\u0275\u0275element(12,"input",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"div",6),e.\u0275\u0275elementStart(14,"div",7),e.\u0275\u0275elementStart(15,"label",8),e.\u0275\u0275text(16,"Order Date :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"div",9),e.\u0275\u0275element(18,"input",11),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"div",6),e.\u0275\u0275elementStart(20,"div",7),e.\u0275\u0275elementStart(21,"label",8),e.\u0275\u0275text(22,"Customer Name :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"div",9),e.\u0275\u0275elementStart(24,"div",12),e.\u0275\u0275element(25,"input",13),e.\u0275\u0275elementStart(26,"button",14),e.\u0275\u0275listener("click",function(){return n.openCustomerWindow()}),e.\u0275\u0275element(27,"i",15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(28,"div",5),e.\u0275\u0275elementStart(29,"div",6),e.\u0275\u0275elementStart(30,"div",7),e.\u0275\u0275elementStart(31,"label",8),e.\u0275\u0275text(32,"Order Type :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(33,"div",9),e.\u0275\u0275template(34,Ne,7,0,"select",16),e.\u0275\u0275template(35,Qe,10,0,"div",17),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(36,"div",6),e.\u0275\u0275elementStart(37,"div",7),e.\u0275\u0275elementStart(38,"label",8),e.\u0275\u0275text(39,"Order Status :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(40,"div",9),e.\u0275\u0275elementStart(41,"select",18),e.\u0275\u0275elementStart(42,"option"),e.\u0275\u0275text(43,"Processing"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(44,"option"),e.\u0275\u0275text(45,"Finished"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(46,"div",6),e.\u0275\u0275elementStart(47,"div",7),e.\u0275\u0275elementStart(48,"label",8),e.\u0275\u0275text(49,"Table No. :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(50,"div",9),e.\u0275\u0275elementStart(51,"div",12),e.\u0275\u0275element(52,"input",19),e.\u0275\u0275elementStart(53,"button",14),e.\u0275\u0275listener("click",function(){return n.openTableWindow()}),e.\u0275\u0275element(54,"i",15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(55,"hr"),e.\u0275\u0275template(56,Me,11,2,"div",20),e.\u0275\u0275template(57,Le,6,0,"div",20),e.\u0275\u0275element(58,"hr",21),e.\u0275\u0275element(59,"hr",22),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(60,"app-order-items",null,23),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(62,"app-connection-toast",null,24),e.\u0275\u0275elementStart(64,"app-delete-modal",25,26),e.\u0275\u0275listener("confirmEvent",function(){return n.deleteOrder()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(66,"app-select-customer",27,28),e.\u0275\u0275listener("rowSelected",function(a){return n.onCustomerSelected(a)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(68,"app-select-table",27,29),e.\u0275\u0275listener("rowSelected",function(a){return n.onTableSelected(a)}),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275property("headings",n.navHeading)("showPrint",!0),e.\u0275\u0275advance(2),e.\u0275\u0275property("formGroup",n.orderForm),e.\u0275\u0275advance(32),e.\u0275\u0275property("ngIf","Delivery"!=n.orderForm.controls.orderType.value),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Delivery"==n.orderForm.controls.orderType.value),e.\u0275\u0275advance(21),e.\u0275\u0275property("ngIf",!n.isOrderLoading),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.isOrderLoading))},directives:[I.H,i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u,f.O5,i.EJ,i.YN,i.Kr,Q,_.Y,T.z,S.a,y.d,h.rH],styles:[""]}),r})(),canActivate:[(()=>{class r{constructor(t){this.router=t}canActivate(t){return!!sessionStorage.getItem("restaurant_order_id")||(this.router.navigateByUrl("/home/orders"),!1)}}return r.\u0275fac=function(t){return new(t||r)(e.\u0275\u0275inject(h.F0))},r.\u0275prov=e.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()]}]}];let Be=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.\u0275\u0275defineNgModule({type:r}),r.\u0275inj=e.\u0275\u0275defineInjector({imports:[[h.Bz.forChild(Ge)],h.Bz]}),r})();var je=d(7264),M=d(5018),Ye=d(7667),qe=d(8731),We=d(6288);let He=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.\u0275\u0275defineNgModule({type:r}),r.\u0275inj=e.\u0275\u0275defineInjector({imports:[[f.ez,A.m9,h.Bz,i.u5,i.UX,M.p,Ye.Q,qe.Z,We.J]]}),r})(),ze=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.\u0275\u0275defineNgModule({type:r}),r.\u0275inj=e.\u0275\u0275defineInjector({imports:[[f.ez,Be,je.M,M.p,He]]}),r})()}}]);