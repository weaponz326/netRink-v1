{"version":3,"file":"projects_restaurant_src_app_pages_modules_staff-page_staff-page_module_ts.js","mappings":"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","sources":["./node_modules/firebase/firestore/dist/index.esm.js","./projects/restaurant/src/app/components/modules/staff/all-staff/all-staff.component.ts","./projects/restaurant/src/app/components/modules/staff/all-staff/all-staff.component.html","./projects/restaurant/src/app/components/modules/staff/dashboard/dashboard.component.ts","./projects/restaurant/src/app/components/modules/staff/dashboard/dashboard.component.html","./projects/restaurant/src/app/components/modules/staff/new-staff/new-staff.component.ts","./projects/restaurant/src/app/components/modules/staff/new-staff/new-staff.component.html","./projects/restaurant/src/app/components/modules/staff/settings/settings.component.ts","./projects/restaurant/src/app/components/modules/staff/settings/settings.component.html","./projects/restaurant/src/app/components/modules/staff/staff-form/staff-form.component.ts","./projects/restaurant/src/app/components/modules/staff/staff-form/staff-form.component.html","./projects/restaurant/src/app/components/modules/staff/staff.module.ts","./projects/restaurant/src/app/components/modules/staff/view-staff/view-staff.component.ts","./projects/restaurant/src/app/components/modules/staff/view-staff/view-staff.component.html","./projects/restaurant/src/app/guards/modules/staff/view-staff.guard.ts","./projects/restaurant/src/app/pages/modules/staff-page/staff-page-routing.module.ts","./projects/restaurant/src/app/pages/modules/staff-page/staff-page.component.ts","./projects/restaurant/src/app/pages/modules/staff-page/staff-page.component.html","./projects/restaurant/src/app/pages/modules/staff-page/staff-page.module.ts","./projects/restaurant/src/app/services/modules/staff-api/staff-api.service.ts","./projects/restaurant/src/app/services/printing/staff-print/staff-print.service.ts"],"sourcesContent":["export * from '@firebase/firestore';\n","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\n\r\nimport { ConnectionToastComponent } from 'projects/personal/src/app/components/module-utilities/connection-toast/connection-toast.component'\r\n\r\nimport { StaffApiService } from 'projects/restaurant/src/app/services/modules/staff-api/staff-api.service';\r\nimport { StaffPrintService } from 'projects/restaurant/src/app/services/printing/staff-print/staff-print.service';\r\n\r\n\r\n@Component({\r\n  selector: 'app-all-staff',\r\n  templateUrl: './all-staff.component.html',\r\n  styleUrls: ['./all-staff.component.scss']\r\n})\r\nexport class AllStaffComponent implements OnInit {\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private staffApi: StaffApiService,\r\n    private staffPrint: StaffPrintService,\r\n  ) { }\r\n\r\n  @ViewChild('connectionToastComponentReference', { read: ConnectionToastComponent, static: false }) connectionToast!: ConnectionToastComponent;\r\n\r\n  navHeading: any[] = [\r\n    { text: \"All Staff\", url: \"/home/staff/all-staff\" },\r\n  ];\r\n\r\n  staffGridData: any[] = [];\r\n\r\n  isFetchingGridData: boolean =  false;\r\n  isDataAvailable: boolean =  true;\r\n\r\n  firstInResponse: any = [];\r\n  lastInResponse: any = [];\r\n  nextStartAfter: any = [];\r\n  prevStartAt: any = [];\r\n  pageNumber = 0;\r\n  disableNext: boolean = true;\r\n  disablePrev: boolean = true;\r\n\r\n  sortParams = {\r\n    field: \"created_at\",\r\n    direction: \"desc\"\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.getAccountStaff();\r\n  }\r\n\r\n  getAccountStaff(){\r\n    this.isFetchingGridData = true;\r\n\r\n    this.staffApi.getAccountStaff(this.sortParams, 20)\r\n      .then(\r\n        (res: any) => {\r\n          console.log(res);\r\n          this.staffGridData = res.docs;\r\n\r\n          this.isFetchingGridData = false;\r\n          this.prevStartAt = this.firstInResponse;\r\n          this.nextStartAfter = res.docs[res.docs.length - 1];\r\n          this.firstInResponse = res.docs[0];\r\n          this.pageNumber = 1;\r\n\r\n          if (!res.docs.length) this.isDataAvailable = false;\r\n          else this.isDataAvailable = true;\r\n\r\n          if (!res.docs.length || res.docs.length < 20){\r\n            this.disableNext = true;\r\n            this.disablePrev = true;\r\n          }\r\n          else{\r\n            this.disableNext = false;\r\n            this.disablePrev = true;\r\n          }\r\n        },\r\n        (err: any) => {\r\n          console.log(err);\r\n          this.isFetchingGridData = false;\r\n          this.connectionToast.openToast();\r\n        }\r\n      )\r\n  }\r\n\r\n  nextPage(e: any){\r\n    e.preventDefault();\r\n    this.isFetchingGridData = true;\r\n\r\n    this.staffApi.getAccountStaffNext(this.sortParams, 20, this.nextStartAfter)\r\n      .then(\r\n        (res: any) => {\r\n          console.log(res);\r\n          this.staffGridData = res.docs;\r\n\r\n          this.isFetchingGridData = false;\r\n          this.prevStartAt = this.firstInResponse;\r\n          this.nextStartAfter = res.docs[res.docs.length - 1];\r\n          this.firstInResponse = res.docs[0];\r\n          this.pageNumber++;\r\n\r\n          if (res.docs.length < 20){\r\n            this.disableNext = true;\r\n            this.disablePrev = false;\r\n          }\r\n        },\r\n        (err: any) => {\r\n          console.log(err);\r\n          this.isFetchingGridData = false;\r\n          this.connectionToast.openToast();\r\n        }\r\n      )\r\n  }\r\n\r\n  previousPage(e: any){\r\n    e.preventDefault();\r\n    this.isFetchingGridData = true;\r\n\r\n    this.staffApi.getAccountStaffPrev(this.sortParams, 20, this.prevStartAt)\r\n      .then(\r\n        (res: any) => {\r\n          console.log(res);\r\n          this.staffGridData = res.docs;\r\n\r\n          this.isFetchingGridData = false;\r\n          if (!res.docs.length) this.isDataAvailable = false;\r\n\r\n          this.prevStartAt = this.firstInResponse;\r\n          this.nextStartAfter = res.docs[res.docs.length - 1];\r\n          this.firstInResponse = res.docs[0];\r\n          this.pageNumber--;\r\n\r\n          if (this.pageNumber == 1){\r\n            this.disableNext = false;\r\n            this.disablePrev = true;\r\n          }\r\n        },\r\n        (err: any) => {\r\n          console.log(err);\r\n          this.isFetchingGridData = false;\r\n          this.connectionToast.openToast();\r\n        }\r\n      )\r\n  }\r\n\r\n  sortTable(field: any, direction: any){\r\n    this.sortParams.field = field;\r\n    this.sortParams.direction = direction;\r\n\r\n    this.getAccountStaff();\r\n  }\r\n\r\n  viewStaff(staffId: any){\r\n    console.log(staffId);\r\n\r\n    sessionStorage.setItem('restaurant_staff_id', staffId);\r\n    this.router.navigateByUrl('/home/staff/view-staff');\r\n  }\r\n\r\n  onPrint(){\r\n    console.log(\"lets start printing...\");\r\n    this.staffPrint.printAllStaff();\r\n  }\r\n\r\n}\r\n","<app-module-topnav [headings]=\"navHeading\" [showPrint]=\"true\" (print)=\"onPrint()\"></app-module-topnav>\r\n\r\n<div class=\"container\">\r\n\r\n    <div class=\"row\">\r\n        <div class=\"col-md-9\">\r\n\r\n            <div class=\"row mb-3\">\r\n                <div class=\"col-md-12\">\r\n                    <button class=\"btn btn-secondary page-add-btn\" routerLink=\"/home/staff/new-staff\">New Staff</button>\r\n                    <button [disabled]=\"isFetchingGridData\" class=\"btn btn-light border float-end page-refresh-btn\" (click)=\"getAccountStaff()\">\r\n                        <i class=\"bi bi-arrow-clockwise\"></i>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"overflow-auto\">\r\n                <table class=\"table table-bordered table-sm w-100 page-table\">\r\n                    <thead>\r\n                        <tr class=\"bg-light\">\r\n                            <th width=\"15%\" class=\"min-width-2\">\r\n                                Staff ID\r\n                                <i *ngIf=\"sortParams.field != 'staff_code'\" class=\"bi bi-filter float-end list-pointer\" (click)=\"sortTable('staff_code', 'desc')\"></i>\r\n                                <i *ngIf=\"sortParams.field == 'staff_code' && sortParams.direction == 'desc'\" class=\"bi bi-sort-down float-end list-pointer\" (click)=\"sortTable('staff_code', 'asc')\"></i>\r\n                                <i *ngIf=\"sortParams.field == 'staff_code' && sortParams.direction == 'asc'\" class=\"bi bi-sort-up float-end list-pointer\" (click)=\"sortTable('staff_code', 'desc')\"></i>\r\n                            </th>\r\n                            <th width=\"35%\" class=\"min-width-4\">\r\n                                Staff Name\r\n                                <i *ngIf=\"sortParams.field != 'staff_name'\" class=\"bi bi-filter float-end list-pointer\" (click)=\"sortTable('staff_name', 'desc')\"></i>\r\n                                <i *ngIf=\"sortParams.field == 'staff_name' && sortParams.direction == 'desc'\" class=\"bi bi-sort-down float-end list-pointer\" (click)=\"sortTable('staff_name', 'asc')\"></i>\r\n                                <i *ngIf=\"sortParams.field == 'staff_name' && sortParams.direction == 'asc'\" class=\"bi bi-sort-up float-end list-pointer\" (click)=\"sortTable('staff_name', 'desc')\"></i>\r\n                            </th>\r\n                            <th width=\"25%\" class=\"min-width-3\">\r\n                                Department\r\n                                <i *ngIf=\"sortParams.field != 'department'\" class=\"bi bi-filter float-end list-pointer\" (click)=\"sortTable('department', 'desc')\"></i>\r\n                                <i *ngIf=\"sortParams.field == 'department' && sortParams.direction == 'desc'\" class=\"bi bi-sort-down float-end list-pointer\" (click)=\"sortTable('department', 'asc')\"></i>\r\n                                <i *ngIf=\"sortParams.field == 'department' && sortParams.direction == 'asc'\" class=\"bi bi-sort-up float-end list-pointer\" (click)=\"sortTable('department', 'desc')\"></i>\r\n                            </th>\r\n                            <th width=\"25%\" class=\"min-width-3\">\r\n                                Job\r\n                                <i *ngIf=\"sortParams.field != 'job'\" class=\"bi bi-filter float-end list-pointer\" (click)=\"sortTable('job', 'desc')\"></i>\r\n                                <i *ngIf=\"sortParams.field == 'job' && sortParams.direction == 'desc'\" class=\"bi bi-sort-down float-end list-pointer\" (click)=\"sortTable('job', 'asc')\"></i>\r\n                                <i *ngIf=\"sortParams.field == 'job' && sortParams.direction == 'asc'\" class=\"bi bi-sort-up float-end list-pointer\" (click)=\"sortTable('job', 'desc')\"></i>\r\n                            </th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr *ngFor=\"let data of staffGridData\" (dblclick)=\"viewStaff(data.id)\" class=\"table-pointer\">\r\n                            <td>{{data?.data().staff_code}}</td>\r\n                            <td>{{data?.data().first_name}} {{data?.data().last_name}}</td>\r\n                            <td>{{data?.data().department}}</td>\r\n                            <td>{{data?.data().job}}</td>\r\n                        </tr>\r\n                        <tr *ngIf=\"isFetchingGridData\" class=\"text-center\">\r\n                            <td colspan=\"4\">\r\n                                <div class=\"spinner-grow m-4\" role=\"status\">\r\n                                    <span class=\"visually-hidden\">Loading...</span>\r\n                                </div>\r\n                            </td>\r\n                        </tr>\r\n                        <tr *ngIf=\"!isDataAvailable && !isFetchingGridData\" class=\"text-center\">\r\n                            <td colspan=\"4\">\r\n                                <p class=\"m-4\">No data available</p>\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                    <tfoot>\r\n                        <tr class=\"bg-light\">\r\n                            <td colspan=\"4\">\r\n                                <nav class=\"nav-light float-end\" aria-label=\"Page navigation\">\r\n                                    <ul class=\"pagination pagination-sm mb-0 justify-content-end\">\r\n                                        <li class=\"page-item\" [ngClass]=\"disablePrev ? 'disabled' : ''\">\r\n                                            <a class=\"page-link\" href=\"#\" aria-label=\"First\" (click)=\"previousPage($event)\">\r\n                                                <i class=\"bi bi-caret-left-fill\"></i>\r\n                                            </a>\r\n                                        </li>\r\n                                        <li class=\"page-item\">\r\n                                            <a class=\"page-link\" href=\"#\" aria-label=\"Current\" (click)=\"$event.preventDefault()\">\r\n                                                {{pageNumber}}\r\n                                            </a>\r\n                                        </li>\r\n                                        <li class=\"page-item\" [ngClass]=\"disableNext ? 'disabled' : ''\">\r\n                                            <a class=\"page-link\" href=\"#\" aria-label=\"Last\" (click)=\"nextPage($event)\">\r\n                                                <i class=\"bi bi-caret-right-fill\"></i>\r\n                                            </a>\r\n                                        </li>\r\n                                    </ul>\r\n                                </nav>\r\n                            </td>\r\n                        </tr>\r\n                    </tfoot>\r\n                </table>\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n\r\n<!-- connection error prompt component -->\r\n\r\n<app-connection-toast #connectionToastComponentReference></app-connection-toast>\r\n","import { Component, OnInit, ViewChild } from '@angular/core';\r\n\r\nimport { ChartDataSets, ChartOptions } from 'chart.js';\r\nimport { Color, Label, SingleDataSet } from 'ng2-charts';\r\n\r\nimport { StaffApiService } from 'projects/restaurant/src/app/services/modules/staff-api/staff-api.service';\r\nimport { ConnectionToastComponent } from 'projects/personal/src/app/components/module-utilities/connection-toast/connection-toast.component'\r\n\r\n\r\n@Component({\r\n  selector: 'app-dashboard',\r\n  templateUrl: './dashboard.component.html',\r\n  styleUrls: ['./dashboard.component.scss']\r\n})\r\nexport class DashboardComponent implements OnInit {\r\n\r\n  constructor(private staffApi: StaffApiService) { }\r\n\r\n  @ViewChild('connectionToastComponentReference', { read: ConnectionToastComponent, static: false }) connectionToast!: ConnectionToastComponent;\r\n\r\n  navHeading: any[] = [\r\n    { text: \"Dashboard\", url: \"/home/staff/dashboard\" },\r\n  ];\r\n\r\n  allStaffCount: number = 0;\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.getAllAccountStaff();\r\n  }\r\n\r\n  getAllAccountStaff(){\r\n    this.staffApi.getAllAccountStaff()\r\n      .then(\r\n        res => {\r\n          console.log(res);\r\n          this.allStaffCount = res.docs.length;\r\n        },\r\n        err => {\r\n          console.log(err);\r\n          this.connectionToast.openToast();\r\n        }\r\n      )\r\n  }\r\n\r\n\r\n}\r\n","<app-module-topnav [headings]=\"navHeading\"></app-module-topnav>\r\n\r\n<div class=\"container\">\r\n\r\n    <div class=\"row\">\r\n\r\n        <div class=\"col-md-3 mb-4\">\r\n            <div class=\"card border-left-secondary shadow h-100 py-2\">\r\n                <div class=\"card-body\">\r\n                    <div class=\"row no-gutters align-items-center\">\r\n                        <div class=\"col mr-2\">\r\n                            <div class=\"text-xs font-weight-bold text-uppercase mb-1\">All Staff</div>\r\n                            <div class=\"h5 mb-0 font-weight-bold text-gray-800\">{{allStaffCount}}</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>\r\n\r\n<!-- connection error prompt component -->\r\n\r\n<app-connection-toast #connectionToastComponentReference></app-connection-toast>\r\n","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { finalize } from 'rxjs/operators';\r\n\r\nimport { AngularFireStorage } from '@angular/fire/compat/storage';\r\nimport { serverTimestamp } from 'firebase/firestore';\r\n\r\nimport { StaffFormComponent } from '../staff-form/staff-form.component';\r\nimport { ConnectionToastComponent } from 'projects/personal/src/app/components/module-utilities/connection-toast/connection-toast.component'\r\n\r\nimport { StaffApiService } from 'projects/restaurant/src/app/services/modules/staff-api/staff-api.service';\r\n\r\nimport { Staff } from 'projects/restaurant/src/app/models/modules/staff/staff.model';\r\n\r\n\r\n@Component({\r\n  selector: 'app-new-staff',\r\n  templateUrl: './new-staff.component.html',\r\n  styleUrls: ['./new-staff.component.scss']\r\n})\r\nexport class NewStaffComponent implements OnInit {\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private storage: AngularFireStorage,\r\n    private staffApi: StaffApiService\r\n  ) { }\r\n\r\n  @ViewChild('staffFormComponentReference', { read: StaffFormComponent, static: false }) staffForm!: StaffFormComponent;\r\n  @ViewChild('connectionToastComponentReference', { read: ConnectionToastComponent, static: false }) connectionToast!: ConnectionToastComponent;\r\n\r\n  navHeading: any[] = [\r\n    { text: \"New Staff\", url: \"/home/staff/new-staff\" },\r\n  ];\r\n\r\n  storageBasePath = \"/restaurant/\" + localStorage.getItem('restaurant_id') + \"/module_staff/\";\r\n\r\n  isStaffSaving = false;\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  createStaff(){\r\n    console.log('u are saving a new staff');\r\n\r\n    var data: Staff = {\r\n      created_at: serverTimestamp(),\r\n      account: localStorage.getItem('restaurant_id') as string,\r\n      first_name: this.staffForm.staffForm.controls.firstName.value,\r\n      last_name: this.staffForm.staffForm.controls.lastName.value,\r\n      sex: this.staffForm.staffForm.controls.sex.value,\r\n      date_of_birth: this.staffForm.bday.value,\r\n      photo: \"\",\r\n      nationality: this.staffForm.staffForm.controls.nationality.value,\r\n      religion: this.staffForm.staffForm.controls.religion.value,\r\n      phone: this.staffForm.staffForm.controls.phone.value,\r\n      email: this.staffForm.staffForm.controls.email.value,\r\n      address: this.staffForm.staffForm.controls.address.value,\r\n      state: this.staffForm.staffForm.controls.state.value,\r\n      city: this.staffForm.staffForm.controls.city.value,\r\n      post_code: this.staffForm.staffForm.controls.postCode.value,\r\n      staff_code: this.staffForm.staffForm.controls.staffCode.value,\r\n      department: this.staffForm.staffForm.controls.department.value,\r\n      job: this.staffForm.staffForm.controls.job.value,\r\n    }\r\n\r\n    console.log(data);\r\n    this.isStaffSaving = true;\r\n\r\n    this.staffApi.createStaff(data)\r\n      .then(\r\n        async (res: any) => {\r\n          console.log(res);\r\n          sessionStorage.setItem('restaurant_staff_id', res.id);\r\n\r\n          if (!this.staffForm.photo.isImageSet){\r\n            this.isStaffSaving = false;\r\n            this.router.navigateByUrl('/home/staff/view-staff');\r\n          }\r\n          else{\r\n            const storagePath = this.storageBasePath + res.id;\r\n            const storageRef = this.storage.ref(storagePath);\r\n            const task = this.storage.upload(storagePath, this.staffForm.photo.image);\r\n\r\n            task.snapshotChanges().pipe(\r\n                finalize(() => {\r\n                  storageRef.getDownloadURL().subscribe(downloadUrl => {\r\n                    this.updateImage({photo: downloadUrl});\r\n                  });\r\n                })\r\n              ).subscribe();\r\n          }\r\n        },\r\n        (err: any) => {\r\n          console.log(err);\r\n          this.isStaffSaving = false;\r\n          this.connectionToast.openToast();\r\n        }\r\n      )\r\n  }\r\n\r\n  updateImage(data: any){\r\n    console.log('u are updating staff photo url');\r\n    console.log(data);\r\n\r\n    this.staffApi.updateStaff(data)\r\n      .then(\r\n        (res: any) => {\r\n          console.log(res);\r\n          this.router.navigateByUrl('/home/staff/view-staff');\r\n          this.isStaffSaving = false;\r\n        },\r\n        (err: any) => {\r\n          console.log(err);\r\n          this.isStaffSaving = false;\r\n          this.connectionToast.openToast();\r\n        }\r\n      )\r\n  }\r\n\r\n}\r\n","<app-module-topnav [headings]=\"navHeading\"></app-module-topnav>\r\n\r\n<div class=\"container\">\r\n\r\n    <!-- staff page form -->\r\n\r\n    <app-staff-form #staffFormComponentReference></app-staff-form>\r\n\r\n    <div class=\"row page-form\">\r\n        <div class=\"col-md-12\">\r\n            <button type=\"button\" class=\"btn btn-secondary btn-sm float-end ms-1 page-form-btn\" routerLink=\"/home/staff/all-staff\">Cancel</button>\r\n            <button [disabled]=\"isStaffSaving\" class=\"btn btn-secondary btn-sm float-end ms-1 page-form-btn\" (click)=\"createStaff()\">Save</button>\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n\r\n<!-- connection error prompt component -->\r\n\r\n<app-connection-toast #connectionToastComponentReference></app-connection-toast>\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-settings',\r\n  templateUrl: './settings.component.html',\r\n  styleUrls: ['./settings.component.scss']\r\n})\r\nexport class SettingsComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<p>settings works!</p>\r\n","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { FormControl, FormGroup } from '@angular/forms';\r\n\r\nimport { BdayInputComponent } from 'projects/personal/src/app/components/module-utilities/bday-input/bday-input.component'\r\nimport { ImageInputComponent } from 'projects/personal/src/app/components/module-utilities/image-input/image-input.component'\r\n\r\n\r\n@Component({\r\n  selector: 'app-staff-form',\r\n  templateUrl: './staff-form.component.html',\r\n  styleUrls: ['./staff-form.component.scss']\r\n})\r\nexport class StaffFormComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  @ViewChild('bdayInputComponentReference', { read: BdayInputComponent, static: false }) bday!: BdayInputComponent;\r\n  @ViewChild('imageInputComponentReference', { read: ImageInputComponent, static: false }) photo!: ImageInputComponent;\r\n\r\n  staffForm: FormGroup = new FormGroup({});\r\n\r\n  ngOnInit(): void {\r\n    this.initStaffForm();\r\n  }\r\n\r\n  initStaffForm(){\r\n    this.staffForm = new FormGroup({\r\n      firstName: new FormControl(''),\r\n      lastName: new FormControl(''),\r\n      sex: new FormControl(''),\r\n      nationality: new FormControl(''),\r\n      religion: new FormControl(''),\r\n      staffCode: new FormControl(''),\r\n      department: new FormControl(''),\r\n      job: new FormControl(''),\r\n      phone: new FormControl(''),\r\n      email: new FormControl(''),\r\n      address: new FormControl(''),\r\n      state: new FormControl(''),\r\n      city: new FormControl(''),\r\n      postCode: new FormControl(''),\r\n    })\r\n  }\r\n\r\n}\r\n","<form class=\"page-form\" [formGroup]=\"staffForm\">\r\n\r\n    <div class=\"row\">\r\n\r\n        <div class=\"col-md-12\">\r\n            <h4>Personal Details</h4>\r\n        </div>\r\n\r\n        <div class=\"col-md-6\">\r\n\r\n            <div class=\"row mb-1\">\r\n                <div class=\"col-md-4\"><label class=\"float-md-end float-sm-start mt-1\">First Name :</label></div>\r\n                <div class=\"col-md-8\">\r\n                    <input formControlName=\"firstName\" class=\"form-control form-control-sm w-100\">\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"row mb-1\">\r\n                <div class=\"col-md-4\"><label class=\"float-md-end float-sm-start mt-1\">Last Name :</label></div>\r\n                <div class=\"col-md-8\">\r\n                    <input formControlName=\"lastName\" class=\"form-control form-control-sm w-100\">\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"row mb-1\">\r\n                <div class=\"col-md-4\"><label class=\"float-md-end float-sm-start mt-1\">Sex :</label></div>\r\n                <div class=\"col-md-8\">\r\n                    <select formControlName=\"sex\" class=\"form-control form-control-sm w-100\">\r\n                        <option>Male</option>\r\n                        <option>Female</option>\r\n                    </select>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"row mb-1\">\r\n                <div class=\"col-md-4\"><label class=\"float-md-end float-sm-start mt-1\">Date of Birth :</label></div>\r\n                <div class=\"col-md-8\">\r\n                    <app-bday-input #bdayInputComponentReference></app-bday-input>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n\r\n        <div class=\"col-md-6\">\r\n\r\n            <div class=\"row mb-1\">\r\n                <div class=\"col-md-4\"><label class=\"float-md-end float-sm-start mt-1\">Nationality :</label></div>\r\n                <div class=\"col-md-8\">\r\n                    <input formControlName=\"nationality\" class=\"form-control form-control-sm w-100\">\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"row mb-1\">\r\n                <div class=\"col-md-4\"><label class=\"float-md-end float-sm-start mt-1\">Religion :</label></div>\r\n                <div class=\"col-md-8\">\r\n                    <input formControlName=\"religion\" class=\"form-control form-control-sm w-100\">\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n\r\n    </div>\r\n\r\n    <hr />\r\n\r\n    <!-- -------------------------------------------------------------------------------------------------\r\n    staff details -->\r\n\r\n    <div class=\"row\">\r\n\r\n        <div class=\"col-md-12\">\r\n            <h4>Staff Details</h4>\r\n        </div>\r\n\r\n        <div class=\"col-md-6\">\r\n\r\n            <div class=\"row mb-1\">\r\n                <div class=\"col-md-4\"><label class=\"float-md-end float-sm-start mt-1\">Staff ID :</label></div>\r\n                <div class=\"col-md-8\">\r\n                    <input formControlName=\"staffCode\" class=\"form-control form-control-sm w-100\">\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n\r\n        <div class=\"col-md-6\">\r\n\r\n            <div class=\"row mb-1\">\r\n                <div class=\"col-md-4\"><label class=\"float-md-end float-sm-start mt-1\">Department :</label></div>\r\n                <div class=\"col-md-8\">\r\n                    <input formControlName=\"department\" class=\"form-control form-control-sm w-100\">\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"row mb-1\">\r\n                <div class=\"col-md-4\"><label class=\"float-md-end float-sm-start mt-1\">Job :</label></div>\r\n                <div class=\"col-md-8\">\r\n                    <input formControlName=\"job\" class=\"form-control form-control-sm w-100\">\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n\r\n    </div>\r\n\r\n    <hr />\r\n\r\n    <!-- --------------------------------------------------------------------------------------------\r\n    photo -->\r\n\r\n    <div class=\"row page-form-div\">\r\n\r\n        <div class=\"col-md-6\">\r\n            <div class=\"row mb-1\">\r\n\r\n                <div class=\"col-md-4\"><label class=\"float-md-end float-sm-start mt-1\">Photo :</label></div>\r\n                <div class=\"col-md-8\">\r\n                    <app-image-input #imageInputComponentReference [width]=\"140\" [height]=\"160\" [imgType]=\"'photo'\"></app-image-input>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n\r\n    <hr />\r\n\r\n    <!-- --------------------------------------------------------------------------------------------------\r\n    contact details -->\r\n\r\n    <div class=\"row\">\r\n\r\n        <div class=\"col-md-12\">\r\n            <h4>Contact Details</h4>\r\n        </div>\r\n\r\n        <div class=\"col-md-6\">\r\n\r\n            <div class=\"row mb-1\">\r\n                <div class=\"col-md-4\"><label class=\"float-md-end float-sm-start mt-1\">Phone No. :</label></div>\r\n                <div class=\"col-md-8\">\r\n                    <input formControlName=\"phone\" class=\"form-control form-control-sm w-100\">\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"row mb-1\">\r\n                <div class=\"col-md-4\"><label class=\"float-md-end float-sm-start mt-1\">Email :</label></div>\r\n                <div class=\"col-md-8\">\r\n                    <input formControlName=\"email\" class=\"form-control form-control-sm w-100\">\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"row mb-1\">\r\n                <div class=\"col-md-4\"><label class=\"float-md-end float-sm-start mt-1\">Address :</label></div>\r\n                <div class=\"col-md-8\">\r\n                    <textarea formControlName=\"address\" class=\"form-control form-control-sm w-100\" rows=\"3\"></textarea>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n\r\n        <div class=\"col-md-6\">\r\n\r\n            <div class=\"row mb-1\">\r\n                <div class=\"col-md-4\"><label class=\"float-md-end float-sm-start mt-1\">State/Region :</label></div>\r\n                <div class=\"col-md-8\">\r\n                    <input formControlName=\"state\" class=\"form-control form-control-sm w-100\">\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"row mb-1\">\r\n                <div class=\"col-md-4\"><label class=\"float-md-end float-sm-start mt-1\">City/Town :</label></div>\r\n                <div class=\"col-md-8\">\r\n                    <input formControlName=\"city\" class=\"form-control form-control-sm w-100\">\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"row mb-1\">\r\n                <div class=\"col-md-4\"><label class=\"float-md-end float-sm-start mt-1\">Post Code :</label></div>\r\n                <div class=\"col-md-8\">\r\n                    <input formControlName=\"postCode\" class=\"form-control form-control-sm w-100\">\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n\r\n    </div>\r\n\r\n    <hr />\r\n\r\n</form>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule } from '@angular/router';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport { ChartsModule } from 'ng2-charts';\r\n\r\nimport { ModuleUtilitiesModule } from 'projects/personal/src/app/components/module-utilities/module-utilities.module';\r\n\r\nimport { DashboardComponent } from './dashboard/dashboard.component';\r\nimport { SettingsComponent } from './settings/settings.component';\r\nimport { AllStaffComponent } from './all-staff/all-staff.component';\r\nimport { NewStaffComponent } from './new-staff/new-staff.component';\r\nimport { ViewStaffComponent } from './view-staff/view-staff.component';\r\nimport { StaffFormComponent } from './staff-form/staff-form.component';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    DashboardComponent,\r\n    SettingsComponent,\r\n    AllStaffComponent,\r\n    NewStaffComponent,\r\n    ViewStaffComponent,\r\n    StaffFormComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    ChartsModule,\r\n    ModuleUtilitiesModule,\r\n  ]\r\n})\r\nexport class StaffModule { }\r\n","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { finalize } from 'rxjs/operators';\r\n\r\nimport { AngularFireStorage } from '@angular/fire/compat/storage';\r\n\r\nimport { StaffFormComponent } from '../staff-form/staff-form.component';\r\nimport { ConnectionToastComponent } from 'projects/personal/src/app/components/module-utilities/connection-toast/connection-toast.component'\r\nimport { DeleteModalComponent } from 'projects/personal/src/app/components/module-utilities/delete-modal/delete-modal.component'\r\n\r\nimport { StaffApiService } from 'projects/restaurant/src/app/services/modules/staff-api/staff-api.service';\r\nimport { StaffPrintService } from 'projects/restaurant/src/app/services/printing/staff-print/staff-print.service';\r\n\r\nimport { Staff } from 'projects/restaurant/src/app/models/modules/staff/staff.model';\r\n\r\n\r\n@Component({\r\n  selector: 'app-view-staff',\r\n  templateUrl: './view-staff.component.html',\r\n  styleUrls: ['./view-staff.component.scss']\r\n})\r\nexport class ViewStaffComponent implements OnInit {\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private storage: AngularFireStorage,\r\n    private staffApi: StaffApiService,\r\n    private staffPrint: StaffPrintService\r\n  ) { }\r\n\r\n  @ViewChild('staffFormComponentReference', { read: StaffFormComponent, static: false }) staffForm!: StaffFormComponent;\r\n  @ViewChild('connectionToastComponentReference', { read: ConnectionToastComponent, static: false }) connectionToast!: ConnectionToastComponent;\r\n  @ViewChild('deleteModalComponentReference', { read: DeleteModalComponent, static: false }) deleteModal!: DeleteModalComponent;\r\n\r\n  navHeading: any[] = [\r\n    { text: \"All Staff\", url: \"/home/staff/all-staff\" },\r\n    { text: \"View Staff\", url: \"/home/staff/view-staff\" },\r\n  ];\r\n\r\n  storageBasePath = \"/restaurant/\" + localStorage.getItem('restaurant_id') + \"/module_staff/\";\r\n\r\n  staffFormData: any;\r\n\r\n  isStaffLoading = false;\r\n  isStaffSaving = false;\r\n  isStaffDeleting = false;\r\n\r\n  ngOnInit(): void {\r\n    this.getStaff();\r\n  }\r\n\r\n  getStaff(){\r\n    this.isStaffLoading = true;\r\n\r\n    this.staffApi.getStaff()\r\n      .then(\r\n        (res: any) => {\r\n          console.log(res.data());\r\n\r\n          this.staffFormData = res;\r\n          this.isStaffLoading = false;\r\n\r\n          this.staffForm.staffForm.controls.firstName.setValue(this.staffFormData.data().first_name);\r\n          this.staffForm.staffForm.controls.lastName.setValue(this.staffFormData.data().last_name);\r\n          this.staffForm.staffForm.controls.sex.setValue(this.staffFormData.data().sex);\r\n          this.staffForm.bday.setValue(this.staffFormData.data().date_of_birth);\r\n          this.staffForm.staffForm.controls.nationality.setValue(this.staffFormData.data().nationality);\r\n          this.staffForm.staffForm.controls.religion.setValue(this.staffFormData.data().religion);\r\n          this.staffForm.staffForm.controls.phone.setValue(this.staffFormData.data().phone);\r\n          this.staffForm.staffForm.controls.email.setValue(this.staffFormData.data().email);\r\n          this.staffForm.staffForm.controls.address.setValue(this.staffFormData.data().address);\r\n          this.staffForm.staffForm.controls.state.setValue(this.staffFormData.data().state);\r\n          this.staffForm.staffForm.controls.city.setValue(this.staffFormData.data().city);\r\n          this.staffForm.staffForm.controls.postCode.setValue(this.staffFormData.data().post_code);\r\n          this.staffForm.staffForm.controls.staffCode.setValue(this.staffFormData.data().staff_code);\r\n          this.staffForm.staffForm.controls.department.setValue(this.staffFormData.data().department);\r\n          this.staffForm.staffForm.controls.job.setValue(this.staffFormData.data().job);\r\n\r\n          if (this.staffFormData.data().photo != \"\"){\r\n            this.staffForm.photo.imgSrc = this.staffFormData.data().photo;\r\n            this.staffForm.photo.isImageSet = true;\r\n          }\r\n        },\r\n        (err: any) => {\r\n          console.log(err);\r\n          this.isStaffLoading = false;\r\n          this.connectionToast.openToast();\r\n        }\r\n      )\r\n  }\r\n\r\n  updateStaff(){\r\n    console.log('u are saving a new staff');\r\n\r\n    var data = {\r\n      first_name: this.staffForm.staffForm.controls.firstName.value,\r\n      last_name: this.staffForm.staffForm.controls.lastName.value,\r\n      sex: this.staffForm.staffForm.controls.sex.value,\r\n      date_of_birth: this.staffForm.bday.value,\r\n      nationality: this.staffForm.staffForm.controls.nationality.value,\r\n      religion: this.staffForm.staffForm.controls.religion.value,\r\n      phone: this.staffForm.staffForm.controls.phone.value,\r\n      email: this.staffForm.staffForm.controls.email.value,\r\n      address: this.staffForm.staffForm.controls.address.value,\r\n      state: this.staffForm.staffForm.controls.state.value,\r\n      city: this.staffForm.staffForm.controls.city.value,\r\n      post_code: this.staffForm.staffForm.controls.postCode.value,\r\n      staff_code: this.staffForm.staffForm.controls.staffCode.value,\r\n      department: this.staffForm.staffForm.controls.department.value,\r\n      job: this.staffForm.staffForm.controls.job.value,\r\n    }\r\n\r\n    console.log(data);\r\n    this.isStaffSaving = true;\r\n\r\n    this.staffApi.updateStaff(data)\r\n      .then(\r\n        (res: any) => {\r\n          console.log(res);\r\n\r\n          if (this.staffForm.photo.isImageSet && !this.staffForm.photo.isImageChanged){\r\n            this.isStaffSaving = false;\r\n          }\r\n          else{\r\n            const storagePath = this.storageBasePath + res.id;\r\n            const storageRef = this.storage.ref(storagePath);\r\n            const task = this.storage.upload(storagePath, this.staffForm.photo.image);\r\n\r\n            task.snapshotChanges().pipe(\r\n                finalize(() => {\r\n                  storageRef.getDownloadURL().subscribe(downloadUrl => {\r\n                    this.updateImage({photo: downloadUrl});\r\n                  });\r\n                })\r\n              ).subscribe();\r\n          }\r\n        },\r\n        (err: any) => {\r\n          console.log(err);\r\n          this.isStaffSaving = false;\r\n          this.connectionToast.openToast();\r\n        }\r\n      )\r\n  }\r\n\r\n  confirmDelete(){\r\n    this.deleteModal.openModal();\r\n  }\r\n\r\n  deleteStaff(){\r\n    this.isStaffDeleting = true;\r\n\r\n    this.staffApi.deleteStaff()\r\n      .then(\r\n        (res: any) => {\r\n          console.log(res);\r\n          this.isStaffDeleting = false;\r\n          this.router.navigateByUrl('/home/staff/all-staff');\r\n        },\r\n        (err: any) => {\r\n          console.log(err);\r\n          this.connectionToast.openToast();\r\n          this.isStaffDeleting = false;\r\n        }\r\n      )\r\n  }\r\n\r\n  updateImage(data: any){\r\n    console.log('u are updating staff photo url');\r\n    console.log(data);\r\n\r\n    this.staffApi.updateStaff(data)\r\n      .then(\r\n        (res: any) => {\r\n          console.log(res);\r\n          this.isStaffSaving = false;\r\n        },\r\n        (err: any) => {\r\n          console.log(err);\r\n          this.isStaffSaving = false;\r\n          this.connectionToast.openToast();\r\n        }\r\n      )\r\n  }\r\n\r\n  onPrint(){\r\n    console.log(\"lets start printing...\");\r\n    this.staffPrint.printViewStaff();\r\n  }\r\n\r\n}\r\n","<app-module-topnav [headings]=\"navHeading\"></app-module-topnav>\r\n\r\n<div class=\"container\">\r\n\r\n    <!-- staff page form -->\r\n\r\n    <app-staff-form #staffFormComponentReference></app-staff-form>\r\n\r\n    <div *ngIf=\"!isStaffLoading\" class=\"row page-form\">\r\n        <div class=\"col-md-12\">\r\n            <button type=\"button\" class=\"btn btn-secondary btn-sm float-end ms-1 page-form-btn\" routerLink=\"/home/staff/all-staff\">Cancel</button>\r\n            <button [disabled]=\"isStaffDeleting\" type=\"button\" class=\"btn btn-secondary btn-sm float-end ms-1 page-form-btn\" (click)=\"confirmDelete()\">Delete</button>\r\n            <button [disabled]=\"isStaffSaving\" class=\"btn btn-secondary btn-sm float-end ms-1 page-form-btn\" (click)=\"updateStaff()\">Save</button>\r\n        </div>\r\n    </div>\r\n    <div *ngIf=\"isStaffLoading\" class=\"row\">\r\n        <div class=\"col-md-12\">\r\n            <button type=\"button\" class=\"btn btn-sm float-end ms-1 btn-light page-form-btn\">\r\n                <div class=\"spinner-grow spinner-grow-sm\" role=\"status\">\r\n                    <span class=\"visually-hidden\">Loading...</span>\r\n                </div>\r\n            </button>\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n\r\n<!-- connection error prompt component -->\r\n\r\n<app-connection-toast #connectionToastComponentReference></app-connection-toast>\r\n\r\n<!-- delete confirmation modal component -->\r\n\r\n<app-delete-modal #deleteModalComponentReference (confirmEvent)=\"deleteStaff()\"></app-delete-modal>\r\n","import { Injectable } from '@angular/core';\nimport { ActivatedRouteSnapshot, CanActivate, CanActivateChild, Router } from '@angular/router';\nimport { Observable } from 'rxjs';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ViewStaffGuard implements CanActivate {\n\n  constructor(private router: Router) { }\n\n  canActivate(route: ActivatedRouteSnapshot): boolean {\n    if (!!sessionStorage.getItem('restaurant_staff_id')){\n      return true;\n    }\n    else{\n      this.router.navigateByUrl('/home/staff');\n      return false;\n    }\n  }\n\n}\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\n\r\nimport { StaffPageComponent } from './staff-page.component';\r\nimport { AllStaffComponent } from '../../../components/modules/staff/all-staff/all-staff.component';\r\nimport { NewStaffComponent } from '../../../components/modules/staff/new-staff/new-staff.component';\r\nimport { ViewStaffComponent } from '../../../components/modules/staff/view-staff/view-staff.component';\r\nimport { DashboardComponent } from '../../../components/modules/staff/dashboard/dashboard.component';\r\n\r\nimport { ViewStaffGuard } from '../../../guards/modules/staff/view-staff.guard';\r\n\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: \"\",\r\n    component: StaffPageComponent,\r\n    children: [\r\n      { path: \"\", component: DashboardComponent },\r\n      { path: \"dashboard\", component: DashboardComponent },\r\n      { path: \"all-staff\", component: AllStaffComponent },\r\n      { path: \"new-staff\", component: NewStaffComponent },\r\n      { path: \"view-staff\", component: ViewStaffComponent, canActivate: [ViewStaffGuard] }\r\n    ]\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class StaffPageRoutingModule { }\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-staff-page',\r\n  templateUrl: './staff-page.component.html',\r\n  styleUrls: ['./staff-page.component.scss']\r\n})\r\nexport class StaffPageComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  navLinks: any[] = [\r\n    { text: \"All Staff\", url: \"/home/staff/all-staff\", icon: \"bi bi-list-ul\" },\r\n    { text: \"New Staff\", url: \"/home/staff/new-staff\", icon: \"bi bi-plus-square\" }\r\n  ]\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<app-main-navbar [navBrand]=\"'nR Restaurant'\" [source]=\"'Restaurant'\"></app-main-navbar>\r\n\r\n<div id=\"wrapper\">\r\n\r\n    <app-module-sidenav [navLinks]=\"navLinks\" [heading]=\"'Staff'\"></app-module-sidenav>\r\n\r\n    <div id=\"content-wrapper\" class=\"d-flex flex-column\">\r\n        <div id=\"content\">\r\n\r\n            <router-outlet></router-outlet>\r\n\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { StaffPageRoutingModule } from './staff-page-routing.module';\r\nimport { MainNavbarModule } from 'projects/application/src/app/components/main-navbar/main-navbar.module';\r\nimport { ModuleUtilitiesModule } from 'projects/personal/src/app/components/module-utilities/module-utilities.module';\r\nimport { StaffModule } from '../../../components/modules/staff/staff.module';\r\n\r\nimport { StaffPageComponent } from './staff-page.component';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    StaffPageComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    StaffPageRoutingModule,\r\n    MainNavbarModule,\r\n    ModuleUtilitiesModule,\r\n    StaffModule,\r\n  ]\r\n})\r\nexport class StaffPageModule { }\r\n","import { Injectable } from '@angular/core';\r\nimport { map, finalize } from 'rxjs/operators';\r\n\r\nimport { AngularFirestore } from '@angular/fire/compat/firestore';\r\nimport { AngularFireStorage } from '@angular/fire/compat/storage';\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class StaffApiService {\r\n\r\n  constructor(\r\n    private afs: AngularFirestore,\r\n    private storage: AngularFireStorage\r\n  ) { }\r\n\r\n  staffRef = this.afs.collection('restaurant/module_staff/restaurant_staff');\r\n\r\n  storagePath = \"/restaurant/\" + localStorage.getItem('restaurant_id');\r\n  storageRef = this.storage.ref(this.storagePath);\r\n\r\n  // staff\r\n\r\n  createStaff(staff: any){\r\n    return this.staffRef.add(staff);\r\n  }\r\n\r\n  getStaff(){\r\n    return this.staffRef.doc(String(sessionStorage.getItem('restaurant_staff_id'))).ref.get();\r\n  }\r\n\r\n  updateStaff(staff: any){\r\n    return this.staffRef.doc(String(sessionStorage.getItem('restaurant_staff_id'))).update(staff);\r\n  }\r\n\r\n  deleteStaff(){\r\n    return this.staffRef.doc(String(sessionStorage.getItem('restaurant_staff_id'))).delete();\r\n  }\r\n\r\n  getAccountStaff(sorting: any, pageSize: any){\r\n    return this.staffRef.ref\r\n      .where(\"account\", \"==\", localStorage.getItem('restaurant_id'))\r\n      .orderBy(sorting?.field, sorting?.direction)\r\n      .limit(pageSize)\r\n      .get();\r\n  }\r\n\r\n  getAccountStaffNext(sorting: any, pageSize: any, pageStart: any){\r\n    return this.staffRef.ref\r\n      .where(\"account\", \"==\", localStorage.getItem('restaurant_id'))\r\n      .orderBy(sorting?.field, sorting?.direction)\r\n      .startAfter(pageStart)\r\n      .limit(pageSize)\r\n      .get();\r\n  }\r\n\r\n  getAccountStaffPrev(sorting: any, pageSize: any, pageStart: any){\r\n    return this.staffRef.ref\r\n      .where(\"account\", \"==\", localStorage.getItem('restaurant_id'))\r\n      .orderBy(sorting?.field, sorting?.direction)\r\n      .startAt(pageStart)\r\n      .limit(pageSize)\r\n      .get();\r\n  }\r\n\r\n  getAllAccountStaff(){\r\n    return this.staffRef.ref\r\n      .where(\"account\", \"==\", localStorage.getItem('restaurant_id'))\r\n      .orderBy(\"created_at\", \"desc\")\r\n      .get();\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\nimport { PdfPrintService } from 'projects/personal/src/app/services/pdf-print/pdf-print.service';\r\nimport { StaffApiService } from 'projects/restaurant/src/app/services/modules/staff-api/staff-api.service';\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class StaffPrintService {\r\n\r\n  constructor(\r\n    private pdfPrint: PdfPrintService,\r\n    private staffApi: StaffApiService\r\n  ) { }\r\n\r\n  async printAllStaff(){\r\n    const menuGroupGridData = await this.staffApi.getAllAccountStaff();\r\n\r\n    var body = [['Staff ID', 'Staff Name', 'Department', 'Job']];\r\n\r\n    for (let data of menuGroupGridData.docs){\r\n      var row = [];\r\n      let rowData: any = data.data();\r\n      row.push(rowData.staff_code);\r\n      row.push(rowData.first_name + \" \" + rowData.last_name);\r\n      row.push(rowData.department);\r\n      row.push(rowData.job);\r\n\r\n      body.push(row);\r\n    }\r\n\r\n    let content = [\r\n      {\r\n        layout: 'lightHorizontalLines',\r\n        table: {\r\n          headerRows: 1,\r\n          widths: ['15%', '35%', '25%', '25%'],\r\n          body: body\r\n        }\r\n      }\r\n    ]\r\n\r\n    this.pdfPrint.openPdf(content);\r\n  }\r\n\r\n  // view staff\r\n\r\n  async printViewStaff(){\r\n    const staffFormData = await this.staffApi.getStaff();\r\n\r\n    let formData: any = staffFormData.data();\r\n\r\n    let content = [\r\n      { text: 'Personal Details', bold: true, margin: [0, 20, 0, 10] },\r\n      {\r\n        columns: [\r\n          [\r\n            { text: 'First Name: ' + formData.first_name },\r\n            { text: 'Last Name: ' + formData.last_name },\r\n            { text: 'Sex: ' + formData.sex },\r\n            { text: 'Date of Birth: ' + formData.date_of_birth },\r\n          ],\r\n          [\r\n            { text: 'Nationality: ' + formData.nationality },\r\n            { text: 'Religion: ' + formData.religion },\r\n          ]\r\n        ]\r\n      },\r\n      { text: 'Contact Details', bold: true, margin: [0, 20, 0, 10] },\r\n      {\r\n        columns: [\r\n          [\r\n            { text: 'Phone No.: ' + formData.phone },\r\n            { text: 'Email: ' + formData.email },\r\n            { text: 'Address: ' + formData.address },\r\n          ],\r\n          [\r\n            { text: 'State/Region: ' + formData.state },\r\n            { text: 'city/Town: ' + formData.city },\r\n            { text: 'Post Code: ' + formData.post_code },\r\n          ]\r\n        ]\r\n      },\r\n      { text: 'Staff Details', bold: true, margin: [0, 20, 0, 10] },\r\n      {\r\n        columns: [\r\n          [\r\n            { text: 'Staff ID: ' + formData.staff_code },\r\n          ],\r\n          [\r\n            { text: 'Department: ' + formData.department },\r\n            { text: 'Job: ' + formData.job },\r\n          ]\r\n        ]\r\n      },\r\n    ]\r\n\r\n    this.pdfPrint.openPdf(content);\r\n  }\r\n\r\n}\r\n"],"names":[],"sourceRoot":"webpack:///"}