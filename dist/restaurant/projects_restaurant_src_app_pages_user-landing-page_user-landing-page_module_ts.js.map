{"version":3,"file":"projects_restaurant_src_app_pages_user-landing-page_user-landing-page_module_ts.js","mappings":"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","sources":["./projects/restaurant/src/app/pages/user-landing-page/user-landing-page-routing.module.ts","./projects/restaurant/src/app/pages/user-landing-page/user-landing-page.component.ts","./projects/restaurant/src/app/pages/user-landing-page/user-landing-page.component.html","./projects/restaurant/src/app/pages/user-landing-page/user-landing-page.module.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\n\r\nimport { UserLandingPageComponent } from './user-landing-page.component';\r\n\r\nconst routes: Routes = [\r\n  { path: \"\", component: UserLandingPageComponent }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class UserLandingPageRoutingModule { }\r\n","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\n\r\nimport { ConnectionToastComponent } from 'projects/personal/src/app/components/module-utilities/connection-toast/connection-toast.component'\r\nimport { UserTopComponent } from 'projects/personal/src/app/components/suite-landing/user-top/user-top.component';\r\n\r\nimport { AdminApiService } from '../../services/modules/admin-api/admin-api.service';\r\nimport { SettingsApiService } from '../../services/modules/settings-api/settings-api.service';\r\n\r\n\r\n@Component({\r\n  selector: 'app-user-landing-page',\r\n  templateUrl: './user-landing-page.component.html',\r\n  styleUrls: ['./user-landing-page.component.scss']\r\n})\r\nexport class UserLandingPageComponent implements OnInit {\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private adminApi: AdminApiService,\r\n    private settingsApi: SettingsApiService\r\n  ) { }\r\n\r\n  @ViewChild('userTopComponentReference', { read: UserTopComponent, static: false }) userTop!: UserTopComponent;\r\n  @ViewChild('connectionToastComponentReference', { read: ConnectionToastComponent, static: false }) connectionToast!: ConnectionToastComponent;\r\n\r\n  accountsData: any;\r\n  isAccountLoading: boolean = false;\r\n  isAccountChecking: boolean = false;\r\n\r\n  ngOnInit(): void {\r\n    this.getUserAccountUser();\r\n  }\r\n\r\n  getUserAccountUser(){\r\n    this.isAccountLoading = true;\r\n\r\n    this.adminApi.getUserAccountUser()\r\n      .then(\r\n        (res: any) => {\r\n          console.log(res);\r\n          this.accountsData = res.docs;\r\n          this.isAccountLoading = false;\r\n        },\r\n        (err: any) => {\r\n          console.log(err);\r\n          this.isAccountLoading = false;\r\n          this.connectionToast.openToast();\r\n        }\r\n      )\r\n  }\r\n\r\n  checkAccountActive(data: any){\r\n    this.isAccountChecking = true;\r\n    console.log(data.data());\r\n\r\n    localStorage.setItem('restaurant_id', data.data().account.id);\r\n\r\n    this.settingsApi.getSubscription()\r\n      .then(\r\n        (res: any) => {\r\n          console.log(res.data());\r\n          this.isAccountChecking = false;\r\n\r\n          if (res.data().status == \"Active\" || res.data().status == \"Active\" && data.data().created_by == localStorage.getItem('personal_id')){\r\n            sessionStorage.setItem('restaurant_account_user_id', data.id);\r\n            this.router.navigateByUrl('/home');\r\n          }\r\n          else {\r\n            localStorage.removeItem('restaurant_id');\r\n            this.userTop.openSubscriptionModal();\r\n          }\r\n        },\r\n        (err: any) => {\r\n          console.log(err);\r\n          this.isAccountChecking = false;\r\n          this.connectionToast.openToast();\r\n        }\r\n      )\r\n  }\r\n\r\n  // NB: function not being used currently\r\n  activateAccount(data: any){\r\n    console.log(data);\r\n    localStorage.setItem('restaurant_id', data.data().account.id);\r\n    sessionStorage.setItem('restaurant_account_user_id', data.id);\r\n    this.router.navigateByUrl('/home');\r\n\r\n    // TODO: store selected account in server session\r\n  }\r\n\r\n  gotoAbout() {\r\n    console.log('to about...');\r\n    document.querySelector('#aboutComponentReference')?.scrollIntoView({ behavior: 'smooth' });\r\n  }\r\n\r\n  gotoPricing() {\r\n    console.log('to pricing...');\r\n    document.querySelector('#pricingComponentReference')?.scrollIntoView({ behavior: 'smooth'});\r\n  }\r\n\r\n  gotoContact() {\r\n    console.log('to contact...');\r\n    document.querySelector('#contactComponentReference')?.scrollIntoView({ behavior: 'smooth'});\r\n  }\r\n\r\n}\r\n","<app-main-navbar\r\n    [navBrand]=\"'nR Restaurant'\"\r\n    [source]=\"'Restaurant'\"\r\n></app-main-navbar>\r\n\r\n<app-suite-scrollnav\r\n    (aboutEvent)=\"gotoAbout()\"\r\n    (pricingEvent)=\"gotoPricing()\"\r\n    (contactEvent)=\"gotoContact()\"\r\n></app-suite-scrollnav>\r\n\r\n<app-user-top #userTopComponentReference\r\n    [suiteName]=\"'Restaurant'\"\r\n    [accountsData]=\"accountsData\"\r\n    [isAccountLoading]=\"isAccountLoading\"\r\n    [isAccountChecking]=\"isAccountChecking\"\r\n    (selectAccount)=\"checkAccountActive($event)\"\r\n></app-user-top>\r\n\r\n<app-about id=\"aboutComponentReference\"\r\n    [suiteName]=\"'Restaurant'\"\r\n    [suiteDetails]=\"'netRink Restaurant helps manage all aspects of your catering establishment. Restaurant comes with a range of extensive modular apps that are designed to see you through your day-to-day operations effectively. The modular apps are well intergrated with each, allowing you to bring all aspects of your restaurant operations into a single perspective.'\"\r\n></app-about>\r\n\r\n<app-pricing id=\"pricingComponentReference\"></app-pricing>\r\n\r\n<app-contact id=\"contactComponentReference\"\r\n    [suiteName]=\"'Restaurant'\"\r\n></app-contact>\r\n\r\n<app-main-footer></app-main-footer>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { UserLandingPageRoutingModule } from './user-landing-page-routing.module';\r\nimport { MainNavbarModule } from 'projects/application/src/app/components/main-navbar/main-navbar.module';\r\nimport { SuiteLandingModule } from 'projects/personal/src/app/components/suite-landing/suite-landing.module';\r\n\r\nimport { UserLandingPageComponent } from './user-landing-page.component';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    UserLandingPageComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    UserLandingPageRoutingModule,\r\n    MainNavbarModule,\r\n    SuiteLandingModule\r\n  ]\r\n})\r\nexport class UserLandingPageModule { }\r\n"],"names":[],"sourceRoot":"webpack:///"}