"use strict";(self.webpackChunkang_fire=self.webpackChunkang_fire||[]).push([[508],{756:(y,p,r)=>{r.d(p,{Bt:()=>s.Bt});var s=r(9665)},7508:(y,p,r)=>{r.r(p),r.d(p,{KitchenStockPageModule:()=>_e});var s=r(6274),u=r(8718),e=r(2741),b=r(8088),C=r(7632);let A=(()=>{class o{constructor(){this.navLinks=[{text:"All Items",url:"/home/kitchen-stock/all-stock-items",icon:"bi bi-list-ul"}]}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.\u0275\u0275defineComponent({type:o,selectors:[["app-kitchen-stock-page"]],decls:6,vars:4,consts:[[3,"navBrand","source"],["id","wrapper"],[3,"navLinks","heading"],["id","content-wrapper",1,"d-flex","flex-column"],["id","content"]],template:function(t,n){1&t&&(e.\u0275\u0275element(0,"app-main-navbar",0),e.\u0275\u0275elementStart(1,"div",1),e.\u0275\u0275element(2,"app-module-sidenav",2),e.\u0275\u0275elementStart(3,"div",3),e.\u0275\u0275elementStart(4,"div",4),e.\u0275\u0275element(5,"router-outlet"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275property("navBrand","nR Restaurant")("source","Restaurant"),e.\u0275\u0275advance(2),e.\u0275\u0275property("navLinks",n.navLinks)("heading","Kitchen Stock"))},directives:[b.D,C.m,u.lC],styles:[""]}),o})();var _=r(1580),d=r(5307),k=r(8972);const x=["connectionToastComponentReference"];let I=(()=>{class o{constructor(t){this.kitchenStockApi=t,this.navHeading=[{text:"Dashboard",url:"/home/kitchen-stock/dashboard"}],this.allStockItemsCount=0,this.outOfStockCount=0}ngOnInit(){}ngAfterViewInit(){this.getAllAccountStockItem()}getAllAccountStockItem(){this.kitchenStockApi.getAllAccountStockItem().then(t=>{console.log(t),this.weekStockItemData=t.docs,this.allStockItemsCount=t.docs.length,this.countOutOfStock()},t=>{console.log(t),this.connectionToast.openToast()})}countOutOfStock(){this.weekStockItemData.forEach(t=>{0==t.data().quantity&&this.outOfStockCount++}),console.log(this.outOfStockCount)}}return o.\u0275fac=function(t){return new(t||o)(e.\u0275\u0275directiveInject(d.E))},o.\u0275cmp=e.\u0275\u0275defineComponent({type:o,selectors:[["app-dashboard"]],viewQuery:function(t,n){if(1&t&&e.\u0275\u0275viewQuery(x,5,_.Y),2&t){let i;e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(n.connectionToast=i.first)}},decls:23,vars:3,consts:[[3,"headings"],[1,"container"],[1,"row"],[1,"col-md-3","mb-4"],[1,"card","border-left-secondary","shadow","h-100","py-2"],[1,"card-body"],[1,"row","no-gutters","align-items-center"],[1,"col","mr-2"],[1,"text-xs","font-weight-bold","text-uppercase","mb-1"],[1,"h5","mb-0","font-weight-bold","text-gray-800"],["connectionToastComponentReference",""]],template:function(t,n){1&t&&(e.\u0275\u0275element(0,"app-module-topnav",0),e.\u0275\u0275elementStart(1,"div",1),e.\u0275\u0275elementStart(2,"div",2),e.\u0275\u0275elementStart(3,"div",3),e.\u0275\u0275elementStart(4,"div",4),e.\u0275\u0275elementStart(5,"div",5),e.\u0275\u0275elementStart(6,"div",6),e.\u0275\u0275elementStart(7,"div",7),e.\u0275\u0275elementStart(8,"div",8),e.\u0275\u0275text(9,"All Stock Items"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"div",9),e.\u0275\u0275text(11),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"div",3),e.\u0275\u0275elementStart(13,"div",4),e.\u0275\u0275elementStart(14,"div",5),e.\u0275\u0275elementStart(15,"div",6),e.\u0275\u0275elementStart(16,"div",7),e.\u0275\u0275elementStart(17,"div",8),e.\u0275\u0275text(18,"Items Out of Stock"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"div",9),e.\u0275\u0275text(20),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(21,"app-connection-toast",null,10)),2&t&&(e.\u0275\u0275property("headings",n.navHeading),e.\u0275\u0275advance(11),e.\u0275\u0275textInterpolate(n.allStockItemsCount),e.\u0275\u0275advance(9),e.\u0275\u0275textInterpolate(n.outOfStockCount))},directives:[k.H,_.Y],styles:[""]}),o})();var T=r(756),a=r(3324);let f=(()=>{class o{constructor(){this.stockItemForm=new a.cw({})}ngOnInit(){this.initItemForm()}initItemForm(){this.stockItemForm=new a.cw({itemCode:new a.NI(""),itemName:new a.NI(""),category:new a.NI(""),itemType:new a.NI(""),quantity:new a.NI(""),refillOrdered:new a.NI("")})}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.\u0275\u0275defineComponent({type:o,selectors:[["app-stock-item-form"]],decls:37,vars:1,consts:[[1,"page-form",3,"formGroup"],[1,"row","mb-1"],[1,"col-md-4"],[1,"float-md-end","float-sm-start","mt-1"],[1,"col-md-8"],["formControlName","itemCode",1,"form-control","form-control-sm","w-100"],["formControlName","itemName",1,"form-control","form-control-sm","w-100"],["type","number","min","0","formControlName","quantity",1,"form-control","form-control-sm","w-100"],["formControlName","category",1,"form-control","form-control-sm","w-100"],["formControlName","itemType",1,"form-control","form-control-sm","w-100"],["type","number","formControlName","refillOrdered",1,"form-control","form-control-sm","w-100"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"form",0),e.\u0275\u0275elementStart(1,"div",1),e.\u0275\u0275elementStart(2,"div",2),e.\u0275\u0275elementStart(3,"label",3),e.\u0275\u0275text(4,"Item ID :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",4),e.\u0275\u0275element(6,"input",5),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"div",1),e.\u0275\u0275elementStart(8,"div",2),e.\u0275\u0275elementStart(9,"label",3),e.\u0275\u0275text(10,"Item Name :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"div",4),e.\u0275\u0275element(12,"input",6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"div",1),e.\u0275\u0275elementStart(14,"div",2),e.\u0275\u0275elementStart(15,"label",3),e.\u0275\u0275text(16,"Quantity :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"div",4),e.\u0275\u0275element(18,"input",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"div",1),e.\u0275\u0275elementStart(20,"div",2),e.\u0275\u0275elementStart(21,"label",3),e.\u0275\u0275text(22,"Category :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"div",4),e.\u0275\u0275element(24,"input",8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(25,"div",1),e.\u0275\u0275elementStart(26,"div",2),e.\u0275\u0275elementStart(27,"label",3),e.\u0275\u0275text(28,"Item Type :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(29,"div",4),e.\u0275\u0275element(30,"input",9),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(31,"div",1),e.\u0275\u0275elementStart(32,"div",2),e.\u0275\u0275elementStart(33,"label",3),e.\u0275\u0275text(34,"Refill Ordered :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(35,"div",4),e.\u0275\u0275element(36,"input",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&t&&e.\u0275\u0275property("formGroup",n.stockItemForm)},directives:[a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,a.qQ,a.wV],styles:[""]}),o})();const w=["addButtonElementReference"],F=["dismissButtonElementReference"],P=["stockItemFormComponentReference"];let S=(()=>{class o{constructor(t){this.kitchenStockApi=t,this.saveItemEvent=new e.EventEmitter,this.isItemSaving=!1}ngOnInit(){}openModal(){this.addButton.nativeElement.click()}saveItem(){let t={created_at:(0,T.Bt)(),account:localStorage.getItem("restaurant_id"),item_code:this.stockItemForm.stockItemForm.controls.itemCode.value,item_name:this.stockItemForm.stockItemForm.controls.itemName.value,category:this.stockItemForm.stockItemForm.controls.category.value,item_type:this.stockItemForm.stockItemForm.controls.itemType.value,quantity:this.stockItemForm.stockItemForm.controls.quantity.value,refill_ordered:this.stockItemForm.stockItemForm.controls.refillOrdered.value};this.saveItemEvent.emit(t)}resetForm(){this.stockItemForm.stockItemForm.controls.itemCode.setValue(""),this.stockItemForm.stockItemForm.controls.itemName.setValue(""),this.stockItemForm.stockItemForm.controls.category.setValue(""),this.stockItemForm.stockItemForm.controls.itemType.setValue(""),this.stockItemForm.stockItemForm.controls.quantity.setValue(""),this.stockItemForm.stockItemForm.controls.refillOrdered.setValue("")}}return o.\u0275fac=function(t){return new(t||o)(e.\u0275\u0275directiveInject(d.E))},o.\u0275cmp=e.\u0275\u0275defineComponent({type:o,selectors:[["app-add-stock-item"]],viewQuery:function(t,n){if(1&t&&(e.\u0275\u0275viewQuery(w,5,e.ElementRef),e.\u0275\u0275viewQuery(F,5,e.ElementRef),e.\u0275\u0275viewQuery(P,5,f)),2&t){let i;e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(n.addButton=i.first),e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(n.dismissButton=i.first),e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(n.stockItemForm=i.first)}},outputs:{saveItemEvent:"saveItemEvent"},decls:19,vars:2,consts:[["data-bs-toggle","modal","data-bs-target","#addItemModal",3,"hidden"],["addButtonElementReference",""],["id","addItemModal","tabindex","-1","aria-labelledby","addItemModalLabel","aria-hidden","true",1,"modal","fade","form-modal"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header","bg-light"],["id","addItemModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],["dismissButtonElementReference",""],[1,"modal-body"],["stockItemFormComponentReference",""],[1,"modal-footer"],[1,"btn","btn-sm","btn-secondary","modal-form-btn",3,"disabled","click"],["data-bs-dismiss","modal",1,"btn","btn-sm","btn-secondary","modal-form-btn"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"button",0,1),e.\u0275\u0275text(2," Launch demo modal\n"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",2),e.\u0275\u0275elementStart(4,"div",3),e.\u0275\u0275elementStart(5,"div",4),e.\u0275\u0275elementStart(6,"div",5),e.\u0275\u0275elementStart(7,"span",6),e.\u0275\u0275text(8,"Add New Stock Item"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(9,"button",7,8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"div",9),e.\u0275\u0275element(12,"app-stock-item-form",null,10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"div",11),e.\u0275\u0275elementStart(15,"button",12),e.\u0275\u0275listener("click",function(){return n.saveItem()}),e.\u0275\u0275text(16,"Save"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"button",13),e.\u0275\u0275text(18,"Cancel"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275property("hidden",!0),e.\u0275\u0275advance(15),e.\u0275\u0275property("disabled",n.isItemSaving))},directives:[f],styles:[""]}),o})();const R=["editButtonElementReference"],D=["dismissButtonElementReference"],V=["stockItemFormComponentReference"];let h=(()=>{class o{constructor(t){this.kitchenStockApi=t,this.saveItemEvent=new e.EventEmitter,this.deleteItemEvent=new e.EventEmitter,this.navHeading=[{text:"All Items",url:"/home/kitchen-stock/all-stock-items"},{text:"View Item",url:"/home/kitchen-stock/view-stock-item"}],this.isItemSaving=!1,this.isItemDeleting=!1}ngOnInit(){}openModal(t){this.stockItemData=t,this.stockItemForm.stockItemForm.controls.itemCode.setValue(t.data().item_code),this.stockItemForm.stockItemForm.controls.itemName.setValue(t.data().item_name),this.stockItemForm.stockItemForm.controls.category.setValue(t.data().category),this.stockItemForm.stockItemForm.controls.itemType.setValue(t.data().item_type),this.stockItemForm.stockItemForm.controls.quantity.setValue(t.data().quantity),this.stockItemForm.stockItemForm.controls.refillOrdered.setValue(t.data().refill_ordered),this.editButton.nativeElement.click()}saveItem(){this.saveItemEvent.emit({id:this.stockItemData.id,data:{item_code:this.stockItemForm.stockItemForm.controls.itemCode.value,item_name:this.stockItemForm.stockItemForm.controls.itemName.value,category:this.stockItemForm.stockItemForm.controls.category.value,item_type:this.stockItemForm.stockItemForm.controls.itemType.value,quantity:this.stockItemForm.stockItemForm.controls.quantity.value,refill_ordered:this.stockItemForm.stockItemForm.controls.refillOrdered.value}})}deleteItem(){this.deleteItemEvent.emit(this.stockItemData.id)}}return o.\u0275fac=function(t){return new(t||o)(e.\u0275\u0275directiveInject(d.E))},o.\u0275cmp=e.\u0275\u0275defineComponent({type:o,selectors:[["app-edit-stock-item"]],viewQuery:function(t,n){if(1&t&&(e.\u0275\u0275viewQuery(R,5,e.ElementRef),e.\u0275\u0275viewQuery(D,5,e.ElementRef),e.\u0275\u0275viewQuery(V,5,f)),2&t){let i;e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(n.editButton=i.first),e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(n.dismissButton=i.first),e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(n.stockItemForm=i.first)}},outputs:{saveItemEvent:"saveItemEvent",deleteItemEvent:"deleteItemEvent"},decls:21,vars:3,consts:[["data-bs-toggle","modal","data-bs-target","#editItemModal",3,"hidden"],["editButtonElementReference",""],["id","editItemModal","tabindex","-1","aria-labelledby","editItemModalLabel","aria-hidden","true",1,"modal","fade","form-modal"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header","bg-light"],["id","editItemModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],["dismissButtonElementReference",""],[1,"modal-body"],["stockItemFormComponentReference",""],[1,"modal-footer"],[1,"btn","btn-sm","btn-secondary","modal-form-btn",3,"disabled","click"],["data-bs-dismiss","modal",1,"btn","btn-sm","btn-secondary","modal-form-btn"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"button",0,1),e.\u0275\u0275text(2," Launch demo modal\n"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",2),e.\u0275\u0275elementStart(4,"div",3),e.\u0275\u0275elementStart(5,"div",4),e.\u0275\u0275elementStart(6,"div",5),e.\u0275\u0275elementStart(7,"span",6),e.\u0275\u0275text(8,"Edit Stock Item"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(9,"button",7,8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"div",9),e.\u0275\u0275element(12,"app-stock-item-form",null,10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"div",11),e.\u0275\u0275elementStart(15,"button",12),e.\u0275\u0275listener("click",function(){return n.saveItem()}),e.\u0275\u0275text(16,"Save"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"button",12),e.\u0275\u0275listener("click",function(){return n.deleteItem()}),e.\u0275\u0275text(18,"Delete"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"button",13),e.\u0275\u0275text(20,"Cancel"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275property("hidden",!0),e.\u0275\u0275advance(15),e.\u0275\u0275property("disabled",n.isItemSaving),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",n.isItemDeleting))},directives:[f],styles:[""]}),o})();var v=r(8622),N=r(1921),Q=r(6424);let M=(()=>{class o{constructor(t,n){this.pdfPrint=t,this.kitchenStockApi=n}printAllStockItems(){var t=this;return(0,N.Z)(function*(){const n=yield t.kitchenStockApi.getAllAccountStockItem();var i=[["Stock Item ID","Stock Item Name","Quantity","Category","Item Type","Refill Ordered"]];for(let fe of n.docs){var m=[];let c=fe.data();m.push(c.item_code),m.push(c.item_name),m.push(c.quantity),m.push(c.category),m.push(c.item_type),m.push(c.refill_ordered),i.push(m)}t.pdfPrint.openPdf([{layout:"lightHorizontalLines",table:{headerRows:1,widths:["15%","25%","10%","18%","18%","14%"],body:i}}])})()}}return o.\u0275fac=function(t){return new(t||o)(e.\u0275\u0275inject(Q.n),e.\u0275\u0275inject(d.E))},o.\u0275prov=e.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const O=["addStockItemComponentReference"],B=["editStockItemComponentReference"],G=["connectionToastComponentReference"],K=["deleteModalComponentReference"];function j(o,l){if(1&o){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",39),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("item_code","desc")}),e.\u0275\u0275elementEnd()}}function L(o,l){if(1&o){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",40),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("item_code","asc")}),e.\u0275\u0275elementEnd()}}function q(o,l){if(1&o){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",41),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("item_code","desc")}),e.\u0275\u0275elementEnd()}}function z(o,l){if(1&o){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",39),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("item_name","desc")}),e.\u0275\u0275elementEnd()}}function H(o,l){if(1&o){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",40),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("item_name","asc")}),e.\u0275\u0275elementEnd()}}function Y(o,l){if(1&o){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",41),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("item_name","desc")}),e.\u0275\u0275elementEnd()}}function J(o,l){if(1&o){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",39),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("quantity","desc")}),e.\u0275\u0275elementEnd()}}function U(o,l){if(1&o){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",40),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("quantity","asc")}),e.\u0275\u0275elementEnd()}}function $(o,l){if(1&o){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",41),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("quantity","desc")}),e.\u0275\u0275elementEnd()}}function W(o,l){if(1&o){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",39),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("category","desc")}),e.\u0275\u0275elementEnd()}}function X(o,l){if(1&o){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",40),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("category","asc")}),e.\u0275\u0275elementEnd()}}function Z(o,l){if(1&o){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",41),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("category","desc")}),e.\u0275\u0275elementEnd()}}function ee(o,l){if(1&o){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",39),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("item_type","desc")}),e.\u0275\u0275elementEnd()}}function te(o,l){if(1&o){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",40),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("item_type","asc")}),e.\u0275\u0275elementEnd()}}function ne(o,l){if(1&o){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",41),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("item_type","desc")}),e.\u0275\u0275elementEnd()}}function oe(o,l){if(1&o){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",39),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("refill_ordered","desc")}),e.\u0275\u0275elementEnd()}}function ie(o,l){if(1&o){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",40),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("refill_ordered","asc")}),e.\u0275\u0275elementEnd()}}function le(o,l){if(1&o){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",41),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().sortTable("refill_ordered","desc")}),e.\u0275\u0275elementEnd()}}function re(o,l){if(1&o){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tr",42),e.\u0275\u0275listener("dblclick",function(){const m=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275nextContext().openEditItem(m)}),e.\u0275\u0275elementStart(1,"td"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"td"),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"td"),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"td"),e.\u0275\u0275text(8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"td"),e.\u0275\u0275text(10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"td"),e.\u0275\u0275text(12),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()}if(2&o){const t=l.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(null==t?null:t.data().item_code),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(null==t?null:t.data().item_name),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(null==t?null:t.data().quantity),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(null==t?null:t.data().category),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(null==t?null:t.data().item_type),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(null==t?null:t.data().refill_ordered)}}function me(o,l){1&o&&(e.\u0275\u0275elementStart(0,"tr",43),e.\u0275\u0275elementStart(1,"td",22),e.\u0275\u0275elementStart(2,"div",44),e.\u0275\u0275elementStart(3,"span",45),e.\u0275\u0275text(4,"Loading..."),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd())}function ae(o,l){1&o&&(e.\u0275\u0275elementStart(0,"tr",43),e.\u0275\u0275elementStart(1,"td",22),e.\u0275\u0275elementStart(2,"p",46),e.\u0275\u0275text(3,"No data available"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd())}const se=[{path:"",component:A,children:[{path:"",component:I},{path:"dashboard",component:I},{path:"all-stock-items",component:(()=>{class o{constructor(t,n){this.kitchenStockApi=t,this.kitchenStockPrint=n,this.navHeading=[{text:"All Items",url:"/home/kitchenStock/all-stock-items"}],this.itemsGridData=[],this.deleteId="",this.isFetchingGridData=!1,this.isDataAvailable=!0,this.firstInResponse=[],this.lastInResponse=[],this.nextStartAfter=[],this.prevStartAt=[],this.pageNumber=0,this.disableNext=!0,this.disablePrev=!0,this.sortParams={field:"created_at",direction:"desc"}}ngOnInit(){this.getAccountStockItem()}getAccountStockItem(){this.isFetchingGridData=!0,this.kitchenStockApi.getAccountStockItem(this.sortParams,20).then(t=>{console.log(t),this.itemsGridData=t.docs,this.isFetchingGridData=!1,this.prevStartAt=this.firstInResponse,this.nextStartAfter=t.docs[t.docs.length-1],this.firstInResponse=t.docs[0],this.pageNumber=1,this.isDataAvailable=!!t.docs.length,!t.docs.length||t.docs.length<20?(this.disableNext=!0,this.disablePrev=!0):(this.disableNext=!1,this.disablePrev=!0)},t=>{console.log(t),this.isFetchingGridData=!1,this.connectionToast.openToast()})}nextPage(t){t.preventDefault(),this.isFetchingGridData=!0,this.kitchenStockApi.getAccountStockItemNext(this.sortParams,20,this.nextStartAfter).then(n=>{console.log(n),this.itemsGridData=n.docs,this.isFetchingGridData=!1,this.prevStartAt=this.firstInResponse,this.nextStartAfter=n.docs[n.docs.length-1],this.firstInResponse=n.docs[0],this.pageNumber++,n.docs.length<20&&(this.disableNext=!0,this.disablePrev=!1)},n=>{console.log(n),this.isFetchingGridData=!1,this.connectionToast.openToast()})}previousPage(t){t.preventDefault(),this.isFetchingGridData=!0,this.kitchenStockApi.getAccountStockItemPrev(this.sortParams,20,this.prevStartAt).then(n=>{console.log(n),this.itemsGridData=n.docs,this.isFetchingGridData=!1,n.docs.length||(this.isDataAvailable=!1),this.prevStartAt=this.firstInResponse,this.nextStartAfter=n.docs[n.docs.length-1],this.firstInResponse=n.docs[0],this.pageNumber--,1==this.pageNumber&&(this.disableNext=!1,this.disablePrev=!0)},n=>{console.log(n),this.isFetchingGridData=!1,this.connectionToast.openToast()})}sortTable(t,n){this.sortParams.field=t,this.sortParams.direction=n,this.getAccountStockItem()}createStockItem(t){console.log(t),this.addStockItem.isItemSaving=!0,this.kitchenStockApi.createStockItem(t).then(n=>{console.log(n),n.id&&(this.getAccountStockItem(),this.addStockItem.isItemSaving=!1,this.addStockItem.addButton.nativeElement.click(),this.isDataAvailable=!1,this.addStockItem.resetForm())},n=>{console.log(n),this.addStockItem.isItemSaving=!1,this.connectionToast.openToast()})}updateStockItem(t){console.log(t),this.editStockItem.isItemSaving=!0,this.kitchenStockApi.updateStockItem(t.id,t.data).then(n=>{console.log(n),this.editStockItem.isItemSaving=!1,this.editStockItem.editButton.nativeElement.click(),this.getAccountStockItem()},n=>{console.log(n),this.addStockItem.isItemSaving=!1,this.connectionToast.openToast()})}deleteStockItem(){this.editStockItem.isItemDeleting=!0,this.kitchenStockApi.deleteStockItem(this.deleteId).then(t=>{console.log(t),this.editStockItem.isItemDeleting=!1,this.editStockItem.editButton.nativeElement.click(),this.getAccountStockItem()},t=>{console.log(t),this.editStockItem.isItemDeleting=!1,this.connectionToast.openToast()})}openEditItem(t){console.log(t),this.editStockItem.openModal(t)}confirmDelete(t){this.deleteId=t,this.deleteModal.openModal()}onPrint(){console.log("lets start printing..."),this.kitchenStockPrint.printAllStockItems()}}return o.\u0275fac=function(t){return new(t||o)(e.\u0275\u0275directiveInject(d.E),e.\u0275\u0275directiveInject(M))},o.\u0275cmp=e.\u0275\u0275defineComponent({type:o,selectors:[["app-all-stock-items"]],viewQuery:function(t,n){if(1&t&&(e.\u0275\u0275viewQuery(O,5,S),e.\u0275\u0275viewQuery(B,5,h),e.\u0275\u0275viewQuery(G,5,_.Y),e.\u0275\u0275viewQuery(K,5,v.z)),2&t){let i;e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(n.addStockItem=i.first),e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(n.editStockItem=i.first),e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(n.connectionToast=i.first),e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(n.deleteModal=i.first)}},decls:70,vars:27,consts:[[3,"headings","showPrint","print"],[1,"container"],[1,"row"],[1,"col-md-12"],[1,"row","mb-3"],[1,"btn","btn-secondary","page-add-btn",3,"click"],[1,"btn","btn-light","border","float-end","page-refresh-btn",3,"disabled","click"],[1,"bi","bi-arrow-clockwise"],[1,"overflow-auto"],[1,"table","table-bordered","table-sm","w-100","page-table"],[1,"bg-light"],["width","15%",1,"min-width-2"],["class","bi bi-filter float-end list-pointer",3,"click",4,"ngIf"],["class","bi bi-sort-down float-end list-pointer",3,"click",4,"ngIf"],["class","bi bi-sort-up float-end list-pointer",3,"click",4,"ngIf"],["width","25%",1,"min-width-4"],["width","10%",1,"min-width-2"],["width","18%",1,"min-width-2"],["width","18%",1,"min-width-3"],["width","14%",1,"min-width-2"],["class","table-pointer",3,"dblclick",4,"ngFor","ngForOf"],["class","text-center",4,"ngIf"],["colspan","6"],["aria-label","Page navigation",1,"nav-light","float-end"],[1,"pagination","pagination-sm","mb-0","justify-content-end"],[1,"page-item",3,"ngClass"],["href","#","aria-label","First",1,"page-link",3,"click"],[1,"bi","bi-caret-left-fill"],[1,"page-item"],["href","#","aria-label","Current",1,"page-link",3,"click"],["href","#","aria-label","Last",1,"page-link",3,"click"],[1,"bi","bi-caret-right-fill"],[3,"saveItemEvent"],["addStockItemComponentReference",""],[3,"saveItemEvent","deleteItemEvent"],["editStockItemComponentReference",""],["connectionToastComponentReference",""],[3,"confirmEvent"],["deleteModalComponentReference",""],[1,"bi","bi-filter","float-end","list-pointer",3,"click"],[1,"bi","bi-sort-down","float-end","list-pointer",3,"click"],[1,"bi","bi-sort-up","float-end","list-pointer",3,"click"],[1,"table-pointer",3,"dblclick"],[1,"text-center"],["role","status",1,"spinner-grow","m-4"],[1,"visually-hidden"],[1,"m-4"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"app-module-topnav",0),e.\u0275\u0275listener("print",function(){return n.onPrint()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(1,"div",1),e.\u0275\u0275elementStart(2,"div",2),e.\u0275\u0275elementStart(3,"div",3),e.\u0275\u0275elementStart(4,"div",4),e.\u0275\u0275elementStart(5,"div",3),e.\u0275\u0275elementStart(6,"button",5),e.\u0275\u0275listener("click",function(){return n.addStockItem.openModal()}),e.\u0275\u0275text(7,"Add New Item"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"button",6),e.\u0275\u0275listener("click",function(){return n.getAccountStockItem()}),e.\u0275\u0275element(9,"i",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"div",8),e.\u0275\u0275elementStart(11,"table",9),e.\u0275\u0275elementStart(12,"thead"),e.\u0275\u0275elementStart(13,"tr",10),e.\u0275\u0275elementStart(14,"th",11),e.\u0275\u0275text(15," Stock Item ID "),e.\u0275\u0275template(16,j,1,0,"i",12),e.\u0275\u0275template(17,L,1,0,"i",13),e.\u0275\u0275template(18,q,1,0,"i",14),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"th",15),e.\u0275\u0275text(20," Stock Item Name "),e.\u0275\u0275template(21,z,1,0,"i",12),e.\u0275\u0275template(22,H,1,0,"i",13),e.\u0275\u0275template(23,Y,1,0,"i",14),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(24,"th",16),e.\u0275\u0275text(25," Quantity "),e.\u0275\u0275template(26,J,1,0,"i",12),e.\u0275\u0275template(27,U,1,0,"i",13),e.\u0275\u0275template(28,$,1,0,"i",14),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(29,"th",17),e.\u0275\u0275text(30," Category "),e.\u0275\u0275template(31,W,1,0,"i",12),e.\u0275\u0275template(32,X,1,0,"i",13),e.\u0275\u0275template(33,Z,1,0,"i",14),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(34,"th",18),e.\u0275\u0275text(35," Item Type "),e.\u0275\u0275template(36,ee,1,0,"i",12),e.\u0275\u0275template(37,te,1,0,"i",13),e.\u0275\u0275template(38,ne,1,0,"i",14),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(39,"th",19),e.\u0275\u0275text(40," Refill Ordered "),e.\u0275\u0275template(41,oe,1,0,"i",12),e.\u0275\u0275template(42,ie,1,0,"i",13),e.\u0275\u0275template(43,le,1,0,"i",14),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(44,"tbody"),e.\u0275\u0275template(45,re,13,6,"tr",20),e.\u0275\u0275template(46,me,5,0,"tr",21),e.\u0275\u0275template(47,ae,4,0,"tr",21),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(48,"tfoot"),e.\u0275\u0275elementStart(49,"tr",10),e.\u0275\u0275elementStart(50,"td",22),e.\u0275\u0275elementStart(51,"nav",23),e.\u0275\u0275elementStart(52,"ul",24),e.\u0275\u0275elementStart(53,"li",25),e.\u0275\u0275elementStart(54,"a",26),e.\u0275\u0275listener("click",function(m){return n.previousPage(m)}),e.\u0275\u0275element(55,"i",27),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(56,"li",28),e.\u0275\u0275elementStart(57,"a",29),e.\u0275\u0275listener("click",function(m){return m.preventDefault()}),e.\u0275\u0275text(58),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(59,"li",25),e.\u0275\u0275elementStart(60,"a",30),e.\u0275\u0275listener("click",function(m){return n.nextPage(m)}),e.\u0275\u0275element(61,"i",31),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(62,"app-add-stock-item",32,33),e.\u0275\u0275listener("saveItemEvent",function(m){return n.createStockItem(m)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(64,"app-edit-stock-item",34,35),e.\u0275\u0275listener("saveItemEvent",function(m){return n.updateStockItem(m)})("deleteItemEvent",function(m){return n.confirmDelete(m)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(66,"app-connection-toast",null,36),e.\u0275\u0275elementStart(68,"app-delete-modal",37,38),e.\u0275\u0275listener("confirmEvent",function(){return n.deleteStockItem()}),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275property("headings",n.navHeading)("showPrint",!0),e.\u0275\u0275advance(8),e.\u0275\u0275property("disabled",n.isFetchingGridData),e.\u0275\u0275advance(8),e.\u0275\u0275property("ngIf","item_code"!=n.sortParams.field),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","item_code"==n.sortParams.field&&"desc"==n.sortParams.direction),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","item_code"==n.sortParams.field&&"asc"==n.sortParams.direction),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf","item_name"!=n.sortParams.field),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","item_name"==n.sortParams.field&&"desc"==n.sortParams.direction),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","item_name"==n.sortParams.field&&"asc"==n.sortParams.direction),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf","quantity"!=n.sortParams.field),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","quantity"==n.sortParams.field&&"desc"==n.sortParams.direction),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","quantity"==n.sortParams.field&&"asc"==n.sortParams.direction),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf","category"!=n.sortParams.field),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","category"==n.sortParams.field&&"desc"==n.sortParams.direction),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","category"==n.sortParams.field&&"asc"==n.sortParams.direction),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf","item_type"!=n.sortParams.field),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","item_type"==n.sortParams.field&&"desc"==n.sortParams.direction),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","item_type"==n.sortParams.field&&"asc"==n.sortParams.direction),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf","refill_ordered"!=n.sortParams.field),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","refill_ordered"==n.sortParams.field&&"desc"==n.sortParams.direction),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","refill_ordered"==n.sortParams.field&&"asc"==n.sortParams.direction),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",n.itemsGridData),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.isFetchingGridData),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!n.isDataAvailable&&!n.isFetchingGridData),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngClass",n.disablePrev?"disabled":""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",n.pageNumber," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",n.disableNext?"disabled":""))},directives:[k.H,s.O5,s.sg,s.mk,S,h,_.Y,v.z],styles:[""]}),o})()}]}];let ce=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=e.\u0275\u0275defineInjector({imports:[[u.Bz.forChild(se)],u.Bz]}),o})();var de=r(7264),g=r(5018),pe=r(6508);let ue=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=e.\u0275\u0275defineInjector({imports:[[s.ez,u.Bz,a.u5,a.UX,pe.m9,g.p]]}),o})(),_e=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=e.\u0275\u0275defineInjector({imports:[[s.ez,ce,de.M,g.p,ue]]}),o})()}}]);