"use strict";(self.webpackChunkang_fire=self.webpackChunkang_fire||[]).push([[215],{7667:(b,p,o)=>{o.d(p,{Q:()=>a});var e=o(6274),_=o(4114),f=o(5136),c=o(5018),u=o(2741);let a=(()=>{class i{}return i.\u0275fac=function(h){return new(h||i)},i.\u0275mod=u.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=u.\u0275\u0275defineInjector({imports:[[e.ez,_.zE,f.y$,c.p]]}),i})()},2521:(b,p,o)=>{o.d(p,{a:()=>w});var e=o(2741),_=o(1580),f=o(365),c=o(6274);const u=["openButtonElementReference"],a=["closeButtonElementReference"],i=["connectionToastComponentReference"];function m(l,s){if(1&l){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",30),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(n),e.\u0275\u0275nextContext().sortTable("customer_code","desc")}),e.\u0275\u0275elementEnd()}}function h(l,s){if(1&l){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",31),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(n),e.\u0275\u0275nextContext().sortTable("customer_code","asc")}),e.\u0275\u0275elementEnd()}}function g(l,s){if(1&l){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",32),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(n),e.\u0275\u0275nextContext().sortTable("customer_code","desc")}),e.\u0275\u0275elementEnd()}}function S(l,s){if(1&l){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",30),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(n),e.\u0275\u0275nextContext().sortTable("customer_name","desc")}),e.\u0275\u0275elementEnd()}}function C(l,s){if(1&l){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",31),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(n),e.\u0275\u0275nextContext().sortTable("customer_name","asc")}),e.\u0275\u0275elementEnd()}}function v(l,s){if(1&l){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",32),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(n),e.\u0275\u0275nextContext().sortTable("customer_name","desc")}),e.\u0275\u0275elementEnd()}}function E(l,s){if(1&l){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",30),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(n),e.\u0275\u0275nextContext().sortTable("phone","desc")}),e.\u0275\u0275elementEnd()}}function T(l,s){if(1&l){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",31),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(n),e.\u0275\u0275nextContext().sortTable("phone","asc")}),e.\u0275\u0275elementEnd()}}function x(l,s){if(1&l){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",32),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(n),e.\u0275\u0275nextContext().sortTable("phone","desc")}),e.\u0275\u0275elementEnd()}}function P(l,s){if(1&l){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tr",33),e.\u0275\u0275listener("dblclick",function(){const d=e.\u0275\u0275restoreView(n).$implicit;return e.\u0275\u0275nextContext().selectRow(d)}),e.\u0275\u0275elementStart(1,"td"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"td"),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"td"),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()}if(2&l){const n=s.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(null==n?null:n.data().customer_code),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(null==n?null:n.data().customer_name),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(null==n?null:n.data().phone)}}function y(l,s){1&l&&(e.\u0275\u0275elementStart(0,"tr",34),e.\u0275\u0275elementStart(1,"td",35),e.\u0275\u0275elementStart(2,"div",36),e.\u0275\u0275elementStart(3,"span",37),e.\u0275\u0275text(4,"Loading..."),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd())}function I(l,s){1&l&&(e.\u0275\u0275elementStart(0,"tr",34),e.\u0275\u0275elementStart(1,"td",35),e.\u0275\u0275elementStart(2,"p",38),e.\u0275\u0275text(3,"No data available"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd())}let w=(()=>{class l{constructor(n){this.customersApi=n,this.rowSelected=new e.EventEmitter,this.customersGridData=[],this.isFetchingGridData=!1,this.isDataAvailable=!0,this.firstInResponse=[],this.lastInResponse=[],this.nextStartAfter=[],this.prevStartAt=[],this.pageNumber=0,this.disableNext=!1,this.disablePrev=!0,this.sortParams={field:"created_at",direction:"desc"}}ngOnInit(){}openModal(){this.customersGridData=[],this.getAccountCustomer(),this.openButton.nativeElement.click()}getAccountCustomer(){this.isFetchingGridData=!0,this.customersApi.getAccountCustomer(this.sortParams,15).then(n=>{console.log(n),this.customersGridData=n.docs,this.isFetchingGridData=!1,this.prevStartAt=this.firstInResponse,this.nextStartAfter=n.docs[n.docs.length-1],this.firstInResponse=n.docs[0],this.pageNumber=1,n.docs.length||(this.isDataAvailable=!1),!n.docs.length||n.docs.length<15?(this.disableNext=!0,this.disablePrev=!0):(this.disableNext=!1,this.disablePrev=!0)},n=>{console.log(n),this.isFetchingGridData=!1,this.connectionToast.openToast()})}nextPage(n){n.preventDefault(),this.isFetchingGridData=!0,this.customersApi.getAccountCustomerNext(this.sortParams,15,this.nextStartAfter).then(t=>{console.log(t),this.customersGridData=t.docs,this.isFetchingGridData=!1,this.prevStartAt=this.firstInResponse,this.nextStartAfter=t.docs[t.docs.length-1],this.firstInResponse=t.docs[0],this.pageNumber++,t.docs.length<15&&(this.disableNext=!0,this.disablePrev=!1)},t=>{console.log(t),this.isFetchingGridData=!1,this.connectionToast.openToast()})}previousPage(n){n.preventDefault(),this.isFetchingGridData=!0,this.customersApi.getAccountCustomerPrev(this.sortParams,15,this.prevStartAt).then(t=>{console.log(t),this.customersGridData=t.docs,this.isFetchingGridData=!1,t.docs.length||(this.isDataAvailable=!1),this.prevStartAt=this.firstInResponse,this.nextStartAfter=t.docs[t.docs.length-1],this.firstInResponse=t.docs[0],this.pageNumber--,1==this.pageNumber&&(this.disableNext=!1,this.disablePrev=!0)},t=>{console.log(t),this.isFetchingGridData=!1,this.connectionToast.openToast()})}sortTable(n,t){this.sortParams.field=n,this.sortParams.direction=t,this.getAccountCustomer()}selectRow(n){this.rowSelected.emit(n),this.closeButton.nativeElement.click(),console.log(n)}}return l.\u0275fac=function(n){return new(n||l)(e.\u0275\u0275directiveInject(f.M))},l.\u0275cmp=e.\u0275\u0275defineComponent({type:l,selectors:[["app-select-customer"]],viewQuery:function(n,t){if(1&n&&(e.\u0275\u0275viewQuery(u,5,e.ElementRef),e.\u0275\u0275viewQuery(a,5,e.ElementRef),e.\u0275\u0275viewQuery(i,5,_.Y)),2&n){let r;e.\u0275\u0275queryRefresh(r=e.\u0275\u0275loadQuery())&&(t.openButton=r.first),e.\u0275\u0275queryRefresh(r=e.\u0275\u0275loadQuery())&&(t.closeButton=r.first),e.\u0275\u0275queryRefresh(r=e.\u0275\u0275loadQuery())&&(t.connectionToast=r.first)}},outputs:{rowSelected:"rowSelected"},decls:52,vars:17,consts:[["data-bs-toggle","modal","data-bs-target","#selectCustomerModal",3,"hidden"],["openButtonElementReference",""],["id","selectCustomerModal","tabindex","-1","aria-labelledby","selectCustomerModalLabel","aria-hidden","true",1,"modal","fade","select-table-modal"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header","bg-light"],["id","selectCustomerModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body","overflow-auto"],[1,"table","table-bordered","table-sm","w-100","page-table"],[1,"bg-light"],["width","25%",1,"min-width-2"],["class","bi bi-filter float-end list-pointer",3,"click",4,"ngIf"],["class","bi bi-sort-down float-end list-pointer",3,"click",4,"ngIf"],["class","bi bi-sort-up float-end list-pointer",3,"click",4,"ngIf"],["width","50%",1,"min-width-3"],["class","table-pointer",3,"dblclick",4,"ngFor","ngForOf"],["class","text-center",4,"ngIf"],["colspan","3"],["aria-label","Page navigation",1,"nav-light","float-end"],[1,"pagination","pagination-sm","mb-0","justify-content-end"],[1,"page-item",3,"ngClass"],["href","#","aria-label","First",1,"page-link",3,"click"],[1,"bi","bi-caret-left-fill"],[1,"page-item"],["href","#","aria-label","Current",1,"page-link",3,"click"],["href","#","aria-label","Last",1,"page-link",3,"click"],[1,"bi","bi-caret-right-fill"],["closeButtonElementReference",""],["connectionToastComponentReference",""],[1,"bi","bi-filter","float-end","list-pointer",3,"click"],[1,"bi","bi-sort-down","float-end","list-pointer",3,"click"],[1,"bi","bi-sort-up","float-end","list-pointer",3,"click"],[1,"table-pointer",3,"dblclick"],[1,"text-center"],["colspan","4"],["role","status",1,"spinner-grow","m-4"],[1,"visually-hidden"],[1,"m-4"]],template:function(n,t){1&n&&(e.\u0275\u0275elementStart(0,"button",0,1),e.\u0275\u0275text(2," Launch demo modal\n"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",2),e.\u0275\u0275elementStart(4,"div",3),e.\u0275\u0275elementStart(5,"div",4),e.\u0275\u0275elementStart(6,"div",5),e.\u0275\u0275elementStart(7,"span",6),e.\u0275\u0275text(8,"Select Restaurant Customer"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(9,"button",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"div",8),e.\u0275\u0275elementStart(11,"table",9),e.\u0275\u0275elementStart(12,"thead"),e.\u0275\u0275elementStart(13,"tr",10),e.\u0275\u0275elementStart(14,"th",11),e.\u0275\u0275text(15," Customer ID "),e.\u0275\u0275template(16,m,1,0,"i",12),e.\u0275\u0275template(17,h,1,0,"i",13),e.\u0275\u0275template(18,g,1,0,"i",14),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"th",15),e.\u0275\u0275text(20," Customer Name "),e.\u0275\u0275template(21,S,1,0,"i",12),e.\u0275\u0275template(22,C,1,0,"i",13),e.\u0275\u0275template(23,v,1,0,"i",14),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(24,"th",11),e.\u0275\u0275text(25," Phone No. "),e.\u0275\u0275template(26,E,1,0,"i",12),e.\u0275\u0275template(27,T,1,0,"i",13),e.\u0275\u0275template(28,x,1,0,"i",14),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(29,"tbody"),e.\u0275\u0275template(30,P,7,3,"tr",16),e.\u0275\u0275template(31,y,5,0,"tr",17),e.\u0275\u0275template(32,I,4,0,"tr",17),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(33,"tfoot"),e.\u0275\u0275elementStart(34,"tr",10),e.\u0275\u0275elementStart(35,"td",18),e.\u0275\u0275elementStart(36,"nav",19),e.\u0275\u0275elementStart(37,"ul",20),e.\u0275\u0275elementStart(38,"li",21),e.\u0275\u0275elementStart(39,"a",22),e.\u0275\u0275listener("click",function(d){return t.previousPage(d)}),e.\u0275\u0275element(40,"i",23),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(41,"li",24),e.\u0275\u0275elementStart(42,"a",25),e.\u0275\u0275listener("click",function(d){return d.preventDefault()}),e.\u0275\u0275text(43),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(44,"li",21),e.\u0275\u0275elementStart(45,"a",26),e.\u0275\u0275listener("click",function(d){return t.nextPage(d)}),e.\u0275\u0275element(46,"i",27),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(47,"button",0,28),e.\u0275\u0275text(49," Launch demo modal "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(50,"app-connection-toast",null,29)),2&n&&(e.\u0275\u0275property("hidden",!0),e.\u0275\u0275advance(16),e.\u0275\u0275property("ngIf","customer_code"!=t.sortParams.field),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","customer_code"==t.sortParams.field&&"desc"==t.sortParams.direction),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","customer_code"==t.sortParams.field&&"asc"==t.sortParams.direction),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf","customer_name"!=t.sortParams.field),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","customer_name"==t.sortParams.field&&"desc"==t.sortParams.direction),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","customer_name"==t.sortParams.field&&"asc"==t.sortParams.direction),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf","phone"!=t.sortParams.field),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","phone"==t.sortParams.field&&"desc"==t.sortParams.direction),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","phone"==t.sortParams.field&&"asc"==t.sortParams.direction),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",t.customersGridData),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isFetchingGridData),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.isDataAvailable&&!t.isFetchingGridData),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngClass",t.disablePrev?"disabled":""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",t.pageNumber," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",t.disableNext?"disabled":""),e.\u0275\u0275advance(3),e.\u0275\u0275property("hidden",!0))},directives:[c.O5,c.sg,c.mk,_.Y],styles:[""]}),l})()},5725:(b,p,o)=>{o.d(p,{d:()=>w});var e=o(2741),_=o(1580),f=o(5239),c=o(6274);const u=["openButtonElementReference"],a=["closeButtonElementReference"],i=["connectionToastComponentReference"];function m(l,s){if(1&l){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",31),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(n),e.\u0275\u0275nextContext().sortTable("table_number","desc")}),e.\u0275\u0275elementEnd()}}function h(l,s){if(1&l){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",32),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(n),e.\u0275\u0275nextContext().sortTable("table_number","asc")}),e.\u0275\u0275elementEnd()}}function g(l,s){if(1&l){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",33),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(n),e.\u0275\u0275nextContext().sortTable("table_number","desc")}),e.\u0275\u0275elementEnd()}}function S(l,s){if(1&l){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",31),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(n),e.\u0275\u0275nextContext().sortTable("table_type","desc")}),e.\u0275\u0275elementEnd()}}function C(l,s){if(1&l){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",32),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(n),e.\u0275\u0275nextContext().sortTable("table_type","asc")}),e.\u0275\u0275elementEnd()}}function v(l,s){if(1&l){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",33),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(n),e.\u0275\u0275nextContext().sortTable("table_type","desc")}),e.\u0275\u0275elementEnd()}}function E(l,s){if(1&l){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",31),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(n),e.\u0275\u0275nextContext().sortTable("table_status","desc")}),e.\u0275\u0275elementEnd()}}function T(l,s){if(1&l){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",32),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(n),e.\u0275\u0275nextContext().sortTable("table_status","asc")}),e.\u0275\u0275elementEnd()}}function x(l,s){if(1&l){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",33),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(n),e.\u0275\u0275nextContext().sortTable("table_status","desc")}),e.\u0275\u0275elementEnd()}}function P(l,s){if(1&l){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tr",34),e.\u0275\u0275listener("dblclick",function(){const d=e.\u0275\u0275restoreView(n).$implicit;return e.\u0275\u0275nextContext().selectRow(d)}),e.\u0275\u0275elementStart(1,"td"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"td"),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"td"),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()}if(2&l){const n=s.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(null==n?null:n.data().table_number),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(null==n?null:n.data().table_type),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(null==n?null:n.data().table_status)}}function y(l,s){1&l&&(e.\u0275\u0275elementStart(0,"tr",35),e.\u0275\u0275elementStart(1,"td",19),e.\u0275\u0275elementStart(2,"div",36),e.\u0275\u0275elementStart(3,"span",37),e.\u0275\u0275text(4,"Loading..."),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd())}function I(l,s){1&l&&(e.\u0275\u0275elementStart(0,"tr",35),e.\u0275\u0275elementStart(1,"td",19),e.\u0275\u0275elementStart(2,"p",38),e.\u0275\u0275text(3,"No data available"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd())}let w=(()=>{class l{constructor(n){this.tablesApi=n,this.rowSelected=new e.EventEmitter,this.tablesGridData=[],this.isFetchingGridData=!1,this.isDataAvailable=!0,this.firstInResponse=[],this.lastInResponse=[],this.nextStartAfter=[],this.prevStartAt=[],this.pageNumber=0,this.disableNext=!0,this.disablePrev=!0,this.sortParams={field:"created_at",direction:"desc"}}ngOnInit(){}openModal(){this.tablesGridData=[],this.getAccountTable(),this.openButton.nativeElement.click()}getAccountTable(){this.isFetchingGridData=!0,this.tablesApi.getAccountTable(this.sortParams,15).then(n=>{console.log(n),this.tablesGridData=n.docs,this.isFetchingGridData=!1,this.prevStartAt=this.firstInResponse,this.nextStartAfter=n.docs[n.docs.length-1],this.firstInResponse=n.docs[0],this.pageNumber=1,n.docs.length||(this.isDataAvailable=!1),!n.docs.length||n.docs.length<15?(this.disableNext=!0,this.disablePrev=!0):(this.disableNext=!1,this.disablePrev=!0)},n=>{console.log(n),this.isFetchingGridData=!1,this.connectionToast.openToast()})}nextPage(n){n.preventDefault(),this.isFetchingGridData=!0,this.tablesApi.getAccountTableNext(this.sortParams,15,this.nextStartAfter).then(t=>{console.log(t),this.tablesGridData=t.docs,this.isFetchingGridData=!1,this.prevStartAt=this.firstInResponse,this.nextStartAfter=t.docs[t.docs.length-1],this.firstInResponse=t.docs[0],this.pageNumber++,t.docs.length<15&&(this.disableNext=!0,this.disablePrev=!1)},t=>{console.log(t),this.isFetchingGridData=!1,this.connectionToast.openToast()})}previousPage(n){n.preventDefault(),this.isFetchingGridData=!0,this.tablesApi.getAccountTablePrev(this.sortParams,15,this.prevStartAt).then(t=>{console.log(t),this.tablesGridData=t.docs,this.isFetchingGridData=!1,t.docs.length||(this.isDataAvailable=!1),this.prevStartAt=this.firstInResponse,this.nextStartAfter=t.docs[t.docs.length-1],this.firstInResponse=t.docs[0],this.pageNumber--,1==this.pageNumber&&(this.disableNext=!1,this.disablePrev=!0)},t=>{console.log(t),this.isFetchingGridData=!1,this.connectionToast.openToast()})}sortTable(n,t){this.sortParams.field=n,this.sortParams.direction=t,this.getAccountTable()}selectRow(n){this.rowSelected.emit(n),this.closeButton.nativeElement.click(),console.log(n)}}return l.\u0275fac=function(n){return new(n||l)(e.\u0275\u0275directiveInject(f.j))},l.\u0275cmp=e.\u0275\u0275defineComponent({type:l,selectors:[["app-select-table"]],viewQuery:function(n,t){if(1&n&&(e.\u0275\u0275viewQuery(u,5,e.ElementRef),e.\u0275\u0275viewQuery(a,5,e.ElementRef),e.\u0275\u0275viewQuery(i,5,_.Y)),2&n){let r;e.\u0275\u0275queryRefresh(r=e.\u0275\u0275loadQuery())&&(t.openButton=r.first),e.\u0275\u0275queryRefresh(r=e.\u0275\u0275loadQuery())&&(t.closeButton=r.first),e.\u0275\u0275queryRefresh(r=e.\u0275\u0275loadQuery())&&(t.connectionToast=r.first)}},outputs:{rowSelected:"rowSelected"},decls:52,vars:17,consts:[["data-bs-toggle","modal","data-bs-target","#selectTableModal",3,"hidden"],["openButtonElementReference",""],["id","selectTableModal","tabindex","-1","aria-labelledby","selectTableModalLabel","aria-hidden","true",1,"modal","fade","select-table-modal"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header","bg-light"],["id","selectTableModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body","overflow-auto"],[1,"table","table-bordered","table-sm","w-100","page-table"],[1,"bg-light"],["width","30%",1,"min-width-2"],["class","bi bi-filter float-end list-pointer",3,"click",4,"ngIf"],["class","bi bi-sort-down float-end list-pointer",3,"click",4,"ngIf"],["class","bi bi-sort-up float-end list-pointer",3,"click",4,"ngIf"],["width","35%",1,"min-width-3"],["width","35%",1,"min-width-2"],["class","table-pointer",3,"dblclick",4,"ngFor","ngForOf"],["class","text-center",4,"ngIf"],["colspan","3"],["aria-label","Page navigation",1,"nav-light","float-end"],[1,"pagination","pagination-sm","mb-0","justify-content-end"],[1,"page-item",3,"ngClass"],["href","#","aria-label","First",1,"page-link",3,"click"],[1,"bi","bi-caret-left-fill"],[1,"page-item"],["href","#","aria-label","Current",1,"page-link",3,"click"],["href","#","aria-label","Last",1,"page-link",3,"click"],[1,"bi","bi-caret-right-fill"],["closeButtonElementReference",""],["connectionToastComponentReference",""],[1,"bi","bi-filter","float-end","list-pointer",3,"click"],[1,"bi","bi-sort-down","float-end","list-pointer",3,"click"],[1,"bi","bi-sort-up","float-end","list-pointer",3,"click"],[1,"table-pointer",3,"dblclick"],[1,"text-center"],["role","status",1,"spinner-grow","m-4"],[1,"visually-hidden"],[1,"m-4"]],template:function(n,t){1&n&&(e.\u0275\u0275elementStart(0,"button",0,1),e.\u0275\u0275text(2," Launch demo modal\n"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",2),e.\u0275\u0275elementStart(4,"div",3),e.\u0275\u0275elementStart(5,"div",4),e.\u0275\u0275elementStart(6,"div",5),e.\u0275\u0275elementStart(7,"span",6),e.\u0275\u0275text(8,"Select Restaurant Table"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(9,"button",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"div",8),e.\u0275\u0275elementStart(11,"table",9),e.\u0275\u0275elementStart(12,"thead"),e.\u0275\u0275elementStart(13,"tr",10),e.\u0275\u0275elementStart(14,"th",11),e.\u0275\u0275text(15," Table No. "),e.\u0275\u0275template(16,m,1,0,"i",12),e.\u0275\u0275template(17,h,1,0,"i",13),e.\u0275\u0275template(18,g,1,0,"i",14),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"th",15),e.\u0275\u0275text(20," Table Type "),e.\u0275\u0275template(21,S,1,0,"i",12),e.\u0275\u0275template(22,C,1,0,"i",13),e.\u0275\u0275template(23,v,1,0,"i",14),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(24,"th",16),e.\u0275\u0275text(25," Table Status "),e.\u0275\u0275template(26,E,1,0,"i",12),e.\u0275\u0275template(27,T,1,0,"i",13),e.\u0275\u0275template(28,x,1,0,"i",14),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(29,"tbody"),e.\u0275\u0275template(30,P,7,3,"tr",17),e.\u0275\u0275template(31,y,5,0,"tr",18),e.\u0275\u0275template(32,I,4,0,"tr",18),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(33,"tfoot"),e.\u0275\u0275elementStart(34,"tr",10),e.\u0275\u0275elementStart(35,"td",19),e.\u0275\u0275elementStart(36,"nav",20),e.\u0275\u0275elementStart(37,"ul",21),e.\u0275\u0275elementStart(38,"li",22),e.\u0275\u0275elementStart(39,"a",23),e.\u0275\u0275listener("click",function(d){return t.previousPage(d)}),e.\u0275\u0275element(40,"i",24),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(41,"li",25),e.\u0275\u0275elementStart(42,"a",26),e.\u0275\u0275listener("click",function(d){return d.preventDefault()}),e.\u0275\u0275text(43),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(44,"li",22),e.\u0275\u0275elementStart(45,"a",27),e.\u0275\u0275listener("click",function(d){return t.nextPage(d)}),e.\u0275\u0275element(46,"i",28),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(47,"button",0,29),e.\u0275\u0275text(49," Launch demo modal "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(50,"app-connection-toast",null,30)),2&n&&(e.\u0275\u0275property("hidden",!0),e.\u0275\u0275advance(16),e.\u0275\u0275property("ngIf","table_number"!=t.sortParams.field),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","table_number"==t.sortParams.field&&"desc"==t.sortParams.direction),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","table_number"==t.sortParams.field&&"asc"==t.sortParams.direction),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf","table_type"!=t.sortParams.field),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","table_type"==t.sortParams.field&&"desc"==t.sortParams.direction),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","table_type"==t.sortParams.field&&"asc"==t.sortParams.direction),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf","table_status"!=t.sortParams.field),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","table_status"==t.sortParams.field&&"desc"==t.sortParams.direction),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","table_status"==t.sortParams.field&&"asc"==t.sortParams.direction),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",t.tablesGridData),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isFetchingGridData),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.isDataAvailable&&!t.isFetchingGridData),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngClass",t.disablePrev?"disabled":""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",t.pageNumber," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",t.disableNext?"disabled":""),e.\u0275\u0275advance(3),e.\u0275\u0275property("hidden",!0))},directives:[c.O5,c.sg,c.mk,_.Y],styles:[""]}),l})()},8731:(b,p,o)=>{o.d(p,{Z:()=>a});var e=o(6274),_=o(4114),f=o(5136),c=o(5018),u=o(2741);let a=(()=>{class i{}return i.\u0275fac=function(h){return new(h||i)},i.\u0275mod=u.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=u.\u0275\u0275defineInjector({imports:[[e.ez,_.zE,f.y$,c.p]]}),i})()},365:(b,p,o)=>{o.d(p,{M:()=>f});var e=o(2741),_=o(9805);let f=(()=>{class c{constructor(a){this.afs=a,this.customerRef=this.afs.collection("restaurant/module_customers/restaurant_customer")}createCustomer(a){return this.customerRef.add(a)}getCustomer(){return this.customerRef.doc(String(sessionStorage.getItem("restaurant_customer_id"))).ref.get()}updateCustomer(a){return this.customerRef.doc(String(sessionStorage.getItem("restaurant_customer_id"))).update(a)}deleteCustomer(){return this.customerRef.doc(String(sessionStorage.getItem("restaurant_customer_id"))).delete()}getAccountCustomer(a,i){return this.customerRef.ref.where("account","==",localStorage.getItem("restaurant_id")).orderBy(null==a?void 0:a.field,null==a?void 0:a.direction).limit(i).get()}getAccountCustomerNext(a,i,m){return this.customerRef.ref.where("account","==",localStorage.getItem("restaurant_id")).orderBy(null==a?void 0:a.field,null==a?void 0:a.direction).startAfter(m).limit(i).get()}getAccountCustomerPrev(a,i,m){return this.customerRef.ref.where("account","==",localStorage.getItem("restaurant_id")).orderBy(null==a?void 0:a.field,null==a?void 0:a.direction).startAt(m).limit(i).get()}getAllAccountCustomer(){return this.customerRef.ref.where("account","==",localStorage.getItem("restaurant_id")).orderBy("created_by","desc").get()}getWeekCustomer(a,i){return this.customerRef.ref.where("account","==",localStorage.getItem("restaurant_id")).where("created_at","<",a).where("created_at",">",i).get()}}return c.\u0275fac=function(a){return new(a||c)(e.\u0275\u0275inject(_.ST))},c.\u0275prov=e.\u0275\u0275defineInjectable({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},5239:(b,p,o)=>{o.d(p,{j:()=>f});var e=o(2741),_=o(9805);let f=(()=>{class c{constructor(a){this.afs=a,this.tableRef=this.afs.collection("restaurant/module_tables/restaurant_table")}createTable(a){return this.tableRef.add(a)}getTable(a){return this.tableRef.doc(a).ref.get()}updateTable(a,i){return console.log(a),console.log(i),this.tableRef.doc(a).update(i)}deleteTable(a){return this.tableRef.doc(a).delete()}getAccountTable(a,i){return this.tableRef.ref.where("account","==",localStorage.getItem("restaurant_id")).orderBy(null==a?void 0:a.field,null==a?void 0:a.direction).limit(i).get()}getAccountTableNext(a,i,m){return this.tableRef.ref.where("account","==",localStorage.getItem("restaurant_id")).orderBy(null==a?void 0:a.field,null==a?void 0:a.direction).startAfter(m).limit(i).get()}getAccountTablePrev(a,i,m){return this.tableRef.ref.where("account","==",localStorage.getItem("restaurant_id")).orderBy(null==a?void 0:a.field,null==a?void 0:a.direction).startAt(m).limit(i).get()}getAllAccountTable(){return this.tableRef.ref.where("account","==",localStorage.getItem("restaurant_id")).orderBy("created_at","desc").get()}}return c.\u0275fac=function(a){return new(a||c)(e.\u0275\u0275inject(_.ST))},c.\u0275prov=e.\u0275\u0275defineInjectable({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()}}]);