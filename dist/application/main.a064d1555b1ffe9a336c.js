(self.webpackChunkang_fire=self.webpackChunkang_fire||[]).push([[179],{8638:(Mt,Be,F)=>{"use strict";F.d(Be,{l3:()=>z,_j:()=>w,LC:()=>L,ZN:()=>Pe,jt:()=>oe,vP:()=>De,SB:()=>Te,oB:()=>ee,eR:()=>ne,X$:()=>be,ZE:()=>Ne,k1:()=>Ie});class w{}class L{}const z="*";function be(je,Xe){return{type:7,name:je,definitions:Xe,options:{}}}function oe(je,Xe=null){return{type:4,styles:Xe,timings:je}}function De(je,Xe=null){return{type:2,steps:je,options:Xe}}function ee(je){return{type:6,styles:je,offset:null}}function Te(je,Xe,kt){return{type:0,name:je,styles:Xe,options:kt}}function ne(je,Xe,kt=null){return{type:1,expr:je,animation:Xe,options:kt}}function Ke(je){Promise.resolve(null).then(je)}class Pe{constructor(Xe=0,kt=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Xe+kt}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Xe=>Xe()),this._onDoneFns=[])}onStart(Xe){this._onStartFns.push(Xe)}onDone(Xe){this._onDoneFns.push(Xe)}onDestroy(Xe){this._onDestroyFns.push(Xe)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Ke(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Xe=>Xe()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Xe=>Xe()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(Xe){this._position=this.totalTime?Xe*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Xe){const kt="start"==Xe?this._onStartFns:this._onDoneFns;kt.forEach(cn=>cn()),kt.length=0}}class Ne{constructor(Xe){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Xe;let kt=0,cn=0,zt=0;const en=this.players.length;0==en?Ke(()=>this._onFinish()):this.players.forEach(rn=>{rn.onDone(()=>{++kt==en&&this._onFinish()}),rn.onDestroy(()=>{++cn==en&&this._onDestroy()}),rn.onStart(()=>{++zt==en&&this._onStart()})}),this.totalTime=this.players.reduce((rn,Qt)=>Math.max(rn,Qt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Xe=>Xe()),this._onDoneFns=[])}init(){this.players.forEach(Xe=>Xe.init())}onStart(Xe){this._onStartFns.push(Xe)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Xe=>Xe()),this._onStartFns=[])}onDone(Xe){this._onDoneFns.push(Xe)}onDestroy(Xe){this._onDestroyFns.push(Xe)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Xe=>Xe.play())}pause(){this.players.forEach(Xe=>Xe.pause())}restart(){this.players.forEach(Xe=>Xe.restart())}finish(){this._onFinish(),this.players.forEach(Xe=>Xe.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Xe=>Xe.destroy()),this._onDestroyFns.forEach(Xe=>Xe()),this._onDestroyFns=[])}reset(){this.players.forEach(Xe=>Xe.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Xe){const kt=Xe*this.totalTime;this.players.forEach(cn=>{const zt=cn.totalTime?Math.min(1,kt/cn.totalTime):1;cn.setPosition(zt)})}getPosition(){const Xe=this.players.reduce((kt,cn)=>null===kt||cn.totalTime>kt.totalTime?cn:kt,null);return null!=Xe?Xe.getPosition():0}beforeDestroy(){this.players.forEach(Xe=>{Xe.beforeDestroy&&Xe.beforeDestroy()})}triggerCallback(Xe){const kt="start"==Xe?this._onStartFns:this._onDoneFns;kt.forEach(cn=>cn()),kt.length=0}}const Ie="!"},6274:(Mt,Be,F)=>{"use strict";F.d(Be,{mr:()=>Ne,ez:()=>Ti,K0:()=>De,Do:()=>je,V_:()=>Q,Ye:()=>Xe,S$:()=>Ke,mk:()=>un,sg:()=>ln,O5:()=>as,RF:()=>ts,n9:()=>Gr,ED:()=>Ao,tP:()=>hs,b0:()=>Ie,lw:()=>ee,EM:()=>ro,JF:()=>Ci,NF:()=>ea,PM:()=>ta,w_:()=>te,bD:()=>Mi,q:()=>z,Mx:()=>it,HT:()=>oe});var w=F(2741);let L=null;function z(){return L}function oe(N){L||(L=N)}class te{}const De=new w.InjectionToken("DocumentToken");let ee=(()=>{class N{historyGo(P){throw new Error("Not implemented")}}return N.\u0275fac=function(P){return new(P||N)},N.\u0275prov=(0,w.\u0275\u0275defineInjectable)({factory:Te,token:N,providedIn:"platform"}),N})();function Te(){return(0,w.\u0275\u0275inject)(ne)}const Q=new w.InjectionToken("Location Initialized");let ne=(()=>{class N extends ee{constructor(P){super(),this._doc=P,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return z().getBaseHref(this._doc)}onPopState(P){const Z=z().getGlobalEventTarget(this._doc,"window");return Z.addEventListener("popstate",P,!1),()=>Z.removeEventListener("popstate",P)}onHashChange(P){const Z=z().getGlobalEventTarget(this._doc,"window");return Z.addEventListener("hashchange",P,!1),()=>Z.removeEventListener("hashchange",P)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(P){this.location.pathname=P}pushState(P,Z,fe){J()?this._history.pushState(P,Z,fe):this.location.hash=fe}replaceState(P,Z,fe){J()?this._history.replaceState(P,Z,fe):this.location.hash=fe}forward(){this._history.forward()}back(){this._history.back()}historyGo(P=0){this._history.go(P)}getState(){return this._history.state}}return N.\u0275fac=function(P){return new(P||N)(w.\u0275\u0275inject(De))},N.\u0275prov=(0,w.\u0275\u0275defineInjectable)({factory:ve,token:N,providedIn:"platform"}),N})();function J(){return!!window.history.pushState}function ve(){return new ne((0,w.\u0275\u0275inject)(De))}function Ge(N,K){if(0==N.length)return K;if(0==K.length)return N;let P=0;return N.endsWith("/")&&P++,K.startsWith("/")&&P++,2==P?N+K.substring(1):1==P?N+K:N+"/"+K}function st(N){const K=N.match(/#|\?|$/),P=K&&K.index||N.length;return N.slice(0,P-("/"===N[P-1]?1:0))+N.slice(P)}function ke(N){return N&&"?"!==N[0]?"?"+N:N}let Ke=(()=>{class N{historyGo(P){throw new Error("Not implemented")}}return N.\u0275fac=function(P){return new(P||N)},N.\u0275prov=(0,w.\u0275\u0275defineInjectable)({factory:Pe,token:N,providedIn:"root"}),N})();function Pe(N){const K=(0,w.\u0275\u0275inject)(De).location;return new Ie((0,w.\u0275\u0275inject)(ee),K&&K.origin||"")}const Ne=new w.InjectionToken("appBaseHref");let Ie=(()=>{class N extends Ke{constructor(P,Z){if(super(),this._platformLocation=P,this._removeListenerFns=[],null==Z&&(Z=this._platformLocation.getBaseHrefFromDOM()),null==Z)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=Z}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(P){this._removeListenerFns.push(this._platformLocation.onPopState(P),this._platformLocation.onHashChange(P))}getBaseHref(){return this._baseHref}prepareExternalUrl(P){return Ge(this._baseHref,P)}path(P=!1){const Z=this._platformLocation.pathname+ke(this._platformLocation.search),fe=this._platformLocation.hash;return fe&&P?`${Z}${fe}`:Z}pushState(P,Z,fe,rt){const yt=this.prepareExternalUrl(fe+ke(rt));this._platformLocation.pushState(P,Z,yt)}replaceState(P,Z,fe,rt){const yt=this.prepareExternalUrl(fe+ke(rt));this._platformLocation.replaceState(P,Z,yt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(P=0){var Z,fe;null===(fe=(Z=this._platformLocation).historyGo)||void 0===fe||fe.call(Z,P)}}return N.\u0275fac=function(P){return new(P||N)(w.\u0275\u0275inject(ee),w.\u0275\u0275inject(Ne,8))},N.\u0275prov=w.\u0275\u0275defineInjectable({token:N,factory:N.\u0275fac}),N})(),je=(()=>{class N extends Ke{constructor(P,Z){super(),this._platformLocation=P,this._baseHref="",this._removeListenerFns=[],null!=Z&&(this._baseHref=Z)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(P){this._removeListenerFns.push(this._platformLocation.onPopState(P),this._platformLocation.onHashChange(P))}getBaseHref(){return this._baseHref}path(P=!1){let Z=this._platformLocation.hash;return null==Z&&(Z="#"),Z.length>0?Z.substring(1):Z}prepareExternalUrl(P){const Z=Ge(this._baseHref,P);return Z.length>0?"#"+Z:Z}pushState(P,Z,fe,rt){let yt=this.prepareExternalUrl(fe+ke(rt));0==yt.length&&(yt=this._platformLocation.pathname),this._platformLocation.pushState(P,Z,yt)}replaceState(P,Z,fe,rt){let yt=this.prepareExternalUrl(fe+ke(rt));0==yt.length&&(yt=this._platformLocation.pathname),this._platformLocation.replaceState(P,Z,yt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(P=0){var Z,fe;null===(fe=(Z=this._platformLocation).historyGo)||void 0===fe||fe.call(Z,P)}}return N.\u0275fac=function(P){return new(P||N)(w.\u0275\u0275inject(ee),w.\u0275\u0275inject(Ne,8))},N.\u0275prov=w.\u0275\u0275defineInjectable({token:N,factory:N.\u0275fac}),N})(),Xe=(()=>{class N{constructor(P,Z){this._subject=new w.EventEmitter,this._urlChangeListeners=[],this._platformStrategy=P;const fe=this._platformStrategy.getBaseHref();this._platformLocation=Z,this._baseHref=st(zt(fe)),this._platformStrategy.onPopState(rt=>{this._subject.emit({url:this.path(!0),pop:!0,state:rt.state,type:rt.type})})}path(P=!1){return this.normalize(this._platformStrategy.path(P))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(P,Z=""){return this.path()==this.normalize(P+ke(Z))}normalize(P){return N.stripTrailingSlash(function(N,K){return N&&K.startsWith(N)?K.substring(N.length):K}(this._baseHref,zt(P)))}prepareExternalUrl(P){return P&&"/"!==P[0]&&(P="/"+P),this._platformStrategy.prepareExternalUrl(P)}go(P,Z="",fe=null){this._platformStrategy.pushState(fe,"",P,Z),this._notifyUrlChangeListeners(this.prepareExternalUrl(P+ke(Z)),fe)}replaceState(P,Z="",fe=null){this._platformStrategy.replaceState(fe,"",P,Z),this._notifyUrlChangeListeners(this.prepareExternalUrl(P+ke(Z)),fe)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(P=0){var Z,fe;null===(fe=(Z=this._platformStrategy).historyGo)||void 0===fe||fe.call(Z,P)}onUrlChange(P){this._urlChangeListeners.push(P),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Z=>{this._notifyUrlChangeListeners(Z.url,Z.state)}))}_notifyUrlChangeListeners(P="",Z){this._urlChangeListeners.forEach(fe=>fe(P,Z))}subscribe(P,Z,fe){return this._subject.subscribe({next:P,error:Z,complete:fe})}}return N.\u0275fac=function(P){return new(P||N)(w.\u0275\u0275inject(Ke),w.\u0275\u0275inject(ee))},N.normalizeQueryParams=ke,N.joinWithSlash=Ge,N.stripTrailingSlash=st,N.\u0275prov=(0,w.\u0275\u0275defineInjectable)({factory:kt,token:N,providedIn:"root"}),N})();function kt(){return new Xe((0,w.\u0275\u0275inject)(Ke),(0,w.\u0275\u0275inject)(ee))}function zt(N){return N.replace(/\/index.html$/,"")}var Qt=(()=>((Qt=Qt||{})[Qt.Zero=0]="Zero",Qt[Qt.One=1]="One",Qt[Qt.Two=2]="Two",Qt[Qt.Few=3]="Few",Qt[Qt.Many=4]="Many",Qt[Qt.Other=5]="Other",Qt))();const cr=w.\u0275getLocalePluralCase;class Oe{}let se=(()=>{class N extends Oe{constructor(P){super(),this.locale=P}getPluralCategory(P,Z){switch(cr(Z||this.locale)(P)){case Qt.Zero:return"zero";case Qt.One:return"one";case Qt.Two:return"two";case Qt.Few:return"few";case Qt.Many:return"many";default:return"other"}}}return N.\u0275fac=function(P){return new(P||N)(w.\u0275\u0275inject(w.LOCALE_ID))},N.\u0275prov=w.\u0275\u0275defineInjectable({token:N,factory:N.\u0275fac}),N})();function it(N,K){K=encodeURIComponent(K);for(const P of N.split(";")){const Z=P.indexOf("="),[fe,rt]=-1==Z?[P,""]:[P.slice(0,Z),P.slice(Z+1)];if(fe.trim()===K)return decodeURIComponent(rt)}return null}let un=(()=>{class N{constructor(P,Z,fe,rt){this._iterableDiffers=P,this._keyValueDiffers=Z,this._ngEl=fe,this._renderer=rt,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(P){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof P?P.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(P){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof P?P.split(/\s+/):P,this._rawClass&&((0,w.\u0275isListLikeIterable)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const P=this._iterableDiffer.diff(this._rawClass);P&&this._applyIterableChanges(P)}else if(this._keyValueDiffer){const P=this._keyValueDiffer.diff(this._rawClass);P&&this._applyKeyValueChanges(P)}}_applyKeyValueChanges(P){P.forEachAddedItem(Z=>this._toggleClass(Z.key,Z.currentValue)),P.forEachChangedItem(Z=>this._toggleClass(Z.key,Z.currentValue)),P.forEachRemovedItem(Z=>{Z.previousValue&&this._toggleClass(Z.key,!1)})}_applyIterableChanges(P){P.forEachAddedItem(Z=>{if("string"!=typeof Z.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,w.\u0275stringify)(Z.item)}`);this._toggleClass(Z.item,!0)}),P.forEachRemovedItem(Z=>this._toggleClass(Z.item,!1))}_applyClasses(P){P&&(Array.isArray(P)||P instanceof Set?P.forEach(Z=>this._toggleClass(Z,!0)):Object.keys(P).forEach(Z=>this._toggleClass(Z,!!P[Z])))}_removeClasses(P){P&&(Array.isArray(P)||P instanceof Set?P.forEach(Z=>this._toggleClass(Z,!1)):Object.keys(P).forEach(Z=>this._toggleClass(Z,!1)))}_toggleClass(P,Z){(P=P.trim())&&P.split(/\s+/g).forEach(fe=>{Z?this._renderer.addClass(this._ngEl.nativeElement,fe):this._renderer.removeClass(this._ngEl.nativeElement,fe)})}}return N.\u0275fac=function(P){return new(P||N)(w.\u0275\u0275directiveInject(w.IterableDiffers),w.\u0275\u0275directiveInject(w.KeyValueDiffers),w.\u0275\u0275directiveInject(w.ElementRef),w.\u0275\u0275directiveInject(w.Renderer2))},N.\u0275dir=w.\u0275\u0275defineDirective({type:N,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),N})();class Hn{constructor(K,P,Z,fe){this.$implicit=K,this.ngForOf=P,this.index=Z,this.count=fe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ln=(()=>{class N{constructor(P,Z,fe){this._viewContainer=P,this._template=Z,this._differs=fe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(P){this._ngForOf=P,this._ngForOfDirty=!0}set ngForTrackBy(P){this._trackByFn=P}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(P){P&&(this._template=P)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const P=this._ngForOf;if(!this._differ&&P)try{this._differ=this._differs.find(P).create(this.ngForTrackBy)}catch(Z){throw new Error(`Cannot find a differ supporting object '${P}' of type '${function(N){return N.name||typeof N}(P)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const P=this._differ.diff(this._ngForOf);P&&this._applyChanges(P)}}_applyChanges(P){const Z=[];P.forEachOperation((fe,rt,yt)=>{if(null==fe.previousIndex){const tn=this._viewContainer.createEmbeddedView(this._template,new Hn(null,this._ngForOf,-1,-1),null===yt?void 0:yt),Ln=new es(fe,tn);Z.push(Ln)}else if(null==yt)this._viewContainer.remove(null===rt?void 0:rt);else if(null!==rt){const tn=this._viewContainer.get(rt);this._viewContainer.move(tn,yt);const Ln=new es(fe,tn);Z.push(Ln)}});for(let fe=0;fe<Z.length;fe++)this._perViewChange(Z[fe].view,Z[fe].record);for(let fe=0,rt=this._viewContainer.length;fe<rt;fe++){const yt=this._viewContainer.get(fe);yt.context.index=fe,yt.context.count=rt,yt.context.ngForOf=this._ngForOf}P.forEachIdentityChange(fe=>{this._viewContainer.get(fe.currentIndex).context.$implicit=fe.item})}_perViewChange(P,Z){P.context.$implicit=Z.item}static ngTemplateContextGuard(P,Z){return!0}}return N.\u0275fac=function(P){return new(P||N)(w.\u0275\u0275directiveInject(w.ViewContainerRef),w.\u0275\u0275directiveInject(w.TemplateRef),w.\u0275\u0275directiveInject(w.IterableDiffers))},N.\u0275dir=w.\u0275\u0275defineDirective({type:N,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),N})();class es{constructor(K,P){this.record=K,this.view=P}}let as=(()=>{class N{constructor(P,Z){this._viewContainer=P,this._context=new Bs,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Z}set ngIf(P){this._context.$implicit=this._context.ngIf=P,this._updateView()}set ngIfThen(P){ni("ngIfThen",P),this._thenTemplateRef=P,this._thenViewRef=null,this._updateView()}set ngIfElse(P){ni("ngIfElse",P),this._elseTemplateRef=P,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(P,Z){return!0}}return N.\u0275fac=function(P){return new(P||N)(w.\u0275\u0275directiveInject(w.ViewContainerRef),w.\u0275\u0275directiveInject(w.TemplateRef))},N.\u0275dir=w.\u0275\u0275defineDirective({type:N,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),N})();class Bs{constructor(){this.$implicit=null,this.ngIf=null}}function ni(N,K){if(K&&!K.createEmbeddedView)throw new Error(`${N} must be a TemplateRef, but received '${(0,w.\u0275stringify)(K)}'.`)}class us{constructor(K,P){this._viewContainerRef=K,this._templateRef=P,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(K){K&&!this._created?this.create():!K&&this._created&&this.destroy()}}let ts=(()=>{class N{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(P){this._ngSwitch=P,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(P){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(P)}_matchCase(P){const Z=P==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||Z,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),Z}_updateDefaultCases(P){if(this._defaultViews&&P!==this._defaultUsed){this._defaultUsed=P;for(let Z=0;Z<this._defaultViews.length;Z++)this._defaultViews[Z].enforceState(P)}}}return N.\u0275fac=function(P){return new(P||N)},N.\u0275dir=w.\u0275\u0275defineDirective({type:N,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),N})(),Gr=(()=>{class N{constructor(P,Z,fe){this.ngSwitch=fe,fe._addCase(),this._view=new us(P,Z)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return N.\u0275fac=function(P){return new(P||N)(w.\u0275\u0275directiveInject(w.ViewContainerRef),w.\u0275\u0275directiveInject(w.TemplateRef),w.\u0275\u0275directiveInject(ts,9))},N.\u0275dir=w.\u0275\u0275defineDirective({type:N,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),N})(),Ao=(()=>{class N{constructor(P,Z,fe){fe._addDefault(new us(P,Z))}}return N.\u0275fac=function(P){return new(P||N)(w.\u0275\u0275directiveInject(w.ViewContainerRef),w.\u0275\u0275directiveInject(w.TemplateRef),w.\u0275\u0275directiveInject(ts,9))},N.\u0275dir=w.\u0275\u0275defineDirective({type:N,selectors:[["","ngSwitchDefault",""]]}),N})(),hs=(()=>{class N{constructor(P){this._viewContainerRef=P,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(P){if(P.ngTemplateOutlet){const Z=this._viewContainerRef;this._viewRef&&Z.remove(Z.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?Z.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&P.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return N.\u0275fac=function(P){return new(P||N)(w.\u0275\u0275directiveInject(w.ViewContainerRef))},N.\u0275dir=w.\u0275\u0275defineDirective({type:N,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[w.\u0275\u0275NgOnChangesFeature]}),N})(),Ti=(()=>{class N{}return N.\u0275fac=function(P){return new(P||N)},N.\u0275mod=w.\u0275\u0275defineNgModule({type:N}),N.\u0275inj=w.\u0275\u0275defineInjector({providers:[{provide:Oe,useClass:se}]}),N})();const Mi="browser";function ea(N){return N===Mi}function ta(N){return"server"===N}let ro=(()=>{class N{}return N.\u0275prov=(0,w.\u0275\u0275defineInjectable)({token:N,providedIn:"root",factory:()=>new ma((0,w.\u0275\u0275inject)(De),window)}),N})();class ma{constructor(K,P){this.document=K,this.window=P,this.offset=()=>[0,0]}setOffset(K){this.offset=Array.isArray(K)?()=>K:K}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(K){this.supportsScrolling()&&this.window.scrollTo(K[0],K[1])}scrollToAnchor(K){if(!this.supportsScrolling())return;const P=function(N,K){const P=N.getElementById(K)||N.getElementsByName(K)[0];if(P)return P;if("function"==typeof N.createTreeWalker&&N.body&&(N.body.createShadowRoot||N.body.attachShadow)){const Z=N.createTreeWalker(N.body,NodeFilter.SHOW_ELEMENT);let fe=Z.currentNode;for(;fe;){const rt=fe.shadowRoot;if(rt){const yt=rt.getElementById(K)||rt.querySelector(`[name="${K}"]`);if(yt)return yt}fe=Z.nextNode()}}return null}(this.document,K);P&&(this.scrollToElement(P),this.attemptFocus(P))}setHistoryScrollRestoration(K){if(this.supportScrollRestoration()){const P=this.window.history;P&&P.scrollRestoration&&(P.scrollRestoration=K)}}scrollToElement(K){const P=K.getBoundingClientRect(),Z=P.left+this.window.pageXOffset,fe=P.top+this.window.pageYOffset,rt=this.offset();this.window.scrollTo(Z-rt[0],fe-rt[1])}attemptFocus(K){return K.focus(),this.document.activeElement===K}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const K=Ro(this.window.history)||Ro(Object.getPrototypeOf(this.window.history));return!(!K||!K.writable&&!K.set)}catch(K){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(K){return!1}}}function Ro(N){return Object.getOwnPropertyDescriptor(N,"scrollRestoration")}class Ci{}},1887:(Mt,Be,F)=>{"use strict";F.d(Be,{eN:()=>ft,JF:()=>Sn});var w=F(6274),L=F(2741),z=F(267),be=F(3948),oe=F(3748),te=F(3305),De=F(8561);class ee{}class Te{}class Q{constructor(ae){this.normalizedNames=new Map,this.lazyUpdate=null,ae?this.lazyInit="string"==typeof ae?()=>{this.headers=new Map,ae.split("\n").forEach(de=>{const Je=de.indexOf(":");if(Je>0){const $e=de.slice(0,Je),bt=$e.toLowerCase(),at=de.slice(Je+1).trim();this.maybeSetNormalizedName($e,bt),this.headers.has(bt)?this.headers.get(bt).push(at):this.headers.set(bt,[at])}})}:()=>{this.headers=new Map,Object.keys(ae).forEach(de=>{let Je=ae[de];const $e=de.toLowerCase();"string"==typeof Je&&(Je=[Je]),Je.length>0&&(this.headers.set($e,Je),this.maybeSetNormalizedName(de,$e))})}:this.headers=new Map}has(ae){return this.init(),this.headers.has(ae.toLowerCase())}get(ae){this.init();const de=this.headers.get(ae.toLowerCase());return de&&de.length>0?de[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(ae){return this.init(),this.headers.get(ae.toLowerCase())||null}append(ae,de){return this.clone({name:ae,value:de,op:"a"})}set(ae,de){return this.clone({name:ae,value:de,op:"s"})}delete(ae,de){return this.clone({name:ae,value:de,op:"d"})}maybeSetNormalizedName(ae,de){this.normalizedNames.has(de)||this.normalizedNames.set(de,ae)}init(){this.lazyInit&&(this.lazyInit instanceof Q?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(ae=>this.applyUpdate(ae)),this.lazyUpdate=null))}copyFrom(ae){ae.init(),Array.from(ae.headers.keys()).forEach(de=>{this.headers.set(de,ae.headers.get(de)),this.normalizedNames.set(de,ae.normalizedNames.get(de))})}clone(ae){const de=new Q;return de.lazyInit=this.lazyInit&&this.lazyInit instanceof Q?this.lazyInit:this,de.lazyUpdate=(this.lazyUpdate||[]).concat([ae]),de}applyUpdate(ae){const de=ae.name.toLowerCase();switch(ae.op){case"a":case"s":let Je=ae.value;if("string"==typeof Je&&(Je=[Je]),0===Je.length)return;this.maybeSetNormalizedName(ae.name,de);const $e=("a"===ae.op?this.headers.get(de):void 0)||[];$e.push(...Je),this.headers.set(de,$e);break;case"d":const bt=ae.value;if(bt){let at=this.headers.get(de);if(!at)return;at=at.filter(Rt=>-1===bt.indexOf(Rt)),0===at.length?(this.headers.delete(de),this.normalizedNames.delete(de)):this.headers.set(de,at)}else this.headers.delete(de),this.normalizedNames.delete(de)}}forEach(ae){this.init(),Array.from(this.normalizedNames.keys()).forEach(de=>ae(this.normalizedNames.get(de),this.headers.get(de)))}}class ne{encodeKey(ae){return st(ae)}encodeValue(ae){return st(ae)}decodeKey(ae){return decodeURIComponent(ae)}decodeValue(ae){return decodeURIComponent(ae)}}const ve=/%(\d[a-f0-9])/gi,Ge={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function st(Le){return encodeURIComponent(Le).replace(ve,(ae,de)=>{var Je;return null!==(Je=Ge[de])&&void 0!==Je?Je:ae})}function ke(Le){return`${Le}`}class Ke{constructor(ae={}){if(this.updates=null,this.cloneFrom=null,this.encoder=ae.encoder||new ne,ae.fromString){if(ae.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(Le,ae){const de=new Map;return Le.length>0&&Le.replace(/^\?/,"").split("&").forEach($e=>{const bt=$e.indexOf("="),[at,Rt]=-1==bt?[ae.decodeKey($e),""]:[ae.decodeKey($e.slice(0,bt)),ae.decodeValue($e.slice(bt+1))],yn=de.get(at)||[];yn.push(Rt),de.set(at,yn)}),de}(ae.fromString,this.encoder)}else ae.fromObject?(this.map=new Map,Object.keys(ae.fromObject).forEach(de=>{const Je=ae.fromObject[de];this.map.set(de,Array.isArray(Je)?Je:[Je])})):this.map=null}has(ae){return this.init(),this.map.has(ae)}get(ae){this.init();const de=this.map.get(ae);return de?de[0]:null}getAll(ae){return this.init(),this.map.get(ae)||null}keys(){return this.init(),Array.from(this.map.keys())}append(ae,de){return this.clone({param:ae,value:de,op:"a"})}appendAll(ae){const de=[];return Object.keys(ae).forEach(Je=>{const $e=ae[Je];Array.isArray($e)?$e.forEach(bt=>{de.push({param:Je,value:bt,op:"a"})}):de.push({param:Je,value:$e,op:"a"})}),this.clone(de)}set(ae,de){return this.clone({param:ae,value:de,op:"s"})}delete(ae,de){return this.clone({param:ae,value:de,op:"d"})}toString(){return this.init(),this.keys().map(ae=>{const de=this.encoder.encodeKey(ae);return this.map.get(ae).map(Je=>de+"="+this.encoder.encodeValue(Je)).join("&")}).filter(ae=>""!==ae).join("&")}clone(ae){const de=new Ke({encoder:this.encoder});return de.cloneFrom=this.cloneFrom||this,de.updates=(this.updates||[]).concat(ae),de}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(ae=>this.map.set(ae,this.cloneFrom.map.get(ae))),this.updates.forEach(ae=>{switch(ae.op){case"a":case"s":const de=("a"===ae.op?this.map.get(ae.param):void 0)||[];de.push(ke(ae.value)),this.map.set(ae.param,de);break;case"d":if(void 0===ae.value){this.map.delete(ae.param);break}{let Je=this.map.get(ae.param)||[];const $e=Je.indexOf(ke(ae.value));-1!==$e&&Je.splice($e,1),Je.length>0?this.map.set(ae.param,Je):this.map.delete(ae.param)}}}),this.cloneFrom=this.updates=null)}}class Ne{constructor(){this.map=new Map}set(ae,de){return this.map.set(ae,de),this}get(ae){return this.map.has(ae)||this.map.set(ae,ae.defaultValue()),this.map.get(ae)}delete(ae){return this.map.delete(ae),this}keys(){return this.map.keys()}}function je(Le){return"undefined"!=typeof ArrayBuffer&&Le instanceof ArrayBuffer}function Xe(Le){return"undefined"!=typeof Blob&&Le instanceof Blob}function kt(Le){return"undefined"!=typeof FormData&&Le instanceof FormData}class zt{constructor(ae,de,Je,$e){let bt;if(this.url=de,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=ae.toUpperCase(),function(Le){switch(Le){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||$e?(this.body=void 0!==Je?Je:null,bt=$e):bt=Je,bt&&(this.reportProgress=!!bt.reportProgress,this.withCredentials=!!bt.withCredentials,bt.responseType&&(this.responseType=bt.responseType),bt.headers&&(this.headers=bt.headers),bt.context&&(this.context=bt.context),bt.params&&(this.params=bt.params)),this.headers||(this.headers=new Q),this.context||(this.context=new Ne),this.params){const at=this.params.toString();if(0===at.length)this.urlWithParams=de;else{const Rt=de.indexOf("?");this.urlWithParams=de+(-1===Rt?"?":Rt<de.length-1?"&":"")+at}}else this.params=new Ke,this.urlWithParams=de}serializeBody(){return null===this.body?null:je(this.body)||Xe(this.body)||kt(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof Ke?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||kt(this.body)?null:Xe(this.body)?this.body.type||null:je(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ke?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(ae={}){var de;const Je=ae.method||this.method,$e=ae.url||this.url,bt=ae.responseType||this.responseType,at=void 0!==ae.body?ae.body:this.body,Rt=void 0!==ae.withCredentials?ae.withCredentials:this.withCredentials,yn=void 0!==ae.reportProgress?ae.reportProgress:this.reportProgress;let Xn=ae.headers||this.headers,Nn=ae.params||this.params;const an=null!==(de=ae.context)&&void 0!==de?de:this.context;return void 0!==ae.setHeaders&&(Xn=Object.keys(ae.setHeaders).reduce((Bn,An)=>Bn.set(An,ae.setHeaders[An]),Xn)),ae.setParams&&(Nn=Object.keys(ae.setParams).reduce((Bn,An)=>Bn.set(An,ae.setParams[An]),Nn)),new zt(Je,$e,at,{params:Nn,headers:Xn,context:an,reportProgress:yn,responseType:bt,withCredentials:Rt})}}var en=(()=>((en=en||{})[en.Sent=0]="Sent",en[en.UploadProgress=1]="UploadProgress",en[en.ResponseHeader=2]="ResponseHeader",en[en.DownloadProgress=3]="DownloadProgress",en[en.Response=4]="Response",en[en.User=5]="User",en))();class rn{constructor(ae,de=200,Je="OK"){this.headers=ae.headers||new Q,this.status=void 0!==ae.status?ae.status:de,this.statusText=ae.statusText||Je,this.url=ae.url||null,this.ok=this.status>=200&&this.status<300}}class Qt extends rn{constructor(ae={}){super(ae),this.type=en.ResponseHeader}clone(ae={}){return new Qt({headers:ae.headers||this.headers,status:void 0!==ae.status?ae.status:this.status,statusText:ae.statusText||this.statusText,url:ae.url||this.url||void 0})}}class Ht extends rn{constructor(ae={}){super(ae),this.type=en.Response,this.body=void 0!==ae.body?ae.body:null}clone(ae={}){return new Ht({body:void 0!==ae.body?ae.body:this.body,headers:ae.headers||this.headers,status:void 0!==ae.status?ae.status:this.status,statusText:ae.statusText||this.statusText,url:ae.url||this.url||void 0})}}class Ft extends rn{constructor(ae){super(ae,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${ae.url||"(unknown url)"}`:`Http failure response for ${ae.url||"(unknown url)"}: ${ae.status} ${ae.statusText}`,this.error=ae.error||null}}function In(Le,ae){return{body:ae,headers:Le.headers,context:Le.context,observe:Le.observe,params:Le.params,reportProgress:Le.reportProgress,responseType:Le.responseType,withCredentials:Le.withCredentials}}let ft=(()=>{class Le{constructor(de){this.handler=de}request(de,Je,$e={}){let bt;if(de instanceof zt)bt=de;else{let yn,Xn;yn=$e.headers instanceof Q?$e.headers:new Q($e.headers),$e.params&&(Xn=$e.params instanceof Ke?$e.params:new Ke({fromObject:$e.params})),bt=new zt(de,Je,void 0!==$e.body?$e.body:null,{headers:yn,context:$e.context,params:Xn,reportProgress:$e.reportProgress,responseType:$e.responseType||"json",withCredentials:$e.withCredentials})}const at=(0,z.of)(bt).pipe((0,oe.b)(yn=>this.handler.handle(yn)));if(de instanceof zt||"events"===$e.observe)return at;const Rt=at.pipe((0,te.h)(yn=>yn instanceof Ht));switch($e.observe||"body"){case"body":switch(bt.responseType){case"arraybuffer":return Rt.pipe((0,De.U)(yn=>{if(null!==yn.body&&!(yn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return yn.body}));case"blob":return Rt.pipe((0,De.U)(yn=>{if(null!==yn.body&&!(yn.body instanceof Blob))throw new Error("Response is not a Blob.");return yn.body}));case"text":return Rt.pipe((0,De.U)(yn=>{if(null!==yn.body&&"string"!=typeof yn.body)throw new Error("Response is not a string.");return yn.body}));case"json":default:return Rt.pipe((0,De.U)(yn=>yn.body))}case"response":return Rt;default:throw new Error(`Unreachable: unhandled observe type ${$e.observe}}`)}}delete(de,Je={}){return this.request("DELETE",de,Je)}get(de,Je={}){return this.request("GET",de,Je)}head(de,Je={}){return this.request("HEAD",de,Je)}jsonp(de,Je){return this.request("JSONP",de,{params:(new Ke).append(Je,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(de,Je={}){return this.request("OPTIONS",de,Je)}patch(de,Je,$e={}){return this.request("PATCH",de,In($e,Je))}post(de,Je,$e={}){return this.request("POST",de,In($e,Je))}put(de,Je,$e={}){return this.request("PUT",de,In($e,Je))}}return Le.\u0275fac=function(de){return new(de||Le)(L.\u0275\u0275inject(ee))},Le.\u0275prov=L.\u0275\u0275defineInjectable({token:Le,factory:Le.\u0275fac}),Le})();class yr{constructor(ae,de){this.next=ae,this.interceptor=de}handle(ae){return this.interceptor.intercept(ae,this.next)}}const Zn=new L.InjectionToken("HTTP_INTERCEPTORS");let Rr=(()=>{class Le{intercept(de,Je){return Je.handle(de)}}return Le.\u0275fac=function(de){return new(de||Le)},Le.\u0275prov=L.\u0275\u0275defineInjectable({token:Le,factory:Le.\u0275fac}),Le})();const hn=/^\)\]\}',?\n/;let Dn=(()=>{class Le{constructor(de){this.xhrFactory=de}handle(de){if("JSONP"===de.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new be.y(Je=>{const $e=this.xhrFactory.build();if($e.open(de.method,de.urlWithParams),de.withCredentials&&($e.withCredentials=!0),de.headers.forEach((An,pe)=>$e.setRequestHeader(An,pe.join(","))),de.headers.has("Accept")||$e.setRequestHeader("Accept","application/json, text/plain, */*"),!de.headers.has("Content-Type")){const An=de.detectContentTypeHeader();null!==An&&$e.setRequestHeader("Content-Type",An)}if(de.responseType){const An=de.responseType.toLowerCase();$e.responseType="json"!==An?An:"text"}const bt=de.serializeBody();let at=null;const Rt=()=>{if(null!==at)return at;const An=1223===$e.status?204:$e.status,pe=$e.statusText||"OK",ue=new Q($e.getAllResponseHeaders()),we=function(Le){return"responseURL"in Le&&Le.responseURL?Le.responseURL:/^X-Request-URL:/m.test(Le.getAllResponseHeaders())?Le.getResponseHeader("X-Request-URL"):null}($e)||de.url;return at=new Qt({headers:ue,status:An,statusText:pe,url:we}),at},yn=()=>{let{headers:An,status:pe,statusText:ue,url:we}=Rt(),We=null;204!==pe&&(We=void 0===$e.response?$e.responseText:$e.response),0===pe&&(pe=We?200:0);let Fe=pe>=200&&pe<300;if("json"===de.responseType&&"string"==typeof We){const Me=We;We=We.replace(hn,"");try{We=""!==We?JSON.parse(We):null}catch(H){We=Me,Fe&&(Fe=!1,We={error:H,text:We})}}Fe?(Je.next(new Ht({body:We,headers:An,status:pe,statusText:ue,url:we||void 0})),Je.complete()):Je.error(new Ft({error:We,headers:An,status:pe,statusText:ue,url:we||void 0}))},Xn=An=>{const{url:pe}=Rt(),ue=new Ft({error:An,status:$e.status||0,statusText:$e.statusText||"Unknown Error",url:pe||void 0});Je.error(ue)};let Nn=!1;const an=An=>{Nn||(Je.next(Rt()),Nn=!0);let pe={type:en.DownloadProgress,loaded:An.loaded};An.lengthComputable&&(pe.total=An.total),"text"===de.responseType&&!!$e.responseText&&(pe.partialText=$e.responseText),Je.next(pe)},Bn=An=>{let pe={type:en.UploadProgress,loaded:An.loaded};An.lengthComputable&&(pe.total=An.total),Je.next(pe)};return $e.addEventListener("load",yn),$e.addEventListener("error",Xn),$e.addEventListener("timeout",Xn),$e.addEventListener("abort",Xn),de.reportProgress&&($e.addEventListener("progress",an),null!==bt&&$e.upload&&$e.upload.addEventListener("progress",Bn)),$e.send(bt),Je.next({type:en.Sent}),()=>{$e.removeEventListener("error",Xn),$e.removeEventListener("abort",Xn),$e.removeEventListener("load",yn),$e.removeEventListener("timeout",Xn),de.reportProgress&&($e.removeEventListener("progress",an),null!==bt&&$e.upload&&$e.upload.removeEventListener("progress",Bn)),$e.readyState!==$e.DONE&&$e.abort()}})}}return Le.\u0275fac=function(de){return new(de||Le)(L.\u0275\u0275inject(w.JF))},Le.\u0275prov=L.\u0275\u0275defineInjectable({token:Le,factory:Le.\u0275fac}),Le})();const Yt=new L.InjectionToken("XSRF_COOKIE_NAME"),mn=new L.InjectionToken("XSRF_HEADER_NAME");class rr{}let br=(()=>{class Le{constructor(de,Je,$e){this.doc=de,this.platform=Je,this.cookieName=$e,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const de=this.doc.cookie||"";return de!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,w.Mx)(de,this.cookieName),this.lastCookieString=de),this.lastToken}}return Le.\u0275fac=function(de){return new(de||Le)(L.\u0275\u0275inject(w.K0),L.\u0275\u0275inject(L.PLATFORM_ID),L.\u0275\u0275inject(Yt))},Le.\u0275prov=L.\u0275\u0275defineInjectable({token:Le,factory:Le.\u0275fac}),Le})(),cr=(()=>{class Le{constructor(de,Je){this.tokenService=de,this.headerName=Je}intercept(de,Je){const $e=de.url.toLowerCase();if("GET"===de.method||"HEAD"===de.method||$e.startsWith("http://")||$e.startsWith("https://"))return Je.handle(de);const bt=this.tokenService.getToken();return null!==bt&&!de.headers.has(this.headerName)&&(de=de.clone({headers:de.headers.set(this.headerName,bt)})),Je.handle(de)}}return Le.\u0275fac=function(de){return new(de||Le)(L.\u0275\u0275inject(rr),L.\u0275\u0275inject(mn))},Le.\u0275prov=L.\u0275\u0275defineInjectable({token:Le,factory:Le.\u0275fac}),Le})(),ct=(()=>{class Le{constructor(de,Je){this.backend=de,this.injector=Je,this.chain=null}handle(de){if(null===this.chain){const Je=this.injector.get(Zn,[]);this.chain=Je.reduceRight(($e,bt)=>new yr($e,bt),this.backend)}return this.chain.handle(de)}}return Le.\u0275fac=function(de){return new(de||Le)(L.\u0275\u0275inject(Te),L.\u0275\u0275inject(L.Injector))},Le.\u0275prov=L.\u0275\u0275defineInjectable({token:Le,factory:Le.\u0275fac}),Le})(),Nt=(()=>{class Le{static disable(){return{ngModule:Le,providers:[{provide:cr,useClass:Rr}]}}static withOptions(de={}){return{ngModule:Le,providers:[de.cookieName?{provide:Yt,useValue:de.cookieName}:[],de.headerName?{provide:mn,useValue:de.headerName}:[]]}}}return Le.\u0275fac=function(de){return new(de||Le)},Le.\u0275mod=L.\u0275\u0275defineNgModule({type:Le}),Le.\u0275inj=L.\u0275\u0275defineInjector({providers:[cr,{provide:Zn,useExisting:cr,multi:!0},{provide:rr,useClass:br},{provide:Yt,useValue:"XSRF-TOKEN"},{provide:mn,useValue:"X-XSRF-TOKEN"}]}),Le})(),Sn=(()=>{class Le{}return Le.\u0275fac=function(de){return new(de||Le)},Le.\u0275mod=L.\u0275\u0275defineNgModule({type:Le}),Le.\u0275inj=L.\u0275\u0275defineInjector({providers:[ft,{provide:ee,useClass:ct},Dn,{provide:Te,useExisting:Dn}],imports:[[Nt.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),Le})()},2741:(Mt,Be,F)=>{"use strict";F.r(Be),F.d(Be,{ANALYZE_FOR_ENTRY_COMPONENTS:()=>_a,APP_BOOTSTRAP_LISTENER:()=>pb,APP_ID:()=>cb,APP_INITIALIZER:()=>vE,ApplicationInitStatus:()=>jf,ApplicationModule:()=>TA,ApplicationRef:()=>Wg,Attribute:()=>Xt,COMPILER_OPTIONS:()=>Ib,CUSTOM_ELEMENTS_SCHEMA:()=>$c,ChangeDetectionStrategy:()=>Je,ChangeDetectorRef:()=>jv,Compiler:()=>Kg,CompilerFactory:()=>wb,Component:()=>bS,ComponentFactory:()=>Mf,ComponentFactoryResolver:()=>oh,ComponentRef:()=>Pv,ContentChild:()=>Ac,ContentChildren:()=>Va,DEFAULT_CURRENCY_CODE:()=>mb,DebugElement:()=>IA,DebugEventListener:()=>$b,DebugNode:()=>EA,DefaultIterableDiffer:()=>b0,Directive:()=>ib,ElementRef:()=>ec,EmbeddedViewRef:()=>lA,ErrorHandler:()=>fu,EventEmitter:()=>Cc,Host:()=>du,HostBinding:()=>SS,HostListener:()=>AS,INJECTOR:()=>Eu,Inject:()=>lu,InjectFlags:()=>Nt,Injectable:()=>uy,InjectionToken:()=>vi,Injector:()=>Kr,Input:()=>CS,IterableDiffers:()=>Vy,KeyValueDiffers:()=>Uy,LOCALE_ID:()=>qy,MissingTranslationStrategy:()=>Dc,ModuleWithComponentFactories:()=>_b,NO_ERRORS_SCHEMA:()=>Td,NgModule:()=>PS,NgModuleFactory:()=>Bv,NgModuleFactoryLoader:()=>iA,NgModuleRef:()=>id,NgProbeToken:()=>XS,NgZone:()=>eu,Optional:()=>Vo,Output:()=>DS,PACKAGE_ROOT_URL:()=>MS,PLATFORM_ID:()=>fb,PLATFORM_INITIALIZER:()=>hb,Pipe:()=>TS,PlatformRef:()=>xE,Query:()=>va,QueryList:()=>jg,ReflectiveInjector:()=>ll,ReflectiveKey:()=>Yo,Renderer2:()=>v0,RendererFactory2:()=>Fy,RendererStyleFlags2:()=>da,ResolvedReflectiveFactory:()=>fy,Sanitizer:()=>Mv,SecurityContext:()=>zi,Self:()=>sa,SimpleChange:()=>Rs,SkipSelf:()=>oa,SystemJsNgModuleLoader:()=>cA,SystemJsNgModuleLoaderConfig:()=>Ub,TRANSLATIONS:()=>kS,TRANSLATIONS_FORMAT:()=>LS,TemplateRef:()=>uh,Testability:()=>Db,TestabilityRegistry:()=>CE,Type:()=>Ei,VERSION:()=>kv,Version:()=>w0,ViewChild:()=>Nu,ViewChildren:()=>Ru,ViewContainerRef:()=>Rg,ViewEncapsulation:()=>at,ViewRef:()=>Bb,WrappedValue:()=>Ds,asNativeElements:()=>dA,assertPlatform:()=>Ob,createPlatform:()=>Nb,createPlatformFactory:()=>Pb,defineInjectable:()=>hn,destroyPlatform:()=>eA,enableProdMode:()=>qS,forwardRef:()=>ne,getDebugNode:()=>Do,getModuleFactory:()=>oA,getPlatform:()=>RE,inject:()=>zf,isDevMode:()=>SE,platformCore:()=>wA,resolveForwardRef:()=>J,setTestabilityGetter:()=>GS,\u02750:()=>ud,\u0275ALLOW_MULTIPLE_PLATFORMS:()=>AE,\u0275APP_ID_RANDOM_PROVIDER:()=>db,\u0275CREATE_ATTRIBUTE_DECORATOR__POST_R3__:()=>su,\u0275ChangeDetectorStatus:()=>$e,\u0275CodegenComponentFactoryResolver:()=>wC,\u0275Compiler_compileModuleAndAllComponentsAsync__POST_R3__:()=>Eb,\u0275Compiler_compileModuleAndAllComponentsSync__POST_R3__:()=>IE,\u0275Compiler_compileModuleAsync__POST_R3__:()=>vb,\u0275Compiler_compileModuleSync__POST_R3__:()=>Zy,\u0275ComponentFactory:()=>Mf,\u0275Console:()=>gb,\u0275DEFAULT_LOCALE_ID:()=>wg,\u0275EMPTY_ARRAY:()=>ue,\u0275EMPTY_MAP:()=>rD,\u0275INJECTOR_IMPL__POST_R3__:()=>cf,\u0275INJECTOR_SCOPE:()=>nl,\u0275LifecycleHooksFeature:()=>Qm,\u0275LocaleDataIndex:()=>zn,\u0275NG_COMP_DEF:()=>we,\u0275NG_DIR_DEF:()=>We,\u0275NG_ELEMENT_ID:()=>Ze,\u0275NG_INJ_DEF:()=>ct,\u0275NG_MOD_DEF:()=>Me,\u0275NG_PIPE_DEF:()=>Fe,\u0275NG_PROV_DEF:()=>cr,\u0275NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR:()=>lh,\u0275NO_CHANGE:()=>tr,\u0275NgModuleFactory:()=>zy,\u0275NoopNgZone:()=>Cb,\u0275ReflectionCapabilities:()=>Qe,\u0275Render3ComponentFactory:()=>eE,\u0275Render3ComponentRef:()=>ow,\u0275Render3NgModuleRef:()=>dw,\u0275RuntimeError:()=>st,\u0275SWITCH_CHANGE_DETECTOR_REF_FACTORY__POST_R3__:()=>D0,\u0275SWITCH_COMPILE_COMPONENT__POST_R3__:()=>sb,\u0275SWITCH_COMPILE_DIRECTIVE__POST_R3__:()=>ob,\u0275SWITCH_COMPILE_INJECTABLE__POST_R3__:()=>ng,\u0275SWITCH_COMPILE_NGMODULE__POST_R3__:()=>ub,\u0275SWITCH_COMPILE_PIPE__POST_R3__:()=>ab,\u0275SWITCH_ELEMENT_REF_FACTORY__POST_R3__:()=>y0,\u0275SWITCH_IVY_ENABLED__POST_R3__:()=>yb,\u0275SWITCH_RENDERER2_FACTORY__POST_R3__:()=>E0,\u0275SWITCH_TEMPLATE_REF_FACTORY__POST_R3__:()=>x0,\u0275SWITCH_VIEW_CONTAINER_REF_FACTORY__POST_R3__:()=>P0,\u0275_sanitizeHtml:()=>gc,\u0275_sanitizeUrl:()=>Fu,\u0275allowSanitizationBypassAndThrow:()=>Qs,\u0275and:()=>CA,\u0275angular_packages_core_core_a:()=>ve,\u0275angular_packages_core_core_b:()=>cc,\u0275angular_packages_core_core_ba:()=>Yb,\u0275angular_packages_core_core_bb:()=>VI,\u0275angular_packages_core_core_bc:()=>Wy,\u0275angular_packages_core_core_bd:()=>WC,\u0275angular_packages_core_core_be:()=>Mi,\u0275angular_packages_core_core_bf:()=>sw,\u0275angular_packages_core_core_bg:()=>b,\u0275angular_packages_core_core_bh:()=>lt,\u0275angular_packages_core_core_bi:()=>le,\u0275angular_packages_core_core_bj:()=>Sa,\u0275angular_packages_core_core_bl:()=>tE,\u0275angular_packages_core_core_bm:()=>nE,\u0275angular_packages_core_core_bn:()=>rE,\u0275angular_packages_core_core_bo:()=>iE,\u0275angular_packages_core_core_bp:()=>sE,\u0275angular_packages_core_core_bq:()=>Wa,\u0275angular_packages_core_core_br:()=>bs,\u0275angular_packages_core_core_bs:()=>zo,\u0275angular_packages_core_core_bv:()=>te,\u0275angular_packages_core_core_bw:()=>Np,\u0275angular_packages_core_core_bx:()=>_r,\u0275angular_packages_core_core_bz:()=>Ln,\u0275angular_packages_core_core_c:()=>$a,\u0275angular_packages_core_core_cb:()=>$,\u0275angular_packages_core_core_cc:()=>a0,\u0275angular_packages_core_core_d:()=>cg,\u0275angular_packages_core_core_e:()=>rh,\u0275angular_packages_core_core_f:()=>gy,\u0275angular_packages_core_core_g:()=>lb,\u0275angular_packages_core_core_h:()=>I0,\u0275angular_packages_core_core_i:()=>m0,\u0275angular_packages_core_core_j:()=>ah,\u0275angular_packages_core_core_k:()=>sA,\u0275angular_packages_core_core_l:()=>N0,\u0275angular_packages_core_core_m:()=>Ag,\u0275angular_packages_core_core_n:()=>O0,\u0275angular_packages_core_core_o:()=>zg,\u0275angular_packages_core_core_p:()=>Co,\u0275angular_packages_core_core_q:()=>mA,\u0275angular_packages_core_core_r:()=>S0,\u0275angular_packages_core_core_s:()=>Lv,\u0275angular_packages_core_core_t:()=>Fv,\u0275angular_packages_core_core_u:()=>Vv,\u0275angular_packages_core_core_v:()=>Uv,\u0275angular_packages_core_core_w:()=>Gb,\u0275angular_packages_core_core_x:()=>qb,\u0275angular_packages_core_core_y:()=>Zb,\u0275angular_packages_core_core_z:()=>Qb,\u0275bypassSanitizationTrustHtml:()=>pd,\u0275bypassSanitizationTrustResourceUrl:()=>Qf,\u0275bypassSanitizationTrustScript:()=>Zf,\u0275bypassSanitizationTrustStyle:()=>qf,\u0275bypassSanitizationTrustUrl:()=>Xr,\u0275ccf:()=>ID,\u0275clearOverrides:()=>RR,\u0275clearResolutionOfComponentResourcesQueue:()=>vl,\u0275cmf:()=>xR,\u0275compileComponent:()=>zw,\u0275compileDirective:()=>_E,\u0275compileNgModule:()=>jw,\u0275compileNgModuleDefs:()=>Bw,\u0275compileNgModuleFactory__POST_R3__:()=>Rb,\u0275compilePipe:()=>nb,\u0275createInjector:()=>rf,\u0275crt:()=>GC,\u0275defaultIterableDiffers:()=>A0,\u0275defaultKeyValueDiffers:()=>R0,\u0275detectChanges:()=>tf,\u0275devModeEqual:()=>fo,\u0275did:()=>FD,\u0275eld:()=>DA,\u0275findLocaleData:()=>wv,\u0275flushModuleScopingQueueAsMuchAsPossible:()=>Vw,\u0275getComponentViewDefinitionFactory:()=>Q0,\u0275getDebugNodeR2:()=>_A,\u0275getDebugNode__POST_R3__:()=>Yy,\u0275getDirectives:()=>$p,\u0275getHostElement:()=>qd,\u0275getInjectableDef:()=>Dn,\u0275getLContext:()=>Lr,\u0275getLocaleCurrencyCode:()=>ST,\u0275getLocalePluralCase:()=>LI,\u0275getModuleFactory__POST_R3__:()=>Lb,\u0275getSanitizationBypassType:()=>bl,\u0275global:()=>an,\u0275initServicesIfNeeded:()=>Qg,\u0275inlineInterpolate:()=>nD,\u0275interpolate:()=>tD,\u0275isBoundToModule__POST_R3__:()=>xb,\u0275isDefaultChangeDetectionStrategy:()=>bt,\u0275isListLikeIterable:()=>Qd,\u0275isObservable:()=>gg,\u0275isPromise:()=>pg,\u0275isSubscribable:()=>Iy,\u0275ivyEnabled:()=>Hg,\u0275makeDecorator:()=>Ko,\u0275markDirty:()=>xp,\u0275mod:()=>uD,\u0275mpd:()=>aD,\u0275ncd:()=>jA,\u0275noSideEffects:()=>de,\u0275nov:()=>RD,\u0275overrideComponentView:()=>AR,\u0275overrideProvider:()=>SR,\u0275pad:()=>HA,\u0275patchComponentDefWithScope:()=>gE,\u0275pid:()=>VD,\u0275pod:()=>KA,\u0275ppd:()=>$A,\u0275prd:()=>UD,\u0275publishDefaultGlobalUtils:()=>F_,\u0275publishGlobalUtil:()=>Ma,\u0275qud:()=>LA,\u0275registerLocaleData:()=>DT,\u0275registerModuleFactory:()=>YD,\u0275registerNgModuleType:()=>cw,\u0275renderComponent:()=>U_,\u0275resetCompiledComponents:()=>fS,\u0275resetJitOptions:()=>dS,\u0275resolveComponentResources:()=>ph,\u0275setClassMetadata:()=>aw,\u0275setCurrentInjector:()=>Go,\u0275setDocument:()=>_o,\u0275setLocaleId:()=>Oy,\u0275store:()=>oy,\u0275stringify:()=>ee,\u0275ted:()=>qA,\u0275transitiveScopesFor:()=>$g,\u0275unregisterLocaleData:()=>AT,\u0275unv:()=>zC,\u0275unwrapSafeValue:()=>Ha,\u0275vid:()=>JA,\u0275whenRendered:()=>j_,\u0275\u0275CopyDefinitionFeature:()=>Wl,\u0275\u0275FactoryTarget:()=>Ai,\u0275\u0275InheritDefinitionFeature:()=>Zd,\u0275\u0275NgOnChangesFeature:()=>Ti,\u0275\u0275ProvidersFeature:()=>f0,\u0275\u0275advance:()=>Fh,\u0275\u0275attribute:()=>ny,\u0275\u0275attributeInterpolate1:()=>Zp,\u0275\u0275attributeInterpolate2:()=>ry,\u0275\u0275attributeInterpolate3:()=>Qp,\u0275\u0275attributeInterpolate4:()=>Yp,\u0275\u0275attributeInterpolate5:()=>wf,\u0275\u0275attributeInterpolate6:()=>wu,\u0275\u0275attributeInterpolate7:()=>iy,\u0275\u0275attributeInterpolate8:()=>bu,\u0275\u0275attributeInterpolateV:()=>Zu,\u0275\u0275classMap:()=>lI,\u0275\u0275classMapInterpolate1:()=>_I,\u0275\u0275classMapInterpolate2:()=>vI,\u0275\u0275classMapInterpolate3:()=>EI,\u0275\u0275classMapInterpolate4:()=>II,\u0275\u0275classMapInterpolate5:()=>wI,\u0275\u0275classMapInterpolate6:()=>bI,\u0275\u0275classMapInterpolate7:()=>TI,\u0275\u0275classMapInterpolate8:()=>CI,\u0275\u0275classMapInterpolateV:()=>DI,\u0275\u0275classProp:()=>ev,\u0275\u0275contentQuery:()=>Pw,\u0275\u0275defineComponent:()=>fn,\u0275\u0275defineDirective:()=>eo,\u0275\u0275defineInjectable:()=>Wt,\u0275\u0275defineInjector:()=>Ut,\u0275\u0275defineNgModule:()=>xr,\u0275\u0275definePipe:()=>zr,\u0275\u0275directiveInject:()=>ed,\u0275\u0275disableBindings:()=>vo,\u0275\u0275element:()=>bc,\u0275\u0275elementContainer:()=>vy,\u0275\u0275elementContainerEnd:()=>fg,\u0275\u0275elementContainerStart:()=>hg,\u0275\u0275elementEnd:()=>dg,\u0275\u0275elementStart:()=>Tu,\u0275\u0275enableBindings:()=>No,\u0275\u0275getCurrentView:()=>Ey,\u0275\u0275getInheritedFactory:()=>Mr,\u0275\u0275hostProperty:()=>Ev,\u0275\u0275i18n:()=>u0,\u0275\u0275i18nApply:()=>l0,\u0275\u0275i18nAttributes:()=>c0,\u0275\u0275i18nEnd:()=>Dv,\u0275\u0275i18nExp:()=>Sv,\u0275\u0275i18nPostprocess:()=>d0,\u0275\u0275i18nStart:()=>Cv,\u0275\u0275inject:()=>Wi,\u0275\u0275injectAttribute:()=>Hi,\u0275\u0275invalidFactory:()=>Af,\u0275\u0275invalidFactoryDep:()=>Ou,\u0275\u0275listener:()=>mg,\u0275\u0275loadQuery:()=>Ow,\u0275\u0275namespaceHTML:()=>jn,\u0275\u0275namespaceMathML:()=>gn,\u0275\u0275namespaceSVG:()=>Lt,\u0275\u0275nextContext:()=>by,\u0275\u0275ngDeclareClassMetadata:()=>MR,\u0275\u0275ngDeclareComponent:()=>kR,\u0275\u0275ngDeclareDirective:()=>OR,\u0275\u0275ngDeclareFactory:()=>LR,\u0275\u0275ngDeclareInjectable:()=>VR,\u0275\u0275ngDeclareInjector:()=>UR,\u0275\u0275ngDeclareNgModule:()=>jR,\u0275\u0275ngDeclarePipe:()=>BR,\u0275\u0275pipe:()=>ww,\u0275\u0275pipeBind1:()=>bw,\u0275\u0275pipeBind2:()=>Tw,\u0275\u0275pipeBind3:()=>Cw,\u0275\u0275pipeBind4:()=>Dw,\u0275\u0275pipeBindV:()=>Sw,\u0275\u0275projection:()=>Cy,\u0275\u0275projectionDef:()=>Ty,\u0275\u0275property:()=>td,\u0275\u0275propertyInterpolate:()=>vg,\u0275\u0275propertyInterpolate1:()=>Eg,\u0275\u0275propertyInterpolate2:()=>Dy,\u0275\u0275propertyInterpolate3:()=>xf,\u0275\u0275propertyInterpolate4:()=>s,\u0275\u0275propertyInterpolate5:()=>e,\u0275\u0275propertyInterpolate6:()=>i,\u0275\u0275propertyInterpolate7:()=>a,\u0275\u0275propertyInterpolate8:()=>c,\u0275\u0275propertyInterpolateV:()=>p,\u0275\u0275pureFunction0:()=>hw,\u0275\u0275pureFunction1:()=>fw,\u0275\u0275pureFunction2:()=>pw,\u0275\u0275pureFunction3:()=>gw,\u0275\u0275pureFunction4:()=>mw,\u0275\u0275pureFunction5:()=>yw,\u0275\u0275pureFunction6:()=>_w,\u0275\u0275pureFunction7:()=>vw,\u0275\u0275pureFunction8:()=>Ew,\u0275\u0275pureFunctionV:()=>Iw,\u0275\u0275queryRefresh:()=>xw,\u0275\u0275reference:()=>Jp,\u0275\u0275resolveBody:()=>mu,\u0275\u0275resolveDocument:()=>la,\u0275\u0275resolveWindow:()=>Cs,\u0275\u0275restoreView:()=>Da,\u0275\u0275sanitizeHtml:()=>_d,\u0275\u0275sanitizeResourceUrl:()=>Bc,\u0275\u0275sanitizeScript:()=>Rl,\u0275\u0275sanitizeStyle:()=>vd,\u0275\u0275sanitizeUrl:()=>Ed,\u0275\u0275sanitizeUrlOrResourceUrl:()=>xl,\u0275\u0275setComponentScope:()=>$t,\u0275\u0275setNgModuleScope:()=>Un,\u0275\u0275styleMap:()=>Yu,\u0275\u0275styleMapInterpolate1:()=>SI,\u0275\u0275styleMapInterpolate2:()=>AI,\u0275\u0275styleMapInterpolate3:()=>RI,\u0275\u0275styleMapInterpolate4:()=>xI,\u0275\u0275styleMapInterpolate5:()=>NI,\u0275\u0275styleMapInterpolate6:()=>PI,\u0275\u0275styleMapInterpolate7:()=>OI,\u0275\u0275styleMapInterpolate8:()=>MI,\u0275\u0275styleMapInterpolateV:()=>kI,\u0275\u0275styleProp:()=>X_,\u0275\u0275stylePropInterpolate1:()=>dv,\u0275\u0275stylePropInterpolate2:()=>hv,\u0275\u0275stylePropInterpolate3:()=>fv,\u0275\u0275stylePropInterpolate4:()=>pv,\u0275\u0275stylePropInterpolate5:()=>gv,\u0275\u0275stylePropInterpolate6:()=>mv,\u0275\u0275stylePropInterpolate7:()=>yv,\u0275\u0275stylePropInterpolate8:()=>_v,\u0275\u0275stylePropInterpolateV:()=>vv,\u0275\u0275syntheticHostListener:()=>yg,\u0275\u0275syntheticHostProperty:()=>Iv,\u0275\u0275template:()=>sy,\u0275\u0275templateRefExtractor:()=>Fw,\u0275\u0275text:()=>yI,\u0275\u0275textInterpolate:()=>nv,\u0275\u0275textInterpolate1:()=>xy,\u0275\u0275textInterpolate2:()=>rv,\u0275\u0275textInterpolate3:()=>iv,\u0275\u0275textInterpolate4:()=>sv,\u0275\u0275textInterpolate5:()=>ov,\u0275\u0275textInterpolate6:()=>av,\u0275\u0275textInterpolate7:()=>uv,\u0275\u0275textInterpolate8:()=>cv,\u0275\u0275textInterpolateV:()=>lv,\u0275\u0275trustConstantHtml:()=>Th,\u0275\u0275trustConstantResourceUrl:()=>ju,\u0275\u0275viewQuery:()=>Nw});var w=F(6006),L=F(9734),z=F(3948),be=F(636),oe=F(2564);function te(t){for(let n in t)if(t[n]===te)return n;throw Error("Could not find renamed property on target object.")}function De(t,n){for(const r in n)n.hasOwnProperty(r)&&!t.hasOwnProperty(r)&&(t[r]=n[r])}function ee(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ee).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const r=n.indexOf("\n");return-1===r?n:n.substring(0,r)}function Te(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const Q=te({__forward_ref__:te});function ne(t){return t.__forward_ref__=ne,t.toString=function(){return ee(this())},t}function J(t){return ve(t)?t():t}function ve(t){return"function"==typeof t&&t.hasOwnProperty(Q)&&t.__forward_ref__===ne}class st extends Error{constructor(n,r){super(function(t,n){return`${t?`NG0${t}: `:""}${n}`}(n,r)),this.code=n}}function Pe(t){return"string"==typeof t?t:null==t?"":String(t)}function Ne(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Pe(t)}function kt(t,n){const r=n?` in ${n}`:"";throw new st("201",`No provider for ${Ne(t)} found${r}`)}function It(t,n,r,o){throw new Error(`ASSERTION ERROR: ${t}`+(null==o?"":` [Expected=> ${r} ${o} ${n} <=Actual]`))}function Wt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}const hn=Wt;function Ut(t){return{providers:t.providers||[],imports:t.imports||[]}}function Dn(t){return Yt(t,cr)||Yt(t,Qn)}function Yt(t,n){return t.hasOwnProperty(n)?t[n]:null}function br(t){return t&&(t.hasOwnProperty(ct)||t.hasOwnProperty(Yn))?t[ct]:null}const cr=te({\u0275prov:te}),ct=te({\u0275inj:te}),Qn=te({ngInjectableDef:te}),Yn=te({ngInjectorDef:te});var Nt=(()=>((Nt=Nt||{})[Nt.Default=0]="Default",Nt[Nt.Host=1]="Host",Nt[Nt.Self=2]="Self",Nt[Nt.SkipSelf=4]="SkipSelf",Nt[Nt.Optional=8]="Optional",Nt))();let Sn;function _r(){return Sn}function Vn(t){const n=Sn;return Sn=t,n}function Le(t,n,r){const o=Dn(t);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:r&Nt.Optional?null:void 0!==n?n:void kt(ee(t),"Injector")}function de(t){return{toString:t}.toString()}var Je=(()=>((Je=Je||{})[Je.OnPush=0]="OnPush",Je[Je.Default=1]="Default",Je))(),$e=(()=>(($e=$e||{})[$e.CheckOnce=0]="CheckOnce",$e[$e.Checked=1]="Checked",$e[$e.CheckAlways=2]="CheckAlways",$e[$e.Detached=3]="Detached",$e[$e.Errored=4]="Errored",$e[$e.Destroyed=5]="Destroyed",$e))();function bt(t){return null==t||t===Je.Default}var at=(()=>((at=at||{})[at.Emulated=0]="Emulated",at[at.None=2]="None",at[at.ShadowDom=3]="ShadowDom",at))();const Rt="undefined"!=typeof globalThis&&globalThis,yn="undefined"!=typeof window&&window,Xn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Nn="undefined"!=typeof global&&global,an=Rt||Nn||yn||Xn,pe={},ue=[],we=te({\u0275cmp:te}),We=te({\u0275dir:te}),Fe=te({\u0275pipe:te}),Me=te({\u0275mod:te}),H=te({\u0275loc:te}),ie=te({\u0275fac:te}),Ze=te({__NG_ELEMENT_ID__:te});let mt=0;function fn(t){return de(()=>{const r={},o={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Je.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||ue,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||at.Emulated,id:"c",styles:t.styles||ue,_:null,setInput:null,schemas:t.schemas||null,tView:null},u=t.directives,l=t.features,f=t.pipes;return o.id+=mt++,o.inputs=gi(t.inputs,r),o.outputs=gi(t.outputs),l&&l.forEach(m=>m(o)),o.directiveDefs=u?()=>("function"==typeof u?u():u).map(_n):null,o.pipeDefs=f?()=>("function"==typeof f?f():f).map(jr):null,o})}function $t(t,n,r){const o=t.\u0275cmp;o.directiveDefs=()=>n.map(_n),o.pipeDefs=()=>r.map(jr)}function _n(t){return Nr(t)||fr(t)}function jr(t){return mi(t)}const Wr={};function xr(t){return de(()=>{const n={type:t.type,bootstrap:t.bootstrap||ue,declarations:t.declarations||ue,imports:t.imports||ue,exports:t.exports||ue,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(Wr[t.id]=t.type),n})}function Un(t,n){return de(()=>{const r=Yr(t,!0);r.declarations=n.declarations||ue,r.imports=n.imports||ue,r.exports=n.exports||ue})}function gi(t,n){if(null==t)return pe;const r={};for(const o in t)if(t.hasOwnProperty(o)){let u=t[o],l=u;Array.isArray(u)&&(l=u[1],u=u[0]),r[u]=o,n&&(n[u]=l)}return r}const eo=fn;function zr(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Nr(t){return t[we]||null}function fr(t){return t[We]||null}function mi(t){return t[Fe]||null}function Yr(t,n){const r=t[Me]||null;if(!r&&!0===n)throw new Error(`Type ${ee(t)} does not have '\u0275mod' property.`);return r}function lr(t){return Array.isArray(t)&&"object"==typeof t[1]}function vr(t){return Array.isArray(t)&&!0===t[1]}function $s(t){return 0!=(8&t.flags)}function Bi(t){return 2==(2&t.flags)}function hs(t){return 1==(1&t.flags)}function oi(t){return null!==t.template}function Qi(t){return 0!=(512&t[2])}function ai(t,n){return t.hasOwnProperty(ie)?t[ie]:null}class Rs{constructor(n,r,o){this.previousValue=n,this.currentValue=r,this.firstChange=o}isFirstChange(){return this.firstChange}}function Ti(){return Mi}function Mi(t){return t.type.prototype.ngOnChanges&&(t.setInput=kn),ka}function ka(){const t=ea(this),n=null==t?void 0:t.current;if(n){const r=t.previous;if(r===pe)t.previous=n;else for(let o in n)r[o]=n[o];t.current=null,this.ngOnChanges(n)}}function kn(t,n,r,o){const u=ea(t)||function(t,n){return t[rs]=n}(t,{previous:pe,current:null}),l=u.current||(u.current={}),f=u.previous,m=this.declaredInputs[r],T=f[m];l[m]=new Rs(T&&T.currentValue,n,f===pe),t[o]=n}Ti.ngInherit=!0;const rs="__ngSimpleChanges__";function ea(t){return t[rs]||null}let xs=null;const Ns=t=>{xs=t},ri=function(t,n,r){null!=xs&&xs(t,n,r)},ro="http://www.w3.org/2000/svg",ma="http://www.w3.org/1998/MathML/";let Ro;function _o(t){Ro=t}function gs(){return void 0!==Ro?Ro:"undefined"!=typeof document?document:void 0}function N(t){return!!t.listen}const P={createRenderer:(t,n)=>gs()};function fe(t){for(;Array.isArray(t);)t=t[0];return t}function tn(t,n){return fe(n[t])}function Ln(t,n){return fe(n[t.index])}function dr(t,n){return t.data[n]}function On(t,n){return t[n]}function sr(t,n){const r=n[t];return lr(r)?r:r[0]}function Er(t){return 4==(4&t[2])}function ei(t){return 128==(128&t[2])}function Cr(t,n){return null==n?null:t[n]}function ys(t){t[18]=0}function _s(t,n){t[5]+=n;let r=t,o=t[3];for(;null!==o&&(1===n&&1===r[5]||-1===n&&0===r[5]);)o[5]+=n,r=o,o=o[3]}const vn={lFrame:ci(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function io(){return vn.bindingsEnabled}function No(){vn.bindingsEnabled=!0}function vo(){vn.bindingsEnabled=!1}function lt(){return vn.lFrame.lView}function $n(){return vn.lFrame.tView}function Da(t){return vn.lFrame.contextLView=t,t[8]}function Jr(){let t=Po();for(;null!==t&&64===t.type;)t=t.parent;return t}function Po(){return vn.lFrame.currentTNode}function Oo(){const t=vn.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}function vs(t,n){const r=vn.lFrame;r.currentTNode=t,r.isParent=n}function B(){return vn.lFrame.isParent}function y(){vn.lFrame.isParent=!1}function U(){return vn.isInCheckNoChangesMode}function X(t){vn.isInCheckNoChangesMode=t}function le(){const t=vn.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function me(){return vn.lFrame.bindingIndex}function Ve(t){return vn.lFrame.bindingIndex=t}function ut(){return vn.lFrame.bindingIndex++}function wt(t){const n=vn.lFrame,r=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,r}function Mn(t){vn.lFrame.inI18n=t}function Gn(t,n){const r=vn.lFrame;r.bindingIndex=r.bindingRootIndex=t,Rn(n)}function Rn(t){vn.lFrame.currentDirectiveIndex=t}function qn(t){const n=vn.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}function Dr(){return vn.lFrame.currentQueryIndex}function $r(t){vn.lFrame.currentQueryIndex=t}function _i(t){const n=t[1];return 2===n.type?n.declTNode:1===n.type?t[6]:null}function ui(t,n,r){if(r&Nt.SkipSelf){let u=n,l=t;for(;!(u=u.parent,null!==u||r&Nt.Host||(u=_i(l),null===u||(l=l[15],10&u.type))););if(null===u)return!1;n=u,t=l}const o=vn.lFrame=Ps();return o.currentTNode=n,o.lView=t,!0}function ls(t){const n=Ps(),r=t[1];vn.lFrame=n,n.currentTNode=r.firstChild,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex,n.inI18n=!1}function Ps(){const t=vn.lFrame,n=null===t?null:t.child;return null===n?ci(t):n}function ci(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Es(){const t=vn.lFrame;return vn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Os=Es;function ii(){const t=Es();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Sa(t){return(vn.lFrame.contextLView=function(t,n){for(;t>0;)n=n[15],t--;return n}(t,vn.lFrame.contextLView))[8]}function Zr(){return vn.lFrame.selectedIndex}function Eo(t){vn.lFrame.selectedIndex=t}function Ir(){const t=vn.lFrame;return dr(t.tView,t.selectedIndex)}function Lt(){vn.lFrame.currentNamespace=ro}function gn(){vn.lFrame.currentNamespace=ma}function jn(){vn.lFrame.currentNamespace=null}function ki(t,n){for(let r=n.directiveStart,o=n.directiveEnd;r<o;r++){const l=t.data[r].type.prototype,{ngAfterContentInit:f,ngAfterContentChecked:m,ngAfterViewInit:T,ngAfterViewChecked:R,ngOnDestroy:V}=l;f&&(t.contentHooks||(t.contentHooks=[])).push(-r,f),m&&((t.contentHooks||(t.contentHooks=[])).push(r,m),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(r,m)),T&&(t.viewHooks||(t.viewHooks=[])).push(-r,T),R&&((t.viewHooks||(t.viewHooks=[])).push(r,R),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(r,R)),null!=V&&(t.destroyHooks||(t.destroyHooks=[])).push(r,V)}}function Or(t,n,r){is(t,n,3,r)}function Hr(t,n,r,o){(3&t[2])===r&&is(t,n,r,o)}function Qr(t,n){let r=t[2];(3&r)===n&&(r&=2047,r+=1,t[2]=r)}function is(t,n,r,o){const l=null!=o?o:-1,f=n.length-1;let m=0;for(let T=void 0!==o?65535&t[18]:0;T<f;T++)if("number"==typeof n[T+1]){if(m=n[T],null!=o&&m>=o)break}else n[T]<0&&(t[18]+=65536),(m<l||-1==l)&&(Ks(t,r,n,T),t[18]=(4294901760&t[18])+T+2),T++}function Ks(t,n,r,o){const u=r[o]<0,l=r[o+1],m=t[u?-r[o]:r[o]];if(u){if(t[2]>>11<t[18]>>16&&(3&t[2])===n){t[2]+=2048,ri(4,m,l);try{l.call(m)}finally{ri(5,m,l)}}}else{ri(4,m,l);try{l.call(m)}finally{ri(5,m,l)}}}class ds{constructor(n,r,o){this.factory=n,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=o}}function tu(t,n,r){const o=N(t);let u=0;for(;u<r.length;){const l=r[u];if("number"==typeof l){if(0!==l)break;u++;const f=r[u++],m=r[u++],T=r[u++];o?t.setAttribute(n,m,T,f):n.setAttributeNS(f,m,T)}else{const f=l,m=r[++u];Fn(f)?o&&t.setProperty(n,f,m):o?t.setAttribute(n,f,m):n.setAttribute(f,m),u++}}return u}function Jt(t){return 3===t||4===t||6===t}function Fn(t){return 64===t.charCodeAt(0)}function nu(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let r=-1;for(let o=0;o<n.length;o++){const u=n[o];"number"==typeof u?r=u:0===r||jt(t,r,u,null,-1===r||2===r?n[++o]:null)}}return t}function jt(t,n,r,o,u){let l=0,f=t.length;if(-1===n)f=-1;else for(;l<t.length;){const m=t[l++];if("number"==typeof m){if(m===n){f=-1;break}if(m>n){f=l-1;break}}}for(;l<t.length;){const m=t[l];if("number"==typeof m)break;if(m===r){if(null===o)return void(null!==u&&(t[l+1]=u));if(o===t[l+1])return void(t[l+2]=u)}l++,null!==o&&l++,null!==u&&l++}-1!==f&&(t.splice(f,0,n),l=f+1),t.splice(l++,0,r),null!==o&&t.splice(l++,0,o),null!==u&&t.splice(l++,0,u)}function tt(t){return-1!==t}function gt(t){return 32767&t}function ws(t,n){let r=function(t){return t>>16}(t),o=n;for(;r>0;)o=o[15],r--;return o}let Ra=!0;function ya(t){const n=Ra;return Ra=t,n}let xa=0;function ru(t,n){const r=iu(t,n);if(-1!==r)return r;const o=n[1];o.firstCreatePass&&(t.injectorIndex=n.length,Si(o.data,t),Si(n,null),Si(o.blueprint,null));const u=oo(t,n),l=t.injectorIndex;if(tt(u)){const f=gt(u),m=ws(u,n),T=m[1].data;for(let R=0;R<8;R++)n[l+R]=m[f+R]|T[f+R]}return n[l+8]=u,l}function Si(t,n){t.push(0,0,0,0,0,0,0,0,n)}function iu(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function oo(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let r=0,o=null,u=n;for(;null!==u;){const l=u[1],f=l.type;if(o=2===f?l.declTNode:1===f?u[6]:null,null===o)return-1;if(r++,u=u[15],-1!==o.injectorIndex)return o.injectorIndex|r<<16}return-1}function C(t,n,r){!function(t,n,r){let o;"string"==typeof r?o=r.charCodeAt(0)||0:r.hasOwnProperty(Ze)&&(o=r[Ze]),null==o&&(o=r[Ze]=xa++);const u=255&o;n.data[t+(u>>5)]|=1<<u}(t,n,r)}function b(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const r=t.attrs;if(r){const o=r.length;let u=0;for(;u<o;){const l=r[u];if(Jt(l))break;if(0===l)u+=2;else if("number"==typeof l)for(u++;u<o&&"string"==typeof r[u];)u++;else{if(l===n)return r[u+1];u+=2}}}return null}function E(t,n,r){if(r&Nt.Optional)return t;kt(n,"NodeInjector")}function x(t,n,r,o){if(r&Nt.Optional&&void 0===o&&(o=null),0==(r&(Nt.Self|Nt.Host))){const u=t[9],l=Vn(void 0);try{return u?u.get(n,o,r&Nt.Optional):Le(n,o,r&Nt.Optional)}finally{Vn(l)}}return E(o,n,r)}function M(t,n,r,o=Nt.Default,u){if(null!==t){const l=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Ze)?t[Ze]:void 0;return"number"==typeof n?n>=0?255&n:ce:n}(r);if("function"==typeof l){if(!ui(n,t,o))return o&Nt.Host?E(u,r,o):x(n,r,o,u);try{const f=l(o);if(null!=f||o&Nt.Optional)return f;kt(r)}finally{Os()}}else if("number"==typeof l){let f=null,m=iu(t,n),T=-1,R=o&Nt.Host?n[16][6]:null;for((-1===m||o&Nt.SkipSelf)&&(T=-1===m?oo(t,n):n[m+8],-1!==T&&Sr(o,!1)?(f=n[1],m=gt(T),n=ws(T,n)):m=-1);-1!==m;){const V=n[1];if(En(l,m,V.data)){const Y=Ae(m,n,r,f,o,R);if(Y!==W)return Y}T=n[m+8],-1!==T&&Sr(o,n[1].data[m+8]===R)&&En(l,m,n)?(f=V,m=gt(T),n=ws(T,n)):m=-1}}}return x(n,r,o,u)}const W={};function ce(){return new or(Jr(),lt())}function Ae(t,n,r,o,u,l){const f=n[1],m=f.data[t+8],V=ot(m,f,r,null==o?Bi(m)&&Ra:o!=f&&0!=(3&m.type),u&Nt.Host&&l===m);return null!==V?Et(n,f,V,m):W}function ot(t,n,r,o,u){const l=t.providerIndexes,f=n.data,m=1048575&l,T=t.directiveStart,V=l>>20,re=u?m+V:t.directiveEnd;for(let ye=o?m:m+V;ye<re;ye++){const xe=f[ye];if(ye<T&&r===xe||ye>=T&&xe.type===r)return ye}if(u){const ye=f[T];if(ye&&oi(ye)&&ye.type===r)return T}return null}function Et(t,n,r,o){let u=t[r];const l=n.data;if(function(t){return t instanceof ds}(u)){const f=u;f.resolving&&function(t,n){throw new st("200",`Circular dependency in DI detected for ${t}`)}(Ne(l[r]));const m=ya(f.canSeeViewProviders);f.resolving=!0;const T=f.injectImpl?Vn(f.injectImpl):null;ui(t,o,Nt.Default);try{u=t[r]=f.factory(void 0,l,t,o),n.firstCreatePass&&r>=o.directiveStart&&function(t,n,r){const{ngOnChanges:o,ngOnInit:u,ngDoCheck:l}=n.type.prototype;if(o){const f=Mi(n);(r.preOrderHooks||(r.preOrderHooks=[])).push(t,f),(r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(t,f)}u&&(r.preOrderHooks||(r.preOrderHooks=[])).push(0-t,u),l&&((r.preOrderHooks||(r.preOrderHooks=[])).push(t,l),(r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(t,l))}(r,l[r],n)}finally{null!==T&&Vn(T),ya(m),f.resolving=!1,Os()}}return u}function En(t,n,r){return!!(r[n+(t>>5)]&1<<t)}function Sr(t,n){return!(t&Nt.Self||t&Nt.Host&&n)}class or{constructor(n,r){this._tNode=n,this._lView=r}get(n,r){return M(this._tNode,this._lView,n,void 0,r)}}function Mr(t){return de(()=>{const n=t.prototype.constructor,r=n[ie]||zs(n),o=Object.prototype;let u=Object.getPrototypeOf(t.prototype).constructor;for(;u&&u!==o;){const l=u[ie]||zs(u);if(l&&l!==r)return l;u=Object.getPrototypeOf(u)}return l=>new l})}function zs(t){return ve(t)?()=>{const n=zs(J(t));return n&&n()}:ai(t)}function Hi(t){return b(Jr(),t)}const wr="__annotations__",ss="__parameters__",Vi="__prop__metadata__";function Ko(t,n,r,o,u){return de(()=>{const l=Wo(n);function f(...m){if(this instanceof f)return l.call(this,...m),this;const T=new f(...m);return function(V){return u&&u(V,...m),(V.hasOwnProperty(wr)?V[wr]:Object.defineProperty(V,wr,{value:[]})[wr]).push(T),o&&o(V),V}}return r&&(f.prototype=Object.create(r.prototype)),f.prototype.ngMetadataName=t,f.annotationCls=f,f})}function Wo(t){return function(...r){if(t){const o=t(...r);for(const u in o)this[u]=o[u]}}}function zo(t,n,r){return de(()=>{const o=Wo(n);function u(...l){if(this instanceof u)return o.apply(this,l),this;const f=new u(...l);return m.annotation=f,m;function m(T,R,V){const Y=T.hasOwnProperty(ss)?T[ss]:Object.defineProperty(T,ss,{value:[]})[ss];for(;Y.length<=V;)Y.push(null);return(Y[V]=Y[V]||[]).push(f),T}}return r&&(u.prototype=Object.create(r.prototype)),u.prototype.ngMetadataName=t,u.annotationCls=u,u})}function bs(t,n,r,o){return de(()=>{const u=Wo(n);function l(...f){if(this instanceof l)return u.apply(this,f),this;const m=new l(...f);return function(R,V){const Y=R.constructor,re=Y.hasOwnProperty(Vi)?Y[Vi]:Object.defineProperty(Y,Vi,{value:{}})[Vi];re[V]=re.hasOwnProperty(V)&&re[V]||[],re[V].unshift(m),o&&o(R,V,...f)}}return r&&(l.prototype=Object.create(r.prototype)),l.prototype.ngMetadataName=t,l.annotationCls=l,l})}function su(){return zo("Attribute",t=>({attributeName:t,__NG_ELEMENT_ID__:()=>Hi(t)}))}const Xt=su();class vi{constructor(n,r){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=Wt({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}toString(){return`InjectionToken ${this._desc}`}}const _a=new vi("AnalyzeForEntryComponents");class va{}const Va=bs("ContentChildren",(t,n={})=>Object.assign({selector:t,first:!1,isViewQuery:!1,descendants:!1,emitDistinctChangesOnly:!0},n),va),Ac=bs("ContentChild",(t,n={})=>Object.assign({selector:t,first:!0,isViewQuery:!1,descendants:!0},n),va),Ru=bs("ViewChildren",(t,n={})=>Object.assign({selector:t,first:!1,isViewQuery:!0,descendants:!0,emitDistinctChangesOnly:!0},n),va),Nu=bs("ViewChild",(t,n)=>Object.assign({selector:t,first:!0,isViewQuery:!0,descendants:!0},n),va);var Ai=(()=>((Ai=Ai||{})[Ai.Directive=0]="Directive",Ai[Ai.Component=1]="Component",Ai[Ai.Injectable=2]="Injectable",Ai[Ai.Pipe=3]="Pipe",Ai[Ai.NgModule=4]="NgModule",Ai))();function di(t){const n=an.ng;if(n&&n.\u0275compilerFacade)return n.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}const Ei=Function;function Ua(t){return"function"==typeof t}function ks(t,n){void 0===n&&(n=t);for(let r=0;r<t.length;r++){let o=t[r];Array.isArray(o)?(n===t&&(n=t.slice(0,r)),ks(o,n)):n!==t&&n.push(o)}return n}function ao(t,n){t.forEach(r=>Array.isArray(r)?ao(r,n):n(r))}function ja(t,n,r){n>=t.length?t.push(r):t.splice(n,0,r)}function Mo(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function ra(t,n){const r=[];for(let o=0;o<t;o++)r.push(n);return r}function ko(t,n,r){let o=Ba(t,n);return o>=0?t[1|o]=r:(o=~o,function(t,n,r,o){let u=t.length;if(u==n)t.push(r,o);else if(1===u)t.push(o,t[0]),t[0]=r;else{for(u--,t.push(t[u-1],t[u]);u>n;)t[u]=t[u-2],u--;t[n]=r,t[n+1]=o}}(t,o,n,r)),o}function au(t,n){const r=Ba(t,n);if(r>=0)return t[1|r]}function Ba(t,n){return function(t,n,r){let o=0,u=t.length>>r;for(;u!==o;){const l=o+(u-o>>1),f=t[l<<r];if(n===f)return l<<r;f>n?u=l:o=l+1}return~(u<<r)}(t,n,1)}const A=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\))\)/,k=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,G=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,he=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{\s*super\(\.\.\.arguments\)/;class Qe{constructor(n){this._reflect=n||an.Reflect}isReflectionEnabled(){return!0}factory(n){return(...r)=>new n(...r)}_zipTypesAndAnnotations(n,r){let o;o=ra(void 0===n?r.length:n.length);for(let u=0;u<o.length;u++)o[u]=void 0===n?[]:n[u]&&n[u]!=Object?[n[u]]:[],r&&null!=r[u]&&(o[u]=o[u].concat(r[u]));return o}_ownParameters(n,r){const o=n.toString();if(A.test(t=o)||he.test(t)||k.test(t)&&!G.test(t))return null;var t;if(n.parameters&&n.parameters!==r.parameters)return n.parameters;const u=n.ctorParameters;if(u&&u!==r.ctorParameters){const m="function"==typeof u?u():u,T=m.map(V=>V&&V.type),R=m.map(V=>V&&vt(V.decorators));return this._zipTypesAndAnnotations(T,R)}const l=n.hasOwnProperty(ss)&&n[ss],f=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",n);return f||l?this._zipTypesAndAnnotations(f,l):ra(n.length)}parameters(n){if(!Ua(n))return[];const r=Vt(n);let o=this._ownParameters(n,r);return!o&&r!==Object&&(o=this.parameters(r)),o||[]}_ownAnnotations(n,r){if(n.annotations&&n.annotations!==r.annotations){let o=n.annotations;return"function"==typeof o&&o.annotations&&(o=o.annotations),o}return n.decorators&&n.decorators!==r.decorators?vt(n.decorators):n.hasOwnProperty(wr)?n[wr]:null}annotations(n){if(!Ua(n))return[];const r=Vt(n),o=this._ownAnnotations(n,r)||[];return(r!==Object?this.annotations(r):[]).concat(o)}_ownPropMetadata(n,r){if(n.propMetadata&&n.propMetadata!==r.propMetadata){let o=n.propMetadata;return"function"==typeof o&&o.propMetadata&&(o=o.propMetadata),o}if(n.propDecorators&&n.propDecorators!==r.propDecorators){const o=n.propDecorators,u={};return Object.keys(o).forEach(l=>{u[l]=vt(o[l])}),u}return n.hasOwnProperty(Vi)?n[Vi]:null}propMetadata(n){if(!Ua(n))return{};const r=Vt(n),o={};if(r!==Object){const l=this.propMetadata(r);Object.keys(l).forEach(f=>{o[f]=l[f]})}const u=this._ownPropMetadata(n,r);return u&&Object.keys(u).forEach(l=>{const f=[];o.hasOwnProperty(l)&&f.push(...o[l]),f.push(...u[l]),o[l]=f}),o}ownPropMetadata(n){return Ua(n)&&this._ownPropMetadata(n,Vt(n))||{}}hasLifecycleHook(n,r){return n instanceof Ei&&r in n.prototype}guards(n){return{}}getter(n){return new Function("o","return o."+n+";")}setter(n){return new Function("o","v","return o."+n+" = v;")}method(n){return new Function("o","args",`if (!o.${n}) throw new Error('"${n}" is undefined');\n        return o.${n}.apply(o, args);`)}importUri(n){return"object"==typeof n&&n.filePath?n.filePath:`./${ee(n)}`}resourceUri(n){return`./${ee(n)}`}resolveIdentifier(n,r,o,u){return u}resolveEnum(n,r){return n[r]}}function vt(t){return t?t.map(n=>new(0,n.type.annotationCls)(...n.args?n.args:[])):[]}function Vt(t){const n=t.prototype?Object.getPrototypeOf(t.prototype):null;return(n?n.constructor:null)||Object}const Jn={},kr="__NG_DI_FLAG__",Ri="ngTempTokenPath",os=/\n/gm,Lo="__source",Fo=te({provide:String,useValue:te});let uo;function Go(t){const n=uo;return uo=t,n}function cc(t,n=Nt.Default){if(void 0===uo)throw new Error("inject() must be called from an injection context");return null===uo?Le(t,void 0,n):uo.get(t,n&Nt.Optional?null:void 0,n)}function Wi(t,n=Nt.Default){return(_r()||cc)(J(t),n)}function Ou(t){throw new Error("invalid")}const zf=Wi;function cu(t){const n=[];for(let r=0;r<t.length;r++){const o=J(t[r]);if(Array.isArray(o)){if(0===o.length)throw new Error("Arguments array must have arguments.");let u,l=Nt.Default;for(let f=0;f<o.length;f++){const m=o[f],T=ml(m);"number"==typeof T?-1===T?u=m.token:l|=T:u=m}n.push(Wi(u,l))}else n.push(Wi(o))}return n}function $a(t,n){return t[kr]=n,t.prototype[kr]=n,t}function ml(t){return t[kr]}function Mu(t,n,r,o){const u=t[Ri];throw n[Lo]&&u.unshift(n[Lo]),t.message=function(t,n,r,o=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let u=ee(n);if(Array.isArray(n))u=n.map(ee).join(" -> ");else if("object"==typeof n){let l=[];for(let f in n)if(n.hasOwnProperty(f)){let m=n[f];l.push(f+":"+("string"==typeof m?JSON.stringify(m):ee(m)))}u=`{${l.join(", ")}}`}return`${r}${o?"("+o+")":""}[${u}]: ${t.replace(os,"\n  ")}`}("\n"+t.message,u,r,o),t.ngTokenPath=u,t[Ri]=null,t}const ud=t=>({token:t}),lu=$a(zo("Inject",ud),-1),Vo=$a(zo("Optional"),8),sa=$a(zo("Self"),2),oa=$a(zo("SkipSelf"),4),du=$a(zo("Host"),1);let cd=null;function Na(){return cd=cd||new Qe}function Pc(t){return ld(Na().parameters(t))}function ld(t){return t.map(n=>function(t){const n={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(t)&&t.length>0)for(let r=0;r<t.length;r++){const o=t[r];if(void 0===o)continue;const u=Object.getPrototypeOf(o);if(o instanceof Vo||"Optional"===u.ngMetadataName)n.optional=!0;else if(o instanceof oa||"SkipSelf"===u.ngMetadataName)n.skipSelf=!0;else if(o instanceof sa||"Self"===u.ngMetadataName)n.self=!0;else if(o instanceof du||"Host"===u.ngMetadataName)n.host=!0;else if(o instanceof lu)n.token=o.token;else if(o instanceof Xt){if(void 0===o.attributeName)throw new Error("Attribute name must be defined.");n.attribute=o.attributeName}else n.token=o}else n.token=void 0===t||Array.isArray(t)&&0===t.length?null:t;return n}(n))}function ph(t){const n=[],r=new Map;function o(u){let l=r.get(u);if(!l){const f=t(u);r.set(u,l=f.then(hd))}return l}return hu.forEach((u,l)=>{const f=[];u.templateUrl&&f.push(o(u.templateUrl).then(Y=>{u.template=Y}));const m=u.styleUrls,T=u.styles||(u.styles=[]),R=u.styles.length;m&&m.forEach((Y,re)=>{T.push(""),f.push(o(Y).then(ye=>{T[R+re]=ye,m.splice(m.indexOf(Y),1),0==m.length&&(u.styleUrls=void 0)}))});const V=Promise.all(f).then(()=>function(t){hi.delete(t)}(l));n.push(V)}),vl(),Promise.all(n).then(()=>{})}let hu=new Map;const hi=new Set;function _l(t){return!!(t.templateUrl&&!t.hasOwnProperty("template")||t.styleUrls&&t.styleUrls.length)}function vl(){const t=hu;return hu=new Map,t}function hd(t){return"string"==typeof t?t:t.text()}let Ea,Il;function dc(){if(void 0===Ea&&(Ea=null,an.trustedTypes))try{Ea=an.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return Ea}function Lu(t){var n;return(null===(n=dc())||void 0===n?void 0:n.createHTML(t))||t}function Xi(){if(void 0===Il&&(Il=null,an.trustedTypes))try{Il=an.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return Il}function Ar(t){var n;return(null===(n=Xi())||void 0===n?void 0:n.createHTML(t))||t}function fd(t){var n;return(null===(n=Xi())||void 0===n?void 0:n.createScript(t))||t}function hc(t){var n;return(null===(n=Xi())||void 0===n?void 0:n.createScriptURL(t))||t}class fi{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class wl extends fi{getTypeName(){return"HTML"}}class Zs extends fi{getTypeName(){return"Style"}}class Ui extends fi{getTypeName(){return"Script"}}class mh extends fi{getTypeName(){return"URL"}}class fc extends fi{getTypeName(){return"ResourceURL"}}function Ha(t){return t instanceof fi?t.changingThisBreaksApplicationSecurity:t}function Qs(t,n){const r=bl(t);if(null!=r&&r!==n){if("ResourceURL"===r&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${r} (see https://g.co/ng/security#xss)`)}return r===n}function bl(t){return t instanceof fi&&t.getTypeName()||null}function pd(t){return new wl(t)}function qf(t){return new Zs(t)}function Zf(t){return new Ui(t)}function Xr(t){return new mh(t)}function Qf(t){return new fc(t)}function pc(t){const n=new Lc(t);return function(){try{return!!(new window.DOMParser).parseFromString(Lu(""),"text/html")}catch(t){return!1}}()?new kc(n):n}class kc{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const r=(new window.DOMParser).parseFromString(Lu(n),"text/html").body;return null===r?this.inertDocumentHelper.getInertBodyElement(n):(r.removeChild(r.firstChild),r)}catch(r){return null}}}class Lc{constructor(n){if(this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const r=this.inertDocument.createElement("html");this.inertDocument.appendChild(r);const o=this.inertDocument.createElement("body");r.appendChild(o)}}getInertBodyElement(n){const r=this.inertDocument.createElement("template");if("content"in r)return r.innerHTML=Lu(n),r;const o=this.inertDocument.createElement("body");return o.innerHTML=Lu(n),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(o),o}stripCustomNsAttrs(n){const r=n.attributes;for(let u=r.length-1;0<u;u--){const f=r.item(u).name;("xmlns:ns1"===f||0===f.indexOf("ns1:"))&&n.removeAttribute(f)}let o=n.firstChild;for(;o;)o.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(o),o=o.nextSibling}}const yh=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,_h=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Fu(t){return(t=String(t)).match(yh)||t.match(_h)?t:"unsafe:"+t}function md(t){return(t=String(t)).split(",").map(n=>Fu(n.trim())).join(", ")}function aa(t){const n={};for(const r of t.split(","))n[r]=!0;return n}function Fc(...t){const n={};for(const r of t)for(const o in r)r.hasOwnProperty(o)&&(n[o]=!0);return n}const Cl=aa("area,br,col,hr,img,wbr"),vh=aa("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Vu=aa("rp,rt"),Vc=Fc(Cl,Fc(vh,aa("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Fc(Vu,aa("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Fc(Vu,vh)),yd=aa("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),qo=aa("srcset"),Uc=Fc(yd,qo,aa("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),aa("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),jc=aa("script,style,template");class Dl{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let r=n.firstChild,o=!0;for(;r;)if(r.nodeType===Node.ELEMENT_NODE?o=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,o&&r.firstChild)r=r.firstChild;else for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let u=this.checkClobberedElement(r,r.nextSibling);if(u){r=u;break}r=this.checkClobberedElement(r,r.parentNode)}return this.buf.join("")}startElement(n){const r=n.nodeName.toLowerCase();if(!Vc.hasOwnProperty(r))return this.sanitizedSomething=!0,!jc.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);const o=n.attributes;for(let u=0;u<o.length;u++){const l=o.item(u),f=l.name,m=f.toLowerCase();if(!Uc.hasOwnProperty(m)){this.sanitizedSomething=!0;continue}let T=l.value;yd[m]&&(T=Fu(T)),qo[m]&&(T=md(T)),this.buf.push(" ",f,'="',Sl(T),'"')}return this.buf.push(">"),!0}endElement(n){const r=n.nodeName.toLowerCase();Vc.hasOwnProperty(r)&&!Cl.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(n){this.buf.push(Sl(n))}checkClobberedElement(n,r){if(r&&(n.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return r}}const wh=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,bh=/([^\#-~ |!])/g;function Sl(t){return t.replace(/&/g,"&amp;").replace(wh,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(bh,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Al;function gc(t,n){let r=null;try{Al=Al||pc(t);let o=n?String(n):"";r=Al.getInertBodyElement(o);let u=5,l=o;do{if(0===u)throw new Error("Failed to sanitize html because the input is unstable");u--,o=l,l=r.innerHTML,r=Al.getInertBodyElement(o)}while(o!==l);return Lu((new Dl).sanitizeChildren(Uu(r)||r))}finally{if(r){const o=Uu(r)||r;for(;o.firstChild;)o.removeChild(o.firstChild)}}}function Uu(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var zi=(()=>((zi=zi||{})[zi.NONE=0]="NONE",zi[zi.HTML=1]="HTML",zi[zi.STYLE=2]="STYLE",zi[zi.SCRIPT=3]="SCRIPT",zi[zi.URL=4]="URL",zi[zi.RESOURCE_URL=5]="RESOURCE_URL",zi))();function _d(t){const n=za();return n?Ar(n.sanitize(zi.HTML,t)||""):Qs(t,"HTML")?Ar(Ha(t)):gc(gs(),Pe(t))}function vd(t){const n=za();return n?n.sanitize(zi.STYLE,t)||"":Qs(t,"Style")?Ha(t):Pe(t)}function Ed(t){const n=za();return n?n.sanitize(zi.URL,t)||"":Qs(t,"URL")?Ha(t):Fu(Pe(t))}function Bc(t){const n=za();if(n)return hc(n.sanitize(zi.RESOURCE_URL,t)||"");if(Qs(t,"ResourceURL"))return hc(Ha(t));throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)")}function Rl(t){const n=za();if(n)return fd(n.sanitize(zi.SCRIPT,t)||"");if(Qs(t,"Script"))return fd(Ha(t));throw new Error("unsafe value used in a script context")}function Th(t){return Lu(t[0])}function ju(t){return function(t){var n;return(null===(n=dc())||void 0===n?void 0:n.createScriptURL(t))||t}(t[0])}function Wa(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?Bc:Ed}function xl(t,n,r){return Wa(n,r)(t)}function za(){const t=lt();return t&&t[12]}function Lr(t){let n=Js(t);if(n){if(Array.isArray(n)){const r=n;let o,u,l;if(function(t){return t&&t.constructor&&t.constructor.\u0275cmp}(t)){if(o=Gi(r,t),-1==o)throw new Error("The provided component was not found in the application");u=t}else if(function(t){return t&&t.constructor&&t.constructor.\u0275dir}(t)){if(o=function(t,n){let r=t[1].firstChild;for(;r;){const u=r.directiveEnd;for(let l=r.directiveStart;l<u;l++)if(t[l]===n)return r.index;r=Dh(r)}return-1}(r,t),-1==o)throw new Error("The provided directive was not found in the application");l=wo(o,r,!1)}else if(o=Ch(r,t),-1==o)return null;const f=fe(r[o]),m=Js(f),T=m&&!Array.isArray(m)?m:Id(r,o,f);if(u&&void 0===T.component&&(T.component=u,co(T.component,T)),l&&void 0===T.directives){T.directives=l;for(let R=0;R<l.length;R++)co(l[R],T)}co(T.native,T),n=T}}else{const r=t;let o=r;for(;o=o.parentNode;){const u=Js(o);if(u){let l;if(l=Array.isArray(u)?u:u.lView,!l)return null;const f=Ch(l,r);if(f>=0){const m=fe(l[f]),T=Id(l,f,m);co(m,T),n=T;break}}}}return n||null}function Id(t,n,r){return{lView:t,nodeIndex:n,native:r,component:void 0,directives:void 0,localRefs:void 0}}function wd(t){let r,n=Js(t);if(Array.isArray(n)){const o=Gi(n,t);r=sr(o,n);const u=Id(n,o,r[0]);u.component=t,co(t,u),co(u.native,u)}else r=sr(n.nodeIndex,n.lView);return r}const ua="__ngContext__";function co(t,n){t[ua]=n}function Js(t){return t[ua]||null}function Pa(t){const n=Js(t);return n?Array.isArray(n)?n:n.lView:null}function Ch(t,n){const r=t[1];for(let o=20;o<r.bindingStartIndex;o++)if(fe(t[o])===n)return o;return-1}function Dh(t){if(t.child)return t.child;if(t.next)return t.next;for(;t.parent&&!t.parent.next;)t=t.parent;return t.parent&&t.parent.next}function Gi(t,n){const r=t[1].components;if(r)for(let o=0;o<r.length;o++){const u=r[o];if(sr(u,t)[8]===n)return u}else if(sr(20,t)[8]===n)return 20;return-1}function wo(t,n,r){const o=n[1].data[t];let u=o.directiveStart;return 0==u?ue:(!r&&2&o.flags&&u++,n.slice(u,o.directiveEnd))}const ca="ngDebugContext",qa="ngOriginalError",Bu="ngErrorLogger";function Ni(t){return t[ca]}function Pi(t){return t[qa]}function Sh(t,...n){t.error(...n)}class fu{constructor(){this._console=console}handleError(n){const r=this._findOriginalError(n),o=this._findContext(n),u=(t=n)&&t[Bu]||Sh;var t;u(this._console,"ERROR",n),r&&u(this._console,"ORIGINAL ERROR",r),o&&u(this._console,"ERROR CONTEXT",o)}_findContext(n){return n?Ni(n)||this._findContext(Pi(n)):null}_findOriginalError(n){let r=n&&Pi(n);for(;r&&Pi(r);)r=Pi(r);return r||null}}const $c={name:"custom-elements"},Td={name:"no-errors-schema"},dt=/^>|^->|<!--|-->|--!>|<!-$/g,Nl=/(<|>)/;function Hc(t){return t.replace(dt,n=>n.replace(Nl,"\u200b$1\u200b"))}function pu(t){return`ng-reflect-${t=function(t){return t.replace(Jf,(...n)=>"-"+n[1].toLowerCase())}(t.replace(/[$@]/g,"_"))}`}const Jf=/([A-Z])/g;function ho(t){try{return null!=t?t.toString().slice(0,30):t}catch(n){return"[ERROR] Exception while trying to serialize the value"}}const Kc=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(an))();function Cs(t){return t.ownerDocument.defaultView}function la(t){return t.ownerDocument}function mu(t){return t.ownerDocument.body}function Fs(t){return t instanceof Function?t():t}var da=(()=>((da=da||{})[da.Important=1]="Important",da[da.DashCase=2]="DashCase",da))();let Qa;function g(t,n){return Qa(t,n)}function v(t){const n=t[3];return vr(n)?n[3]:n}function $(t){return function(t){let n=lr(t)?t:Pa(t);for(;n&&!(512&n[2]);)n=v(n);return n}(t)[8]}function _e(t){return Pt(t[13])}function Ye(t){return Pt(t[4])}function Pt(t){for(;null!==t&&!vr(t);)t=t[4];return t}function nn(t,n,r,o,u){if(null!=o){let l,f=!1;vr(o)?l=o:lr(o)&&(f=!0,o=o[0]);const m=fe(o);0===t&&null!==r?null==u?Zo(n,r,m):mc(n,r,m,u||null,!0):1===t&&null!==r?mc(n,r,m,u||null,!0):2===t?Nh(n,m,f):3===t&&n.destroyNode(m),null!=l&&function(t,n,r,o,u){const l=r[7];l!==fe(r)&&nn(n,t,o,l,u);for(let m=10;m<r.length;m++){const T=r[m];Od(T[1],T,t,n,o,l)}}(n,t,l,r,u)}}function on(t,n){return N(t)?t.createText(n):t.createTextNode(n)}function gr(t,n,r){N(t)?t.setValue(n,r):n.textContent=r}function Vs(t,n){return t.createComment(Hc(n))}function wa(t,n,r){return N(t)?t.createElement(n,r):null===r?t.createElement(n):t.createElementNS(r,n)}function kl(t,n){const r=t[9],o=r.indexOf(n),u=n[3];1024&n[2]&&(n[2]&=-1025,_s(u,-1)),r.splice(o,1)}function zc(t,n){if(t.length<=10)return;const r=10+n,o=t[r];if(o){const u=o[17];null!==u&&u!==t&&kl(u,o),n>0&&(t[r-1][4]=o[4]);const l=Mo(t,10+n);!function(t,n){Od(t,n,n[11],2,null,null),n[0]=null,n[6]=null}(o[1],o);const f=l[19];null!==f&&f.detachView(l[1]),o[3]=null,o[4]=null,o[2]&=-129}return o}function Gc(t,n){if(!(256&n[2])){const r=n[11];N(r)&&r.destroyNode&&Od(t,n,r,3,null,null),function(t){let n=t[13];if(!n)return Rd(t[1],t);for(;n;){let r=null;if(lr(n))r=n[13];else{const o=n[10];o&&(r=o)}if(!r){for(;n&&!n[4]&&n!==t;)lr(n)&&Rd(n[1],n),n=n[3];null===n&&(n=t),lr(n)&&Rd(n[1],n),r=n&&n[4]}n=r}}(n)}}function Rd(t,n){if(!(256&n[2])){n[2]&=-129,n[2]|=256,function(t,n){let r;if(null!=t&&null!=(r=t.destroyHooks))for(let o=0;o<r.length;o+=2){const u=n[r[o]];if(!(u instanceof ds)){const l=r[o+1];if(Array.isArray(l))for(let f=0;f<l.length;f+=2){const m=u[l[f]],T=l[f+1];ri(4,m,T);try{T.call(m)}finally{ri(5,m,T)}}else{ri(4,u,l);try{l.call(u)}finally{ri(5,u,l)}}}}}(t,n),function(t,n){const r=t.cleanup,o=n[7];let u=-1;if(null!==r)for(let l=0;l<r.length-1;l+=2)if("string"==typeof r[l]){const f=r[l+1],m="function"==typeof f?f(n):fe(n[f]),T=o[u=r[l+2]],R=r[l+3];"boolean"==typeof R?m.removeEventListener(r[l],T,R):R>=0?o[u=R]():o[u=-R].unsubscribe(),l+=2}else{const f=o[u=r[l+1]];r[l].call(f)}if(null!==o){for(let l=u+1;l<o.length;l++)o[l]();n[7]=null}}(t,n),1===n[1].type&&N(n[11])&&n[11].destroy();const r=n[17];if(null!==r&&vr(n[3])){r!==n[3]&&kl(r,n);const o=n[19];null!==o&&o.detachView(t)}}}function xd(t,n,r){return Nd(t,n.parent,r)}function Nd(t,n,r){let o=n;for(;null!==o&&40&o.type;)o=(n=o).parent;if(null===o)return r[0];if(2&o.flags){const u=t.data[o.directiveStart].encapsulation;if(u===at.None||u===at.Emulated)return null}return Ln(o,r)}function mc(t,n,r,o,u){N(t)?t.insertBefore(n,r,o,u):n.insertBefore(r,o,u)}function Zo(t,n,r){N(t)?t.appendChild(n,r):n.appendChild(r)}function ep(t,n,r,o,u){null!==o?mc(t,n,r,o,u):Zo(t,n,r)}function Vl(t,n){return N(t)?t.parentNode(n):n.parentNode}function $u(t,n,r){return tp(t,n,r)}function qc(t,n,r){return 40&t.type?Ln(t,r):null}let Hu,tp=qc;function im(t,n){tp=t,Hu=n}function Ku(t,n,r,o){const u=xd(t,o,n),l=n[11],m=$u(o.parent||n[6],o,n);if(null!=u)if(Array.isArray(r))for(let T=0;T<r.length;T++)ep(l,u,r[T],m,!1);else ep(l,u,r,m,!1);void 0!==Hu&&Hu(l,o,n,r,u)}function Pd(t,n){if(null!==n){const r=n.type;if(3&r)return Ln(n,t);if(4&r)return zu(-1,t[n.index]);if(8&r){const o=n.child;if(null!==o)return Pd(t,o);{const u=t[n.index];return vr(u)?zu(-1,u):fe(u)}}if(32&r)return g(n,t)()||fe(t[n.index]);{const o=Wu(t,n);return null!==o?Array.isArray(o)?o[0]:Pd(v(t[16]),o):Pd(t,n.next)}}return null}function Wu(t,n){return null!==n?t[16][6].projection[n.projection]:null}function zu(t,n){const r=10+t+1;if(r<n.length){const o=n[r],u=o[1].firstChild;if(null!==u)return Pd(o,u)}return n[7]}function Nh(t,n,r){const o=Vl(t,n);o&&function(t,n,r,o){N(t)?t.removeChild(n,r,o):n.removeChild(r)}(t,o,n,r)}function Ph(t,n,r,o,u,l,f){for(;null!=r;){const m=o[r.index],T=r.type;if(f&&0===n&&(m&&co(fe(m),o),r.flags|=4),64!=(64&r.flags))if(8&T)Ph(t,n,r.child,o,u,l,!1),nn(n,t,u,m,l);else if(32&T){const R=g(r,o);let V;for(;V=R();)nn(n,t,u,V,l);nn(n,t,u,m,l)}else 16&T?sm(t,n,o,r,u,l):nn(n,t,u,m,l);r=f?r.projectionNext:r.next}}function Od(t,n,r,o,u,l){Ph(r,o,t.firstChild,n,u,l,!1)}function sm(t,n,r,o,u,l){const f=r[16],T=f[6].projection[o.projection];if(Array.isArray(T))for(let R=0;R<T.length;R++)nn(n,t,u,T[R],l);else Ph(t,n,T,f[3],u,l,!0)}function Zc(t,n,r){N(t)?t.setAttribute(n,"style",r):n.style.cssText=r}function Mh(t,n,r){N(t)?""===r?t.removeAttribute(n,"class"):t.setAttribute(n,"class",r):n.className=r}function om(t,n,r){let o=t.length;for(;;){const u=t.indexOf(n,r);if(-1===u)return u;if(0===u||t.charCodeAt(u-1)<=32){const l=n.length;if(u+l===o||t.charCodeAt(u+l)<=32)return u}r=u+1}}const np="ng-template";function yc(t,n,r){let o=0;for(;o<t.length;){let u=t[o++];if(r&&"class"===u){if(u=t[o],-1!==om(u.toLowerCase(),n,0))return!0}else if(1===u){for(;o<t.length&&"string"==typeof(u=t[o++]);)if(u.toLowerCase()===n)return!0;return!1}}return!1}function Md(t){return 4===t.type&&t.value!==np}function o_(t,n,r){return n===(4!==t.type||r?t.value:np)}function am(t,n,r){let o=4;const u=t.attrs||[],l=function(t){for(let n=0;n<t.length;n++)if(Jt(t[n]))return n;return t.length}(u);let f=!1;for(let m=0;m<n.length;m++){const T=n[m];if("number"!=typeof T){if(!f)if(4&o){if(o=2|1&o,""!==T&&!o_(t,T,r)||""===T&&1===n.length){if(ba(o))return!1;f=!0}}else{const R=8&o?T:n[++m];if(8&o&&null!==t.attrs){if(!yc(t.attrs,R,r)){if(ba(o))return!1;f=!0}continue}const Y=rp(8&o?"class":T,u,Md(t),r);if(-1===Y){if(ba(o))return!1;f=!0;continue}if(""!==R){let re;re=Y>l?"":u[Y+1].toLowerCase();const ye=8&o?re:null;if(ye&&-1!==om(ye,R,0)||2&o&&R!==re){if(ba(o))return!1;f=!0}}}}else{if(!f&&!ba(o)&&!ba(T))return!1;if(f&&ba(T))continue;f=!1,o=T|1&o}}return ba(o)||f}function ba(t){return 0==(1&t)}function rp(t,n,r,o){if(null===n)return-1;let u=0;if(o||!r){let l=!1;for(;u<n.length;){const f=n[u];if(f===t)return u;if(3===f||6===f)l=!0;else{if(1===f||2===f){let m=n[++u];for(;"string"==typeof m;)m=n[++u];continue}if(4===f)break;if(0===f){u+=4;continue}}u+=l?1:2}return-1}return function(t,n){let r=t.indexOf(4);if(r>-1)for(r++;r<t.length;){const o=t[r];if("number"==typeof o)return-1;if(o===n)return r;r++}return-1}(n,t)}function Ul(t,n,r=!1){for(let o=0;o<n.length;o++)if(am(t,n[o],r))return!0;return!1}function u_(t,n){e:for(let r=0;r<n.length;r++){const o=n[r];if(t.length===o.length){for(let u=0;u<t.length;u++)if(t[u]!==o[u])continue e;return!0}}return!1}function Lh(t,n){return t?":not("+n.trim()+")":n}function um(t){let n=t[0],r=1,o=2,u="",l=!1;for(;r<t.length;){let f=t[r];if("string"==typeof f)if(2&o){const m=t[++r];u+="["+f+(m.length>0?'="'+m+'"':"")+"]"}else 8&o?u+="."+f:4&o&&(u+=" "+f);else""!==u&&!ba(f)&&(n+=Lh(l,u),u=""),o=f,l=l||!ba(o);r++}return""!==u&&(n+=Lh(l,u)),n}const tr={};function Fh(t){lm($n(),lt(),Zr()+t,U())}function lm(t,n,r,o){if(!o)if(3==(3&n[2])){const l=t.preOrderCheckHooks;null!==l&&Or(n,l,r)}else{const l=t.preOrderHooks;null!==l&&Hr(n,l,0,r)}Eo(r)}function kd(t,n){return t<<17|n<<2}function Ya(t){return t>>17&32767}function _c(t){return 2|t}function ha(t){return(131068&t)>>2}function Ld(t,n){return-131069&t|n<<2}function Vh(t){return 1|t}const hp=(()=>Promise.resolve(null))();function Im(t,n){const r=t.contentQueries;if(null!==r)for(let o=0;o<r.length;o+=2){const u=r[o],l=r[o+1];if(-1!==l){const f=t.data[l];$r(u),f.contentQueries(2,n[l],l)}}}function _u(t,n,r,o,u,l,f,m,T,R){const V=n.blueprint.slice();return V[0]=u,V[2]=140|o,ys(V),V[3]=V[15]=t,V[8]=r,V[10]=f||t&&t[10],V[11]=m||t&&t[11],V[12]=T||t&&t[12]||null,V[9]=R||t&&t[9]||null,V[6]=l,V[16]=2==n.type?t[16]:V,V}function Ec(t,n,r,o,u){let l=t.data[n];if(null===l)l=$l(t,n,r,o,u),vn.lFrame.inI18n&&(l.flags|=64);else if(64&l.type){l.type=r,l.value=o,l.attrs=u;const f=Oo();l.injectorIndex=null===f?-1:f.injectorIndex}return vs(l,!0),l}function $l(t,n,r,o,u){const l=Po(),f=B(),T=t.data[n]=function(t,n,r,o,u,l){return{type:r,index:o,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:u,attrs:l,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,f?l:l&&l.parent,r,n,o,u);return null===t.firstChild&&(t.firstChild=T),null!==l&&(f?null==l.child&&null!==T.parent&&(l.child=T):null===l.next&&(l.next=T)),T}function vu(t,n,r,o){if(0===r)return-1;const u=n.length;for(let l=0;l<r;l++)n.push(o),t.blueprint.push(o),t.data.push(null);return u}function Qc(t,n,r){ls(n);try{const o=t.viewQuery;null!==o&&Ap(1,o,r);const u=t.template;null!==u&&Hh(t,n,u,1,r),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Im(t,n),t.staticViewQueries&&Ap(2,t.viewQuery,r);const l=t.components;null!==l&&function(t,n){for(let r=0;r<n.length;r++)Cp(t,n[r])}(n,l)}catch(o){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),o}finally{n[2]&=-5,ii()}}function Yc(t,n,r,o){const u=n[2];if(256==(256&u))return;ls(n);const l=U();try{ys(n),Ve(t.bindingStartIndex),null!==r&&Hh(t,n,r,2,o);const f=3==(3&u);if(!l)if(f){const R=t.preOrderCheckHooks;null!==R&&Or(n,R,null)}else{const R=t.preOrderHooks;null!==R&&Hr(n,R,0,null),Qr(n,0)}if(function(t){for(let n=_e(t);null!==n;n=Ye(n)){if(!n[2])continue;const r=n[9];for(let o=0;o<r.length;o++){const u=r[o],l=u[3];0==(1024&u[2])&&_s(l,1),u[2]|=1024}}}(n),function(t){for(let n=_e(t);null!==n;n=Ye(n))for(let r=10;r<n.length;r++){const o=n[r],u=o[1];ei(o)&&Yc(u,o,u.template,o[8])}}(n),null!==t.contentQueries&&Im(t,n),!l)if(f){const R=t.contentCheckHooks;null!==R&&Or(n,R)}else{const R=t.contentHooks;null!==R&&Hr(n,R,1),Qr(n,1)}!function(t,n){const r=t.hostBindingOpCodes;if(null!==r)try{for(let o=0;o<r.length;o++){const u=r[o];if(u<0)Eo(~u);else{const l=u,f=r[++o],m=r[++o];Gn(f,l),m(2,n[l])}}}finally{Eo(-1)}}(t,n);const m=t.components;null!==m&&function(t,n){for(let r=0;r<n.length;r++)C_(t,n[r])}(n,m);const T=t.viewQuery;if(null!==T&&Ap(2,T,o),!l)if(f){const R=t.viewCheckHooks;null!==R&&Or(n,R)}else{const R=t.viewHooks;null!==R&&Hr(n,R,2),Qr(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),l||(n[2]&=-73),1024&n[2]&&(n[2]&=-1025,_s(n[3],-1))}finally{ii()}}function pp(t,n,r,o){const u=n[10],l=!U(),f=Er(n);try{l&&!f&&u.begin&&u.begin(),f&&Qc(t,n,o),Yc(t,n,r,o)}finally{l&&!f&&u.end&&u.end()}}function Hh(t,n,r,o,u){const l=Zr(),f=2&o;try{Eo(-1),f&&n.length>20&&lm(t,n,20,U()),ri(f?2:0,u),r(o,u)}finally{Eo(l),ri(f?3:1,u)}}function qu(t,n,r){if($s(n)){const u=n.directiveEnd;for(let l=n.directiveStart;l<u;l++){const f=t.data[l];f.contentQueries&&f.contentQueries(1,r[l],l)}}}function Kh(t,n,r){!io()||(function(t,n,r,o){const u=r.directiveStart,l=r.directiveEnd;t.firstCreatePass||ru(r,n),co(o,n);const f=r.initialInputs;for(let m=u;m<l;m++){const T=t.data[m],R=oi(T);R&&Pm(n,r,T);const V=Et(n,t,m,r);co(V,n),null!==f&&b_(0,m-u,V,T,0,f),R&&(sr(r.index,n)[8]=V)}}(t,n,r,Ln(r,n)),128==(128&r.flags)&&function(t,n,r){const o=r.directiveStart,u=r.directiveEnd,f=r.index,m=vn.lFrame.currentDirectiveIndex;try{Eo(f);for(let T=o;T<u;T++){const R=t.data[T],V=n[T];Rn(T),(null!==R.hostBindings||0!==R.hostVars||null!==R.hostAttrs)&&qh(R,V)}}finally{Eo(-1),Rn(m)}}(t,n,r))}function gp(t,n,r=Ln){const o=n.localNames;if(null!==o){let u=n.index+1;for(let l=0;l<o.length;l+=2){const f=o[l+1],m=-1===f?r(n,t):t[f];t[u++]=m}}}function Wh(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=zh(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):n}function zh(t,n,r,o,u,l,f,m,T,R){const V=20+o,Y=V+u,re=function(t,n){const r=[];for(let o=0;o<n;o++)r.push(o<t?null:tr);return r}(V,Y),ye="function"==typeof R?R():R;return re[1]={type:t,blueprint:re,template:r,queries:null,viewQuery:m,declTNode:n,data:re.slice().fill(null,V),bindingStartIndex:V,expandoStartIndex:Y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof l?l():l,pipeRegistry:"function"==typeof f?f():f,firstChild:null,schemas:T,consts:ye,incompleteFirstPass:!1}}function Bd(t,n,r){if(N(t))return t.selectRootElement(n,r===at.ShadowDom);let o="string"==typeof n?t.querySelector(n):n;return o.textContent="",o}function Gh(t,n,r,o){const u=Jh(n);null===r?u.push(o):(u.push(r),t.firstCreatePass&&Xh(t).push(o,u.length-1))}function Jc(t,n,r){for(let o in t)if(t.hasOwnProperty(o)){const u=t[o];(r=null===r?{}:r).hasOwnProperty(o)?r[o].push(n,u):r[o]=[n,u]}return r}function Ta(t,n,r,o,u,l,f,m){const T=Ln(n,r);let V,R=n.inputs;!m&&null!=R&&(V=R[o])?(Lm(t,r,V,o,u),Bi(n)&&function(t,n){const r=sr(n,t);16&r[2]||(r[2]|=64)}(r,n.index)):3&n.type&&(o=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(o),u=null!=f?f(u,n.value||"",o):u,N(l)?l.setProperty(T,o,u):Fn(o)||(T.setProperty?T.setProperty(o,u):T[o]=u))}function $d(t,n,r,o){let u=!1;if(io()){const l=function(t,n,r){const o=t.directiveRegistry;let u=null;if(o)for(let l=0;l<o.length;l++){const f=o[l];Ul(r,f.selectors,!1)&&(u||(u=[]),C(ru(r,n),t,f.type),oi(f)?(Xc(t,r),u.unshift(f)):u.push(f))}return u}(t,n,r),f=null===o?null:{"":-1};if(null!==l){u=!0,el(r,t.data.length,l.length);for(let V=0;V<l.length;V++){const Y=l[V];Y.providersResolver&&Y.providersResolver(Y)}let m=!1,T=!1,R=vu(t,n,l.length,null);for(let V=0;V<l.length;V++){const Y=l[V];r.mergedAttrs=nu(r.mergedAttrs,Y.hostAttrs),tl(t,r,n,R,Y),Ip(R,Y,f),null!==Y.contentQueries&&(r.flags|=8),(null!==Y.hostBindings||null!==Y.hostAttrs||0!==Y.hostVars)&&(r.flags|=128);const re=Y.type.prototype;!m&&(re.ngOnChanges||re.ngOnInit||re.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(r.index),m=!0),!T&&(re.ngOnChanges||re.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(r.index),T=!0),R++}!function(t,n){const o=n.directiveEnd,u=t.data,l=n.attrs,f=[];let m=null,T=null;for(let R=n.directiveStart;R<o;R++){const V=u[R],Y=V.inputs,re=null===l||Md(n)?null:bp(Y,l);f.push(re),m=Jc(Y,R,m),T=Jc(V.outputs,R,T)}null!==m&&(m.hasOwnProperty("class")&&(n.flags|=16),m.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=f,n.inputs=m,n.outputs=T}(t,r)}f&&function(t,n,r){if(n){const o=t.localNames=[];for(let u=0;u<n.length;u+=2){const l=r[n[u+1]];if(null==l)throw new st("301",`Export of name '${n[u+1]}' not found!`);o.push(n[u],l)}}}(r,o,f)}return r.mergedAttrs=nu(r.mergedAttrs,r.attrs),u}function xm(t,n,r,o,u,l){const f=l.hostBindings;if(f){let m=t.hostBindingOpCodes;null===m&&(m=t.hostBindingOpCodes=[]);const T=~n.index;(function(t){let n=t.length;for(;n>0;){const r=t[--n];if("number"==typeof r&&r<0)return r}return 0})(m)!=T&&m.push(T),m.push(o,u,f)}}function qh(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Xc(t,n){n.flags|=2,(t.components||(t.components=[])).push(n.index)}function Ip(t,n,r){if(r){if(n.exportAs)for(let o=0;o<n.exportAs.length;o++)r[n.exportAs[o]]=t;oi(n)&&(r[""]=t)}}function el(t,n,r){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+r,t.providerIndexes=n}function tl(t,n,r,o,u){t.data[o]=u;const l=u.factory||(u.factory=ai(u.type)),f=new ds(l,oi(u),null);t.blueprint[o]=f,r[o]=f,xm(t,n,0,o,vu(t,r,u.hostVars,tr),u)}function Pm(t,n,r){const o=Ln(n,t),u=Wh(r),l=t[10],f=Kd(t,_u(t,u,null,r.onPush?64:16,o,n,l,l.createRenderer(o,r),null,null));t[n.index]=f}function Qo(t,n,r,o,u,l){const f=Ln(t,n);wp(n[11],f,l,t.value,r,o,u)}function wp(t,n,r,o,u,l,f){if(null==l)N(t)?t.removeAttribute(n,u,r):n.removeAttribute(u);else{const m=null==f?Pe(l):f(l,o||"",u);N(t)?t.setAttribute(n,u,m,r):r?n.setAttributeNS(r,u,m):n.setAttribute(u,m)}}function b_(t,n,r,o,u,l){const f=l[n];if(null!==f){const m=o.setInput;for(let T=0;T<f.length;){const R=f[T++],V=f[T++],Y=f[T++];null!==m?o.setInput(r,Y,R,V):r[V]=Y}}}function bp(t,n){let r=null,o=0;for(;o<n.length;){const u=n[o];if(0!==u)if(5!==u){if("number"==typeof u)break;t.hasOwnProperty(u)&&(null===r&&(r=[]),r.push(u,t[u],n[o+1])),o+=2}else o+=2;else o+=4}return r}function Zh(t,n,r,o){return new Array(t,!0,!1,n,null,0,o,r,null,null)}function C_(t,n){const r=sr(n,t);if(ei(r)){const o=r[1];80&r[2]?Yc(o,r,o.template,r[8]):r[5]>0&&Hd(r)}}function Hd(t){for(let o=_e(t);null!==o;o=Ye(o))for(let u=10;u<o.length;u++){const l=o[u];if(1024&l[2]){const f=l[1];Yc(f,l,f.template,l[8])}else l[5]>0&&Hd(l)}const r=t[1].components;if(null!==r)for(let o=0;o<r.length;o++){const u=sr(r[o],t);ei(u)&&u[5]>0&&Hd(u)}}function Cp(t,n){const r=sr(n,t),o=r[1];(function(t,n){for(let r=n.length;r<t.blueprint.length;r++)n.push(t.blueprint[r])})(o,r),Qc(o,r,r[8])}function Kd(t,n){return t[13]?t[14][4]=n:t[13]=n,t[14]=n,n}function Dp(t){for(;t;){t[2]|=64;const n=v(t);if(Qi(t)&&!n)return t;t=n}return null}function Qh(t){for(let n=0;n<t.components.length;n++){const r=t.components[n],o=Pa(r),u=o[1];pp(u,o,u.template,r)}}function Yh(t,n,r){const o=n[10];o.begin&&o.begin();try{Yc(t,n,t.template,r)}catch(u){throw ef(n,u),u}finally{o.end&&o.end()}}function Sp(t){Qh(t[8])}function Ap(t,n,r){$r(0),n(t,r)}const Rp=hp;function Jh(t){return t[7]||(t[7]=[])}function Xh(t){return t.cleanup||(t.cleanup=[])}function km(t,n,r){return(null===t||oi(t))&&(r=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(r[n.index])),r[11]}function ef(t,n){const r=t[9],o=r?r.get(fu,null):null;o&&o.handleError(n)}function Lm(t,n,r,o,u){for(let l=0;l<r.length;){const f=r[l++],m=r[l++],T=n[f],R=t.data[f];null!==R.setInput?R.setInput(T,u,o,m):T[m]=u}}function Ja(t,n,r){const o=tn(n,t);gr(t[11],o,r)}function Wd(t,n,r){let o=r?t.styles:null,u=r?t.classes:null,l=0;if(null!==n)for(let f=0;f<n.length;f++){const m=n[f];"number"==typeof m?l=m:1==l?u=Te(u,m):2==l&&(o=Te(o,m+": "+n[++f]+";"))}r?t.styles=o:t.stylesWithoutHost=o,r?t.classes=u:t.classesWithoutHost=u}function tf(t){const n=wd(t);Yh(n[1],n,t)}function xp(t){!function(t,n){if(0===t.flags&&t.clean==hp){let o;t.flags|=1,t.clean=new Promise(u=>o=u),t.scheduler(()=>{if(1&t.flags&&(t.flags&=-2,Qh(t)),2&t.flags){t.flags&=-3;const u=t.playerHandler;u&&u.flushPlayers()}t.clean=hp,o(null)})}}(Dp(wd(t))[8])}const Eu=new vi("INJECTOR",-1);class Np{get(n,r=Jn){if(r===Jn){const o=new Error(`NullInjectorError: No provider for ${ee(n)}!`);throw o.name="NullInjectorError",o}return r}}const nl=new vi("Set Injector scope."),zd={},Pp={};let Op;function nf(){return void 0===Op&&(Op=new Np),Op}function rf(t,n=null,r=null,o){const u=sf(t,n,r,o);return u._resolveInjectorDefTypes(),u}function sf(t,n=null,r=null,o){return new Hl(t,r,n||nf(),o)}class Hl{constructor(n,r,o,u=null){this.parent=o,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const l=[];r&&ao(r,m=>this.processProvider(m,n,r)),ao([n],m=>this.processInjectorType(m,[],l)),this.records.set(Eu,fa(void 0,this));const f=this.records.get(nl);this.scope=null!=f?f.value:null,this.source=u||("object"==typeof n?null:ee(n))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(n=>n.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(n,r=Jn,o=Nt.Default){this.assertNotDestroyed();const u=Go(this),l=Vn(void 0);try{if(!(o&Nt.SkipSelf)){let m=this.records.get(n);if(void 0===m){const T=("function"==typeof(t=n)||"object"==typeof t&&t instanceof vi)&&Dn(n);m=T&&this.injectableDefInScope(T)?fa(of(n),zd):null,this.records.set(n,m)}if(null!=m)return this.hydrate(n,m)}return(o&Nt.Self?nf():this.parent).get(n,r=o&Nt.Optional&&r===Jn?null:r)}catch(f){if("NullInjectorError"===f.name){if((f[Ri]=f[Ri]||[]).unshift(ee(n)),u)throw f;return Mu(f,n,"R3InjectorError",this.source)}throw f}finally{Vn(l),Go(u)}var t}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(n=>this.get(n))}toString(){const n=[];return this.records.forEach((o,u)=>n.push(ee(u))),`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(n,r,o){if(!(n=J(n)))return!1;let u=br(n);const l=null==u&&n.ngModule||void 0,f=void 0===l?n:l,m=-1!==o.indexOf(f);if(void 0!==l&&(u=br(l)),null==u)return!1;if(null!=u.imports&&!m){let V;o.push(f);try{ao(u.imports,Y=>{this.processInjectorType(Y,r,o)&&(void 0===V&&(V=[]),V.push(Y))})}finally{}if(void 0!==V)for(let Y=0;Y<V.length;Y++){const{ngModule:re,providers:ye}=V[Y];ao(ye,xe=>this.processProvider(xe,re,ye||ue))}}this.injectorDefTypes.add(f);const T=ai(f)||(()=>new f);this.records.set(f,fa(T,zd));const R=u.providers;if(null!=R&&!m){const V=n;ao(R,Y=>this.processProvider(Y,V,R))}return void 0!==l&&void 0!==n.providers}processProvider(n,r,o){let u=Kl(n=J(n))?n:J(n&&n.provide);const l=uf(t=n)?fa(void 0,t.useValue):fa(af(t),zd);var t;if(Kl(n)||!0!==n.multi)this.records.get(u);else{let f=this.records.get(u);f||(f=fa(void 0,zd,!0),f.factory=()=>cu(f.multi),this.records.set(u,f)),u=n,f.multi.push(n)}this.records.set(u,l)}hydrate(n,r){return r.value===zd&&(r.value=Pp,r.value=r.factory()),"object"==typeof r.value&&r.value&&null!==(t=r.value)&&"object"==typeof t&&"function"==typeof t.ngOnDestroy&&this.onDestroy.add(r.value),r.value;var t}injectableDefInScope(n){if(!n.providedIn)return!1;const r=J(n.providedIn);return"string"==typeof r?"any"===r||r===this.scope:this.injectorDefTypes.has(r)}}function of(t){const n=Dn(t),r=null!==n?n.factory:ai(t);if(null!==r)return r;if(t instanceof vi)throw new Error(`Token ${ee(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const n=t.length;if(n>0){const o=ra(n,"?");throw new Error(`Can't resolve all parameters for ${ee(t)}: (${o.join(", ")}).`)}const r=function(t){const n=t&&(t[cr]||t[Qn]);if(n){const r=function(t){if(t.hasOwnProperty("name"))return t.name;const n=(""+t).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${r}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${r}" class.`),n}return null}(t);return null!==r?()=>r.factory(t):()=>new t}(t);throw new Error("unreachable")}function af(t,n,r){let o;if(Kl(t)){const u=J(t);return ai(u)||of(u)}if(uf(t))o=()=>J(t.useValue);else if(function(t){return!(!t||!t.useFactory)}(t))o=()=>t.useFactory(...cu(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))o=()=>Wi(J(t.useExisting));else{const u=J(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return ai(u)||of(u);o=()=>new u(...cu(t.deps))}return o}function fa(t,n,r=!1){return{factory:t,value:n,multi:r?[]:void 0}}function uf(t){return null!==t&&"object"==typeof t&&Fo in t}function Kl(t){return"function"==typeof t}function cf(t,n,r){return rf({name:r},n,t,r)}const Fm=cf;class Kr{static create(n,r){return Array.isArray(n)?Fm(n,r,""):Fm(n.providers,n.parent,n.name||"")}}function ff(t){mf(t);const n=Lr(t);return null===n?null:(void 0===n.component&&(n.component=function(t,n){const r=n[1].data[t];return 2&r.flags?n[r.directiveStart]:null}(n.nodeIndex,n.lView)),n.component)}function Gd(t){mf(t);const n=Lr(t);return null===n?null:n.lView[8]}function $m(t){const n=Lr(t);if(null===n)return null;let o,r=n.lView;for(;2===r[1].type&&(o=v(r));)r=o;return 512&r[2]?null:r[8]}function Hm(t){return[...$(t).components]}function Km(t){const n=Lr(t);return null===n?Kr.NULL:new or(n.lView[1].data[n.nodeIndex],n.lView)}function $p(t){if(t instanceof Text)return[];const n=Lr(t);if(null===n)return[];const r=n.lView,o=r[1],u=n.nodeIndex;return(null==o?void 0:o.data[u])?(void 0===n.directives&&(n.directives=wo(u,r,!1)),null===n.directives?[]:[...n.directives]):[]}function Hp(t){const{constructor:n}=t;if(!n)throw new Error("Unable to find the instance constructor");const r=Nr(n);if(r)return{inputs:r.inputs,outputs:r.outputs,encapsulation:r.encapsulation,changeDetection:r.onPush?Je.OnPush:Je.Default};const o=fr(n);return o?{inputs:o.inputs,outputs:o.outputs}:null}function qd(t){return Lr(t).native}function pf(t){mf(t);const n=Lr(t);if(null===n)return[];const r=n.lView,u=r[7],l=r[1].cleanup,f=[];if(l&&u)for(let m=0;m<l.length;){const T=l[m++],R=l[m++];if("string"==typeof T){const V=T,Y=fe(r[R]),re=u[l[m++]],ye=l[m++],xe="boolean"==typeof ye||ye>=0?"dom":"output",nt="boolean"==typeof ye&&ye;t==Y&&f.push({element:t,name:V,callback:re,useCapture:nt,type:xe})}}return f.sort(gf),f}function gf(t,n){return t.name==n.name?0:t.name<n.name?-1:1}function Kp(t){return void 0!==t.type&&void 0!==t.template&&void 0!==t.declaredInputs}function mf(t){if("undefined"!=typeof Element&&!(t instanceof Element))throw new Error("Expecting instance of DOM Element")}function Wp(t){xp(t),Hm(t).forEach(n=>tf(n))}Kr.THROW_IF_NOT_FOUND=Jn,Kr.NULL=new Np,Kr.\u0275prov=Wt({token:Kr,providedIn:"any",factory:()=>Wi(Eu)}),Kr.__NG_ELEMENT_ID__=-1;let yf=!1;function F_(){yf||(yf=!0,Ma("\u0275setProfiler",Ns),Ma("getDirectiveMetadata",Hp),Ma("getComponent",ff),Ma("getContext",Gd),Ma("getListeners",pf),Ma("getOwningComponent",$m),Ma("getHostElement",qd),Ma("getInjector",Km),Ma("getRootComponents",Hm),Ma("getDirectives",$p),Ma("applyChanges",Wp))}function Ma(t,n){if("undefined"==typeof COMPILED||!COMPILED){const r=an;if(r){let o=r.ng;o||(o=r.ng={}),o[t]=n}}}function U_(t,n={}){const r=n.rendererFactory||P,o=n.sanitizer||null,u=Nr(t);u.type!=t&&(u.type=t);const l=u.selectors[0][0],m=Bd(r.createRenderer(null,null),n.host||l,u.encapsulation),T=u.onPush?576:528,R=Zm(n.scheduler,n.playerHandler),V=r.createRenderer(m,u),Y=zh(0,null,null,1,0,null,null,null,null,null),re=_u(null,Y,R,T,null,null,r,V,null,n.injector||null);let ye;ls(re);try{r.begin&&r.begin(),ye=qm(zp(m,u,re,r,V,o),u,re,R,n.hostFeatures||null),Qc(Y,re,null),Yc(Y,re,null,null)}finally{ii(),r.end&&r.end()}return ye}function zp(t,n,r,o,u,l){const f=r[1];r[20]=t;const T=Ec(f,20,2,"#host",null),R=T.mergedAttrs=n.hostAttrs;null!==R&&(Wd(T,R,!0),null!==t&&(tu(u,t,R),null!==T.classes&&Mh(u,t,T.classes),null!==T.styles&&Zc(u,t,T.styles)));const V=o.createRenderer(t,n),Y=_u(r,Wh(n),null,n.onPush?64:16,r[20],T,o,V,l||null,null);return f.firstCreatePass&&(C(ru(T,r),f,n.type),Xc(f,T),el(T,r.length,1)),Kd(r,Y),r[20]=Y}function qm(t,n,r,o,u){const l=r[1],f=function(t,n,r){const o=Jr();t.firstCreatePass&&(r.providersResolver&&r.providersResolver(r),tl(t,o,n,vu(t,n,1,null),r));const u=Et(n,t,o.directiveStart,o);co(u,n);const l=Ln(o,n);return l&&co(l,n),u}(l,r,n);if(o.components.push(f),t[8]=f,u&&u.forEach(T=>T(f,n)),n.contentQueries){const T=Jr();n.contentQueries(1,f,T.directiveStart)}const m=Jr();return!l.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(Eo(m.index),xm(r[1],m,0,m.directiveStart,m.directiveEnd,n),qh(n,f)),f}function Zm(t,n){return{components:[],scheduler:t||Kc,clean:Rp,playerHandler:n||null,flags:0}}function Qm(t,n){ki(Pa(t)[1],Jr())}function j_(t){return $(t).clean}function Gp(t){return Object.getPrototypeOf(t.prototype).constructor}function Zd(t){let n=Gp(t.type),r=!0;const o=[t];for(;n;){let u;if(oi(t))u=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Error("Directives cannot inherit Components");u=n.\u0275dir}if(u){if(r){o.push(u);const f=t;f.inputs=_f(t.inputs),f.declaredInputs=_f(t.declaredInputs),f.outputs=_f(t.outputs);const m=u.hostBindings;m&&Fr(t,m);const T=u.viewQuery,R=u.contentQueries;if(T&&Jm(t,T),R&&vf(t,R),De(t.inputs,u.inputs),De(t.declaredInputs,u.declaredInputs),De(t.outputs,u.outputs),oi(u)&&u.data.animation){const V=t.data;V.animation=(V.animation||[]).concat(u.data.animation)}}const l=u.features;if(l)for(let f=0;f<l.length;f++){const m=l[f];m&&m.ngInherit&&m(t),m===Zd&&(r=!1)}}n=Object.getPrototypeOf(n)}!function(t){let n=0,r=null;for(let o=t.length-1;o>=0;o--){const u=t[o];u.hostVars=n+=u.hostVars,u.hostAttrs=nu(u.hostAttrs,r=nu(r,u.hostAttrs))}}(o)}function _f(t){return t===pe?{}:t===ue?[]:t}function Jm(t,n){const r=t.viewQuery;t.viewQuery=r?(o,u)=>{n(o,u),r(o,u)}:n}function vf(t,n){const r=t.contentQueries;t.contentQueries=r?(o,u,l)=>{n(o,u,l),r(o,u,l)}:n}function Fr(t,n){const r=t.hostBindings;t.hostBindings=r?(o,u)=>{n(o,u),r(o,u)}:n}const Xm=["providersResolver"],ey=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function Wl(t){let r,n=Gp(t.type);r=oi(t)?n.\u0275cmp:n.\u0275dir;const o=t;for(const u of Xm)o[u]=r[u];if(oi(r))for(const u of ey)o[u]=r[u]}let Ef=null;function Oi(){if(!Ef){const t=an.Symbol;if(t&&t.iterator)Ef=t.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let r=0;r<n.length;++r){const o=n[r];"entries"!==o&&"size"!==o&&Map.prototype[o]===Map.prototype.entries&&(Ef=o)}}}return Ef}function fo(t,n){const r=Qd(t),o=Qd(n);if(r&&o)return function(t,n,r){const o=t[Oi()](),u=n[Oi()]();for(;;){const l=o.next(),f=u.next();if(l.done&&f.done)return!0;if(l.done||f.done||!r(l.value,f.value))return!1}}(t,n,fo);{const u=t&&("object"==typeof t||"function"==typeof t),l=n&&("object"==typeof n||"function"==typeof n);return!(r||!u||o||!l)||Object.is(t,n)}}class Ds{constructor(n){this.wrapped=n}static wrap(n){return new Ds(n)}static unwrap(n){return Ds.isWrapped(n)?n.wrapped:n}static isWrapped(n){return n instanceof Ds}}function Qd(t){return!!qp(t)&&(Array.isArray(t)||!(t instanceof Map)&&Oi()in t)}function qp(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Xa(t,n,r){return t[n]=r}function Yd(t,n){return t[n]}function po(t,n,r){return!Object.is(t[n],r)&&(t[n]=r,!0)}function sl(t,n,r,o){const u=po(t,n,r);return po(t,n+1,o)||u}function If(t,n,r,o,u){const l=sl(t,n,r,o);return po(t,n+2,u)||l}function Vr(t,n,r,o,u,l){const f=sl(t,n,r,o);return sl(t,n+2,u,l)||f}function ny(t,n,r,o){const u=lt();return po(u,ut(),n)&&($n(),Qo(Ir(),u,t,n,r,o)),ny}function Jd(t,n){let r=!1,o=me();for(let l=1;l<n.length;l+=2)r=po(t,o++,n[l])||r;if(Ve(o),!r)return tr;let u=n[0];for(let l=1;l<n.length;l+=2)u+=Pe(n[l])+n[l+1];return u}function qi(t,n,r,o){return po(t,ut(),r)?n+Pe(r)+o:tr}function ol(t,n,r,o,u,l){const m=sl(t,me(),r,u);return wt(2),m?n+Pe(r)+o+Pe(u)+l:tr}function zl(t,n,r,o,u,l,f,m){const R=If(t,me(),r,u,f);return wt(3),R?n+Pe(r)+o+Pe(u)+l+Pe(f)+m:tr}function Gl(t,n,r,o,u,l,f,m,T,R){const Y=Vr(t,me(),r,u,f,T);return wt(4),Y?n+Pe(r)+o+Pe(u)+l+Pe(f)+m+Pe(T)+R:tr}function al(t,n,r,o,u,l,f,m,T,R,V,Y){const re=me();let ye=Vr(t,re,r,u,f,T);return ye=po(t,re+4,V)||ye,wt(5),ye?n+Pe(r)+o+Pe(u)+l+Pe(f)+m+Pe(T)+R+Pe(V)+Y:tr}function ql(t,n,r,o,u,l,f,m,T,R,V,Y,re,ye){const xe=me();let nt=Vr(t,xe,r,u,f,T);return nt=sl(t,xe+4,V,re)||nt,wt(6),nt?n+Pe(r)+o+Pe(u)+l+Pe(f)+m+Pe(T)+R+Pe(V)+Y+Pe(re)+ye:tr}function Zl(t,n,r,o,u,l,f,m,T,R,V,Y,re,ye,xe,nt){const ze=me();let xt=Vr(t,ze,r,u,f,T);return xt=If(t,ze+4,V,re,xe)||xt,wt(7),xt?n+Pe(r)+o+Pe(u)+l+Pe(f)+m+Pe(T)+R+Pe(V)+Y+Pe(re)+ye+Pe(xe)+nt:tr}function Ql(t,n,r,o,u,l,f,m,T,R,V,Y,re,ye,xe,nt,ze,xt){const pt=me();let xn=Vr(t,pt,r,u,f,T);return xn=Vr(t,pt+4,V,re,xe,ze)||xn,wt(8),xn?n+Pe(r)+o+Pe(u)+l+Pe(f)+m+Pe(T)+R+Pe(V)+Y+Pe(re)+ye+Pe(xe)+nt+Pe(ze)+xt:tr}function Zp(t,n,r,o,u,l){const f=lt(),m=qi(f,n,r,o);return m!==tr&&Qo(Ir(),f,t,m,u,l),Zp}function ry(t,n,r,o,u,l,f,m){const T=lt(),R=ol(T,n,r,o,u,l);return R!==tr&&Qo(Ir(),T,t,R,f,m),ry}function Qp(t,n,r,o,u,l,f,m,T,R){const V=lt(),Y=zl(V,n,r,o,u,l,f,m);return Y!==tr&&Qo(Ir(),V,t,Y,T,R),Qp}function Yp(t,n,r,o,u,l,f,m,T,R,V,Y){const re=lt(),ye=Gl(re,n,r,o,u,l,f,m,T,R);return ye!==tr&&Qo(Ir(),re,t,ye,V,Y),Yp}function wf(t,n,r,o,u,l,f,m,T,R,V,Y,re,ye){const xe=lt(),nt=al(xe,n,r,o,u,l,f,m,T,R,V,Y);return nt!==tr&&Qo(Ir(),xe,t,nt,re,ye),wf}function wu(t,n,r,o,u,l,f,m,T,R,V,Y,re,ye,xe,nt){const ze=lt(),xt=ql(ze,n,r,o,u,l,f,m,T,R,V,Y,re,ye);return xt!==tr&&Qo(Ir(),ze,t,xt,xe,nt),wu}function iy(t,n,r,o,u,l,f,m,T,R,V,Y,re,ye,xe,nt,ze,xt){const pt=lt(),xn=Zl(pt,n,r,o,u,l,f,m,T,R,V,Y,re,ye,xe,nt);return xn!==tr&&Qo(Ir(),pt,t,xn,ze,xt),iy}function bu(t,n,r,o,u,l,f,m,T,R,V,Y,re,ye,xe,nt,ze,xt,pt,xn){const nr=lt(),Ur=Ql(nr,n,r,o,u,l,f,m,T,R,V,Y,re,ye,xe,nt,ze,xt);return Ur!==tr&&Qo(Ir(),nr,t,Ur,pt,xn),bu}function Zu(t,n,r,o){const u=lt(),l=Jd(u,n);return l!==tr&&Qo(Ir(),u,t,l,r,o),Zu}function sy(t,n,r,o,u,l,f,m){const T=lt(),R=$n(),V=t+20,Y=R.firstCreatePass?function(t,n,r,o,u,l,f,m,T){const R=n.consts,V=Ec(n,t,4,f||null,Cr(R,m));$d(n,r,V,Cr(R,T)),ki(n,V);const Y=V.tViews=zh(2,V,o,u,l,n.directiveRegistry,n.pipeRegistry,null,n.schemas,R);return null!==n.queries&&(n.queries.template(n,V),Y.queries=n.queries.embeddedTView(V)),V}(V,R,T,n,r,o,u,l,f):R.data[V];vs(Y,!1);const re=T[11].createComment("");Ku(R,T,re,Y),co(re,T),Kd(T,T[V]=Zh(re,T,re,Y)),hs(Y)&&Kh(R,T,Y),null!=f&&gp(T,Y,m)}function oy(t,n,r,o){r>=t.data.length&&(t.data[r]=null,t.blueprint[r]=null),n[r]=o}function Jp(t){return On(vn.lFrame.contextLView,20+t)}const Xp={\u0275\u0275defineInjectable:Wt,\u0275\u0275defineInjector:Ut,\u0275\u0275inject:Wi,\u0275\u0275invalidFactoryDep:Ou,resolveForwardRef:J},ul=te({provide:String,useValue:te});function Xd(t){return void 0!==t.useClass}function eg(t){return void 0!==t.useFactory}const uy=Ko("Injectable",void 0,void 0,void 0,(t,n)=>rg(t,n)),ng=function(t,n){let r=null,o=null;t.hasOwnProperty(cr)||Object.defineProperty(t,cr,{get:()=>(null===r&&(r=di().compileInjectable(Xp,`ng:///${t.name}/\u0275prov.js`,function(t,n){const r=n||{providedIn:null},o={name:t.name,type:t,typeArgumentCount:0,providedIn:r.providedIn};return(Xd(r)||eg(r))&&void 0!==r.deps&&(o.deps=ld(r.deps)),Xd(r)?o.useClass=r.useClass:function(t){return ul in t}(r)?o.useValue=r.useValue:eg(r)?o.useFactory=r.useFactory:function(t){return void 0!==t.useExisting}(r)&&(o.useExisting=r.useExisting),o}(t,n))),r)}),t.hasOwnProperty(ie)||Object.defineProperty(t,ie,{get:()=>{if(null===o){const u=di();o=u.compileFactory(Xp,`ng:///${t.name}/\u0275fac.js`,{name:t.name,type:t,typeArgumentCount:0,deps:Pc(t),target:u.FactoryTarget.Injectable})}return o},configurable:!0})},rg=ng;function sg(t){return t.length>1?" ("+function(t){const n=[];for(let r=0;r<t.length;++r){if(n.indexOf(t[r])>-1)return n.push(t[r]),n;n.push(t[r])}return n}(t.slice().reverse()).map(o=>ee(o.token)).join(" -> ")+")":""}function Jl(t,n,r,o){const u=[n],l=r(u),f=o?function(t,n){const r=`${t} caused by: ${n instanceof Error?n.message:n}`,o=Error(r);return o[qa]=n,o}(l,o):Error(l);return f.addKey=Df,f.keys=u,f.injectors=[t],f.constructResolvingMessage=r,f[qa]=o,f}function Df(t,n){this.injectors.push(t),this.keys.push(n),this.message=this.constructResolvingMessage(this.keys)}function wc(t,n){const r=[];for(let o=0,u=n.length;o<u;o++){const l=n[o];r.push(l&&0!=l.length?l.map(ee).join(" "):"?")}return Error("Cannot resolve all parameters for '"+ee(t)+"'("+r.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+ee(t)+"' is decorated with Injectable.")}function nh(t,n){return Error(`Cannot mix multi providers and regular providers, got: ${t} ${n}`)}class Yo{constructor(n,r){if(this.token=n,this.id=r,!n)throw new Error("Token must be defined!");this.displayName=ee(this.token)}static get(n){return ly.get(J(n))}static get numberOfKeys(){return ly.numberOfKeys}}class z_{constructor(){this._allKeys=new Map}get(n){if(n instanceof Yo)return n;if(this._allKeys.has(n))return this._allKeys.get(n);const r=new Yo(n,Yo.numberOfKeys);return this._allKeys.set(n,r),r}get numberOfKeys(){return this._allKeys.size}}const ly=new z_;class dy{constructor(n){this.reflectionCapabilities=n}updateCapabilities(n){this.reflectionCapabilities=n}factory(n){return this.reflectionCapabilities.factory(n)}parameters(n){return this.reflectionCapabilities.parameters(n)}annotations(n){return this.reflectionCapabilities.annotations(n)}propMetadata(n){return this.reflectionCapabilities.propMetadata(n)}hasLifecycleHook(n,r){return this.reflectionCapabilities.hasLifecycleHook(n,r)}getter(n){return this.reflectionCapabilities.getter(n)}setter(n){return this.reflectionCapabilities.setter(n)}method(n){return this.reflectionCapabilities.method(n)}importUri(n){return this.reflectionCapabilities.importUri(n)}resourceUri(n){return this.reflectionCapabilities.resourceUri(n)}resolveIdentifier(n,r,o,u){return this.reflectionCapabilities.resolveIdentifier(n,r,o,u)}resolveEnum(n,r){return this.reflectionCapabilities.resolveEnum(n,r)}}const Xl=new dy(new Qe);class rh{constructor(n,r,o){this.key=n,this.optional=r,this.visibility=o}static fromKey(n){return new rh(n,!1,null)}}const G_=[];class hy{constructor(n,r,o){this.key=n,this.resolvedFactories=r,this.multiProvider=o,this.resolvedFactory=this.resolvedFactories[0]}}class fy{constructor(n,r){this.factory=n,this.dependencies=r}}function q_(t){let n,r;if(t.useClass){const o=J(t.useClass);n=Xl.factory(o),r=my(o)}else t.useExisting?(n=o=>o,r=[rh.fromKey(Yo.get(t.useExisting))]):t.useFactory?(n=t.useFactory,r=function(t,n){if(n){const r=n.map(o=>[o]);return n.map(o=>ag(t,o,r))}return my(t)}(t.useFactory,t.deps)):(n=()=>t.useValue,r=G_);return new fy(n,r)}function py(t){return new hy(Yo.get(t.provide),[q_(t)],t.multi||!1)}function gy(t){const o=function(t,n){for(let r=0;r<t.length;r++){const o=t[r],u=n.get(o.key.id);if(u){if(o.multiProvider!==u.multiProvider)throw nh(u,o);if(o.multiProvider)for(let l=0;l<o.resolvedFactories.length;l++)u.resolvedFactories.push(o.resolvedFactories[l]);else n.set(o.key.id,o)}else{let l;l=o.multiProvider?new hy(o.key,o.resolvedFactories.slice(),o.multiProvider):o,n.set(o.key.id,l)}}return n}(og(t,[]).map(py),new Map);return Array.from(o.values())}function og(t,n){return t.forEach(r=>{if(r instanceof Ei)n.push({provide:r,useClass:r});else if(r&&"object"==typeof r&&void 0!==r.provide)n.push(r);else{if(!Array.isArray(r))throw function(t){return Error(`Invalid provider - only instances of Provider and Type are allowed, got: ${t}`)}(r);og(r,n)}}),n}function my(t){const n=Xl.parameters(t);if(!n)return[];if(n.some(r=>null==r))throw wc(t,n);return n.map(r=>ag(t,r,n))}function ag(t,n,r){let o=null,u=!1;if(!Array.isArray(n))return ug(n instanceof lu?n.token:n,u,null);let l=null;for(let f=0;f<n.length;++f){const m=n[f];m instanceof Ei?o=m:m instanceof lu?o=m.token:m instanceof Vo?u=!0:m instanceof sa||m instanceof oa?l=m:m instanceof vi&&(o=m)}if(o=J(o),null!=o)return ug(o,u,l);throw wc(t,r)}function ug(t,n,r){return new rh(Yo.get(t),n,r)}const ih={};class ll{static resolve(n){return gy(n)}static resolveAndCreate(n,r){const o=ll.resolve(n);return ll.fromResolvedProviders(o,r)}static fromResolvedProviders(n,r){return new cg(n,r)}}let cg=(()=>{class t{constructor(r,o){this._constructionCounter=0,this._providers=r,this.parent=o||null;const u=r.length;this.keyIds=[],this.objs=[];for(let l=0;l<u;l++)this.keyIds[l]=r[l].key.id,this.objs[l]=ih}get(r,o=Jn){return this._getByKey(Yo.get(r),null,o)}resolveAndCreateChild(r){const o=ll.resolve(r);return this.createChildFromResolved(o)}createChildFromResolved(r){const o=new t(r);return o.parent=this,o}resolveAndInstantiate(r){return this.instantiateResolved(ll.resolve([r])[0])}instantiateResolved(r){return this._instantiateProvider(r)}getProviderAtIndex(r){if(r<0||r>=this._providers.length)throw function(t){return Error(`Index ${t} is out-of-bounds.`)}(r);return this._providers[r]}_new(r){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw function(t,n){return Jl(t,n,function(r){return`Cannot instantiate cyclic dependency!${sg(r)}`})}(this,r.key);return this._instantiateProvider(r)}_getMaxNumberOfObjects(){return this.objs.length}_instantiateProvider(r){if(r.multiProvider){const o=[];for(let u=0;u<r.resolvedFactories.length;++u)o[u]=this._instantiate(r,r.resolvedFactories[u]);return o}return this._instantiate(r,r.resolvedFactories[0])}_instantiate(r,o){const u=o.factory;let l,f;try{l=o.dependencies.map(m=>this._getByReflectiveDependency(m))}catch(m){throw m.addKey&&m.addKey(this,r.key),m}try{f=u(...l)}catch(m){throw function(t,n,r,o){return Jl(t,o,function(u){const l=ee(u[0].token);return`${n.message}: Error during instantiation of ${l}!${sg(u)}.`},n)}(this,m,0,r.key)}return f}_getByReflectiveDependency(r){return this._getByKey(r.key,r.visibility,r.optional?null:Jn)}_getByKey(r,o,u){return r===t.INJECTOR_KEY?this:o instanceof sa?this._getByKeySelf(r,u):this._getByKeyDefault(r,u,o)}_getObjByKeyId(r){for(let o=0;o<this.keyIds.length;o++)if(this.keyIds[o]===r)return this.objs[o]===ih&&(this.objs[o]=this._new(this._providers[o])),this.objs[o];return ih}_throwOrNull(r,o){if(o!==Jn)return o;throw function(t,n){return Jl(t,n,function(r){return`No provider for ${ee(r[0].token)}!${sg(r)}`})}(this,r)}_getByKeySelf(r,o){const u=this._getObjByKeyId(r.id);return u!==ih?u:this._throwOrNull(r,o)}_getByKeyDefault(r,o,u){let l;for(l=u instanceof oa?this.parent:this;l instanceof t;){const f=l,m=f._getObjByKeyId(r.id);if(m!==ih)return m;l=f.parent}return null!==l?l.get(r.token,o):this._throwOrNull(r,o)}get displayName(){return`ReflectiveInjector(providers: [${function(t,n){const r=[];for(let o=0;o<t._providers.length;++o)r[o]=n(t.getProviderAtIndex(o));return r}(this,o=>' "'+o.key.displayName+'" ').join(", ")}])`}toString(){return this.displayName}}return t.INJECTOR_KEY=Yo.get(Kr),t})();function ed(t,n=Nt.Default){const r=lt();return null===r?Wi(t,n):M(Jr(),r,J(t),n)}function Af(){throw new Error("invalid")}function td(t,n,r){const o=lt();return po(o,ut(),n)&&Ta($n(),Ir(),o,t,n,o[11],r,!1),td}function lg(t,n,r,o,u){const f=u?"class":"style";Lm(t,r,n.inputs[f],f,o)}function Tu(t,n,r,o){const u=lt(),l=$n(),f=20+t,m=u[11],T=u[f]=wa(m,n,vn.lFrame.currentNamespace),R=l.firstCreatePass?function(t,n,r,o,u,l,f){const m=n.consts,R=Ec(n,t,2,u,Cr(m,l));return $d(n,r,R,Cr(m,f)),null!==R.attrs&&Wd(R,R.attrs,!1),null!==R.mergedAttrs&&Wd(R,R.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,R),R}(f,l,u,0,n,r,o):l.data[f];vs(R,!0);const V=R.mergedAttrs;null!==V&&tu(m,T,V);const Y=R.classes;null!==Y&&Mh(m,T,Y);const re=R.styles;null!==re&&Zc(m,T,re),64!=(64&R.flags)&&Ku(l,u,T,R),0===vn.lFrame.elementDepthCount&&co(T,u),vn.lFrame.elementDepthCount++,hs(R)&&(Kh(l,u,R),qu(l,R,u)),null!==o&&gp(u,R)}function dg(){let t=Jr();B()?y():(t=t.parent,vs(t,!1));const n=t;vn.lFrame.elementDepthCount--;const r=$n();r.firstCreatePass&&(ki(r,t),$s(t)&&r.queries.elementEnd(t)),null!=n.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(n)&&lg(r,n,lt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(n)&&lg(r,n,lt(),n.stylesWithoutHost,!1)}function bc(t,n,r,o){Tu(t,n,r,o),dg()}function hg(t,n,r){const o=lt(),u=$n(),l=t+20,f=u.firstCreatePass?function(t,n,r,o,u){const l=n.consts,f=Cr(l,o),m=Ec(n,t,8,"ng-container",f);return null!==f&&Wd(m,f,!0),$d(n,r,m,Cr(l,u)),null!==n.queries&&n.queries.elementStart(n,m),m}(l,u,o,n,r):u.data[l];vs(f,!0);const m=o[l]=o[11].createComment("");Ku(u,o,m,f),co(m,o),hs(f)&&(Kh(u,o,f),qu(u,f,o)),null!=r&&gp(o,f)}function fg(){let t=Jr();const n=$n();B()?y():(t=t.parent,vs(t,!1)),n.firstCreatePass&&(ki(n,t),$s(t)&&n.queries.elementEnd(t))}function vy(t,n,r){hg(t,n,r),fg()}function Ey(){return lt()}function pg(t){return!!t&&"function"==typeof t.then}function Iy(t){return!!t&&"function"==typeof t.subscribe}const gg=Iy;function mg(t,n,r,o){const u=lt(),l=$n(),f=Jr();return Rf(l,u,u[11],f,t,n,!!r,o),mg}function yg(t,n){const r=Jr(),o=lt(),u=$n();return Rf(u,o,km(qn(u.data),r,o),r,t,n,!1),yg}function Rf(t,n,r,o,u,l,f,m){const T=hs(o),V=t.firstCreatePass&&Xh(t),Y=n[8],re=Jh(n);let ye=!0;if(3&o.type||m){const ze=Ln(o,n),xt=m?m(ze):ze,pt=re.length,xn=m?nr=>m(fe(nr[o.index])):o.index;if(N(r)){let nr=null;if(!m&&T&&(nr=function(t,n,r,o){const u=t.cleanup;if(null!=u)for(let l=0;l<u.length-1;l+=2){const f=u[l];if(f===r&&u[l+1]===o){const m=n[7],T=u[l+2];return m.length>T?m[T]:null}"string"==typeof f&&(l+=2)}return null}(t,n,u,o.index)),null!==nr)(nr.__ngLastListenerFn__||nr).__ngNextListenerFn__=l,nr.__ngLastListenerFn__=l,ye=!1;else{l=_g(o,n,Y,l,!1);const Ur=r.listen(xt,u,l);re.push(l,Ur),V&&V.push(u,xn,pt,pt+1)}}else l=_g(o,n,Y,l,!0),xt.addEventListener(u,l,f),re.push(l),V&&V.push(u,xn,pt,f)}else l=_g(o,n,Y,l,!1);const xe=o.outputs;let nt;if(ye&&null!==xe&&(nt=xe[u])){const ze=nt.length;if(ze)for(let xt=0;xt<ze;xt+=2){const So=n[nt[xt]][nt[xt+1]].subscribe(l),Su=re.length;re.push(l,So),V&&V.push(u,o.index,Su,-(Su+1))}}}function wy(t,n,r,o){try{return ri(6,n,r),!1!==r(o)}catch(u){return ef(t,u),!1}finally{ri(7,n,r)}}function _g(t,n,r,o,u){return function l(f){if(f===Function)return o;const m=2&t.flags?sr(t.index,n):n;0==(32&n[2])&&Dp(m);let T=wy(n,r,o,f),R=l.__ngNextListenerFn__;for(;R;)T=wy(n,r,R,f)&&T,R=R.__ngNextListenerFn__;return u&&!1===T&&(f.preventDefault(),f.returnValue=!1),T}}function by(t=1){return Sa(t)}function J_(t,n){let r=null;const o=function(t){const n=t.attrs;if(null!=n){const r=n.indexOf(5);if(0==(1&r))return n[r+1]}return null}(t);for(let u=0;u<n.length;u++){const l=n[u];if("*"!==l){if(null===o?Ul(t,l,!0):u_(o,l))return u}else r=u}return r}function Ty(t){const n=lt()[16][6];if(!n.projection){const o=n.projection=ra(t?t.length:1,null),u=o.slice();let l=n.child;for(;null!==l;){const f=t?J_(l,t):0;null!==f&&(u[f]?u[f].projectionNext=l:o[f]=l,u[f]=l),l=l.next}}}function Cy(t,n=0,r){const o=lt(),u=$n(),l=Ec(u,20+t,16,null,r||null);null===l.projection&&(l.projection=n),y(),64!=(64&l.flags)&&function(t,n,r){sm(n[11],0,n,r,xd(t,r,n),$u(r.parent||n[6],r,n))}(u,o,l)}function vg(t,n,r){return Eg(t,"",n,"",r),vg}function Eg(t,n,r,o,u){const l=lt(),f=qi(l,n,r,o);return f!==tr&&Ta($n(),Ir(),l,t,f,l[11],u,!1),Eg}function Dy(t,n,r,o,u,l,f){const m=lt(),T=ol(m,n,r,o,u,l);return T!==tr&&Ta($n(),Ir(),m,t,T,m[11],f,!1),Dy}function xf(t,n,r,o,u,l,f,m,T){const R=lt(),V=zl(R,n,r,o,u,l,f,m);return V!==tr&&Ta($n(),Ir(),R,t,V,R[11],T,!1),xf}function s(t,n,r,o,u,l,f,m,T,R,V){const Y=lt(),re=Gl(Y,n,r,o,u,l,f,m,T,R);return re!==tr&&Ta($n(),Ir(),Y,t,re,Y[11],V,!1),s}function e(t,n,r,o,u,l,f,m,T,R,V,Y,re){const ye=lt(),xe=al(ye,n,r,o,u,l,f,m,T,R,V,Y);return xe!==tr&&Ta($n(),Ir(),ye,t,xe,ye[11],re,!1),e}function i(t,n,r,o,u,l,f,m,T,R,V,Y,re,ye,xe){const nt=lt(),ze=ql(nt,n,r,o,u,l,f,m,T,R,V,Y,re,ye);return ze!==tr&&Ta($n(),Ir(),nt,t,ze,nt[11],xe,!1),i}function a(t,n,r,o,u,l,f,m,T,R,V,Y,re,ye,xe,nt,ze){const xt=lt(),pt=Zl(xt,n,r,o,u,l,f,m,T,R,V,Y,re,ye,xe,nt);return pt!==tr&&Ta($n(),Ir(),xt,t,pt,xt[11],ze,!1),a}function c(t,n,r,o,u,l,f,m,T,R,V,Y,re,ye,xe,nt,ze,xt,pt){const xn=lt(),nr=Ql(xn,n,r,o,u,l,f,m,T,R,V,Y,re,ye,xe,nt,ze,xt);return nr!==tr&&Ta($n(),Ir(),xn,t,nr,xn[11],pt,!1),c}function p(t,n,r){const o=lt(),u=Jd(o,n);return u!==tr&&Ta($n(),Ir(),o,t,u,o[11],r,!1),p}function q(t,n,r,o,u){const l=t[r+1],f=null===n;let m=o?Ya(l):ha(l),T=!1;for(;0!==m&&(!1===T||f);){const V=t[m+1];ge(t[m],n)&&(T=!0,t[m+1]=o?Vh(V):_c(V)),m=o?Ya(V):ha(V)}T&&(t[r+1]=o?_c(l):Vh(l))}function ge(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Ba(t,n)>=0}const Ce={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function et(t){return t.substring(Ce.key,Ce.keyEnd)}function _t(t){return t.substring(Ce.value,Ce.valueEnd)}function Tn(t,n){const r=Ce.textEnd;return r===n?-1:(n=Ce.keyEnd=function(t,n,r){for(;n<r&&t.charCodeAt(n)>32;)n++;return n}(t,Ce.key=n,r),Qu(t,n,r))}function Ss(t,n){const r=Ce.textEnd;let o=Ce.key=Qu(t,n,r);return r===o?-1:(o=Ce.keyEnd=function(t,n,r){let o;for(;n<r&&(45===(o=t.charCodeAt(n))||95===o||(-33&o)>=65&&(-33&o)<=90||o>=48&&o<=57);)n++;return n}(t,o,r),o=Sy(t,o,r),o=Ce.value=Qu(t,o,r),o=Ce.valueEnd=function(t,n,r){let o=-1,u=-1,l=-1,f=n,m=f;for(;f<r;){const T=t.charCodeAt(f++);if(59===T)return m;34===T||39===T?m=f=cI(t,T,f,r):n===f-4&&85===l&&82===u&&76===o&&40===T?m=f=cI(t,41,f,r):T>32&&(m=f),l=u,u=o,o=-33&T}return m}(t,o,r),Sy(t,o,r))}function jo(t){Ce.key=0,Ce.keyEnd=0,Ce.value=0,Ce.valueEnd=0,Ce.textEnd=t.length}function Qu(t,n,r){for(;n<r&&t.charCodeAt(n)<=32;)n++;return n}function Sy(t,n,r,o){return(n=Qu(t,n,r))<r&&n++,n}function cI(t,n,r,o){let u=-1,l=r;for(;l<o;){const f=t.charCodeAt(l++);if(f==n&&92!==u)return l;u=92==f&&92===u?0:f}throw new Error}function X_(t,n,r){return Ju(t,n,r,!1),X_}function ev(t,n){return Ju(t,n,null,!0),ev}function Yu(t){Xu(fI,mT,t,!1)}function mT(t,n){for(let r=function(t){return jo(t),Ss(t,Qu(t,0,Ce.textEnd))}(n);r>=0;r=Ss(n,r))fI(t,et(n),_t(n))}function lI(t){Xu(ko,Tc,t,!0)}function Tc(t,n){for(let r=function(t){return jo(t),Tn(t,Qu(t,0,Ce.textEnd))}(n);r>=0;r=Tn(n,r))ko(t,et(n),!0)}function Ju(t,n,r,o){const u=lt(),l=$n(),f=wt(2);l.firstUpdatePass&&hI(l,t,f,o),n!==tr&&po(u,f,n)&&pI(l,l.data[Zr()],u,u[11],t,u[f+1]=function(t,n){return null==t||("string"==typeof n?t+=n:"object"==typeof t&&(t=ee(Ha(t)))),t}(n,r),o,f)}function Xu(t,n,r,o){const u=$n(),l=wt(2);u.firstUpdatePass&&hI(u,null,l,o);const f=lt();if(r!==tr&&po(f,l,r)){const m=u.data[Zr()];if(mI(m,o)&&!dI(u,l)){let T=o?m.classesWithoutHost:m.stylesWithoutHost;null!==T&&(r=Te(T,r||"")),lg(u,m,f,r,o)}else!function(t,n,r,o,u,l,f,m){u===tr&&(u=ue);let T=0,R=0,V=0<u.length?u[0]:null,Y=0<l.length?l[0]:null;for(;null!==V||null!==Y;){const re=T<u.length?u[T+1]:void 0,ye=R<l.length?l[R+1]:void 0;let nt,xe=null;V===Y?(T+=2,R+=2,re!==ye&&(xe=Y,nt=ye)):null===Y||null!==V&&V<Y?(T+=2,xe=V):(R+=2,xe=Y,nt=ye),null!==xe&&pI(t,n,r,o,xe,nt,f,m),V=T<u.length?u[T]:null,Y=R<l.length?l[R]:null}}(u,m,f,f[11],f[l+1],f[l+1]=function(t,n,r){if(null==r||""===r)return ue;const o=[],u=Ha(r);if(Array.isArray(u))for(let l=0;l<u.length;l++)t(o,u[l],!0);else if("object"==typeof u)for(const l in u)u.hasOwnProperty(l)&&t(o,l,u[l]);else"string"==typeof u&&n(o,u);return o}(t,n,r),o,l)}}function dI(t,n){return n>=t.expandoStartIndex}function hI(t,n,r,o){const u=t.data;if(null===u[r+1]){const l=u[Zr()],f=dI(t,r);mI(l,o)&&null===n&&!f&&(n=!1),n=function(t,n,r,o){const u=qn(t);let l=o?n.residualClasses:n.residualStyles;if(null===u)0===(o?n.classBindings:n.styleBindings)&&(r=Ig(r=tv(null,t,n,r,o),n.attrs,o),l=null);else{const f=n.directiveStylingLast;if(-1===f||t[f]!==u)if(r=tv(u,t,n,r,o),null===l){let T=function(t,n,r){const o=r?n.classBindings:n.styleBindings;if(0!==ha(o))return t[Ya(o)]}(t,n,o);void 0!==T&&Array.isArray(T)&&(T=tv(null,t,n,T[1],o),T=Ig(T,n.attrs,o),function(t,n,r,o){t[Ya(r?n.classBindings:n.styleBindings)]=o}(t,n,o,T))}else l=function(t,n,r){let o;const u=n.directiveEnd;for(let l=1+n.directiveStylingLast;l<u;l++)o=Ig(o,t[l].hostAttrs,r);return Ig(o,n.attrs,r)}(t,n,o)}return void 0!==l&&(o?n.residualClasses=l:n.residualStyles=l),r}(u,l,n,o),function(t,n,r,o,u,l){let f=l?n.classBindings:n.styleBindings,m=Ya(f),T=ha(f);t[o]=r;let V,R=!1;if(Array.isArray(r)){const Y=r;V=Y[1],(null===V||Ba(Y,V)>0)&&(R=!0)}else V=r;if(u)if(0!==T){const re=Ya(t[m+1]);t[o+1]=kd(re,m),0!==re&&(t[re+1]=Ld(t[re+1],o)),t[m+1]=function(t,n){return 131071&t|n<<17}(t[m+1],o)}else t[o+1]=kd(m,0),0!==m&&(t[m+1]=Ld(t[m+1],o)),m=o;else t[o+1]=kd(T,0),0===m?m=o:t[T+1]=Ld(t[T+1],o),T=o;R&&(t[o+1]=_c(t[o+1])),q(t,V,o,!0),q(t,V,o,!1),function(t,n,r,o,u){const l=u?t.residualClasses:t.residualStyles;null!=l&&"string"==typeof n&&Ba(l,n)>=0&&(r[o+1]=Vh(r[o+1]))}(n,V,t,o,l),f=kd(m,T),l?n.classBindings=f:n.styleBindings=f}(u,l,n,r,f,o)}}function tv(t,n,r,o,u){let l=null;const f=r.directiveEnd;let m=r.directiveStylingLast;for(-1===m?m=r.directiveStart:m++;m<f&&(l=n[m],o=Ig(o,l.hostAttrs,u),l!==t);)m++;return null!==t&&(r.directiveStylingLast=m),o}function Ig(t,n,r){const o=r?1:2;let u=-1;if(null!==n)for(let l=0;l<n.length;l++){const f=n[l];"number"==typeof f?u=f:u===o&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ko(t,f,!!r||n[++l]))}return void 0===t?null:t}function fI(t,n,r){ko(t,n,Ha(r))}function pI(t,n,r,o,u,l,f,m){if(!(3&n.type))return;const T=t.data,R=T[m+1];Ry(function(t){return 1==(1&t)}(R)?gI(T,n,r,u,ha(R),f):void 0)||(Ry(l)||function(t){return 2==(2&t)}(R)&&(l=gI(T,null,r,u,m,f)),function(t,n,r,o,u){const l=N(t);if(n)u?l?t.addClass(r,o):r.classList.add(o):l?t.removeClass(r,o):r.classList.remove(o);else{let f=-1===o.indexOf("-")?void 0:da.DashCase;if(null==u)l?t.removeStyle(r,o,f):r.style.removeProperty(o);else{const m="string"==typeof u&&u.endsWith("!important");m&&(u=u.slice(0,-10),f|=da.Important),l?t.setStyle(r,o,u,f):r.style.setProperty(o,u,m?"important":"")}}}(o,f,tn(Zr(),r),u,l))}function gI(t,n,r,o,u,l){const f=null===n;let m;for(;u>0;){const T=t[u],R=Array.isArray(T),V=R?T[1]:T,Y=null===V;let re=r[u+1];re===tr&&(re=Y?ue:void 0);let ye=Y?au(re,o):V===o?re:void 0;if(R&&!Ry(ye)&&(ye=au(T,o)),Ry(ye)&&(m=ye,f))return m;const xe=t[u+1];u=f?Ya(xe):ha(xe)}if(null!==n){let T=l?n.residualClasses:n.residualStyles;null!=T&&(m=au(T,o))}return m}function Ry(t){return void 0!==t}function mI(t,n){return 0!=(t.flags&(n?16:32))}function yI(t,n=""){const r=lt(),o=$n(),u=t+20,l=o.firstCreatePass?Ec(o,u,1,n,null):o.data[u],f=r[u]=on(r[11],n);Ku(o,r,f,l),vs(l,!1)}function nv(t){return xy("",t,""),nv}function xy(t,n,r){const o=lt(),u=qi(o,t,n,r);return u!==tr&&Ja(o,Zr(),u),xy}function rv(t,n,r,o,u){const l=lt(),f=ol(l,t,n,r,o,u);return f!==tr&&Ja(l,Zr(),f),rv}function iv(t,n,r,o,u,l,f){const m=lt(),T=zl(m,t,n,r,o,u,l,f);return T!==tr&&Ja(m,Zr(),T),iv}function sv(t,n,r,o,u,l,f,m,T){const R=lt(),V=Gl(R,t,n,r,o,u,l,f,m,T);return V!==tr&&Ja(R,Zr(),V),sv}function ov(t,n,r,o,u,l,f,m,T,R,V){const Y=lt(),re=al(Y,t,n,r,o,u,l,f,m,T,R,V);return re!==tr&&Ja(Y,Zr(),re),ov}function av(t,n,r,o,u,l,f,m,T,R,V,Y,re){const ye=lt(),xe=ql(ye,t,n,r,o,u,l,f,m,T,R,V,Y,re);return xe!==tr&&Ja(ye,Zr(),xe),av}function uv(t,n,r,o,u,l,f,m,T,R,V,Y,re,ye,xe){const nt=lt(),ze=Zl(nt,t,n,r,o,u,l,f,m,T,R,V,Y,re,ye,xe);return ze!==tr&&Ja(nt,Zr(),ze),uv}function cv(t,n,r,o,u,l,f,m,T,R,V,Y,re,ye,xe,nt,ze){const xt=lt(),pt=Ql(xt,t,n,r,o,u,l,f,m,T,R,V,Y,re,ye,xe,nt,ze);return pt!==tr&&Ja(xt,Zr(),pt),cv}function lv(t){const n=lt(),r=Jd(n,t);return r!==tr&&Ja(n,Zr(),r),lv}function _I(t,n,r){Xu(ko,Tc,qi(lt(),t,n,r),!0)}function vI(t,n,r,o,u){Xu(ko,Tc,ol(lt(),t,n,r,o,u),!0)}function EI(t,n,r,o,u,l,f){Xu(ko,Tc,zl(lt(),t,n,r,o,u,l,f),!0)}function II(t,n,r,o,u,l,f,m,T){Xu(ko,Tc,Gl(lt(),t,n,r,o,u,l,f,m,T),!0)}function wI(t,n,r,o,u,l,f,m,T,R,V){Xu(ko,Tc,al(lt(),t,n,r,o,u,l,f,m,T,R,V),!0)}function bI(t,n,r,o,u,l,f,m,T,R,V,Y,re){Xu(ko,Tc,ql(lt(),t,n,r,o,u,l,f,m,T,R,V,Y,re),!0)}function TI(t,n,r,o,u,l,f,m,T,R,V,Y,re,ye,xe){Xu(ko,Tc,Zl(lt(),t,n,r,o,u,l,f,m,T,R,V,Y,re,ye,xe),!0)}function CI(t,n,r,o,u,l,f,m,T,R,V,Y,re,ye,xe,nt,ze){Xu(ko,Tc,Ql(lt(),t,n,r,o,u,l,f,m,T,R,V,Y,re,ye,xe,nt,ze),!0)}function DI(t){Xu(ko,Tc,Jd(lt(),t),!0)}function SI(t,n,r){Yu(qi(lt(),t,n,r))}function AI(t,n,r,o,u){Yu(ol(lt(),t,n,r,o,u))}function RI(t,n,r,o,u,l,f){Yu(zl(lt(),t,n,r,o,u,l,f))}function xI(t,n,r,o,u,l,f,m,T){Yu(Gl(lt(),t,n,r,o,u,l,f,m,T))}function NI(t,n,r,o,u,l,f,m,T,R,V){Yu(al(lt(),t,n,r,o,u,l,f,m,T,R,V))}function PI(t,n,r,o,u,l,f,m,T,R,V,Y,re){Yu(ql(lt(),t,n,r,o,u,l,f,m,T,R,V,Y,re))}function OI(t,n,r,o,u,l,f,m,T,R,V,Y,re,ye,xe){Yu(Zl(lt(),t,n,r,o,u,l,f,m,T,R,V,Y,re,ye,xe))}function MI(t,n,r,o,u,l,f,m,T,R,V,Y,re,ye,xe,nt,ze){Yu(Ql(lt(),t,n,r,o,u,l,f,m,T,R,V,Y,re,ye,xe,nt,ze))}function kI(t){Yu(Jd(lt(),t))}function dv(t,n,r,o,u){return Ju(t,qi(lt(),n,r,o),u,!1),dv}function hv(t,n,r,o,u,l,f){return Ju(t,ol(lt(),n,r,o,u,l),f,!1),hv}function fv(t,n,r,o,u,l,f,m,T){return Ju(t,zl(lt(),n,r,o,u,l,f,m),T,!1),fv}function pv(t,n,r,o,u,l,f,m,T,R,V){return Ju(t,Gl(lt(),n,r,o,u,l,f,m,T,R),V,!1),pv}function gv(t,n,r,o,u,l,f,m,T,R,V,Y,re){return Ju(t,al(lt(),n,r,o,u,l,f,m,T,R,V,Y),re,!1),gv}function mv(t,n,r,o,u,l,f,m,T,R,V,Y,re,ye,xe){return Ju(t,ql(lt(),n,r,o,u,l,f,m,T,R,V,Y,re,ye),xe,!1),mv}function yv(t,n,r,o,u,l,f,m,T,R,V,Y,re,ye,xe,nt,ze){return Ju(t,Zl(lt(),n,r,o,u,l,f,m,T,R,V,Y,re,ye,xe,nt),ze,!1),yv}function _v(t,n,r,o,u,l,f,m,T,R,V,Y,re,ye,xe,nt,ze,xt,pt){return Ju(t,Ql(lt(),n,r,o,u,l,f,m,T,R,V,Y,re,ye,xe,nt,ze,xt),pt,!1),_v}function vv(t,n,r){return Ju(t,Jd(lt(),n),r,!1),vv}function Ev(t,n,r){const o=lt();return po(o,ut(),n)&&Ta($n(),Ir(),o,t,n,o[11],r,!0),Ev}function Iv(t,n,r){const o=lt();if(po(o,ut(),n)){const l=$n(),f=Ir();Ta(l,f,o,t,n,km(qn(l.data),f,o),r,!0)}return Iv}const sh=void 0;var CT=["en",[["a","p"],["AM","PM"],sh],[["AM","PM"],sh,sh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],sh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],sh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",sh,"{1} 'at' {0}",sh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let Pf={};function DT(t,n,r){"string"!=typeof n&&(r=n,n=t[zn.LocaleId]),n=n.toLowerCase().replace(/_/g,"-"),Pf[n]=t,r&&(Pf[n][zn.ExtraData]=r)}function wv(t){const n=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let r=FI(n);if(r)return r;const o=n.split("-")[0];if(r=FI(o),r)return r;if("en"===o)return CT;throw new Error(`Missing locale data for the locale "${t}".`)}function ST(t){return wv(t)[zn.CurrencyCode]||null}function LI(t){return wv(t)[zn.PluralCase]}function FI(t){return t in Pf||(Pf[t]=an.ng&&an.ng.common&&an.ng.common.locales&&an.ng.common.locales[t]),Pf[t]}function AT(){Pf={}}var zn=(()=>((zn=zn||{})[zn.LocaleId=0]="LocaleId",zn[zn.DayPeriodsFormat=1]="DayPeriodsFormat",zn[zn.DayPeriodsStandalone=2]="DayPeriodsStandalone",zn[zn.DaysFormat=3]="DaysFormat",zn[zn.DaysStandalone=4]="DaysStandalone",zn[zn.MonthsFormat=5]="MonthsFormat",zn[zn.MonthsStandalone=6]="MonthsStandalone",zn[zn.Eras=7]="Eras",zn[zn.FirstDayOfWeek=8]="FirstDayOfWeek",zn[zn.WeekendRange=9]="WeekendRange",zn[zn.DateFormat=10]="DateFormat",zn[zn.TimeFormat=11]="TimeFormat",zn[zn.DateTimeFormat=12]="DateTimeFormat",zn[zn.NumberSymbols=13]="NumberSymbols",zn[zn.NumberFormats=14]="NumberFormats",zn[zn.CurrencyCode=15]="CurrencyCode",zn[zn.CurrencySymbol=16]="CurrencySymbol",zn[zn.CurrencyName=17]="CurrencyName",zn[zn.Currencies=18]="Currencies",zn[zn.Directionality=19]="Directionality",zn[zn.PluralCase=20]="PluralCase",zn[zn.ExtraData=21]="ExtraData",zn))();const xT=["zero","one","two","few","many"],wg="en-US",VI="USD",Ny={marker:"element"},Py={marker:"ICU"};var Us=(()=>((Us=Us||{})[Us.SHIFT=2]="SHIFT",Us[Us.APPEND_EAGERLY=1]="APPEND_EAGERLY",Us[Us.COMMENT=2]="COMMENT",Us))();let UI=wg;function Oy(t){(function(t,n){null==t&&It(n,t,null,"!=")})(t,"Expected localeId to be defined"),"string"==typeof t&&(UI=t.toLowerCase().replace(/_/g,"-"))}function jI(t,n,r){const o=n.insertBeforeIndex,u=Array.isArray(o)?o[0]:o;return null===u?qc(t,0,r):fe(r[u])}function BI(t,n,r,o,u){const l=n.insertBeforeIndex;if(Array.isArray(l)){let f=o,m=null;if(3&n.type||(m=f,f=u),null!==f&&0==(2&n.flags))for(let T=1;T<l.length;T++)mc(t,f,r[l[T]],m,!1)}}function $I(t,n){if(t.push(n),t.length>1)for(let r=t.length-2;r>=0;r--){const o=t[r];HI(o)||OT(o,n)&&null===MT(o)&&kT(o,n.index)}}function HI(t){return!(64&t.type)}function OT(t,n){return HI(n)||t.index>n.index}function MT(t){const n=t.insertBeforeIndex;return Array.isArray(n)?n[0]:n}function kT(t,n){const r=t.insertBeforeIndex;Array.isArray(r)?r[0]=n:(im(jI,BI),t.insertBeforeIndex=n)}function bg(t,n){const r=t.data[n];return null===r||"string"==typeof r?null:r.hasOwnProperty("currentCaseLViewIndex")?r:r.value}function VT(t,n,r){const o=$l(t,r,64,null,null);return $I(n,o),o}function My(t,n){const r=n[t.currentCaseLViewIndex];return null===r?r:r<0?~r:r}function KI(t){return t>>>17}function WI(t){return(131070&t)>>>1}let Tg=0,Cg=0;function GI(t,n,r,o){const u=r[11];let f,l=null;for(let m=0;m<n.length;m++){const T=n[m];if("string"==typeof T){const R=n[++m];null===r[R]&&(r[R]=on(u,T))}else if("number"==typeof T)switch(1&T){case 0:const R=KI(T);let V,Y;if(null===l&&(l=R,f=Vl(u,o)),R===l?(V=o,Y=f):(V=null,Y=fe(r[R])),null!==Y){const nt=WI(T);mc(u,Y,r[nt],V,!1);const xt=bg(t,nt);if(null!==xt&&"object"==typeof xt){const pt=My(xt,r);null!==pt&&GI(t,xt.create[pt],r,r[xt.anchorIdx])}}break;case 1:const ye=n[++m],xe=n[++m];wp(u,tn(T>>>1,r),null,null,ye,xe,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${T}"`)}else switch(T){case Py:const R=n[++m],V=n[++m];null===r[V]&&co(r[V]=Vs(u,R),r);break;case Ny:const Y=n[++m],re=n[++m];null===r[re]&&co(r[re]=wa(u,Y,null),r)}}}function qI(t,n,r,o,u){for(let l=0;l<r.length;l++){const f=r[l],m=r[++l];if(f&u){let T="";for(let R=l+1;R<=l+m;R++){const V=r[R];if("string"==typeof V)T+=V;else if("number"==typeof V)if(V<0)T+=Pe(n[o-V]);else{const Y=V>>>2;switch(3&V){case 1:const re=r[++R],ye=r[++R],xe=t.data[Y];"string"==typeof xe?wp(n[11],n[Y],null,xe,re,T,ye):Ta(t,xe,n,re,T,n[11],ye,!1);break;case 0:const nt=n[Y];null!==nt&&gr(n[11],nt,T);break;case 2:HT(t,bg(t,Y),n,T);break;case 3:ZI(t,bg(t,Y),o,n)}}}}else{const T=r[l+1];if(T>0&&3==(3&T)){const V=bg(t,T>>>2);n[V.currentCaseLViewIndex]<0&&ZI(t,V,o,n)}}l+=m}}function ZI(t,n,r,o){let u=o[n.currentCaseLViewIndex];if(null!==u){let l=Tg;u<0&&(u=o[n.currentCaseLViewIndex]=~u,l=-1),qI(t,o,n.update[u],r,l)}}function HT(t,n,r,o){const u=function(t,n){let r=t.cases.indexOf(n);if(-1===r)switch(t.type){case 1:{const o=function(t,n){const r=LI(n)(parseInt(t,10)),o=xT[r];return void 0!==o?o:"other"}(n,UI);r=t.cases.indexOf(o),-1===r&&"other"!==o&&(r=t.cases.indexOf("other"));break}case 0:r=t.cases.indexOf("other")}return-1===r?null:r}(n,o);if(My(n,r)!==u&&(QI(t,n,r),r[n.currentCaseLViewIndex]=null===u?null:~u,null!==u)){const f=r[n.anchorIdx];f&&GI(t,n.create[u],r,f)}}function QI(t,n,r){let o=My(n,r);if(null!==o){const u=n.remove[o];for(let l=0;l<u.length;l++){const f=u[l];if(f>0){const m=tn(f,r);null!==m&&Nh(r[11],m)}else QI(t,bg(t,~f),r)}}}function WT(){const t=[];let r,o,n=-1;function l(m,T){n=0;const R=My(m,T);o=null!==R?m.remove[R]:ue}function f(){if(n<o.length){const m=o[n++];return m>0?r[m]:(t.push(n,o),l(r[1].data[~m],r),f())}return 0===t.length?null:(o=t.pop(),n=t.pop(),f())}return function(m,T){for(r=T;t.length;)t.pop();return l(m.value,T),f}}const ky=/\ufffd(\d+):?\d*\ufffd/gi,zT=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,GT=/\ufffd(\d+)\ufffd/,JI=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,qT=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,ZT=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,QT=/\uE500/g;function XI(t,n,r,o,u,l,f){const m=vu(t,o,1,null);let T=m<<Us.SHIFT,R=Oo();n===R&&(R=null),null===R&&(T|=Us.APPEND_EAGERLY),f&&(T|=Us.COMMENT,function(t){void 0===Qa&&(Qa=t())}(WT)),u.push(T,null===l?"":l);const V=$l(t,m,f?32:1,null===l?"":l,null);$I(r,V);const Y=V.index;return vs(V,!1),null!==R&&n!==R&&function(t,n){let r=t.insertBeforeIndex;null===r?(im(jI,BI),r=t.insertBeforeIndex=[null,n]):(function(t,n,r){t!=n&&It(r,t,n,"==")}(Array.isArray(r),!0,"Expecting array here"),r.push(n))}(R,Y),V}function XT(t,n,r,o,u,l,f){const m=f.match(ky),T=XI(t,n,r,l,o,m?null:f,!1);m&&Of(u,f,T.index,null,0,null)}function Of(t,n,r,o,u,l){const f=t.length,m=f+1;t.push(null,null);const T=f+2,R=n.split(ky);let V=0;for(let Y=0;Y<R.length;Y++){const re=R[Y];if(1&Y){const ye=u+parseInt(re,10);t.push(-1-ye),V|=e0(ye)}else""!==re&&t.push(re)}return t.push(r<<2|(o?1:0)),o&&t.push(o,l),t[f]=V,t[m]=t.length-T,V}function tC(t){let n=0;for(let r=0;r<t.length;r++){const o=t[r];"number"==typeof o&&o<0&&n++}return n}function e0(t){return 1<<Math.min(t,31)}function t0(t){let n,l,r="",o=0,u=!1;for(;null!==(n=qT.exec(t));)u?n[0]===`\ufffd/*${l}\ufffd`&&(o=n.index,u=!1):(r+=t.substring(o,n.index+n[0].length),l=n[1],u=!0);return r+=t.substr(o),r}function n0(t,n,r,o,u,l){let f=0;const m={type:u.type,currentCaseLViewIndex:vu(t,n,1,null),anchorIdx:l,cases:[],create:[],remove:[],update:[]};(function(t,n,r){t.push(e0(n.mainBinding),2,-1-n.mainBinding,r<<2|2)})(r,u,l),function(t,n,r){const o=t.data[n];null===o?t.data[n]=r:o.value=r}(t,l,m);const T=u.values;for(let R=0;R<T.length;R++){const V=T[R],Y=[];for(let re=0;re<V.length;re++){const ye=V[re];if("string"!=typeof ye){const xe=Y.push(ye)-1;V[re]=`\x3c!--\ufffd${xe}\ufffd--\x3e`}}f=sC(t,m,n,r,o,u.cases[R],V.join(""),Y)|f}f&&function(t,n,r){t.push(n,1,r<<2|3)}(r,f,l)}function iC(t){const n=[],r=[];let o=1,u=0;const l=bv(t=t.replace(JI,function(f,m,T){return o="select"===T?0:1,u=parseInt(m.substr(1),10),""}));for(let f=0;f<l.length;){let m=l[f++].trim();1===o&&(m=m.replace(/\s*(?:=)?(\w+)\s*/,"$1")),m.length&&n.push(m);const T=bv(l[f++]);n.length>r.length&&r.push(T)}return{type:o,mainBinding:u,cases:n,values:r}}function bv(t){if(!t)return[];let n=0;const r=[],o=[],u=/[{}]/g;let l;for(u.lastIndex=0;l=u.exec(t);){const m=l.index;if("}"==l[0]){if(r.pop(),0==r.length){const T=t.substring(n,m);JI.test(T)?o.push(iC(T)):o.push(T),n=m+1}}else{if(0==r.length){const T=t.substring(n,m);o.push(T),n=m+1}r.push("{")}}const f=t.substring(n);return o.push(f),o}function sC(t,n,r,o,u,l,f,m){const T=[],R=[],V=[];n.cases.push(l),n.create.push(T),n.remove.push(R),n.update.push(V);const re=pc(gs()).getInertBodyElement(f),ye=Uu(re)||re;return ye?r0(t,n,r,o,T,R,V,ye,u,m,0):0}function r0(t,n,r,o,u,l,f,m,T,R,V){let Y=0,re=m.firstChild;for(;re;){const ye=vu(t,r,1,null);switch(re.nodeType){case Node.ELEMENT_NODE:const xe=re,nt=xe.tagName.toLowerCase();if(Vc.hasOwnProperty(nt)){Tv(u,Ny,nt,T,ye),t.data[ye]=nt;const xn=xe.attributes;for(let nr=0;nr<xn.length;nr++){const Ur=xn.item(nr),So=Ur.name.toLowerCase();Ur.value.match(ky)?Uc.hasOwnProperty(So)&&Of(f,Ur.value,ye,Ur.name,0,yd[So]?Fu:qo[So]?md:null):cC(u,ye,Ur)}Y=r0(t,n,r,o,u,l,f,re,ye,R,V+1)|Y,s0(l,ye,V)}break;case Node.TEXT_NODE:const ze=re.textContent||"",xt=ze.match(ky);Tv(u,null,xt?"":ze,T,ye),s0(l,ye,V),xt&&(Y=Of(f,ze,ye,null,0,null)|Y);break;case Node.COMMENT_NODE:const pt=GT.exec(re.textContent||"");if(pt){const nr=R[parseInt(pt[1],10)];Tv(u,Py,"",T,ye),n0(t,r,o,T,nr,ye),oC(l,ye,V)}}re=re.nextSibling}return Y}function s0(t,n,r){0===r&&t.push(n)}function oC(t,n,r){0===r&&(t.push(~n),t.push(n))}function Tv(t,n,r,o,u){null!==n&&t.push(n),t.push(r,u,function(t,n,r){return 0|n<<17|r<<1}(0,o,u))}function cC(t,n,r){t.push(n<<1|1,r.name,r.value)}const lC=/\[(\ufffd.+?\ufffd?)\]/,dC=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,hC=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,fC=/{([A-Z0-9_]+)}/g,pC=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,gC=/\/\*/,mC=/\d+\:(\d+)/;function a0(t,n={}){let r=t;if(lC.test(t)){const o={},u=[0];r=r.replace(dC,(l,f,m)=>{const T=f||m,R=o[T]||[];if(R.length||(T.split("|").forEach(nt=>{const ze=nt.match(mC),xt=ze?parseInt(ze[1],10):0,pt=gC.test(nt);R.push([xt,pt,nt])}),o[T]=R),!R.length)throw new Error(`i18n postprocess: unmatched placeholder - ${T}`);const V=u[u.length-1];let Y=0;for(let nt=0;nt<R.length;nt++)if(R[nt][0]===V){Y=nt;break}const[re,ye,xe]=R[Y];return ye?u.pop():V!==re&&u.push(re),R.splice(Y,1),xe})}return Object.keys(n).length&&(r=r.replace(hC,(o,u,l,f,m,T)=>n.hasOwnProperty(l)?`${u}${n[l]}${T}`:o),r=r.replace(fC,(o,u)=>n.hasOwnProperty(u)?n[u]:o),r=r.replace(pC,(o,u)=>{if(n.hasOwnProperty(u)){const l=n[u];if(!l.length)throw new Error(`i18n postprocess: unmatched ICU - ${o} with key: ${u}`);return l.shift()}return o})),r}function Cv(t,n,r=-1){const o=$n(),u=lt(),l=20+t,f=Cr(o.consts,n),m=Oo();o.firstCreatePass&&function(t,n,r,o,u,l){const f=Oo(),m=[],T=[],R=[[]],V=function(t){return t.replace(QT," ")}(u=function(t,n){if(function(t){return-1===t}(n))return t0(t);{const r=t.indexOf(`:${n}\ufffd`)+2+n.toString().length,o=t.search(new RegExp(`\ufffd\\/\\*\\d+:${n}\ufffd`));return t0(t.substring(r,o))}}(u,l)).split(ZT);for(let Y=0;Y<V.length;Y++){let re=V[Y];if(0==(1&Y)){const ye=bv(re);for(let xe=0;xe<ye.length;xe++){let nt=ye[xe];if(0==(1&xe)){const ze=nt;""!==ze&&XT(t,f,R[0],m,T,r,ze)}else{const ze=nt;if("object"!=typeof ze)throw new Error(`Unable to parse ICU expression in "${u}" message.`);n0(t,r,T,n,ze,XI(t,f,R[0],r,m,"",!0).index)}}}else{const ye=47===re.charCodeAt(0),nt=(re.charCodeAt(ye?1:0),20+Number.parseInt(re.substring(ye?2:1)));if(ye)R.shift(),vs(Oo(),!1);else{const ze=VT(t,R[0],nt);R.unshift([]),vs(ze,!0)}}}t.data[o]={create:m,update:T}}(o,null===m?0:m.index,u,l,f,r);const T=o.data[l],V=Nd(o,m===u[6]?null:m,u);(function(t,n,r,o){const u=t[11];for(let l=0;l<n.length;l++){const f=n[l++],m=n[l],T=(f&Us.COMMENT)===Us.COMMENT,R=(f&Us.APPEND_EAGERLY)===Us.APPEND_EAGERLY,V=f>>>Us.SHIFT;let Y=t[V];null===Y&&(Y=t[V]=T?u.createComment(m):on(u,m)),R&&null!==r&&mc(u,r,Y,o,!1)}})(u,T.create,V,m&&8&m.type?u[m.index]:null),Mn(!0)}function Dv(){Mn(!1)}function u0(t,n,r){Cv(t,n,r),Dv()}function c0(t,n){const r=$n();!function(t,n,r){const u=Jr().index,l=[];if(t.firstCreatePass&&null===t.data[n]){for(let f=0;f<r.length;f+=2){const m=r[f],T=r[f+1];if(""!==T){if(zT.test(T))throw new Error(`ICU expressions are not supported in attributes. Message: "${T}".`);Of(l,T,u,m,tC(l),null)}}t.data[n]=l}}(r,t+20,Cr(r.consts,n))}function Sv(t){return function(t){t&&(Tg|=1<<Math.min(Cg,31)),Cg++}(po(lt(),ut(),t)),Sv}function l0(t){!function(t,n,r){if(Cg>0){const o=t.data[r];qI(t,n,Array.isArray(o)?o:o.update,me()-Cg-1,Tg)}Tg=0,Cg=0}($n(),lt(),t+20)}function d0(t,n={}){return a0(t,n)}function Av(t,n,r,o,u){if(t=J(t),Array.isArray(t))for(let l=0;l<t.length;l++)Av(t[l],n,r,o,u);else{const l=$n(),f=lt();let m=Kl(t)?t:J(t.provide),T=af(t);const R=Jr(),V=1048575&R.providerIndexes,Y=R.directiveStart,re=R.providerIndexes>>20;if(Kl(t)||!t.multi){const ye=new ds(T,u,ed),xe=xv(m,n,u?V:V+re,Y);-1===xe?(C(ru(R,f),l,m),Rv(l,t,n.length),n.push(m),R.directiveStart++,R.directiveEnd++,u&&(R.providerIndexes+=1048576),r.push(ye),f.push(ye)):(r[xe]=ye,f[xe]=ye)}else{const ye=xv(m,n,V+re,Y),xe=xv(m,n,V,V+re),nt=ye>=0&&r[ye],ze=xe>=0&&r[xe];if(u&&!ze||!u&&!nt){C(ru(R,f),l,m);const xt=function(t,n,r,o,u){const l=new ds(t,r,ed);return l.multi=[],l.index=n,l.componentProviders=0,h0(l,u,o&&!r),l}(u?vC:_C,r.length,u,o,T);!u&&ze&&(r[xe].providerFactory=xt),Rv(l,t,n.length,0),n.push(m),R.directiveStart++,R.directiveEnd++,u&&(R.providerIndexes+=1048576),r.push(xt),f.push(xt)}else Rv(l,t,ye>-1?ye:xe,h0(r[u?xe:ye],T,!u&&o));!u&&o&&ze&&r[xe].componentProviders++}}}function Rv(t,n,r,o){const u=Kl(n);if(u||function(t){return!!t.useClass}(n)){const f=(n.useClass||n).prototype.ngOnDestroy;if(f){const m=t.destroyHooks||(t.destroyHooks=[]);if(!u&&n.multi){const T=m.indexOf(r);-1===T?m.push(r,[o,f]):m[T+1].push(o,f)}else m.push(r,f)}}}function h0(t,n,r){return r&&t.componentProviders++,t.multi.push(n)-1}function xv(t,n,r,o){for(let u=r;u<o;u++)if(n[u]===t)return u;return-1}function _C(t,n,r,o){return Nv(this.multi,[])}function vC(t,n,r,o){const u=this.multi;let l;if(this.providerFactory){const f=this.providerFactory.componentProviders,m=Et(r,r[1],this.providerFactory.index,o);l=m.slice(0,f),Nv(u,l);for(let T=f;T<m.length;T++)l.push(m[T])}else l=[],Nv(u,l);return l}function Nv(t,n){for(let r=0;r<t.length;r++)n.push((0,t[r])());return n}function f0(t,n=[]){return r=>{r.providersResolver=(o,u)=>function(t,n,r){const o=$n();if(o.firstCreatePass){const u=oi(t);Av(r,o.data,o.blueprint,u,!0),Av(n,o.data,o.blueprint,u,!1)}}(o,u?u(t):t,n)}}class Pv{}class Mf{}function p0(t){const n=Error(`No component factory found for ${ee(t)}. Did you add it to @NgModule.entryComponents?`);return n[g0]=t,n}const g0="ngComponent";class IC{resolveComponentFactory(n){throw p0(n)}}class oh{}oh.NULL=new IC;class wC{constructor(n,r,o){this._parent=r,this._ngModule=o,this._factories=new Map;for(let u=0;u<n.length;u++){const l=n[u];this._factories.set(l.componentType,l)}}resolveComponentFactory(n){let r=this._factories.get(n);if(!r&&this._parent&&(r=this._parent.resolveComponentFactory(n)),!r)throw p0(n);return new Ov(r,this._ngModule)}}class Ov extends Mf{constructor(n,r){super(),this.factory=n,this.ngModule=r,this.selector=n.selector,this.componentType=n.componentType,this.ngContentSelectors=n.ngContentSelectors,this.inputs=n.inputs,this.outputs=n.outputs}create(n,r,o,u){return this.factory.create(n,r,o,u||this.ngModule)}}function Ly(...t){}function m0(){return ah(Jr(),lt())}function ah(t,n){return new ec(Ln(t,n))}const y0=m0,bC=y0;let ec=(()=>{class t{constructor(r){this.nativeElement=r}}return t.__NG_ELEMENT_ID__=bC,t})();function _0(t){return t instanceof ec?t.nativeElement:t}class Fy{}let v0=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>TC(),t})();const E0=I0,TC=E0;function I0(){const t=lt(),r=sr(Jr().index,t);return function(t){return t[11]}(lr(r)?r:t)}let Mv=(()=>{class t{}return t.\u0275prov=Wt({token:t,providedIn:"root",factory:()=>null}),t})();class w0{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const kv=new w0("12.2.4");class Lv{constructor(){}supports(n){return Qd(n)}create(n){return new b0(n)}}const DC=(t,n)=>n;class b0{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||DC}forEachItem(n){let r;for(r=this._itHead;null!==r;r=r._next)n(r)}forEachOperation(n){let r=this._itHead,o=this._removalsHead,u=0,l=null;for(;r||o;){const f=!o||r&&r.currentIndex<C0(o,u,l)?r:o,m=C0(f,u,l),T=f.currentIndex;if(f===o)u--,o=o._nextRemoved;else if(r=r._next,null==f.previousIndex)u++;else{l||(l=[]);const R=m-u,V=T-u;if(R!=V){for(let re=0;re<R;re++){const ye=re<l.length?l[re]:l[re]=0,xe=ye+re;V<=xe&&xe<R&&(l[re]=ye+1)}l[f.previousIndex]=V-R}}m!==T&&n(f,m,T)}}forEachPreviousItem(n){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)n(r)}forEachAddedItem(n){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)n(r)}forEachMovedItem(n){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)n(r)}forEachRemovedItem(n){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)n(r)}forEachIdentityChange(n){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)n(r)}diff(n){if(null==n&&(n=[]),!Qd(n))throw new Error(`Error trying to diff '${ee(n)}'. Only arrays and iterables are allowed`);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let u,l,f,r=this._itHead,o=!1;if(Array.isArray(n)){this.length=n.length;for(let m=0;m<this.length;m++)l=n[m],f=this._trackByFn(m,l),null!==r&&Object.is(r.trackById,f)?(o&&(r=this._verifyReinsertion(r,l,f,m)),Object.is(r.item,l)||this._addIdentityChange(r,l)):(r=this._mismatch(r,l,f,m),o=!0),r=r._next}else u=0,function(t,n){if(Array.isArray(t))for(let r=0;r<t.length;r++)n(t[r]);else{const r=t[Oi()]();let o;for(;!(o=r.next()).done;)n(o.value)}}(n,m=>{f=this._trackByFn(u,m),null!==r&&Object.is(r.trackById,f)?(o&&(r=this._verifyReinsertion(r,m,f,u)),Object.is(r.item,m)||this._addIdentityChange(r,m)):(r=this._mismatch(r,m,f,u),o=!0),r=r._next,u++}),this.length=u;return this._truncate(r),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,r,o,u){let l;return null===n?l=this._itTail:(l=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._reinsertAfter(n,l,u)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(o,u))?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._moveAfter(n,l,u)):n=this._addAfter(new SC(r,o),l,u),n}_verifyReinsertion(n,r,o,u){let l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==l?n=this._reinsertAfter(l,n._prev,u):n.currentIndex!=u&&(n.currentIndex=u,this._addToMoves(n,u)),n}_truncate(n){for(;null!==n;){const r=n._next;this._addToRemovals(this._unlink(n)),n=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,r,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const u=n._prevRemoved,l=n._nextRemoved;return null===u?this._removalsHead=l:u._nextRemoved=l,null===l?this._removalsTail=u:l._prevRemoved=u,this._insertAfter(n,r,o),this._addToMoves(n,o),n}_moveAfter(n,r,o){return this._unlink(n),this._insertAfter(n,r,o),this._addToMoves(n,o),n}_addAfter(n,r,o){return this._insertAfter(n,r,o),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,r,o){const u=null===r?this._itHead:r._next;return n._next=u,n._prev=r,null===u?this._itTail=n:u._prev=n,null===r?this._itHead=n:r._next=n,null===this._linkedRecords&&(this._linkedRecords=new T0),this._linkedRecords.put(n),n.currentIndex=o,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const r=n._prev,o=n._next;return null===r?this._itHead=o:r._next=o,null===o?this._itTail=r:o._prev=r,n}_addToMoves(n,r){return n.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new T0),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,r){return n.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class SC{constructor(n,r){this.item=n,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class AC{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,r){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===r||r<=o.currentIndex)&&Object.is(o.trackById,n))return o;return null}remove(n){const r=n._prevDup,o=n._nextDup;return null===r?this._head=o:r._nextDup=o,null===o?this._tail=r:o._prevDup=r,null===this._head}}class T0{constructor(){this.map=new Map}put(n){const r=n.trackById;let o=this.map.get(r);o||(o=new AC,this.map.set(r,o)),o.add(n)}get(n,r){const u=this.map.get(n);return u?u.get(n,r):null}remove(n){const r=n.trackById;return this.map.get(r).remove(n)&&this.map.delete(r),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function C0(t,n,r){const o=t.previousIndex;if(null===o)return o;let u=0;return r&&o<r.length&&(u=r[o]),o+n+u}class Fv{constructor(){}supports(n){return n instanceof Map||qp(n)}create(){return new RC}}class RC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let r;for(r=this._mapHead;null!==r;r=r._next)n(r)}forEachPreviousItem(n){let r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)n(r)}forEachChangedItem(n){let r;for(r=this._changesHead;null!==r;r=r._nextChanged)n(r)}forEachAddedItem(n){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)n(r)}forEachRemovedItem(n){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)n(r)}diff(n){if(n){if(!(n instanceof Map||qp(n)))throw new Error(`Error trying to diff '${ee(n)}'. Only maps and objects are allowed`)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(n,(o,u)=>{if(r&&r.key===u)this._maybeAddToChanges(r,o),this._appendAfter=r,r=r._next;else{const l=this._getOrCreateRecordForKey(u,o);r=this._insertBeforeOrAppend(r,l)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let o=r;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,r){if(n){const o=n._prev;return r._next=n,r._prev=o,n._prev=r,o&&(o._next=r),n===this._mapHead&&(this._mapHead=r),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(n,r){if(this._records.has(n)){const u=this._records.get(n);this._maybeAddToChanges(u,r);const l=u._prev,f=u._next;return l&&(l._next=f),f&&(f._prev=l),u._next=null,u._prev=null,u}const o=new xC(n);return this._records.set(n,o),o.currentValue=r,this._addToAdditions(o),o}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,r){Object.is(r,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=r,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,r){n instanceof Map?n.forEach(r):Object.keys(n).forEach(o=>r(n[o],o))}}class xC{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Vv(){return new Vy([new Lv])}let Vy=(()=>{class t{constructor(r){this.factories=r}static create(r,o){if(null!=o){const u=o.factories.slice();r=r.concat(u)}return new t(r)}static extend(r){return{provide:t,useFactory:o=>t.create(r,o||Vv()),deps:[[t,new oa,new Vo]]}}find(r){const o=this.factories.find(u=>u.supports(r));if(null!=o)return o;throw new Error(`Cannot find a differ supporting object '${r}' of type '${function(t){return t.name||typeof t}(r)}'`)}}return t.\u0275prov=Wt({token:t,providedIn:"root",factory:Vv}),t})();function Uv(){return new Uy([new Fv])}let Uy=(()=>{class t{constructor(r){this.factories=r}static create(r,o){if(o){const u=o.factories.slice();r=r.concat(u)}return new t(r)}static extend(r){return{provide:t,useFactory:o=>t.create(r,o||Uv()),deps:[[t,new oa,new Vo]]}}find(r){const o=this.factories.find(u=>u.supports(r));if(o)return o;throw new Error(`Cannot find a differ supporting object '${r}'`)}}return t.\u0275prov=Wt({token:t,providedIn:"root",factory:Uv}),t})();function jy(t,n,r,o,u=!1){for(;null!==r;){const l=n[r.index];if(null!==l&&o.push(fe(l)),vr(l))for(let m=10;m<l.length;m++){const T=l[m],R=T[1].firstChild;null!==R&&jy(T[1],T,R,o)}const f=r.type;if(8&f)jy(t,n,r.child,o);else if(32&f){const m=g(r,n);let T;for(;T=m();)o.push(T)}else if(16&f){const m=Wu(n,r);if(Array.isArray(m))o.push(...m);else{const T=v(n[16]);jy(T[1],T,m,o,!0)}}r=u?r.projectionNext:r.next}return o}class Sg{constructor(n,r){this._lView=n,this._cdRefInjectingView=r,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,r=n[1];return jy(r,n,r.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(vr(n)){const r=n[8],o=r?r.indexOf(this):-1;o>-1&&(zc(n,o),Mo(r,o))}this._attachedToViewContainer=!1}Gc(this._lView[1],this._lView)}onDestroy(n){Gh(this._lView[1],this._lView,null,n)}markForCheck(){Dp(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Yh(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,n,r){X(!0);try{Yh(t,n,r)}finally{X(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var n;this._appRef=null,Od(this._lView[1],n=this._lView,n[11],2,null,null)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=n}}class PC extends Sg{constructor(n){super(n),this._view=n}detectChanges(){Sp(this._view)}checkNoChanges(){!function(t){X(!0);try{Sp(t)}finally{X(!1)}}(this._view)}get context(){return null}}const D0=S0,OC=D0;let jv=(()=>{class t{}return t.__NG_ELEMENT_ID__=OC,t})();function S0(t){return function(t,n,r){if(Bi(t)&&!r){const o=sr(t.index,n);return new Sg(o,o)}return 47&t.type?new Sg(n[16],n):null}(Jr(),lt(),16==(16&t))}const kC=[new Fv],A0=new Vy([new Lv]),R0=new Uy(kC),x0=N0,FC=x0;let uh=(()=>{class t{}return t.__NG_ELEMENT_ID__=FC,t})();const VC=uh,UC=class extends VC{constructor(n,r,o){super(),this._declarationLView=n,this._declarationTContainer=r,this.elementRef=o}createEmbeddedView(n){const r=this._declarationTContainer.tViews,o=_u(this._declarationLView,r,n,16,null,r.declTNode,null,null,null,null);o[17]=this._declarationLView[this._declarationTContainer.index];const l=this._declarationLView[19];return null!==l&&(o[19]=l.createEmbeddedView(r)),Qc(r,o,n),new Sg(o)}};function N0(){return Ag(Jr(),lt())}function Ag(t,n){return 4&t.type?new UC(n,t,ah(t,n)):null}class id{}class Bv{}const P0=O0,jC=P0;let Rg=(()=>{class t{}return t.__NG_ELEMENT_ID__=jC,t})();function O0(){return L0(Jr(),lt())}const BC=Rg,M0=class extends BC{constructor(n,r,o){super(),this._lContainer=n,this._hostTNode=r,this._hostLView=o}get element(){return ah(this._hostTNode,this._hostLView)}get injector(){return new or(this._hostTNode,this._hostLView)}get parentInjector(){const n=oo(this._hostTNode,this._hostLView);if(tt(n)){const r=ws(n,this._hostLView),o=gt(n);return new or(r[1].data[o+8],r)}return new or(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const r=k0(this._lContainer);return null!==r&&r[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,r,o){const u=n.createEmbeddedView(r||{});return this.insert(u,o),u}createComponent(n,r,o,u,l){const f=o||this.parentInjector;if(!l&&null==n.ngModule&&f){const T=f.get(id,null);T&&(l=T)}const m=n.create(f,u,void 0,l);return this.insert(m.hostView,r),m}insert(n,r){const o=n._lView,u=o[1];if(vr(o[3])){const V=this.indexOf(n);if(-1!==V)this.detach(V);else{const Y=o[3],re=new M0(Y,Y[6],Y[3]);re.detach(re.indexOf(n))}}const l=this._adjustIndex(r),f=this._lContainer;!function(t,n,r,o){const u=10+o,l=r.length;o>0&&(r[u-1][4]=n),o<l-10?(n[4]=r[u],ja(r,10+o,n)):(r.push(n),n[4]=null),n[3]=r;const f=n[17];null!==f&&r!==f&&function(t,n){const r=t[9];n[16]!==n[3][3][16]&&(t[2]=!0),null===r?t[9]=[n]:r.push(n)}(f,n);const m=n[19];null!==m&&m.insertView(t),n[2]|=128}(u,o,f,l);const m=zu(l,f),T=o[11],R=Vl(T,f[7]);return null!==R&&function(t,n,r,o,u,l){o[0]=u,o[6]=n,Od(t,o,r,1,u,l)}(u,f[6],T,o,R,m),n.attachToViewContainerRef(),ja($v(f),l,n),n}move(n,r){return this.insert(n,r)}indexOf(n){const r=k0(this._lContainer);return null!==r?r.indexOf(n):-1}remove(n){const r=this._adjustIndex(n,-1),o=zc(this._lContainer,r);o&&(Mo($v(this._lContainer),r),Gc(o[1],o))}detach(n){const r=this._adjustIndex(n,-1),o=zc(this._lContainer,r);return o&&null!=Mo($v(this._lContainer),r)?new Sg(o):null}_adjustIndex(n,r=0){return null==n?this.length+r:n}};function k0(t){return t[8]}function $v(t){return t[8]||(t[8]=[])}function L0(t,n){let r;const o=n[t.index];if(vr(o))r=o;else{let u;if(8&t.type)u=fe(o);else{const l=n[11];u=l.createComment("");const f=Ln(t,n);mc(l,Vl(l,f),u,function(t,n){return N(t)?t.nextSibling(n):n.nextSibling}(l,f),!1)}n[t.index]=r=Zh(o,n,u,t),Kd(n,r)}return new M0(r,t,n)}function F0(t,n,r,o){let u=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${n}'. Current value: '${r}'.`;return o&&(u+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,n){const r=new Error(t);return V0(r,n),r}(u,t)}function V0(t,n){t[ca]=n,t[Bu]=n.logError.bind(n)}function U0(t){return new Error(`ViewDestroyedError: Attempt to use a destroyed view: ${t}`)}function By(t,n,r){const o=t.state,u=1792&o;return u===n?(t.state=-1793&o|r,t.initIndex=-1,!0):u===r}function $y(t,n,r){return(1792&t.state)===n&&t.initIndex<=r&&(t.initIndex=r+1,!0)}function xg(t,n){return t.nodes[n]}function Ii(t,n){return t.nodes[n]}function sd(t,n){return t.nodes[n]}function kf(t,n){return t.nodes[n]}function Ng(t,n){return t.nodes[n]}class WC{}const hr={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},Cu=()=>{},Hv=new Map;function Jo(t){let n=Hv.get(t);return n||(n=ee(t)+"_"+Hv.size,Hv.set(t,n)),n}function zC(t,n,r,o){if(Ds.isWrapped(o)){o=Ds.unwrap(o);const u=t.def.nodes[n].bindingIndex+r,l=Ds.unwrap(t.oldValues[u]);t.oldValues[u]=new Ds(l)}return o}const j0="$$undefined",B0="$$empty";function GC(t){return{id:j0,styles:t.styles,encapsulation:t.encapsulation,data:t.data}}let qC=0;function Du(t,n,r,o){return!(!(2&t.state)&&Object.is(t.oldValues[n.bindingIndex+r],o))}function As(t,n,r,o){return!!Du(t,n,r,o)&&(t.oldValues[n.bindingIndex+r]=o,!0)}function tc(t,n,r,o){const u=t.oldValues[n.bindingIndex+r];if(1&t.state||!fo(u,o)){const l=n.bindings[r].name;throw F0(hr.createDebugContext(t,n.nodeIndex),`${l}: ${u}`,`${l}: ${o}`,0!=(1&t.state))}}function $0(t){let n=t;for(;n;)2&n.def.flags&&(n.state|=8),n=n.viewContainerParent||n.parent}function QC(t,n){let r=t;for(;r&&r!==n;)r.state|=64,r=r.viewContainerParent||r.parent}function H0(t,n,r,o){try{return $0(33554432&t.def.nodes[n].flags?Ii(t,n).componentView:t),hr.handleEvent(t,n,r,o)}catch(u){t.root.errorHandler.handleError(u)}}function Kv(t){return t.parent?Ii(t.parent,t.parentNodeDef.nodeIndex):null}function Lf(t){return t.parent?t.parentNodeDef.parent:null}function Pg(t,n){switch(201347067&n.flags){case 1:return Ii(t,n.nodeIndex).renderElement;case 2:return xg(t,n.nodeIndex).renderText}}function YC(t,n){return t?`${t}:${n}`:n}function ch(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function JC(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function K0(t){return 1<<t%32}function Wv(t){const n={};let r=0;const o={};return t&&t.forEach(([u,l])=>{"number"==typeof u?(n[u]=l,r|=K0(u)):o[u]=l}),{matchedQueries:n,references:o,matchedQueryIds:r}}function Og(t,n){return t.map(r=>{let o,u;return Array.isArray(r)?[u,o]=r:(u=0,o=r),o&&("function"==typeof o||"object"==typeof o)&&n&&Object.defineProperty(o,Lo,{value:n,configurable:!0}),{flags:u,token:o,tokenKey:Jo(o)}})}function zv(t,n,r){let o=r.renderParent;return o?0==(1&o.flags)||0==(33554432&o.flags)||o.element.componentRendererType&&(o.element.componentRendererType.encapsulation===at.ShadowDom||1===o.element.componentRendererType.encapsulation)?Ii(t,r.renderParent.nodeIndex).renderElement:void 0:n}const W0=new WeakMap;function Ff(t){let n=W0.get(t);return n||(n=t(()=>Cu),n.factory=t,W0.set(t,n)),n}function Hy(t,n,r,o,u){3===n&&(r=t.renderer.parentNode(Pg(t,t.def.lastRenderRootNode))),z0(t,n,0,t.def.nodes.length-1,r,o,u)}function z0(t,n,r,o,u,l,f){for(let m=r;m<=o;m++){const T=t.def.nodes[m];11&T.flags&&q0(t,T,n,u,l,f),m+=T.childCount}}function G0(t,n,r,o,u,l){let f=t;for(;f&&!ch(f);)f=f.parent;const m=f.parent,T=Lf(f),V=T.nodeIndex+T.childCount;for(let Y=T.nodeIndex+1;Y<=V;Y++){const re=m.def.nodes[Y];re.ngContentIndex===n&&q0(m,re,r,o,u,l),Y+=re.childCount}if(!m.parent){const Y=t.root.projectableNodes[n];if(Y)for(let re=0;re<Y.length;re++)Ky(t,Y[re],r,o,u,l)}}function q0(t,n,r,o,u,l){if(8&n.flags)G0(t,n.ngContent.index,r,o,u,l);else{const f=Pg(t,n);if(3===r&&33554432&n.flags&&48&n.bindingFlags?(16&n.bindingFlags&&Ky(t,f,r,o,u,l),32&n.bindingFlags&&Ky(Ii(t,n.nodeIndex).componentView,f,r,o,u,l)):Ky(t,f,r,o,u,l),16777216&n.flags){const m=Ii(t,n.nodeIndex).viewContainer._embeddedViews;for(let T=0;T<m.length;T++)Hy(m[T],r,o,u,l)}1&n.flags&&!n.element.name&&z0(t,r,n.nodeIndex+1,n.nodeIndex+n.childCount,o,u,l)}}function Ky(t,n,r,o,u,l){const f=t.renderer;switch(r){case 1:f.appendChild(o,n);break;case 2:f.insertBefore(o,n,u);break;case 3:f.removeChild(o,n);break;case 0:l.push(n)}}const eD=/^:([^:]+):(.+)$/;function Gv(t){if(":"===t[0]){const n=t.match(eD);return[n[1],n[2]]}return["",t]}function qv(t){let n=0;for(let r=0;r<t.length;r++)n|=t[r].flags;return n}function tD(t,n){let r="";for(let o=0;o<2*t;o+=2)r=r+n[o]+ur(n[o+1]);return r+n[2*t]}function nD(t,n,r,o,u,l,f,m,T,R,V,Y,re,ye,xe,nt,ze,xt,pt,xn){switch(t){case 1:return n+ur(r)+o;case 2:return n+ur(r)+o+ur(u)+l;case 3:return n+ur(r)+o+ur(u)+l+ur(f)+m;case 4:return n+ur(r)+o+ur(u)+l+ur(f)+m+ur(T)+R;case 5:return n+ur(r)+o+ur(u)+l+ur(f)+m+ur(T)+R+ur(V)+Y;case 6:return n+ur(r)+o+ur(u)+l+ur(f)+m+ur(T)+R+ur(V)+Y+ur(re)+ye;case 7:return n+ur(r)+o+ur(u)+l+ur(f)+m+ur(T)+R+ur(V)+Y+ur(re)+ye+ur(xe)+nt;case 8:return n+ur(r)+o+ur(u)+l+ur(f)+m+ur(T)+R+ur(V)+Y+ur(re)+ye+ur(xe)+nt+ur(ze)+xt;case 9:return n+ur(r)+o+ur(u)+l+ur(f)+m+ur(T)+R+ur(V)+Y+ur(re)+ye+ur(xe)+nt+ur(ze)+xt+ur(pt)+xn;default:throw new Error("Does not support more than 9 expressions")}}function ur(t){return null!=t?t.toString():""}const rD={},Mg={},iD=Jo(Kr),sD=Jo(Eu),oD=Jo(id);function aD(t,n,r,o){return r=J(r),{index:-1,deps:Og(o,ee(n)),flags:t,token:n,value:r}}function uD(t){const n={},r=[];let o=null;for(let u=0;u<t.length;u++){const l=t[u];l.token===nl&&(o=l.value),1073741824&l.flags&&r.push(l.token),l.index=u,n[Jo(l.token)]=l}return{factory:null,providersByKey:n,providers:t,modules:r,scope:o}}function pa(t,n,r=Kr.THROW_IF_NOT_FOUND){const o=Go(t);try{if(8&n.flags)return n.token;if(2&n.flags&&(r=null),1&n.flags)return t._parent.get(n.token,r);const u=n.tokenKey;switch(u){case iD:case sD:case oD:return t}const l=t._def.providersByKey[u];let f;if(l){let m=t._providers[l.index];return void 0===m&&(m=t._providers[l.index]=Zv(t,l)),m===Mg?void 0:m}if((f=Dn(n.token))&&function(t,n){const r=J(n.providedIn);return null!=r&&("any"===r||r===t._def.scope||function(t,n){return t._def.modules.indexOf(n)>-1}(t,r))}(t,f)){const m=t._providers.length;return t._def.providers[m]=t._def.providersByKey[n.tokenKey]={flags:5120,value:f.factory,deps:[],index:m,token:n.token},t._providers[m]=Mg,t._providers[m]=Zv(t,t._def.providersByKey[n.tokenKey])}return 4&n.flags?r:t._parent.get(n.token,r)}finally{Go(o)}}function Zv(t,n){let r;switch(201347067&n.flags){case 512:r=function(t,n,r){const o=r.length;switch(o){case 0:return new n;case 1:return new n(pa(t,r[0]));case 2:return new n(pa(t,r[0]),pa(t,r[1]));case 3:return new n(pa(t,r[0]),pa(t,r[1]),pa(t,r[2]));default:const u=[];for(let l=0;l<o;l++)u[l]=pa(t,r[l]);return new n(...u)}}(t,n.value,n.deps);break;case 1024:r=function(t,n,r){const o=r.length;switch(o){case 0:return n();case 1:return n(pa(t,r[0]));case 2:return n(pa(t,r[0]),pa(t,r[1]));case 3:return n(pa(t,r[0]),pa(t,r[1]),pa(t,r[2]));default:const u=[];for(let l=0;l<o;l++)u[l]=pa(t,r[l]);return n(...u)}}(t,n.value,n.deps);break;case 2048:r=pa(t,n.deps[0]);break;case 256:r=n.value}return r!==Mg&&null!==r&&"object"==typeof r&&!(131072&n.flags)&&"function"==typeof r.ngOnDestroy&&(n.flags|=131072),void 0===r?Mg:r}function Qv(t,n){const r=t.viewContainer._embeddedViews;if((null==n||n>=r.length)&&(n=r.length-1),n<0)return null;const o=r[n];return o.viewContainerParent=null,Mo(r,n),hr.dirtyParentQueries(o),Yv(o),o}function Z0(t,n,r){const o=n?Pg(n,n.def.lastRenderRootNode):t.renderElement,u=r.renderer.parentNode(o),l=r.renderer.nextSibling(o);Hy(r,2,u,l,void 0)}function Yv(t){Hy(t,3,null,null,void 0)}const ED={};function ID(t,n,r,o,u,l){return new wD(t,n,r,o,u,l)}function Q0(t){return t.viewDefFactory}class wD extends Mf{constructor(n,r,o,u,l,f){super(),this.selector=n,this.componentType=r,this._inputs=u,this._outputs=l,this.ngContentSelectors=f,this.viewDefFactory=o}get inputs(){const n=[],r=this._inputs;for(let o in r)n.push({propName:o,templateName:r[o]});return n}get outputs(){const n=[];for(let r in this._outputs)n.push({propName:r,templateName:this._outputs[r]});return n}create(n,r,o,u){if(!u)throw new Error("ngModule should be provided");const l=Ff(this.viewDefFactory),f=l.nodes[0].element.componentProvider.nodeIndex,m=hr.createRootView(n,r||[],o,l,u,ED),T=sd(m,f).instance;return o&&m.renderer.setAttribute(Ii(m,0).renderElement,"ng-version",kv.full),new bD(m,new kg(m),T)}}class bD extends Pv{constructor(n,r,o){super(),this._view=n,this._viewRef=r,this._component=o,this._elDef=this._view.def.nodes[0],this.hostView=r,this.changeDetectorRef=r,this.instance=o}get location(){return new ec(Ii(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new Lg(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(n){this._viewRef.onDestroy(n)}}function TD(t,n,r){return new CD(t,n,r)}class CD{constructor(n,r,o){this._view=n,this._elDef=r,this._data=o,this._embeddedViews=[]}get element(){return new ec(this._data.renderElement)}get injector(){return new Lg(this._view,this._elDef)}get parentInjector(){let n=this._view,r=this._elDef.parent;for(;!r&&n;)r=Lf(n),n=n.parent;return n?new Lg(n,r):new Lg(this._view,null)}clear(){for(let r=this._embeddedViews.length-1;r>=0;r--){const o=Qv(this._data,r);hr.destroyView(o)}}get(n){const r=this._embeddedViews[n];if(r){const o=new kg(r);return o.attachToViewContainerRef(this),o}return null}get length(){return this._embeddedViews.length}createEmbeddedView(n,r,o){const u=n.createEmbeddedView(r||{});return this.insert(u,o),u}createComponent(n,r,o,u,l){const f=o||this.parentInjector;!l&&!(n instanceof Ov)&&(l=f.get(id));const m=n.create(f,u,void 0,l);return this.insert(m.hostView,r),m}insert(n,r){if(n.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const o=n;return function(t,n,r,o){let u=n.viewContainer._embeddedViews;null==r&&(r=u.length),o.viewContainerParent=t,ja(u,r,o),function(t,n){const r=Kv(n);if(!r||r===t||16&n.state)return;n.state|=16;let o=r.template._projectedViews;o||(o=r.template._projectedViews=[]),o.push(n),function(t,n){if(4&n.flags)return;t.nodeFlags|=4,n.flags|=4;let r=n.parent;for(;r;)r.childFlags|=4,r=r.parent}(n.parent.def,n.parentNodeDef)}(n,o),hr.dirtyParentQueries(o),Z0(n,r>0?u[r-1]:null,o)}(this._view,this._data,r,o._view),o.attachToViewContainerRef(this),n}move(n,r){if(n.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const o=this._embeddedViews.indexOf(n._view);return function(t,n,r){const o=t.viewContainer._embeddedViews,u=o[n];Mo(o,n),null==r&&(r=o.length),ja(o,r,u),hr.dirtyParentQueries(u),Yv(u),Z0(t,r>0?o[r-1]:null,u)}(this._data,o,r),n}indexOf(n){return this._embeddedViews.indexOf(n._view)}remove(n){const r=Qv(this._data,n);r&&hr.destroyView(r)}detach(n){const r=Qv(this._data,n);return r?new kg(r):null}}function DD(t){return new kg(t)}class kg{constructor(n){this._view=n,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(t){const n=[];return Hy(t,0,void 0,void 0,n),n}(this._view)}get context(){return this._view.context}set context(n){this._view.context=n}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){$0(this._view)}detach(){this._view.state&=-5}detectChanges(){const n=this._view.root.rendererFactory;n.begin&&n.begin();try{hr.checkAndUpdateView(this._view)}finally{n.end&&n.end()}}checkNoChanges(){hr.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(n){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(n)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),hr.destroyView(this._view)}detachFromAppRef(){this._appRef=null,Yv(this._view),hr.dirtyParentQueries(this._view)}attachToAppRef(n){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=n}attachToViewContainerRef(n){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=n}}function SD(t,n){return new AD(t,n)}class AD extends uh{constructor(n,r){super(),this._parentView=n,this._def=r}createEmbeddedView(n){return new kg(hr.createEmbeddedView(this._parentView,this._def,this._def.element.template,n))}get elementRef(){return new ec(Ii(this._parentView,this._def.nodeIndex).renderElement)}}function Y0(t,n){return new Lg(t,n)}class Lg{constructor(n,r){this.view=n,this.elDef=r}get(n,r=Kr.THROW_IF_NOT_FOUND){return hr.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:n,tokenKey:Jo(n)},r)}}function RD(t,n){const r=t.def.nodes[n];if(1&r.flags){const o=Ii(t,r.nodeIndex);return r.element.template?o.template:o.renderElement}if(2&r.flags)return xg(t,r.nodeIndex).renderText;if(20240&r.flags)return sd(t,r.nodeIndex).instance;throw new Error(`Illegal state: read nodeValue for node index ${n}`)}function J0(t,n,r,o){return new xD(t,n,r,o)}class xD{constructor(n,r,o,u){this._moduleType=n,this._parent=r,this._bootstrapComponents=o,this._def=u,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){const n=t._def,r=t._providers=ra(n.providers.length);for(let o=0;o<n.providers.length;o++){const u=n.providers[o];4096&u.flags||void 0===r[o]&&(r[o]=Zv(t,u))}}(this)}get(n,r=Kr.THROW_IF_NOT_FOUND,o=Nt.Default){let u=0;return o&Nt.SkipSelf?u|=1:o&Nt.Self&&(u|=4),pa(this,{token:n,tokenKey:Jo(n),flags:u},r)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(oh)}destroy(){if(this._destroyed)throw new Error(`The ng module ${ee(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(t,n){const r=t._def,o=new Set;for(let u=0;u<r.providers.length;u++)if(131072&r.providers[u].flags){const f=t._providers[u];if(f&&f!==Mg){const m=f.ngOnDestroy;"function"==typeof m&&!o.has(f)&&(m.apply(f),o.add(f))}}}(this),this._destroyListeners.forEach(n=>n())}onDestroy(n){this._destroyListeners.push(n)}}const ND=Jo(v0),PD=Jo(ec),OD=Jo(Rg),MD=Jo(uh),X0=Jo(jv),kD=Jo(Kr),LD=Jo(Eu);function FD(t,n,r,o,u,l,f,m){const T=[];if(f)for(let V in f){const[Y,re]=f[V];T[Y]={flags:8,name:V,nonMinifiedName:re,ns:null,securityContext:null,suffix:null}}const R=[];if(m)for(let V in m)R.push({type:1,propName:V,target:null,eventName:m[V]});return Wy(t,n|=16384,r,o,u,u,l,T,R)}function VD(t,n,r){return Wy(-1,t|=16,null,0,n,n,r)}function UD(t,n,r,o,u){return Wy(-1,t,n,0,r,o,u)}function Wy(t,n,r,o,u,l,f,m,T){const{matchedQueries:R,references:V,matchedQueryIds:Y}=Wv(r);T||(T=[]),m||(m=[]),l=J(l);const re=Og(f,ee(u));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:n,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:R,matchedQueryIds:Y,references:V,ngContentIndex:-1,childCount:o,bindings:m,bindingFlags:qv(m),outputs:T,element:null,provider:{token:u,value:l,deps:re},text:null,query:null,ngContent:null}}function jD(t,n){return ew(t,n)}function BD(t,n){let r=t;for(;r.parent&&!ch(r);)r=r.parent;return Jv(r.parent,Lf(r),!0,n.provider.value,n.provider.deps)}function $D(t,n){const o=Jv(t,n.parent,(32768&n.flags)>0,n.provider.value,n.provider.deps);if(n.outputs.length)for(let u=0;u<n.outputs.length;u++){const l=n.outputs[u],f=o[l.propName];if(!gg(f))throw new Error(`@Output ${l.propName} not initialized in '${o.constructor.name}'.`);{const m=f.subscribe(HD(t,n.parent.nodeIndex,l.eventName));t.disposables[n.outputIndex+u]=m.unsubscribe.bind(m)}}return o}function HD(t,n,r){return o=>H0(t,n,r,o)}function ew(t,n){const r=(8192&n.flags)>0,o=n.provider;switch(201347067&n.flags){case 512:return Jv(t,n.parent,r,o.value,o.deps);case 1024:return function(t,n,r,o,u){const l=u.length;switch(l){case 0:return o();case 1:return o(ga(t,n,r,u[0]));case 2:return o(ga(t,n,r,u[0]),ga(t,n,r,u[1]));case 3:return o(ga(t,n,r,u[0]),ga(t,n,r,u[1]),ga(t,n,r,u[2]));default:const f=[];for(let m=0;m<l;m++)f.push(ga(t,n,r,u[m]));return o(...f)}}(t,n.parent,r,o.value,o.deps);case 2048:return ga(t,n.parent,r,o.deps[0]);case 256:return o.value}}function Jv(t,n,r,o,u){const l=u.length;switch(l){case 0:return new o;case 1:return new o(ga(t,n,r,u[0]));case 2:return new o(ga(t,n,r,u[0]),ga(t,n,r,u[1]));case 3:return new o(ga(t,n,r,u[0]),ga(t,n,r,u[1]),ga(t,n,r,u[2]));default:const f=[];for(let m=0;m<l;m++)f.push(ga(t,n,r,u[m]));return new o(...f)}}const lh={};function ga(t,n,r,o,u=Kr.THROW_IF_NOT_FOUND){if(8&o.flags)return o.token;const l=t;2&o.flags&&(u=null);const f=o.tokenKey;f===X0&&(r=!(!n||!n.element.componentView)),n&&1&o.flags&&(r=!1,n=n.parent);let m=t;for(;m;){if(n)switch(f){case ND:return tw(m,n,r).renderer;case PD:return new ec(Ii(m,n.nodeIndex).renderElement);case OD:return Ii(m,n.nodeIndex).viewContainer;case MD:if(n.element.template)return Ii(m,n.nodeIndex).template;break;case X0:return DD(tw(m,n,r));case kD:case LD:return Y0(m,n);default:const R=(r?n.element.allProviders:n.element.publicProviders)[f];if(R){let V=sd(m,R.nodeIndex);return V||(V={instance:ew(m,R)},m.nodes[R.nodeIndex]=V),V.instance}}r=ch(m),n=Lf(m),m=m.parent,4&o.flags&&(m=null)}const T=l.root.injector.get(o.token,lh);return T!==lh||u===lh?T:l.root.ngModule.injector.get(o.token,u)}function tw(t,n,r){let o;if(r)o=Ii(t,n.nodeIndex).componentView;else for(o=t;o.parent&&!ch(o);)o=o.parent;return o}function nc(t,n,r,o,u,l){if(32768&r.flags){const T=Ii(t,r.parent.nodeIndex).componentView;2&T.def.flags&&(T.state|=8)}if(n.instance[r.bindings[o].name]=u,524288&r.flags){l=l||{};const T=Ds.unwrap(t.oldValues[r.bindingIndex+o]);l[r.bindings[o].nonMinifiedName]=new Rs(T,u,0!=(2&t.state))}return t.oldValues[r.bindingIndex+o]=u,l}function Xv(t,n){if(!(t.def.nodeFlags&n))return;const r=t.def.nodes;let o=0;for(let u=0;u<r.length;u++){const l=r[u];let f=l.parent;for(!f&&l.flags&n&&nw(t,u,l.flags&n,o++),0==(l.childFlags&n)&&(u+=l.childCount);f&&1&f.flags&&u===f.nodeIndex+f.childCount;)f.directChildFlags&n&&(o=GD(t,f,n,o)),f=f.parent}}function GD(t,n,r,o){for(let u=n.nodeIndex+1;u<=n.nodeIndex+n.childCount;u++){const l=t.def.nodes[u];l.flags&r&&nw(t,u,l.flags&r,o++),u+=l.childCount}return o}function nw(t,n,r,o){const u=sd(t,n);if(!u)return;const l=u.instance;!l||(hr.setCurrentNode(t,n),1048576&r&&$y(t,512,o)&&l.ngAfterContentInit(),2097152&r&&l.ngAfterContentChecked(),4194304&r&&$y(t,768,o)&&l.ngAfterViewInit(),8388608&r&&l.ngAfterViewChecked(),131072&r&&l.ngOnDestroy())}class rw extends oh{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const r=Nr(n);return new eE(r,this.ngModule)}}function iw(t){const n=[];for(let r in t)t.hasOwnProperty(r)&&n.push({propName:t[r],templateName:r});return n}const sw=new vi("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Kc});class eE extends Mf{constructor(n,r){super(),this.componentDef=n,this.ngModule=r,this.componentType=n.type,this.selector=n.selectors.map(um).join(","),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!r}get inputs(){return iw(this.componentDef.inputs)}get outputs(){return iw(this.componentDef.outputs)}create(n,r,o,u){const l=(u=u||this.ngModule)?function(t,n){return{get:(r,o,u)=>{const l=t.get(r,lh,u);return l!==lh||o===lh?l:n.get(r,o,u)}}}(n,u.injector):n,f=l.get(Fy,P),m=l.get(Mv,null),T=f.createRenderer(null,this.componentDef),R=this.componentDef.selectors[0][0]||"div",V=o?Bd(T,o,this.componentDef.encapsulation):wa(f.createRenderer(null,this.componentDef),R,function(t){const n=t.toLowerCase();return"svg"===n?ro:"math"===n?ma:null}(R)),Y=this.componentDef.onPush?576:528,re=Zm(),ye=zh(0,null,null,1,0,null,null,null,null,null),xe=_u(null,ye,re,Y,null,null,f,T,m,l);let nt,ze;ls(xe);try{const xt=zp(V,this.componentDef,xe,f,T);if(V)if(o)tu(T,V,["ng-version",kv.full]);else{const{attrs:pt,classes:xn}=function(t){const n=[],r=[];let o=1,u=2;for(;o<t.length;){let l=t[o];if("string"==typeof l)2===u?""!==l&&n.push(l,t[++o]):8===u&&r.push(l);else{if(!ba(u))break;u=l}o++}return{attrs:n,classes:r}}(this.componentDef.selectors[0]);pt&&tu(T,V,pt),xn&&xn.length>0&&Mh(T,V,xn.join(" "))}if(ze=dr(ye,20),void 0!==r){const pt=ze.projection=[];for(let xn=0;xn<this.ngContentSelectors.length;xn++){const nr=r[xn];pt.push(null!=nr?Array.from(nr):null)}}nt=qm(xt,this.componentDef,xe,re,[Qm]),Qc(ye,xe,null)}finally{ii()}return new ow(this.componentType,nt,ah(ze,xe),xe,ze)}}class ow extends Pv{constructor(n,r,o,u,l){super(),this.location=o,this._rootLView=u,this._tNode=l,this.instance=r,this.hostView=this.changeDetectorRef=new PC(u),this.componentType=n}get injector(){return new or(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function aw(t,n,r,o){return de(()=>{const u=t;null!==n&&(u.hasOwnProperty("decorators")&&void 0!==u.decorators?u.decorators.push(...n):u.decorators=n),null!==r&&(u.ctorParameters=r),null!==o&&(u.propDecorators=u.hasOwnProperty("propDecorators")&&void 0!==u.propDecorators?Object.assign(Object.assign({},u.propDecorators),o):o)})}const Vf=new Map;function YD(t,n){const r=Vf.get(t);uw(t,r&&r.moduleType,n.moduleType),Vf.set(t,n)}function uw(t,n,r){if(n&&n!==r)throw new Error(`Duplicate module registered for ${t} - ${ee(n)} vs ${ee(n.name)}`)}function cw(t){const n=new Set;!function r(o){const u=Yr(o,!0),l=u.id;if(null!==l){uw(l,Vf.get(l),o),Vf.set(l,o)}const f=Fs(u.imports);for(const m of f)n.has(m)||(n.add(m),r(m))}(t)}function lw(t){return Vf.get(t)||Wr[t]}class dw extends id{constructor(n,r){super(),this._parent=r,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new rw(this);const o=Yr(n),u=n[H]||null;u&&Oy(u),this._bootstrapComponents=Fs(o.bootstrap),this._r3Injector=sf(n,r,[{provide:id,useValue:this},{provide:oh,useValue:this.componentFactoryResolver}],ee(n)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(n)}get(n,r=Kr.THROW_IF_NOT_FOUND,o=Nt.Default){return n===Kr||n===id||n===Eu?this:this._r3Injector.get(n,r,o)}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class zy extends Bv{constructor(n){super(),this.moduleType=n,null!==Yr(n)&&cw(n)}create(n){return new dw(this.moduleType,n)}}function hw(t,n,r){const o=le()+t,u=lt();return u[o]===tr?Xa(u,o,r?n.call(r):n()):Yd(u,o)}function fw(t,n,r,o){return tE(lt(),le(),t,n,r,o)}function pw(t,n,r,o,u){return nE(lt(),le(),t,n,r,o,u)}function gw(t,n,r,o,u,l){return rE(lt(),le(),t,n,r,o,u,l)}function mw(t,n,r,o,u,l,f){return iE(lt(),le(),t,n,r,o,u,l,f)}function yw(t,n,r,o,u,l,f,m){const T=le()+t,R=lt(),V=Vr(R,T,r,o,u,l);return po(R,T+4,f)||V?Xa(R,T+5,m?n.call(m,r,o,u,l,f):n(r,o,u,l,f)):Yd(R,T+5)}function _w(t,n,r,o,u,l,f,m,T){const R=le()+t,V=lt(),Y=Vr(V,R,r,o,u,l);return sl(V,R+4,f,m)||Y?Xa(V,R+6,T?n.call(T,r,o,u,l,f,m):n(r,o,u,l,f,m)):Yd(V,R+6)}function vw(t,n,r,o,u,l,f,m,T,R){const V=le()+t,Y=lt();let re=Vr(Y,V,r,o,u,l);return If(Y,V+4,f,m,T)||re?Xa(Y,V+7,R?n.call(R,r,o,u,l,f,m,T):n(r,o,u,l,f,m,T)):Yd(Y,V+7)}function Ew(t,n,r,o,u,l,f,m,T,R,V){const Y=le()+t,re=lt(),ye=Vr(re,Y,r,o,u,l);return Vr(re,Y+4,f,m,T,R)||ye?Xa(re,Y+8,V?n.call(V,r,o,u,l,f,m,T,R):n(r,o,u,l,f,m,T,R)):Yd(re,Y+8)}function Iw(t,n,r,o){return sE(lt(),le(),t,n,r,o)}function Fg(t,n){const r=t[n];return r===tr?void 0:r}function tE(t,n,r,o,u,l){const f=n+r;return po(t,f,u)?Xa(t,f+1,l?o.call(l,u):o(u)):Fg(t,f+1)}function nE(t,n,r,o,u,l,f){const m=n+r;return sl(t,m,u,l)?Xa(t,m+2,f?o.call(f,u,l):o(u,l)):Fg(t,m+2)}function rE(t,n,r,o,u,l,f,m){const T=n+r;return If(t,T,u,l,f)?Xa(t,T+3,m?o.call(m,u,l,f):o(u,l,f)):Fg(t,T+3)}function iE(t,n,r,o,u,l,f,m,T){const R=n+r;return Vr(t,R,u,l,f,m)?Xa(t,R+4,T?o.call(T,u,l,f,m):o(u,l,f,m)):Fg(t,R+4)}function sE(t,n,r,o,u,l){let f=n+r,m=!1;for(let T=0;T<u.length;T++)po(t,f++,u[T])&&(m=!0);return m?Xa(t,f,o.apply(l,u)):Fg(t,f)}function ww(t,n){const r=$n();let o;const u=t+20;r.firstCreatePass?(o=function(t,n){if(n)for(let r=n.length-1;r>=0;r--){const o=n[r];if(t===o.name)return o}throw new st("302",`The pipe '${t}' could not be found!`)}(n,r.pipeRegistry),r.data[u]=o,o.onDestroy&&(r.destroyHooks||(r.destroyHooks=[])).push(u,o.onDestroy)):o=r.data[u];const l=o.factory||(o.factory=ai(o.type)),f=Vn(ed);try{const m=ya(!1),T=l();return ya(m),oy(r,lt(),u,T),T}finally{Vn(f)}}function bw(t,n,r){const o=t+20,u=lt(),l=On(u,o);return Ug(u,Vg(u,o)?tE(u,le(),n,l.transform,r,l):l.transform(r))}function Tw(t,n,r,o){const u=t+20,l=lt(),f=On(l,u);return Ug(l,Vg(l,u)?nE(l,le(),n,f.transform,r,o,f):f.transform(r,o))}function Cw(t,n,r,o,u){const l=t+20,f=lt(),m=On(f,l);return Ug(f,Vg(f,l)?rE(f,le(),n,m.transform,r,o,u,m):m.transform(r,o,u))}function Dw(t,n,r,o,u,l){const f=t+20,m=lt(),T=On(m,f);return Ug(m,Vg(m,f)?iE(m,le(),n,T.transform,r,o,u,l,T):T.transform(r,o,u,l))}function Sw(t,n,r){const o=t+20,u=lt(),l=On(u,o);return Ug(u,Vg(u,o)?sE(u,le(),n,l.transform,r,l):l.transform.apply(l,r))}function Vg(t,n){return t[1].data[n].pure}function Ug(t,n){return Ds.isWrapped(n)&&(n=Ds.unwrap(n),t[me()]=tr),n}function oE(t){return n=>{setTimeout(t,void 0,n)}}const Cc=class extends w.xQ{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,r,o){var u,l,f;let m=n,T=r||(()=>null),R=o;if(n&&"object"==typeof n){const Y=n;m=null===(u=Y.next)||void 0===u?void 0:u.bind(Y),T=null===(l=Y.error)||void 0===l?void 0:l.bind(Y),R=null===(f=Y.complete)||void 0===f?void 0:f.bind(Y)}this.__isAsync&&(T=oE(T),m&&(m=oE(m)),R&&(R=oE(R)));const V=super.subscribe({next:m,error:T,complete:R});return n instanceof L.w&&n.add(V),V}};function eS(){return this._results[Oi()]()}class jg{constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const r=Oi(),o=jg.prototype;o[r]||(o[r]=eS)}get changes(){return this._changes||(this._changes=new Cc)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,r){return this._results.reduce(n,r)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,r){const o=this;o.dirty=!1;const u=ks(n);(this._changesDetected=!function(t,n,r){if(t.length!==n.length)return!1;for(let o=0;o<t.length;o++){let u=t[o],l=n[o];if(r&&(u=r(u),l=r(l)),l!==u)return!1}return!0}(o._results,u,r))&&(o._results=u,o.length=u.length,o.last=u[this.length-1],o.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class aE{constructor(n){this.queryList=n,this.matches=null}clone(){return new aE(this.queryList)}setDirty(){this.queryList.setDirty()}}class uE{constructor(n=[]){this.queries=n}createEmbeddedView(n){const r=n.queries;if(null!==r){const o=null!==n.contentQueries?n.contentQueries[0]:r.length,u=[];for(let l=0;l<o;l++){const f=r.getByIndex(l);u.push(this.queries[f.indexInDeclarationView].clone())}return new uE(u)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let r=0;r<this.queries.length;r++)null!==Lw(n,r).matches&&this.queries[r].setDirty()}}class Aw{constructor(n,r,o=null){this.predicate=n,this.flags=r,this.read=o}}class cE{constructor(n=[]){this.queries=n}elementStart(n,r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(n,r)}elementEnd(n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(n)}embeddedTView(n){let r=null;for(let o=0;o<this.length;o++){const u=null!==r?r.length:0,l=this.getByIndex(o).embeddedTView(n,u);l&&(l.indexInDeclarationView=o,null!==r?r.push(l):r=[l])}return null!==r?new cE(r):null}template(n,r){for(let o=0;o<this.queries.length;o++)this.queries[o].template(n,r)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class lE{constructor(n,r=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(n,r){this.isApplyingToNode(r)&&this.matchTNode(n,r)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,r){this.elementStart(n,r)}embeddedTView(n,r){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,r),new lE(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const r=this._declarationNodeIndex;let o=n.parent;for(;null!==o&&8&o.type&&o.index!==r;)o=o.parent;return r===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(n,r){const o=this.metadata.predicate;if(Array.isArray(o))for(let u=0;u<o.length;u++){const l=o[u];this.matchTNodeWithReadOption(n,r,rS(r,l)),this.matchTNodeWithReadOption(n,r,ot(r,n,l,!1,!1))}else o===uh?4&r.type&&this.matchTNodeWithReadOption(n,r,-1):this.matchTNodeWithReadOption(n,r,ot(r,n,o,!1,!1))}matchTNodeWithReadOption(n,r,o){if(null!==o){const u=this.metadata.read;if(null!==u)if(u===ec||u===Rg||u===uh&&4&r.type)this.addMatch(r.index,-2);else{const l=ot(r,n,u,!1,!1);null!==l&&this.addMatch(r.index,l)}else this.addMatch(r.index,o)}}addMatch(n,r){null===this.matches?this.matches=[n,r]:this.matches.push(n,r)}}function rS(t,n){const r=t.localNames;if(null!==r)for(let o=0;o<r.length;o+=2)if(r[o]===n)return r[o+1];return null}function sS(t,n,r,o){return-1===r?function(t,n){return 11&t.type?ah(t,n):4&t.type?Ag(t,n):null}(n,t):-2===r?function(t,n,r){return r===ec?ah(n,t):r===uh?Ag(n,t):r===Rg?L0(n,t):void 0}(t,n,o):Et(t,t[1],r,n)}function Rw(t,n,r,o){const u=n[19].queries[o];if(null===u.matches){const l=t.data,f=r.matches,m=[];for(let T=0;T<f.length;T+=2){const R=f[T];m.push(R<0?null:sS(n,l[R],f[T+1],r.metadata.read))}u.matches=m}return u.matches}function dE(t,n,r,o){const u=t.queries.getByIndex(r),l=u.matches;if(null!==l){const f=Rw(t,n,u,r);for(let m=0;m<l.length;m+=2){const T=l[m];if(T>0)o.push(f[m/2]);else{const R=l[m+1],V=n[-T];for(let Y=10;Y<V.length;Y++){const re=V[Y];re[17]===re[3]&&dE(re[1],re,R,o)}if(null!==V[9]){const Y=V[9];for(let re=0;re<Y.length;re++){const ye=Y[re];dE(ye[1],ye,R,o)}}}}}return o}function xw(t){const n=lt(),r=$n(),o=Dr();$r(o+1);const u=Lw(r,o);if(t.dirty&&Er(n)===(2==(2&u.metadata.flags))){if(null===u.matches)t.reset([]);else{const l=u.crossesNgTemplate?dE(r,n,o,[]):Rw(r,n,u,o);t.reset(l,_0),t.notifyOnChanges()}return!0}return!1}function Nw(t,n,r){const o=$n();o.firstCreatePass&&(kw(o,new Aw(t,n,r),-1),2==(2&n)&&(o.staticViewQueries=!0)),Mw(o,lt(),n)}function Pw(t,n,r,o){const u=$n();if(u.firstCreatePass){const l=Jr();kw(u,new Aw(n,r,o),l.index),function(t,n){const r=t.contentQueries||(t.contentQueries=[]);n!==(r.length?r[r.length-1]:-1)&&r.push(t.queries.length-1,n)}(u,t),2==(2&r)&&(u.staticContentQueries=!0)}Mw(u,lt(),r)}function Ow(){return t=lt(),n=Dr(),t[19].queries[n].queryList;var t,n}function Mw(t,n,r){const o=new jg(4==(4&r));Gh(t,n,o,o.destroy),null===n[19]&&(n[19]=new uE),n[19].queries.push(new aE(o))}function kw(t,n,r){null===t.queries&&(t.queries=new cE),t.queries.track(new lE(n,r))}function Lw(t,n){return t.queries.getByIndex(n)}function Fw(t,n){return Ag(t,n)}const Ca=(()=>({\u0275\u0275attribute:ny,\u0275\u0275attributeInterpolate1:Zp,\u0275\u0275attributeInterpolate2:ry,\u0275\u0275attributeInterpolate3:Qp,\u0275\u0275attributeInterpolate4:Yp,\u0275\u0275attributeInterpolate5:wf,\u0275\u0275attributeInterpolate6:wu,\u0275\u0275attributeInterpolate7:iy,\u0275\u0275attributeInterpolate8:bu,\u0275\u0275attributeInterpolateV:Zu,\u0275\u0275defineComponent:fn,\u0275\u0275defineDirective:eo,\u0275\u0275defineInjectable:Wt,\u0275\u0275defineInjector:Ut,\u0275\u0275defineNgModule:xr,\u0275\u0275definePipe:zr,\u0275\u0275directiveInject:ed,\u0275\u0275getInheritedFactory:Mr,\u0275\u0275inject:Wi,\u0275\u0275injectAttribute:Hi,\u0275\u0275invalidFactory:Af,\u0275\u0275invalidFactoryDep:Ou,\u0275\u0275templateRefExtractor:Fw,\u0275\u0275NgOnChangesFeature:Ti,\u0275\u0275ProvidersFeature:f0,\u0275\u0275CopyDefinitionFeature:Wl,\u0275\u0275InheritDefinitionFeature:Zd,\u0275\u0275nextContext:by,\u0275\u0275namespaceHTML:jn,\u0275\u0275namespaceMathML:gn,\u0275\u0275namespaceSVG:Lt,\u0275\u0275enableBindings:No,\u0275\u0275disableBindings:vo,\u0275\u0275elementStart:Tu,\u0275\u0275elementEnd:dg,\u0275\u0275element:bc,\u0275\u0275elementContainerStart:hg,\u0275\u0275elementContainerEnd:fg,\u0275\u0275elementContainer:vy,\u0275\u0275pureFunction0:hw,\u0275\u0275pureFunction1:fw,\u0275\u0275pureFunction2:pw,\u0275\u0275pureFunction3:gw,\u0275\u0275pureFunction4:mw,\u0275\u0275pureFunction5:yw,\u0275\u0275pureFunction6:_w,\u0275\u0275pureFunction7:vw,\u0275\u0275pureFunction8:Ew,\u0275\u0275pureFunctionV:Iw,\u0275\u0275getCurrentView:Ey,\u0275\u0275restoreView:Da,\u0275\u0275listener:mg,\u0275\u0275projection:Cy,\u0275\u0275syntheticHostProperty:Iv,\u0275\u0275syntheticHostListener:yg,\u0275\u0275pipeBind1:bw,\u0275\u0275pipeBind2:Tw,\u0275\u0275pipeBind3:Cw,\u0275\u0275pipeBind4:Dw,\u0275\u0275pipeBindV:Sw,\u0275\u0275projectionDef:Ty,\u0275\u0275hostProperty:Ev,\u0275\u0275property:td,\u0275\u0275propertyInterpolate:vg,\u0275\u0275propertyInterpolate1:Eg,\u0275\u0275propertyInterpolate2:Dy,\u0275\u0275propertyInterpolate3:xf,\u0275\u0275propertyInterpolate4:s,\u0275\u0275propertyInterpolate5:e,\u0275\u0275propertyInterpolate6:i,\u0275\u0275propertyInterpolate7:a,\u0275\u0275propertyInterpolate8:c,\u0275\u0275propertyInterpolateV:p,\u0275\u0275pipe:ww,\u0275\u0275queryRefresh:xw,\u0275\u0275viewQuery:Nw,\u0275\u0275loadQuery:Ow,\u0275\u0275contentQuery:Pw,\u0275\u0275reference:Jp,\u0275\u0275classMap:lI,\u0275\u0275classMapInterpolate1:_I,\u0275\u0275classMapInterpolate2:vI,\u0275\u0275classMapInterpolate3:EI,\u0275\u0275classMapInterpolate4:II,\u0275\u0275classMapInterpolate5:wI,\u0275\u0275classMapInterpolate6:bI,\u0275\u0275classMapInterpolate7:TI,\u0275\u0275classMapInterpolate8:CI,\u0275\u0275classMapInterpolateV:DI,\u0275\u0275styleMap:Yu,\u0275\u0275styleMapInterpolate1:SI,\u0275\u0275styleMapInterpolate2:AI,\u0275\u0275styleMapInterpolate3:RI,\u0275\u0275styleMapInterpolate4:xI,\u0275\u0275styleMapInterpolate5:NI,\u0275\u0275styleMapInterpolate6:PI,\u0275\u0275styleMapInterpolate7:OI,\u0275\u0275styleMapInterpolate8:MI,\u0275\u0275styleMapInterpolateV:kI,\u0275\u0275styleProp:X_,\u0275\u0275stylePropInterpolate1:dv,\u0275\u0275stylePropInterpolate2:hv,\u0275\u0275stylePropInterpolate3:fv,\u0275\u0275stylePropInterpolate4:pv,\u0275\u0275stylePropInterpolate5:gv,\u0275\u0275stylePropInterpolate6:mv,\u0275\u0275stylePropInterpolate7:yv,\u0275\u0275stylePropInterpolate8:_v,\u0275\u0275stylePropInterpolateV:vv,\u0275\u0275classProp:ev,\u0275\u0275advance:Fh,\u0275\u0275template:sy,\u0275\u0275text:yI,\u0275\u0275textInterpolate:nv,\u0275\u0275textInterpolate1:xy,\u0275\u0275textInterpolate2:rv,\u0275\u0275textInterpolate3:iv,\u0275\u0275textInterpolate4:sv,\u0275\u0275textInterpolate5:ov,\u0275\u0275textInterpolate6:av,\u0275\u0275textInterpolate7:uv,\u0275\u0275textInterpolate8:cv,\u0275\u0275textInterpolateV:lv,\u0275\u0275i18n:u0,\u0275\u0275i18nAttributes:c0,\u0275\u0275i18nExp:Sv,\u0275\u0275i18nStart:Cv,\u0275\u0275i18nEnd:Dv,\u0275\u0275i18nApply:l0,\u0275\u0275i18nPostprocess:d0,\u0275\u0275resolveWindow:Cs,\u0275\u0275resolveDocument:la,\u0275\u0275resolveBody:mu,\u0275\u0275setComponentScope:$t,\u0275\u0275setNgModuleScope:Un,\u0275\u0275sanitizeHtml:_d,\u0275\u0275sanitizeStyle:vd,\u0275\u0275sanitizeResourceUrl:Bc,\u0275\u0275sanitizeScript:Rl,\u0275\u0275sanitizeUrl:Ed,\u0275\u0275sanitizeUrlOrResourceUrl:xl,\u0275\u0275trustConstantHtml:Th,\u0275\u0275trustConstantResourceUrl:ju,forwardRef:ne,resolveForwardRef:J}))();let Uf=null;function dS(){Uf=null}const Bg=[];let hE=!1;function Vw(){if(!hE){hE=!0;try{for(let t=Bg.length-1;t>=0;t--){const{moduleType:n,ngModule:r}=Bg[t];r.declarations&&r.declarations.every(Uw)&&(Bg.splice(t,1),pS(n,r))}}finally{hE=!1}}}function Uw(t){return Array.isArray(t)?t.every(Uw):!!J(t)}function jw(t,n={}){Bw(t,n),function(t,n){Bg.push({moduleType:t,ngModule:n})}(t,n)}function Bw(t,n,r=!1){const o=ks(n.declarations||ue);let u=null;Object.defineProperty(t,Me,{configurable:!0,get:()=>(null===u&&(u=di().compileNgModule(Ca,`ng:///${t.name}/\u0275mod.js`,{type:t,bootstrap:ks(n.bootstrap||ue).map(J),declarations:o.map(J),imports:ks(n.imports||ue).map(J).map(Ww),exports:ks(n.exports||ue).map(J).map(Ww),schemas:n.schemas?ks(n.schemas):null,id:n.id||null}),u.schemas||(u.schemas=[])),u)});let l=null;Object.defineProperty(t,ie,{get:()=>{if(null===l){const m=di();l=m.compileFactory(Ca,`ng:///${t.name}/\u0275fac.js`,{name:t.name,type:t,deps:Pc(t),target:m.FactoryTarget.NgModule,typeArgumentCount:0})}return l},configurable:!1});let f=null;Object.defineProperty(t,ct,{get:()=>{if(null===f){const m={name:t.name,type:t,providers:n.providers||ue,imports:[(n.imports||ue).map(J),(n.exports||ue).map(J)]};f=di().compileInjector(Ca,`ng:///${t.name}/\u0275inj.js`,m)}return f},configurable:!1})}let Gy=new WeakMap,pE=new WeakMap;function fS(){Gy=new WeakMap,pE=new WeakMap,Bg.length=0}function pS(t,n){const r=ks(n.declarations||ue),o=$g(t);r.forEach(u=>{u.hasOwnProperty(we)?gE(Nr(u),o):!u.hasOwnProperty(We)&&!u.hasOwnProperty(Fe)&&(u.ngSelectorScope=t)})}function gE(t,n){t.directiveDefs=()=>Array.from(n.compilation.directives).map(r=>r.hasOwnProperty(we)?Nr(r):fr(r)).filter(r=>!!r),t.pipeDefs=()=>Array.from(n.compilation.pipes).map(r=>mi(r)),t.schemas=n.schemas,t.tView=null}function $g(t){if(!mE(t))throw new Error(`${t.name} does not have a module def (\u0275mod property)`);const n=Yr(t);if(null!==n.transitiveCompileScopes)return n.transitiveCompileScopes;const r={schemas:n.schemas||null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set}};return Fs(n.imports).forEach(o=>{const u=o;if(!mE(u))throw new Error(`Importing ${u.name} which does not have a \u0275mod property`);const l=$g(u);l.exported.directives.forEach(f=>r.compilation.directives.add(f)),l.exported.pipes.forEach(f=>r.compilation.pipes.add(f))}),Fs(n.declarations).forEach(o=>{mi(o)?r.compilation.pipes.add(o):r.compilation.directives.add(o)}),Fs(n.exports).forEach(o=>{const u=o;if(mE(u)){const l=$g(u);l.exported.directives.forEach(f=>{r.compilation.directives.add(f),r.exported.directives.add(f)}),l.exported.pipes.forEach(f=>{r.compilation.pipes.add(f),r.exported.pipes.add(f)})}else mi(u)?r.exported.pipes.add(u):r.exported.directives.add(u)}),n.transitiveCompileScopes=r,r}function Ww(t){return function(t){return void 0!==t.ngModule}(t)?t.ngModule:t}function mE(t){return!!Yr(t)}let yE=0;function zw(t,n){let r=null;(function(t,n){_l(n)&&(hu.set(t,n),hi.add(t))})(t,n),qw(t,n),Object.defineProperty(t,we,{get:()=>{if(null===r){const o=di();if(_l(n)){const R=[`Component '${t.name}' is not resolved:`];throw n.templateUrl&&R.push(` - templateUrl: ${n.templateUrl}`),n.styleUrls&&n.styleUrls.length&&R.push(` - styleUrls: ${JSON.stringify(n.styleUrls)}`),R.push("Did you run and wait for 'resolveComponentResources()'?"),new Error(R.join("\n"))}const u=Uf;let l=n.preserveWhitespaces;void 0===l&&(l=null!==u&&void 0!==u.preserveWhitespaces&&u.preserveWhitespaces);let f=n.encapsulation;void 0===f&&(f=null!==u&&void 0!==u.defaultEncapsulation?u.defaultEncapsulation:at.Emulated);const m=n.templateUrl||`ng:///${t.name}/template.html`,T=Object.assign(Object.assign({},Zw(t,n)),{typeSourceSpan:o.createParseSourceSpan("Component",t.name,m),template:n.template||"",preserveWhitespaces:l,styles:n.styles||ue,animations:n.animations,directives:[],changeDetection:n.changeDetection,pipes:new Map,encapsulation:f,interpolation:n.interpolation,viewProviders:n.viewProviders||null});yE++;try{T.usesInheritance&&Qw(t),r=o.compileComponent(Ca,m,T)}finally{yE--}if(0===yE&&Vw(),function(t){return void 0!==t.ngSelectorScope}(t)){const R=$g(t.ngSelectorScope);gE(r,R)}}return r},configurable:!1})}function _E(t,n){let r=null;qw(t,n||{}),Object.defineProperty(t,We,{get:()=>{if(null===r){const o=Gw(t,n||{});r=di().compileDirective(Ca,o.sourceMapUrl,o.metadata)}return r},configurable:!1})}function Gw(t,n){const r=t&&t.name,o=`ng:///${r}/\u0275dir.js`,u=di(),l=Zw(t,n);return l.typeSourceSpan=u.createParseSourceSpan("Directive",r,o),l.usesInheritance&&Qw(t),{metadata:l,sourceMapUrl:o}}function qw(t,n){let r=null;Object.defineProperty(t,ie,{get:()=>{if(null===r){const o=Gw(t,n),u=di();r=u.compileFactory(Ca,`ng:///${t.name}/\u0275fac.js`,{name:o.metadata.name,type:o.metadata.type,typeArgumentCount:0,deps:Pc(t),target:u.FactoryTarget.Directive})}return r},configurable:!1})}function yS(t){return Object.getPrototypeOf(t.prototype)===Object.prototype}function Zw(t,n){const r=Na(),o=r.ownPropMetadata(t);return{name:t.name,type:t,selector:void 0!==n.selector?n.selector:null,host:n.host||pe,propMetadata:o,inputs:n.inputs||ue,outputs:n.outputs||ue,queries:Yw(t,o,Jw),lifecycle:{usesOnChanges:r.hasLifecycleHook(t,"ngOnChanges")},typeSourceSpan:null,usesInheritance:!yS(t),exportAs:ES(n.exportAs),providers:n.providers||null,viewQueries:Yw(t,o,Xw)}}function Qw(t){const n=Object.prototype;let r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==n;)!fr(r)&&!Nr(r)&&wS(r)&&_E(r,null),r=Object.getPrototypeOf(r)}function _S(t){return"string"==typeof t?tb(t):J(t)}function vS(t,n){return{propertyName:t,predicate:_S(n.selector),descendants:n.descendants,first:n.first,read:n.read?n.read:null,static:!!n.static,emitDistinctChangesOnly:!!n.emitDistinctChangesOnly}}function Yw(t,n,r){const o=[];for(const u in n)if(n.hasOwnProperty(u)){const l=n[u];l.forEach(f=>{if(r(f)){if(!f.selector)throw new Error(`Can't construct a query for the property "${u}" of "${Ne(t)}" since the query selector wasn't defined.`);if(l.some(eb))throw new Error("Cannot combine @Input decorators with query decorators");o.push(vS(u,f))}})}return o}function ES(t){return void 0===t?null:tb(t)}function Jw(t){const n=t.ngMetadataName;return"ContentChild"===n||"ContentChildren"===n}function Xw(t){const n=t.ngMetadataName;return"ViewChild"===n||"ViewChildren"===n}function eb(t){return"Input"===t.ngMetadataName}function tb(t){return t.split(",").map(n=>n.trim())}const IS=["ngOnChanges","ngOnInit","ngOnDestroy","ngDoCheck","ngAfterViewInit","ngAfterViewChecked","ngAfterContentInit","ngAfterContentChecked"];function wS(t){const n=Na();if(IS.some(o=>n.hasLifecycleHook(t,o)))return!0;const r=n.propMetadata(t);for(const o in r){const u=r[o];for(let l=0;l<u.length;l++){const f=u[l],m=f.ngMetadataName;if(eb(f)||Jw(f)||Xw(f)||"Output"===m||"HostBinding"===m||"HostListener"===m)return!0}}return!1}function nb(t,n){let r=null,o=null;Object.defineProperty(t,ie,{get:()=>{if(null===o){const u=rb(t,n),l=di();o=l.compileFactory(Ca,`ng:///${u.name}/\u0275fac.js`,{name:u.name,type:u.type,typeArgumentCount:0,deps:Pc(t),target:l.FactoryTarget.Pipe})}return o},configurable:!1}),Object.defineProperty(t,Fe,{get:()=>{if(null===r){const u=rb(t,n);r=di().compilePipe(Ca,`ng:///${u.name}/\u0275pipe.js`,u)}return r},configurable:!1})}function rb(t,n){return{type:t,name:t.name,pipeName:n.name,pure:void 0===n.pure||n.pure}}const ib=Ko("Directive",(t={})=>t,void 0,void 0,(t,n)=>xS(t,n)),bS=Ko("Component",(t={})=>Object.assign({changeDetection:Je.Default},t),ib,void 0,(t,n)=>RS(t,n)),TS=Ko("Pipe",t=>Object.assign({pure:!0},t),void 0,void 0,(t,n)=>NS(t,n)),CS=bs("Input",t=>({bindingPropertyName:t})),DS=bs("Output",t=>({bindingPropertyName:t})),SS=bs("HostBinding",t=>({hostPropertyName:t})),AS=bs("HostListener",(t,n)=>({eventName:t,args:n})),sb=zw,ob=_E,ab=nb,RS=sb,xS=ob,NS=ab,PS=Ko("NgModule",t=>t,void 0,void 0,(t,n)=>OS(t,n)),ub=jw,OS=ub,vE=new vi("Application Initializer");let jf=(()=>{class t{constructor(r){this.appInits=r,this.resolve=Ly,this.reject=Ly,this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,u)=>{this.resolve=o,this.reject=u})}runInitializers(){if(this.initialized)return;const r=[],o=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let u=0;u<this.appInits.length;u++){const l=this.appInits[u]();if(pg(l))r.push(l);else if(gg(l)){const f=new Promise((m,T)=>{l.subscribe({complete:m,error:T})});r.push(f)}}Promise.all(r).then(()=>{o()}).catch(u=>{this.reject(u)}),0===r.length&&o(),this.initialized=!0}}return t.\u0275fac=function(r){return new(r||t)(Wi(vE,8))},t.\u0275prov=Wt({token:t,factory:t.\u0275fac}),t})();const cb=new vi("AppId");function lb(){return`${EE()}${EE()}${EE()}`}const db={provide:cb,useFactory:lb,deps:[]};function EE(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const hb=new vi("Platform Initializer"),fb=new vi("Platform ID"),pb=new vi("appBootstrapListener"),MS=new vi("Application Packages Root URL");let gb=(()=>{class t{log(r){console.log(r)}warn(r){console.warn(r)}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=Wt({token:t,factory:t.\u0275fac}),t})();const qy=new vi("LocaleId"),mb=new vi("DefaultCurrencyCode"),kS=new vi("Translations"),LS=new vi("TranslationsFormat");var Dc=(()=>((Dc=Dc||{})[Dc.Error=0]="Error",Dc[Dc.Warning=1]="Warning",Dc[Dc.Ignore=2]="Ignore",Dc))();const yb=!0,Hg=yb;class _b{constructor(n,r){this.ngModuleFactory=n,this.componentFactories=r}}const Zy=function(t){return new zy(t)},FS=Zy,vb=function(t){return Promise.resolve(Zy(t))},VS=vb,IE=function(t){const n=Zy(t),o=Fs(Yr(t).declarations).reduce((u,l)=>{const f=Nr(l);return f&&u.push(new eE(f)),u},[]);return new _b(n,o)},US=IE,Eb=function(t){return Promise.resolve(IE(t))},jS=Eb;let Kg=(()=>{class t{constructor(){this.compileModuleSync=FS,this.compileModuleAsync=VS,this.compileModuleAndAllComponentsSync=US,this.compileModuleAndAllComponentsAsync=jS}clearCache(){}clearCacheFor(r){}getModuleId(r){}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=Wt({token:t,factory:t.\u0275fac}),t})();const Ib=new vi("compilerOptions");class wb{}const BS=(()=>Promise.resolve(0))();function wE(t){"undefined"==typeof Zone?BS.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class eu{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Cc(!1),this.onMicrotaskEmpty=new Cc(!1),this.onStable=new Cc(!1),this.onError=new Cc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!o&&r,u.shouldCoalesceRunChangeDetection=o,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function(){let t=an.requestAnimationFrame,n=an.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&n){const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function(t){const n=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(an,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,TE(t),t.isCheckStableRunning=!0,bE(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),TE(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(r,o,u,l,f,m)=>{try{return bb(t),r.invokeTask(u,l,f,m)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===l.type||t.shouldCoalesceRunChangeDetection)&&n(),Tb(t)}},onInvoke:(r,o,u,l,f,m,T)=>{try{return bb(t),r.invoke(u,l,f,m,T)}finally{t.shouldCoalesceRunChangeDetection&&n(),Tb(t)}},onHasTask:(r,o,u,l)=>{r.hasTask(u,l),o===u&&("microTask"==l.change?(t._hasPendingMicrotasks=l.microTask,TE(t),bE(t)):"macroTask"==l.change&&(t.hasPendingMacrotasks=l.macroTask))},onHandleError:(r,o,u,l)=>(r.handleError(u,l),t.runOutsideAngular(()=>t.onError.emit(l)),!1)})}(u)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!eu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(eu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(n,r,o){return this._inner.run(n,r,o)}runTask(n,r,o,u){const l=this._inner,f=l.scheduleEventTask("NgZoneEvent: "+u,n,HS,Ly,Ly);try{return l.runTask(f,r,o)}finally{l.cancelTask(f)}}runGuarded(n,r,o){return this._inner.runGuarded(n,r,o)}runOutsideAngular(n){return this._outer.run(n)}}const HS={};function bE(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function TE(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function bb(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Tb(t){t._nesting--,bE(t)}class Cb{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Cc,this.onMicrotaskEmpty=new Cc,this.onStable=new Cc,this.onError=new Cc}run(n,r,o){return n.apply(r,o)}runGuarded(n,r,o){return n.apply(r,o)}runOutsideAngular(n){return n()}runTask(n,r,o,u){return n.apply(r,o)}}let Db=(()=>{class t{constructor(r){this._ngZone=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{eu.assertNotInAngularZone(),wE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())wE(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(r)||(clearTimeout(o.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,o,u){let l=-1;o&&o>0&&(l=setTimeout(()=>{this._callbacks=this._callbacks.filter(f=>f.timeoutId!==l),r(this._didWork,this.getPendingTasks())},o)),this._callbacks.push({doneCb:r,timeoutId:l,updateCb:u})}whenStable(r,o,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,o,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(r,o,u){return[]}}return t.\u0275fac=function(r){return new(r||t)(Wi(eu))},t.\u0275prov=Wt({token:t,factory:t.\u0275fac}),t})(),CE=(()=>{class t{constructor(){this._applications=new Map,DE.addToWindow(this)}registerApplication(r,o){this._applications.set(r,o)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,o=!0){return DE.findTestabilityInTree(this,r,o)}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=Wt({token:t,factory:t.\u0275fac}),t})();class zS{addToWindow(n){}findTestabilityInTree(n,r,o){return null}}function GS(t){DE=t}let DE=new zS,Sb=!0,Ab=!1;function SE(){return Ab=!0,Sb}function qS(){if(Ab)throw new Error("Cannot enable prod mode after platform setup.");Sb=!1}let rc,ZS=Rb;function Rb(t,n,r){const o=new zy(r);return Promise.resolve(o)}let JS=xb;function xb(t){return t.isBoundToModule}const AE=new vi("AllowMultipleToken");class XS{constructor(n,r){this.name=n,this.token=r}}function Nb(t){if(rc&&!rc.destroyed&&!rc.injector.get(AE,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");rc=t.get(xE);const n=t.get(hb,null);return n&&n.forEach(r=>r()),rc}function Pb(t,n,r=[]){const o=`Platform: ${n}`,u=new vi(o);return(l=[])=>{let f=RE();if(!f||f.injector.get(AE,!1))if(t)t(r.concat(l).concat({provide:u,useValue:!0}));else{const m=r.concat(l).concat({provide:u,useValue:!0},{provide:nl,useValue:"platform"});Nb(Kr.create({providers:m,name:o}))}return Ob(u)}}function Ob(t){const n=RE();if(!n)throw new Error("No platform exists!");if(!n.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return n}function eA(){rc&&!rc.destroyed&&rc.destroy()}function RE(){return rc&&!rc.destroyed?rc:null}let xE=(()=>{class t{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,o){const m=function(t,n){let r;return r="noop"===t?new Cb:("zone.js"===t?void 0:t)||new eu({enableLongStackTrace:SE(),shouldCoalesceEventChangeDetection:!!(null==n?void 0:n.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==n?void 0:n.ngZoneRunCoalescing)}),r}(o?o.ngZone:void 0,{ngZoneEventCoalescing:o&&o.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:o&&o.ngZoneRunCoalescing||!1}),T=[{provide:eu,useValue:m}];return m.run(()=>{const R=Kr.create({providers:T,parent:this.injector,name:r.moduleType.name}),V=r.create(R),Y=V.injector.get(fu,null);if(!Y)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return m.runOutsideAngular(()=>{const re=m.onError.subscribe({next:ye=>{Y.handleError(ye)}});V.onDestroy(()=>{NE(this._modules,V),re.unsubscribe()})}),function(t,n,r){try{const o=r();return pg(o)?o.catch(u=>{throw n.runOutsideAngular(()=>t.handleError(u)),u}):o}catch(o){throw n.runOutsideAngular(()=>t.handleError(o)),o}}(Y,m,()=>{const re=V.injector.get(jf);return re.runInitializers(),re.donePromise.then(()=>(Hg&&Oy(V.injector.get(qy,wg)||wg),this._moduleDoBootstrap(V),V))})})}bootstrapModule(r,o=[]){const u=Mb({},o);return ZS(this.injector,u,r).then(l=>this.bootstrapModuleFactory(l,u))}_moduleDoBootstrap(r){const o=r.injector.get(Wg);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(u=>o.bootstrap(u));else{if(!r.instance.ngDoBootstrap)throw new Error(`The module ${ee(r.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);r.instance.ngDoBootstrap(o)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(r){return new(r||t)(Wi(Kr))},t.\u0275prov=Wt({token:t,factory:t.\u0275fac}),t})();function Mb(t,n){return Array.isArray(n)?n.reduce(Mb,t):Object.assign(Object.assign({},t),n)}let Wg=(()=>{class t{constructor(r,o,u,l,f){this._zone=r,this._injector=o,this._exceptionHandler=u,this._componentFactoryResolver=l,this._initStatus=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new z.y(R=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{R.next(this._stable),R.complete()})}),T=new z.y(R=>{let V;this._zone.runOutsideAngular(()=>{V=this._zone.onStable.subscribe(()=>{eu.assertNotInAngularZone(),wE(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,R.next(!0))})})});const Y=this._zone.onUnstable.subscribe(()=>{eu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{R.next(!1)}))});return()=>{V.unsubscribe(),Y.unsubscribe()}});this.isStable=(0,be.T)(m,T.pipe((0,oe.B)()))}bootstrap(r,o){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let u;u=r instanceof Mf?r:this._componentFactoryResolver.resolveComponentFactory(r),this.componentTypes.push(u.componentType);const l=JS(u)?void 0:this._injector.get(id),m=u.create(Kr.NULL,[],o||u.selector,l),T=m.location.nativeElement,R=m.injector.get(Db,null),V=R&&m.injector.get(CE);return R&&V&&V.registerApplication(T,R),m.onDestroy(()=>{this.detachView(m.hostView),NE(this.components,m),V&&V.unregisterApplication(T)}),this._loadComponent(m),m}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(r))}finally{this._runningTick=!1}}attachView(r){const o=r;this._views.push(o),o.attachToAppRef(this)}detachView(r){const o=r;NE(this._views,o),o.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r),this._injector.get(pb,[]).concat(this._bootstrapListeners).forEach(u=>u(r))}ngOnDestroy(){this._views.slice().forEach(r=>r.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(r){return new(r||t)(Wi(eu),Wi(Kr),Wi(fu),Wi(oh),Wi(jf))},t.\u0275prov=Wt({token:t,factory:t.\u0275fac}),t})();function NE(t,n){const r=t.indexOf(n);r>-1&&t.splice(r,1)}class iA{}function sA(t){const n=lw(t);if(!n)throw Fb(t);return n}function Lb(t){const n=lw(t);if(!n)throw Fb(t);return new zy(n)}const oA=Lb;function Fb(t){return new Error(`No module with ID ${t} loaded`)}class Ub{}const uA={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let cA=(()=>{class t{constructor(r,o){this._compiler=r,this._config=o||uA}load(r){return!Hg&&this._compiler instanceof Kg?this.loadFactory(r):this.loadAndCompile(r)}loadAndCompile(r){let[o,u]=r.split("#");return void 0===u&&(u="default"),F(6972)(o).then(l=>l[u]).then(l=>jb(l,o,u)).then(l=>this._compiler.compileModuleAsync(l))}loadFactory(r){let[o,u]=r.split("#"),l="NgFactory";return void 0===u&&(u="default",l=""),F(6972)(this._config.factoryPathPrefix+o+this._config.factoryPathSuffix).then(f=>f[u+l]).then(f=>jb(f,o,u))}}return t.\u0275fac=function(r){return new(r||t)(Wi(Kg),Wi(Ub,8))},t.\u0275prov=Wt({token:t,factory:t.\u0275fac}),t})();function jb(t,n,r){if(!t)throw new Error(`Cannot find '${r}' in '${n}'`);return t}class Bb extends jv{}class lA extends Bb{}class $b{constructor(n,r){this.name=n,this.callback=r}}class zg{constructor(n,r,o){this.listeners=[],this.parent=null,this._debugContext=o,this.nativeNode=n,r&&r instanceof Co&&r.addChild(this)}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class Co extends zg{constructor(n,r,o){super(n,r,o),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=n}addChild(n){n&&(this.childNodes.push(n),n.parent=this)}removeChild(n){const r=this.childNodes.indexOf(n);-1!==r&&(n.parent=null,this.childNodes.splice(r,1))}insertChildrenAfter(n,r){const o=this.childNodes.indexOf(n);-1!==o&&(this.childNodes.splice(o+1,0,...r),r.forEach(u=>{u.parent&&u.parent.removeChild(u),n.parent=this}))}insertBefore(n,r){const o=this.childNodes.indexOf(n);-1===o?this.addChild(r):(r.parent&&r.parent.removeChild(r),r.parent=this,this.childNodes.splice(o,0,r))}query(n){return this.queryAll(n)[0]||null}queryAll(n){const r=[];return Hb(this,n,r),r}queryAllNodes(n){const r=[];return Kb(this,n,r),r}get children(){return this.childNodes.filter(n=>n instanceof Co)}triggerEventHandler(n,r){this.listeners.forEach(o=>{o.name==n&&o.callback(r)})}}function dA(t){return t.map(n=>n.nativeElement)}function Hb(t,n,r){t.childNodes.forEach(o=>{o instanceof Co&&(n(o)&&r.push(o),Hb(o,n,r))})}function Kb(t,n,r){t instanceof Co&&t.childNodes.forEach(o=>{n(o)&&r.push(o),o instanceof Co&&Kb(o,n,r)})}class PE{constructor(n){this.nativeNode=n}get parent(){const n=this.nativeNode.parentNode;return n?new Gg(n):null}get injector(){return Km(this.nativeNode)}get componentInstance(){const n=this.nativeNode;return n&&(ff(n)||$m(n))}get context(){return ff(this.nativeNode)||Gd(this.nativeNode)}get listeners(){return pf(this.nativeNode).filter(n=>"dom"===n.type)}get references(){return function(t){const n=Lr(t);return null===n?{}:(void 0===n.localRefs&&(n.localRefs=function(t,n){const r=t[1].data[n];if(r&&r.localNames){const o={};let u=r.index+1;for(let l=0;l<r.localNames.length;l+=2)o[r.localNames[l]]=t[u],u++;return o}return null}(n.lView,n.nodeIndex)),n.localRefs||{})}(this.nativeNode)}get providerTokens(){return function(t){const n=Lr(t);if(null===n)return[];const o=n.lView[1],u=o.data[n.nodeIndex],l=[],m=u.directiveEnd;for(let T=1048575&u.providerIndexes;T<m;T++){let R=o.data[T];Kp(R)&&(R=R.type),l.push(R)}return l}(this.nativeNode)}}class Gg extends PE{constructor(n){super(n)}get nativeElement(){return this.nativeNode.nodeType==Node.ELEMENT_NODE?this.nativeNode:null}get name(){const n=Lr(this.nativeNode);return null!==n?n.lView[1].data[n.nodeIndex].value:this.nativeNode.nodeName}get properties(){const n=Lr(this.nativeNode);if(null===n)return{};const r=n.lView,o=r[1].data,u=o[n.nodeIndex],l={};return function(t,n){if(t){let r=Object.getPrototypeOf(t);const o=Node.prototype;for(;null!==r&&r!==o;){const u=Object.getOwnPropertyDescriptors(r);for(let l in u)if(!l.startsWith("__")&&!l.startsWith("on")){const f=t[l];fA(f)&&(n[l]=f)}r=Object.getPrototypeOf(r)}}}(this.nativeElement,l),function(t,n,r,o){let u=n.propertyBindings;if(null!==u)for(let l=0;l<u.length;l++){const f=u[l],T=o[f].split("\ufffd"),R=T[0];if(T.length>1){let V=T[1];for(let Y=1;Y<T.length-1;Y++)V+=Pe(r[f+Y-1])+T[Y+1];t[R]=V}else t[R]=r[f]}}(l,u,r,o),l}get attributes(){const n={},r=this.nativeElement;if(!r)return n;const o=Lr(r);if(null===o)return{};const l=o.lView[1].data[o.nodeIndex].attrs,f=[];if(l){let T=0;for(;T<l.length;){const R=l[T];if("string"!=typeof R)break;n[R]=l[T+1],f.push(R.toLowerCase()),T+=2}}const m=r.attributes;for(let T=0;T<m.length;T++){const R=m[T],V=R.name.toLowerCase();-1===f.indexOf(V)&&(n[V]=R.value)}return n}get styles(){return this.nativeElement&&this.nativeElement.style?this.nativeElement.style:{}}get classes(){const n={},o=this.nativeElement.className;return(o&&"string"!=typeof o?o.baseVal.split(" "):o.split(" ")).forEach(l=>n[l]=!0),n}get childNodes(){const n=this.nativeNode.childNodes,r=[];for(let o=0;o<n.length;o++)r.push(Yy(n[o]));return r}get children(){const n=this.nativeElement;if(!n)return[];const r=n.children,o=[];for(let u=0;u<r.length;u++)o.push(Yy(r[u]));return o}query(n){return this.queryAll(n)[0]||null}queryAll(n){const r=[];return Wb(this,n,r,!0),r}queryAllNodes(n){const r=[];return Wb(this,n,r,!1),r}triggerEventHandler(n,r){const o=this.nativeNode,u=[];this.listeners.forEach(l=>{if(l.name===n){const f=l.callback;f.call(o,r),u.push(f)}}),"function"==typeof o.eventListeners&&o.eventListeners(n).forEach(l=>{if(-1!==l.toString().indexOf("__ngUnwrap__")){const f=l("__ngUnwrap__");return-1===u.indexOf(f)&&f.call(o,r)}})}}function fA(t){return"string"==typeof t||"boolean"==typeof t||"number"==typeof t||null===t}function Wb(t,n,r,o){const u=Lr(t.nativeNode);null!==u?dh(u.lView[1].data[u.nodeIndex],u.lView,n,r,o,t.nativeNode):ME(t.nativeNode,n,r,o)}function dh(t,n,r,o,u,l){const f=function(t,n){const r=null===t?-1:t.index;return-1!==r?fe(n[r]):null}(t,n);if(11&t.type){if(OE(f,r,o,u,l),Bi(t)){const T=sr(t.index,n);T&&T[1].firstChild&&dh(T[1].firstChild,T,r,o,u,l)}else t.child&&dh(t.child,n,r,o,u,l),f&&ME(f,r,o,u);const m=n[t.index];vr(m)&&zb(m,r,o,u,l)}else if(4&t.type){const m=n[t.index];OE(m[7],r,o,u,l),zb(m,r,o,u,l)}else if(16&t.type){const m=n[16],R=m[6].projection[t.projection];if(Array.isArray(R))for(let V of R)OE(V,r,o,u,l);else if(R){const V=m[3];dh(V[1].data[R.index],V,r,o,u,l)}}else t.child&&dh(t.child,n,r,o,u,l);if(l!==f){const m=4&t.flags?t.projectionNext:t.next;m&&dh(m,n,r,o,u,l)}}function zb(t,n,r,o,u){for(let l=10;l<t.length;l++){const f=t[l],m=f[1].firstChild;m&&dh(m,f,n,r,o,u)}}function OE(t,n,r,o,u){if(u!==t){const l=Do(t);if(!l)return;(o&&l instanceof Gg&&n(l)&&-1===r.indexOf(l)||!o&&n(l)&&-1===r.indexOf(l))&&r.push(l)}}function ME(t,n,r,o){const u=t.childNodes,l=u.length;for(let f=0;f<l;f++){const m=u[f],T=Do(m);T&&((o&&T instanceof Gg&&n(T)&&-1===r.indexOf(T)||!o&&n(T)&&-1===r.indexOf(T))&&r.push(T),ME(m,n,r,o))}}const Qy=new Map,kE="__ng_debug__";function Yy(t){return t instanceof Node?(t.hasOwnProperty(kE)||(t[kE]=t.nodeType==Node.ELEMENT_NODE?new Gg(t):new PE(t)),t[kE]):null}const Do=Yy;function mA(t){return function(t){return Qy.get(t)||null}(t)}const _A=function(t){return null};function Jy(t){Qy.set(t.nativeNode,t)}const EA=PE,IA=Gg,wA=Pb(null,"core",[{provide:fb,useValue:"unknown"},{provide:xE,deps:[Kr]},{provide:CE,deps:[]},{provide:gb,deps:[]}]);function Gb(){return A0}function qb(){return R0}function Zb(t){return t=t||Hg&&"undefined"!=typeof $localize&&$localize.locale||wg,Hg&&Oy(t),t}const Qb=[{provide:Wg,useClass:Wg,deps:[eu,Kr,fu,oh,jf]},{provide:sw,deps:[eu],useFactory:Yb},{provide:jf,useClass:jf,deps:[[new Vo,vE]]},{provide:Kg,useClass:Kg,deps:[]},db,{provide:Vy,useFactory:Gb,deps:[]},{provide:Uy,useFactory:qb,deps:[]},{provide:qy,useFactory:Zb,deps:[[new lu(qy),new Vo,new oa]]},{provide:mb,useValue:VI}];function Yb(t){let n=[];return t.onStable.subscribe(()=>{for(;n.length;)n.pop()()}),function(r){n.push(r)}}let TA=(()=>{class t{constructor(r){}}return t.\u0275fac=function(r){return new(r||t)(Wi(Wg))},t.\u0275mod=xr({type:t}),t.\u0275inj=Ut({providers:Qb}),t})();function CA(t,n,r,o,u,l){t|=1;const{matchedQueries:f,references:m,matchedQueryIds:T}=Wv(n);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:f,matchedQueryIds:T,references:m,ngContentIndex:r,childCount:o,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:l?Ff(l):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:u||Cu},provider:null,text:null,query:null,ngContent:null}}function DA(t,n,r,o,u,l,f=[],m,T,R,V,Y){R||(R=Cu);const{matchedQueries:re,references:ye,matchedQueryIds:xe}=Wv(r);let nt=null,ze=null;l&&([nt,ze]=Gv(l)),m=m||[];const xt=[];for(let nr=0;nr<m.length;nr++){const[Ur,So,Su]=m[nr],[Xg,Hf]=Gv(So);let Kf,Wf;switch(15&Ur){case 4:Wf=Su;break;case 1:case 8:Kf=Su}xt[nr]={flags:Ur,ns:Xg,name:Hf,nonMinifiedName:Hf,securityContext:Kf,suffix:Wf}}T=T||[];const pt=[];for(let nr=0;nr<T.length;nr++){const[Ur,So]=T[nr];pt[nr]={type:0,target:Ur,eventName:So,propName:null}}const xn=(f=f||[]).map(([nr,Ur])=>{const[So,Su]=Gv(nr);return[So,Su,Ur]});return Y=function(t){return t&&t.id===j0&&(t.id=null!=t.encapsulation&&t.encapsulation!==at.None||t.styles.length||Object.keys(t.data).length?"c"+qC++:B0),t&&t.id===B0&&(t=null),t||null}(Y),V&&(n|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:n|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:re,matchedQueryIds:xe,references:ye,ngContentIndex:o,childCount:u,bindings:xt,bindingFlags:qv(xt),outputs:pt,element:{ns:nt,name:ze,attrs:xn,template:null,componentProvider:null,componentView:V||null,componentRendererType:Y,publicProviders:null,allProviders:null,handleEvent:R||Cu},provider:null,text:null,query:null,ngContent:null}}function SA(t,n,r){const o=r.element,u=t.root.selectorOrNode,l=t.renderer;let f;if(t.parent||!u){f=o.name?l.createElement(o.name,o.ns):l.createComment("");const m=zv(t,n,r);m&&l.appendChild(m,f)}else f=l.selectRootElement(u,!!o.componentRendererType&&o.componentRendererType.encapsulation===at.ShadowDom);if(o.attrs)for(let m=0;m<o.attrs.length;m++){const[T,R,V]=o.attrs[m];l.setAttribute(f,R,V,T)}return f}function AA(t,n,r,o){for(let u=0;u<r.outputs.length;u++){const l=r.outputs[u],f=RA(t,r.nodeIndex,YC(l.target,l.eventName));let m=l.target,T=t;"component"===l.target&&(m=null,T=n);const R=T.renderer.listen(m||o,l.eventName,f);t.disposables[r.outputIndex+u]=R}}function RA(t,n,r){return o=>H0(t,n,r,o)}function ic(t,n,r,o){if(!As(t,n,r,o))return!1;const u=n.bindings[r],l=Ii(t,n.nodeIndex),f=l.renderElement,m=u.name;switch(15&u.flags){case 1:!function(t,n,r,o,u,l){const f=n.securityContext;let m=f?t.root.sanitizer.sanitize(f,l):l;m=null!=m?m.toString():null;const T=t.renderer;null!=l?T.setAttribute(r,u,m,o):T.removeAttribute(r,u,o)}(t,u,f,u.ns,m,o);break;case 2:!function(t,n,r,o){const u=t.renderer;o?u.addClass(n,r):u.removeClass(n,r)}(t,f,m,o);break;case 4:!function(t,n,r,o,u){let l=t.root.sanitizer.sanitize(zi.STYLE,u);if(null!=l){l=l.toString();const m=n.suffix;null!=m&&(l+=m)}else l=null;const f=t.renderer;null!=l?f.setStyle(r,o,l):f.removeStyle(r,o)}(t,u,f,m,o);break;case 8:!function(t,n,r,o,u){const l=n.securityContext;let f=l?t.root.sanitizer.sanitize(l,u):u;t.renderer.setProperty(r,o,f)}(33554432&n.flags&&32&u.flags?l.componentView:t,u,f,m,o)}return!0}function LA(t,n,r){let o=[];for(let u in r)o.push({propName:u,bindingType:r[u]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:n,filterId:K0(n),bindings:o},ngContent:null}}function FA(t){return new jg(t)}function VA(t){const n=t.def.nodeMatchedQueries;for(;t.parent&&JC(t);){let r=t.parentNodeDef;t=t.parent;const o=r.nodeIndex+r.childCount;for(let u=0;u<=o;u++){const l=t.def.nodes[u];67108864&l.flags&&536870912&l.flags&&(l.query.filterId&n)===l.query.filterId&&Ng(t,u).setDirty(),(1&l.flags&&u+l.childCount<r.nodeIndex||!(67108864&l.childFlags)||!(536870912&l.childFlags))&&(u+=l.childCount)}}if(134217728&t.def.nodeFlags)for(let r=0;r<t.def.nodes.length;r++){const o=t.def.nodes[r];134217728&o.flags&&536870912&o.flags&&Ng(t,r).setDirty(),r+=o.childCount}}function UA(t,n){const r=Ng(t,n.nodeIndex);if(!r.dirty)return;let o,u;if(67108864&n.flags){const m=n.parent.parent;u=qg(t,m.nodeIndex,m.nodeIndex+m.childCount,n.query,[]),o=sd(t,n.parent.nodeIndex).instance}else 134217728&n.flags&&(u=qg(t,0,t.def.nodes.length-1,n.query,[]),o=t.component);r.reset(u,_0);const l=n.query.bindings;let f=!1;for(let m=0;m<l.length;m++){const T=l[m];let R;switch(T.bindingType){case 0:R=r.first;break;case 1:R=r,f=!0}o[T.propName]=R}f&&r.notifyOnChanges()}function qg(t,n,r,o,u){for(let l=n;l<=r;l++){const f=t.def.nodes[l],m=f.matchedQueries[o.id];if(null!=m&&u.push(Jb(t,f,m)),1&f.flags&&f.element.template&&(f.element.template.nodeMatchedQueries&o.filterId)===o.filterId){const T=Ii(t,l);if((f.childMatchedQueries&o.filterId)===o.filterId&&(qg(t,l+1,l+f.childCount,o,u),l+=f.childCount),16777216&f.flags){const V=T.viewContainer._embeddedViews;for(let Y=0;Y<V.length;Y++){const re=V[Y],ye=Kv(re);ye&&ye===T&&qg(re,0,re.def.nodes.length-1,o,u)}}const R=T.template._projectedViews;if(R)for(let V=0;V<R.length;V++){const Y=R[V];qg(Y,0,Y.def.nodes.length-1,o,u)}}(f.childMatchedQueries&o.filterId)!==o.filterId&&(l+=f.childCount)}return u}function Jb(t,n,r){if(null!=r)switch(r){case 1:return Ii(t,n.nodeIndex).renderElement;case 0:return new ec(Ii(t,n.nodeIndex).renderElement);case 2:return Ii(t,n.nodeIndex).template;case 3:return Ii(t,n.nodeIndex).viewContainer;case 4:return sd(t,n.nodeIndex).instance}}function jA(t,n){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:n}}}function BA(t,n,r){const o=zv(t,n,r);o&&G0(t,r.ngContent.index,1,o,null,void 0)}function $A(t,n){return LE(128,t,ra(n+1))}function HA(t,n){return LE(32,t,ra(n))}function KA(t,n){const r=Object.keys(n),o=r.length,u=[];for(let l=0;l<o;l++){u.push(r[l])}return LE(64,t,u)}function LE(t,n,r){const o=[];for(let u=0;u<r.length;u++){const l=r[u];o.push({flags:8,name:l,ns:null,nonMinifiedName:l,securityContext:null,suffix:null})}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:n,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:o,bindingFlags:qv(o),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function qA(t,n,r){const o=[];for(let u=1;u<r.length;u++)o[u-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:r[u]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:n,childCount:0,bindings:o,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:r[0]},query:null,ngContent:null}}function ZA(t,n,r){let o;const u=t.renderer;o=u.createText(r.text.prefix);const l=zv(t,n,r);return l&&u.appendChild(l,o),{renderText:o}}function sc(t,n){return(null!=t?t.toString():"")+n.suffix}function JA(t,n,r,o){let u=0,l=0,f=0,m=0,T=0,R=null,V=null,Y=!1,re=!1,ye=null;for(let nt=0;nt<n.length;nt++){const ze=n[nt];if(ze.nodeIndex=nt,ze.parent=R,ze.bindingIndex=u,ze.outputIndex=l,ze.renderParent=V,f|=ze.flags,T|=ze.matchedQueryIds,ze.element){const xt=ze.element;xt.publicProviders=R?R.element.publicProviders:Object.create(null),xt.allProviders=xt.publicProviders,Y=!1,re=!1,ze.element.template&&(T|=ze.element.template.nodeMatchedQueries)}if(XA(R,ze,n.length),u+=ze.bindings.length,l+=ze.outputs.length,!V&&3&ze.flags&&(ye=ze),20224&ze.flags){Y||(Y=!0,R.element.publicProviders=Object.create(R.element.publicProviders),R.element.allProviders=R.element.publicProviders);const pt=0!=(32768&ze.flags);0==(8192&ze.flags)||pt?R.element.publicProviders[Jo(ze.provider.token)]=ze:(re||(re=!0,R.element.allProviders=Object.create(R.element.publicProviders)),R.element.allProviders[Jo(ze.provider.token)]=ze),pt&&(R.element.componentProvider=ze)}if(R?(R.childFlags|=ze.flags,R.directChildFlags|=ze.flags,R.childMatchedQueries|=ze.matchedQueryIds,ze.element&&ze.element.template&&(R.childMatchedQueries|=ze.element.template.nodeMatchedQueries)):m|=ze.flags,ze.childCount>0)R=ze,Xb(ze)||(V=ze);else for(;R&&nt===R.nodeIndex+R.childCount;){const xt=R.parent;xt&&(xt.childFlags|=R.childFlags,xt.childMatchedQueries|=R.childMatchedQueries),R=xt,V=R&&Xb(R)?R.renderParent:R}}return{factory:null,nodeFlags:f,rootNodeFlags:m,nodeMatchedQueries:T,flags:t,nodes:n,updateDirectives:r||Cu,updateRenderer:o||Cu,handleEvent:(nt,ze,xt,pt)=>n[ze].element.handleEvent(nt,xt,pt),bindingCount:u,outputCount:l,lastRenderRootNode:ye}}function Xb(t){return 0!=(1&t.flags)&&null===t.element.name}function XA(t,n,r){const o=n.element&&n.element.template;if(o){if(!o.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(o.lastRenderRootNode&&16777216&o.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${n.nodeIndex}!`)}if(20224&n.flags&&0==(1&(t?t.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${n.nodeIndex}!`);if(n.query){if(67108864&n.flags&&(!t||0==(16384&t.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${n.nodeIndex}!`);if(134217728&n.flags&&t)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${n.nodeIndex}!`)}if(n.childCount){const u=t?t.nodeIndex+t.childCount:r-1;if(n.nodeIndex<=u&&n.nodeIndex+n.childCount>u)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${n.nodeIndex}!`)}}function eT(t,n,r,o){const u=FE(t.root,t.renderer,t,n,r);return VE(u,t.component,o),UE(u),u}function tT(t,n,r){const o=FE(t,t.renderer,null,null,n);return VE(o,r,r),UE(o),o}function nT(t,n,r,o){const u=n.element.componentRendererType;let l;return l=u?t.root.rendererFactory.createRenderer(o,u):t.root.renderer,FE(t.root,l,t,n.element.componentProvider,r)}function FE(t,n,r,o,u){const l=new Array(u.nodes.length),f=u.outputCount?new Array(u.outputCount):null;return{def:u,parent:r,viewContainerParent:null,parentNodeDef:o,context:null,component:null,nodes:l,state:13,root:t,renderer:n,oldValues:new Array(u.bindingCount),disposables:f,initIndex:-1}}function VE(t,n,r){t.component=n,t.context=r}function UE(t){let n;ch(t)&&(n=Ii(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);const r=t.def,o=t.nodes;for(let u=0;u<r.nodes.length;u++){const l=r.nodes[u];let f;switch(hr.setCurrentNode(t,u),201347067&l.flags){case 1:const m=SA(t,n,l);let T;if(33554432&l.flags){const R=Ff(l.element.componentView);T=hr.createComponentView(t,l,R,m)}AA(t,T,l,m),f={renderElement:m,componentView:T,viewContainer:null,template:l.element.template?SD(t,l):void 0},16777216&l.flags&&(f.viewContainer=TD(t,l,f));break;case 2:f=ZA(t,n,l);break;case 512:case 1024:case 2048:case 256:f=o[u],!f&&!(4096&l.flags)&&(f={instance:jD(t,l)});break;case 16:f={instance:BD(t,l)};break;case 16384:f=o[u],f||(f={instance:$D(t,l)}),32768&l.flags&&VE(Ii(t,l.parent.nodeIndex).componentView,f.instance,f.instance);break;case 32:case 64:case 128:f={value:void 0};break;case 67108864:case 134217728:f=FA(-2147483648==(-2147483648&l.flags));break;case 8:BA(t,n,l),f=void 0}o[u]=f}Zg(t,wi.CreateViewNodes),BE(t,201326592,268435456,0)}function Xy(t){iT(t),hr.updateDirectives(t,1),t_(t,wi.CheckNoChanges),hr.updateRenderer(t,1),Zg(t,wi.CheckNoChanges),t.state&=-97}function e_(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,By(t,0,256),iT(t),hr.updateDirectives(t,0),t_(t,wi.CheckAndUpdate),BE(t,67108864,536870912,0);let n=By(t,256,512);Xv(t,2097152|(n?1048576:0)),hr.updateRenderer(t,0),Zg(t,wi.CheckAndUpdate),BE(t,134217728,536870912,0),n=By(t,512,768),Xv(t,8388608|(n?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,By(t,768,1024)}function rT(t,n,r,o,u,l,f,m,T,R,V,Y,re){return 0===r?function(t,n,r,o,u,l,f,m,T,R,V,Y){switch(201347067&n.flags){case 1:return function(t,n,r,o,u,l,f,m,T,R,V,Y){const re=n.bindings.length;let ye=!1;return re>0&&ic(t,n,0,r)&&(ye=!0),re>1&&ic(t,n,1,o)&&(ye=!0),re>2&&ic(t,n,2,u)&&(ye=!0),re>3&&ic(t,n,3,l)&&(ye=!0),re>4&&ic(t,n,4,f)&&(ye=!0),re>5&&ic(t,n,5,m)&&(ye=!0),re>6&&ic(t,n,6,T)&&(ye=!0),re>7&&ic(t,n,7,R)&&(ye=!0),re>8&&ic(t,n,8,V)&&(ye=!0),re>9&&ic(t,n,9,Y)&&(ye=!0),ye}(t,n,r,o,u,l,f,m,T,R,V,Y);case 2:return function(t,n,r,o,u,l,f,m,T,R,V,Y){let re=!1;const ye=n.bindings,xe=ye.length;if(xe>0&&As(t,n,0,r)&&(re=!0),xe>1&&As(t,n,1,o)&&(re=!0),xe>2&&As(t,n,2,u)&&(re=!0),xe>3&&As(t,n,3,l)&&(re=!0),xe>4&&As(t,n,4,f)&&(re=!0),xe>5&&As(t,n,5,m)&&(re=!0),xe>6&&As(t,n,6,T)&&(re=!0),xe>7&&As(t,n,7,R)&&(re=!0),xe>8&&As(t,n,8,V)&&(re=!0),xe>9&&As(t,n,9,Y)&&(re=!0),re){let nt=n.text.prefix;xe>0&&(nt+=sc(r,ye[0])),xe>1&&(nt+=sc(o,ye[1])),xe>2&&(nt+=sc(u,ye[2])),xe>3&&(nt+=sc(l,ye[3])),xe>4&&(nt+=sc(f,ye[4])),xe>5&&(nt+=sc(m,ye[5])),xe>6&&(nt+=sc(T,ye[6])),xe>7&&(nt+=sc(R,ye[7])),xe>8&&(nt+=sc(V,ye[8])),xe>9&&(nt+=sc(Y,ye[9]));const ze=xg(t,n.nodeIndex).renderText;t.renderer.setValue(ze,nt)}return re}(t,n,r,o,u,l,f,m,T,R,V,Y);case 16384:return function(t,n,r,o,u,l,f,m,T,R,V,Y){const re=sd(t,n.nodeIndex),ye=re.instance;let nt,xe=!1;const ze=n.bindings.length;return ze>0&&Du(t,n,0,r)&&(xe=!0,nt=nc(t,re,n,0,r,nt)),ze>1&&Du(t,n,1,o)&&(xe=!0,nt=nc(t,re,n,1,o,nt)),ze>2&&Du(t,n,2,u)&&(xe=!0,nt=nc(t,re,n,2,u,nt)),ze>3&&Du(t,n,3,l)&&(xe=!0,nt=nc(t,re,n,3,l,nt)),ze>4&&Du(t,n,4,f)&&(xe=!0,nt=nc(t,re,n,4,f,nt)),ze>5&&Du(t,n,5,m)&&(xe=!0,nt=nc(t,re,n,5,m,nt)),ze>6&&Du(t,n,6,T)&&(xe=!0,nt=nc(t,re,n,6,T,nt)),ze>7&&Du(t,n,7,R)&&(xe=!0,nt=nc(t,re,n,7,R,nt)),ze>8&&Du(t,n,8,V)&&(xe=!0,nt=nc(t,re,n,8,V,nt)),ze>9&&Du(t,n,9,Y)&&(xe=!0,nt=nc(t,re,n,9,Y,nt)),nt&&ye.ngOnChanges(nt),65536&n.flags&&$y(t,256,n.nodeIndex)&&ye.ngOnInit(),262144&n.flags&&ye.ngDoCheck(),xe}(t,n,r,o,u,l,f,m,T,R,V,Y);case 32:case 64:case 128:return function(t,n,r,o,u,l,f,m,T,R,V,Y){const re=n.bindings;let ye=!1;const xe=re.length;if(xe>0&&As(t,n,0,r)&&(ye=!0),xe>1&&As(t,n,1,o)&&(ye=!0),xe>2&&As(t,n,2,u)&&(ye=!0),xe>3&&As(t,n,3,l)&&(ye=!0),xe>4&&As(t,n,4,f)&&(ye=!0),xe>5&&As(t,n,5,m)&&(ye=!0),xe>6&&As(t,n,6,T)&&(ye=!0),xe>7&&As(t,n,7,R)&&(ye=!0),xe>8&&As(t,n,8,V)&&(ye=!0),xe>9&&As(t,n,9,Y)&&(ye=!0),ye){const nt=kf(t,n.nodeIndex);let ze;switch(201347067&n.flags){case 32:ze=[],xe>0&&ze.push(r),xe>1&&ze.push(o),xe>2&&ze.push(u),xe>3&&ze.push(l),xe>4&&ze.push(f),xe>5&&ze.push(m),xe>6&&ze.push(T),xe>7&&ze.push(R),xe>8&&ze.push(V),xe>9&&ze.push(Y);break;case 64:ze={},xe>0&&(ze[re[0].name]=r),xe>1&&(ze[re[1].name]=o),xe>2&&(ze[re[2].name]=u),xe>3&&(ze[re[3].name]=l),xe>4&&(ze[re[4].name]=f),xe>5&&(ze[re[5].name]=m),xe>6&&(ze[re[6].name]=T),xe>7&&(ze[re[7].name]=R),xe>8&&(ze[re[8].name]=V),xe>9&&(ze[re[9].name]=Y);break;case 128:const xt=r;switch(xe){case 1:ze=xt.transform(r);break;case 2:ze=xt.transform(o);break;case 3:ze=xt.transform(o,u);break;case 4:ze=xt.transform(o,u,l);break;case 5:ze=xt.transform(o,u,l,f);break;case 6:ze=xt.transform(o,u,l,f,m);break;case 7:ze=xt.transform(o,u,l,f,m,T);break;case 8:ze=xt.transform(o,u,l,f,m,T,R);break;case 9:ze=xt.transform(o,u,l,f,m,T,R,V);break;case 10:ze=xt.transform(o,u,l,f,m,T,R,V,Y)}}nt.value=ze}return ye}(t,n,r,o,u,l,f,m,T,R,V,Y);default:throw"unreachable"}}(t,n,o,u,l,f,m,T,R,V,Y,re):function(t,n,r){switch(201347067&n.flags){case 1:return function(t,n,r){let o=!1;for(let u=0;u<r.length;u++)ic(t,n,u,r[u])&&(o=!0);return o}(t,n,r);case 2:return function(t,n,r){const o=n.bindings;let u=!1;for(let l=0;l<r.length;l++)As(t,n,l,r[l])&&(u=!0);if(u){let l="";for(let m=0;m<r.length;m++)l+=sc(r[m],o[m]);l=n.text.prefix+l;const f=xg(t,n.nodeIndex).renderText;t.renderer.setValue(f,l)}return u}(t,n,r);case 16384:return function(t,n,r){const o=sd(t,n.nodeIndex),u=o.instance;let f,l=!1;for(let m=0;m<r.length;m++)Du(t,n,m,r[m])&&(l=!0,f=nc(t,o,n,m,r[m],f));return f&&u.ngOnChanges(f),65536&n.flags&&$y(t,256,n.nodeIndex)&&u.ngOnInit(),262144&n.flags&&u.ngDoCheck(),l}(t,n,r);case 32:case 64:case 128:return function(t,n,r){const o=n.bindings;let u=!1;for(let l=0;l<r.length;l++)As(t,n,l,r[l])&&(u=!0);if(u){const l=kf(t,n.nodeIndex);let f;switch(201347067&n.flags){case 32:f=r;break;case 64:f={};for(let R=0;R<r.length;R++)f[o[R].name]=r[R];break;case 128:const m=r[0],T=r.slice(1);f=m.transform(...T)}l.value=f}return u}(t,n,r);default:throw"unreachable"}}(t,n,o)}function iT(t){const n=t.def;if(4&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const o=n.nodes[r];if(4&o.flags){const u=Ii(t,r).template._projectedViews;if(u)for(let l=0;l<u.length;l++){const f=u[l];f.state|=32,QC(f,t)}}else 0==(4&o.childFlags)&&(r+=o.childCount)}}function sT(t,n,r,o,u,l,f,m,T,R,V,Y,re){return 0===r?function(t,n,r,o,u,l,f,m,T,R,V,Y){const re=n.bindings.length;re>0&&tc(t,n,0,r),re>1&&tc(t,n,1,o),re>2&&tc(t,n,2,u),re>3&&tc(t,n,3,l),re>4&&tc(t,n,4,f),re>5&&tc(t,n,5,m),re>6&&tc(t,n,6,T),re>7&&tc(t,n,7,R),re>8&&tc(t,n,8,V),re>9&&tc(t,n,9,Y)}(t,n,o,u,l,f,m,T,R,V,Y,re):function(t,n,r){for(let o=0;o<r.length;o++)tc(t,n,o,r[o])}(t,n,o),!1}function iR(t,n){if(Ng(t,n.nodeIndex).dirty)throw F0(hr.createDebugContext(t,n.nodeIndex),`Query ${n.query.id} not dirty`,`Query ${n.query.id} dirty`,0!=(1&t.state))}function jE(t){if(!(128&t.state)){if(t_(t,wi.Destroy),Zg(t,wi.Destroy),Xv(t,131072),t.disposables)for(let n=0;n<t.disposables.length;n++)t.disposables[n]();(function(t){if(!(16&t.state))return;const n=Kv(t);if(n){const r=n.template._projectedViews;r&&(Mo(r,r.indexOf(t)),hr.dirtyParentQueries(t))}})(t),t.renderer.destroyNode&&function(t){const n=t.def.nodes.length;for(let r=0;r<n;r++){const o=t.def.nodes[r];1&o.flags?t.renderer.destroyNode(Ii(t,r).renderElement):2&o.flags?t.renderer.destroyNode(xg(t,r).renderText):(67108864&o.flags||134217728&o.flags)&&Ng(t,r).destroy()}}(t),ch(t)&&t.renderer.destroy(),t.state|=128}}var wi=(()=>((wi=wi||{})[wi.CreateViewNodes=0]="CreateViewNodes",wi[wi.CheckNoChanges=1]="CheckNoChanges",wi[wi.CheckNoChangesProjectedViews=2]="CheckNoChangesProjectedViews",wi[wi.CheckAndUpdate=3]="CheckAndUpdate",wi[wi.CheckAndUpdateProjectedViews=4]="CheckAndUpdateProjectedViews",wi[wi.Destroy=5]="Destroy",wi))();function Zg(t,n){const r=t.def;if(33554432&r.nodeFlags)for(let o=0;o<r.nodes.length;o++){const u=r.nodes[o];33554432&u.flags?oT(Ii(t,o).componentView,n):0==(33554432&u.childFlags)&&(o+=u.childCount)}}function t_(t,n){const r=t.def;if(16777216&r.nodeFlags)for(let o=0;o<r.nodes.length;o++){const u=r.nodes[o];if(16777216&u.flags){const l=Ii(t,o).viewContainer._embeddedViews;for(let f=0;f<l.length;f++)oT(l[f],n)}else 0==(16777216&u.childFlags)&&(o+=u.childCount)}}function oT(t,n){const r=t.state;switch(n){case wi.CheckNoChanges:0==(128&r)&&(12==(12&r)?Xy(t):64&r&&n_(t,wi.CheckNoChangesProjectedViews));break;case wi.CheckNoChangesProjectedViews:0==(128&r)&&(32&r?Xy(t):64&r&&n_(t,n));break;case wi.CheckAndUpdate:0==(128&r)&&(12==(12&r)?e_(t):64&r&&n_(t,wi.CheckAndUpdateProjectedViews));break;case wi.CheckAndUpdateProjectedViews:0==(128&r)&&(32&r?e_(t):64&r&&n_(t,n));break;case wi.Destroy:jE(t);break;case wi.CreateViewNodes:UE(t)}}function n_(t,n){t_(t,n),Zg(t,n)}function BE(t,n,r,o){if(!(t.def.nodeFlags&n&&t.def.nodeFlags&r))return;const u=t.def.nodes.length;for(let l=0;l<u;l++){const f=t.def.nodes[l];if(f.flags&n&&f.flags&r)switch(hr.setCurrentNode(t,f.nodeIndex),o){case 0:UA(t,f);break;case 1:iR(t,f)}(!(f.childFlags&n)||!(f.childFlags&r))&&(l+=f.childCount)}}let aT=!1;function Qg(){if(aT)return;aT=!0;const t=SE()?{setCurrentNode:$f,createRootView:cR,createEmbeddedView:lR,createComponentView:dR,createNgModuleRef:hR,overrideProvider:fR,overrideComponentView:pR,clearOverrides:gR,checkAndUpdateView:yR,checkNoChangesView:_R,destroyView:vR,createDebugContext:(t,n)=>new KE(t,n),handleEvent:ER,updateDirectives:IR,updateRenderer:wR}:{setCurrentNode:()=>{},createRootView:uR,createEmbeddedView:eT,createComponentView:nT,createNgModuleRef:J0,overrideProvider:Cu,overrideComponentView:Cu,clearOverrides:Cu,checkAndUpdateView:e_,checkNoChangesView:Xy,destroyView:jE,createDebugContext:(t,n)=>new KE(t,n),handleEvent:(t,n,r,o)=>t.def.handleEvent(t,n,r,o),updateDirectives:(t,n)=>t.def.updateDirectives(0===n?cT:lT,t),updateRenderer:(t,n)=>t.def.updateRenderer(0===n?cT:lT,t)};hr.setCurrentNode=t.setCurrentNode,hr.createRootView=t.createRootView,hr.createEmbeddedView=t.createEmbeddedView,hr.createComponentView=t.createComponentView,hr.createNgModuleRef=t.createNgModuleRef,hr.overrideProvider=t.overrideProvider,hr.overrideComponentView=t.overrideComponentView,hr.clearOverrides=t.clearOverrides,hr.checkAndUpdateView=t.checkAndUpdateView,hr.checkNoChangesView=t.checkNoChangesView,hr.destroyView=t.destroyView,hr.resolveDep=ga,hr.createDebugContext=t.createDebugContext,hr.handleEvent=t.handleEvent,hr.updateDirectives=t.updateDirectives,hr.updateRenderer=t.updateRenderer,hr.dirtyParentQueries=VA}function uR(t,n,r,o,u,l){const f=u.injector.get(Fy);return tT(uT(t,u,f,n,r),o,l)}function cR(t,n,r,o,u,l){const f=u.injector.get(Fy),m=uT(t,u,new CR(f),n,r),T=HE(o);return hh(js.create,tT,null,[m,T,l])}function uT(t,n,r,o,u){const l=n.injector.get(Mv),f=n.injector.get(fu),m=r.createRenderer(null,null);return{ngModule:n,injector:t,projectableNodes:o,selectorOrNode:u,sanitizer:l,rendererFactory:r,renderer:m,errorHandler:f}}function lR(t,n,r,o){const u=HE(r);return hh(js.create,eT,null,[t,n,u,o])}function dR(t,n,r,o){return r=$E.get(n.element.componentProvider.provider.token)||HE(r),hh(js.create,nT,null,[t,n,r,o])}function hR(t,n,r,o){const u=function(t){const{hasOverrides:n,hasDeprecatedOverrides:r}=function(l){let f=!1,m=!1;return 0===od.size||(l.providers.forEach(T=>{const R=od.get(T.token);3840&T.flags&&R&&(f=!0,m=m||R.deprecatedBehavior)}),l.modules.forEach(T=>{Yg.forEach((R,V)=>{J(Dn(V).providedIn)===T&&(f=!0,m=m||R.deprecatedBehavior)})})),{hasOverrides:f,hasDeprecatedOverrides:m}}(t);return n?(function(l){for(let f=0;f<l.providers.length;f++){const m=l.providers[f];r&&(m.flags|=4096);const T=od.get(m.token);T&&(m.flags=-3841&m.flags|T.flags,m.deps=Og(T.deps),m.value=T.value)}if(Yg.size>0){let f=new Set(l.modules);Yg.forEach((m,T)=>{if(f.has(J(Dn(T).providedIn))){let R={token:T,flags:m.flags|(r?4096:0),deps:Og(m.deps),value:m.value,index:l.providers.length};l.providers.push(R),l.providersByKey[Jo(T)]=R}})}}(t=t.factory(()=>Cu)),t):t}(o);return J0(t,n,r,u)}const od=new Map,Yg=new Map,$E=new Map;function fR(t){let n;od.set(t.token,t),"function"==typeof t.token&&(n=Dn(t.token))&&"function"==typeof n.providedIn&&Yg.set(t.token,t)}function pR(t,n){const r=Ff(Q0(n)),o=Ff(r.nodes[0].element.componentView);$E.set(t,o)}function gR(){od.clear(),Yg.clear(),$E.clear()}function HE(t){if(0===od.size)return t;const n=function(u){const l=[];let f=null;for(let m=0;m<u.nodes.length;m++){const T=u.nodes[m];1&T.flags&&(f=T),f&&3840&T.flags&&od.has(T.provider.token)&&(l.push(f.nodeIndex),f=null)}return l}(t);if(0===n.length)return t;t=t.factory(()=>Cu);for(let u=0;u<n.length;u++)o(t,n[u]);return t;function o(u,l){for(let f=l+1;f<u.nodes.length;f++){const m=u.nodes[f];if(1&m.flags)return;if(3840&m.flags){const T=m.provider,R=od.get(T.token);R&&(m.flags=-3841&m.flags|R.flags,T.deps=Og(R.deps),T.value=R.value)}}}}function cT(t,n,r,o,u,l,f,m,T,R,V,Y,re){const ye=t.def.nodes[n];return rT(t,ye,r,o,u,l,f,m,T,R,V,Y,re),224&ye.flags?kf(t,n).value:void 0}function lT(t,n,r,o,u,l,f,m,T,R,V,Y,re){const ye=t.def.nodes[n];return sT(t,ye,r,o,u,l,f,m,T,R,V,Y,re),224&ye.flags?kf(t,n).value:void 0}function yR(t){return hh(js.detectChanges,e_,null,[t])}function _R(t){return hh(js.checkNoChanges,Xy,null,[t])}function vR(t){return hh(js.destroy,jE,null,[t])}var js=(()=>((js=js||{})[js.create=0]="create",js[js.detectChanges=1]="detectChanges",js[js.checkNoChanges=2]="checkNoChanges",js[js.destroy=3]="destroy",js[js.handleEvent=4]="handleEvent",js))();let Jg,Bf,r_;function $f(t,n){Bf=t,r_=n}function ER(t,n,r,o){return $f(t,n),hh(js.handleEvent,t.def.handleEvent,null,[t,n,r,o])}function IR(t,n){if(128&t.state)throw U0(js[Jg]);return $f(t,fT(t,0)),t.def.updateDirectives(function(o,u,l,...f){const m=o.def.nodes[u];return 0===n?dT(o,m,l,f):hT(o,m,l,f),16384&m.flags&&$f(o,fT(o,u)),224&m.flags?kf(o,m.nodeIndex).value:void 0},t)}function wR(t,n){if(128&t.state)throw U0(js[Jg]);return $f(t,pT(t,0)),t.def.updateRenderer(function(o,u,l,...f){const m=o.def.nodes[u];return 0===n?dT(o,m,l,f):hT(o,m,l,f),3&m.flags&&$f(o,pT(o,u)),224&m.flags?kf(o,m.nodeIndex).value:void 0},t)}function dT(t,n,r,o){if(rT(t,n,r,...o)){const l=1===r?o[0]:o;if(16384&n.flags){const f={};for(let R=0;R<n.bindings.length;R++){const V=n.bindings[R],Y=l[R];8&V.flags&&(f[pu(V.nonMinifiedName)]=ho(Y))}const m=n.parent,T=Ii(t,m.nodeIndex).renderElement;if(m.element.name)for(let R in f){const V=f[R];null!=V?t.renderer.setAttribute(T,R,V):t.renderer.removeAttribute(T,R)}else t.renderer.setValue(T,Hc(`bindings=${JSON.stringify(f,null,2)}`))}}}function hT(t,n,r,o){sT(t,n,r,...o)}function fT(t,n){for(let r=n;r<t.def.nodes.length;r++){const o=t.def.nodes[r];if(16384&o.flags&&o.bindings&&o.bindings.length)return r}return null}function pT(t,n){for(let r=n;r<t.def.nodes.length;r++){const o=t.def.nodes[r];if(3&o.flags&&o.bindings&&o.bindings.length)return r}return null}class KE{constructor(n,r){this.view=n,this.nodeIndex=r,null==r&&(this.nodeIndex=r=0),this.nodeDef=n.def.nodes[r];let o=this.nodeDef,u=n;for(;o&&0==(1&o.flags);)o=o.parent;if(!o)for(;!o&&u;)o=Lf(u),u=u.parent;this.elDef=o,this.elView=u}get elOrCompView(){return Ii(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return Y0(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const n=[];if(this.elDef)for(let r=this.elDef.nodeIndex+1;r<=this.elDef.nodeIndex+this.elDef.childCount;r++){const o=this.elView.def.nodes[r];20224&o.flags&&n.push(o.provider.token),r+=o.childCount}return n}get references(){const n={};if(this.elDef){gT(this.elView,this.elDef,n);for(let r=this.elDef.nodeIndex+1;r<=this.elDef.nodeIndex+this.elDef.childCount;r++){const o=this.elView.def.nodes[r];20224&o.flags&&gT(this.elView,o,n),r+=o.childCount}}return n}get componentRenderElement(){const n=function(t){for(;t&&!ch(t);)t=t.parent;return t.parent?Ii(t.parent,Lf(t).nodeIndex):null}(this.elOrCompView);return n?n.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?Pg(this.view,this.nodeDef):Pg(this.elView,this.elDef)}logError(n,...r){let o,u;2&this.nodeDef.flags?(o=this.view.def,u=this.nodeDef.nodeIndex):(o=this.elView.def,u=this.elDef.nodeIndex);const l=function(t,n){let r=-1;for(let o=0;o<=n;o++)3&t.nodes[o].flags&&r++;return r}(o,u);let f=-1;o.factory(()=>(f++,f===l?n.error.bind(n,...r):Cu)),f<l&&(n.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),n.error(...r))}}function gT(t,n,r){for(let o in n.references)r[o]=Jb(t,n,n.references[o])}function hh(t,n,r,o){const u=Jg,l=Bf,f=r_;try{Jg=t;const m=n.apply(r,o);return Bf=l,r_=f,Jg=u,m}catch(m){throw function(t){return!!Ni(t)}(m)||!Bf?m:function(t,n){return t instanceof Error||(t=new Error(t.toString())),V0(t,n),t}(m,WE())}}function WE(){return Bf?new KE(Bf,r_):null}class CR{constructor(n){this.delegate=n}createRenderer(n,r){return new DR(this.delegate.createRenderer(n,r))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class DR{constructor(n){this.delegate=n,this.debugContextFactory=WE,this.data=this.delegate.data}createDebugContext(n){return this.debugContextFactory(n)}destroyNode(n){const r=Do(n);r&&(Qy.delete(r.nativeNode),r instanceof zg&&(r.listeners.length=0)),this.delegate.destroyNode&&this.delegate.destroyNode(n)}destroy(){this.delegate.destroy()}createElement(n,r){const o=this.delegate.createElement(n,r),u=this.createDebugContext(o);if(u){const l=new Co(o,null,u);l.name=n,Jy(l)}return o}createComment(n){const r=this.delegate.createComment(Hc(n)),o=this.createDebugContext(r);return o&&Jy(new zg(r,null,o)),r}createText(n){const r=this.delegate.createText(n),o=this.createDebugContext(r);return o&&Jy(new zg(r,null,o)),r}appendChild(n,r){const o=Do(n),u=Do(r);o&&u&&o instanceof Co&&o.addChild(u),this.delegate.appendChild(n,r)}insertBefore(n,r,o,u){const l=Do(n),f=Do(r),m=Do(o);l&&f&&l instanceof Co&&l.insertBefore(m,f),this.delegate.insertBefore(n,r,o,u)}removeChild(n,r){const o=Do(n),u=Do(r);o&&u&&o instanceof Co&&o.removeChild(u),this.delegate.removeChild(n,r)}selectRootElement(n,r){const o=this.delegate.selectRootElement(n,r),u=WE();return u&&Jy(new Co(o,null,u)),o}setAttribute(n,r,o,u){const l=Do(n);l&&l instanceof Co&&(l.attributes[u?u+":"+r:r]=o),this.delegate.setAttribute(n,r,o,u)}removeAttribute(n,r,o){const u=Do(n);u&&u instanceof Co&&(u.attributes[o?o+":"+r:r]=null),this.delegate.removeAttribute(n,r,o)}addClass(n,r){const o=Do(n);o&&o instanceof Co&&(o.classes[r]=!0),this.delegate.addClass(n,r)}removeClass(n,r){const o=Do(n);o&&o instanceof Co&&(o.classes[r]=!1),this.delegate.removeClass(n,r)}setStyle(n,r,o,u){const l=Do(n);l&&l instanceof Co&&(l.styles[r]=o),this.delegate.setStyle(n,r,o,u)}removeStyle(n,r,o){const u=Do(n);u&&u instanceof Co&&(u.styles[r]=null),this.delegate.removeStyle(n,r,o)}setProperty(n,r,o){const u=Do(n);u&&u instanceof Co&&(u.properties[r]=o),this.delegate.setProperty(n,r,o)}listen(n,r,o){if("string"!=typeof n){const u=Do(n);u&&u.listeners.push(new $b(r,o))}return this.delegate.listen(n,r,o)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setValue(n,r){return this.delegate.setValue(n,r)}}function SR(t){return Qg(),hr.overrideProvider(t)}function AR(t,n){return Qg(),hr.overrideComponentView(t,n)}function RR(){return Qg(),hr.clearOverrides()}function xR(t,n,r){return new PR(t,n,r)}class PR extends Bv{constructor(n,r,o){super(),this.moduleType=n,this._bootstrapComponents=r,this._ngModuleDefFactory=o}create(n){Qg();const r=function(t){const n=Array.from(t.providers),r=Array.from(t.modules),o={};for(const u in t.providersByKey)o[u]=t.providersByKey[u];return{factory:t.factory,scope:t.scope,providers:n,modules:r,providersByKey:o}}(Ff(this._ngModuleDefFactory));return hr.createNgModuleRef(this.moduleType,n||Kr.NULL,this._bootstrapComponents,r)}}function OR(t){return di().compileDirectiveDeclaration(Ca,`ng:///${t.type.name}/\u0275fac.js`,t)}function MR(t){var n,r;aw(t.type,t.decorators,null!==(n=t.ctorParameters)&&void 0!==n?n:null,null!==(r=t.propDecorators)&&void 0!==r?r:null)}function kR(t){return di().compileComponentDeclaration(Ca,`ng:///${t.type.name}/\u0275cmp.js`,t)}function LR(t){return di(function(t){switch(t){case Ai.Directive:return"directive";case Ai.Component:return"component";case Ai.Injectable:return"injectable";case Ai.Pipe:return"pipe";case Ai.NgModule:;}}(t.target)).compileFactoryDeclaration(Ca,`ng:///${t.type.name}/\u0275fac.js`,t)}function VR(t){return di().compileInjectableDeclaration(Ca,`ng:///${t.type.name}/\u0275prov.js`,t)}function UR(t){return di().compileInjectorDeclaration(Ca,`ng:///${t.type.name}/\u0275inj.js`,t)}function jR(t){return di().compileNgModuleDeclaration(Ca,`ng:///${t.type.name}/\u0275mod.js`,t)}function BR(t){return di().compilePipeDeclaration(Ca,`ng:///${t.type.name}/\u0275pipe.js`,t)}},7240:(Mt,Be,F)=>{"use strict";F.d(Be,{nm:()=>as});var w=F(8682);F(2741),F(1665);var je=F(1921),Xe=F(4762),kt=F(3552),cn=F(9870),zt=F(1773);const en=new Map,rn={activated:!1,tokenObservers:[]},Qt={initialized:!1,enabled:!1};function Ht(Re){return en.get(Re)||rn}function Ft(Re,Se){en.set(Re,Se)}function In(){return Qt}class It{constructor(Se,qe,ht,Tt,Gt){if(this.operation=Se,this.retryPolicy=qe,this.getWaitDuration=ht,this.lowerBound=Tt,this.upperBound=Gt,this.pending=null,this.nextErrorWaitInterval=Tt,Tt>Gt)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Se){var qe=this;return(0,je.Z)(function*(){qe.stop();try{qe.pending=new cn.BH,yield(Re=qe.getNextRun(Se),new Promise(Se=>{setTimeout(Se,Re)})),qe.pending.resolve(),yield qe.pending.promise,qe.pending=new cn.BH,yield qe.operation(),qe.pending.resolve(),yield qe.pending.promise,qe.process(!0).catch(()=>{})}catch(ht){qe.retryPolicy(ht)?qe.process(!1).catch(()=>{}):qe.stop()}var Re})()}getNextRun(Se){if(Se)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const qe=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),qe}}}const Bt=new cn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function hn(Re){if(!Ht(Re).activated)throw Bt.create("use-before-activation",{appName:Re.name})}function mn(Re,Se){return rr.apply(this,arguments)}function rr(){return(rr=(0,je.Z)(function*({url:Re,body:Se},qe){const ht={"Content-Type":"application/json"},Tt=qe.getImmediate({optional:!0});Tt&&(ht["X-Firebase-Client"]=Tt.getPlatformInfoString());const Gt={method:"POST",body:JSON.stringify(Se),headers:ht};let ir,qr;try{ir=yield fetch(Re,Gt)}catch(go){throw Bt.create("fetch-network-error",{originalErrorMessage:go.message})}if(200!==ir.status)throw Bt.create("fetch-status-error",{httpStatus:ir.status});try{qr=yield ir.json()}catch(go){throw Bt.create("fetch-parse-error",{originalErrorMessage:go.message})}const Pn=qr.ttl.match(/^([\d.]+)(s)$/);if(!Pn||!Pn[2]||isNaN(Number(Pn[1])))throw Bt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${qr.ttl}`});const bi=1e3*Number(Pn[1]),fs=Date.now();return{token:qr.attestationToken,expireTimeMillis:fs+bi,issuedAtTimeMillis:fs}})).apply(this,arguments)}function ct(Re,Se){const{projectId:qe,appId:ht,apiKey:Tt}=Re.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${qe}/apps/${ht}:exchangeDebugToken?key=${Tt}`,body:{debug_token:Se}}}const Nt="firebase-app-check-store";let _r=null;function Vn(){return _r||(_r=new Promise((Re,Se)=>{try{const qe=indexedDB.open("firebase-app-check-database",1);qe.onsuccess=ht=>{Re(ht.target.result)},qe.onerror=ht=>{var Tt;Se(Bt.create("storage-open",{originalErrorMessage:null===(Tt=ht.target.error)||void 0===Tt?void 0:Tt.message}))},qe.onupgradeneeded=ht=>{const Tt=ht.target.result;switch(ht.oldVersion){case 0:Tt.createObjectStore(Nt,{keyPath:"compositeKey"})}}}catch(qe){Se(Bt.create("storage-open",{originalErrorMessage:qe.message}))}}),_r)}function bt(){return(bt=(0,je.Z)(function*(Re,Se){const ht=(yield Vn()).transaction(Nt,"readwrite"),Gt=ht.objectStore(Nt).put({compositeKey:Re,value:Se});return new Promise((ir,qr)=>{Gt.onsuccess=Pn=>{ir()},ht.onerror=Pn=>{var bi;qr(Bt.create("storage-set",{originalErrorMessage:null===(bi=Pn.target.error)||void 0===bi?void 0:bi.message}))}})})).apply(this,arguments)}const Xn=new zt.Yd("@firebase/app-check");function Bn(Re,Se){return(0,cn.hl)()?function(Re,Se){return function(Re,Se){return bt.apply(this,arguments)}(function(Re){return`${Re.options.appId}-${Re.name}`}(Re),Se)}(Re,Se).catch(qe=>{Xn.warn(`Failed to write token to IndexedDB. Error: ${qe}`)}):Promise.resolve()}function ue(){return In().enabled}function we(){return We.apply(this,arguments)}function We(){return(We=(0,je.Z)(function*(){const Re=In();if(Re.enabled&&Re.token)return Re.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Me={error:"UNKNOWN_ERROR"};function H(Re){return cn.US.encodeString(JSON.stringify(Re),!1)}function ie(Re){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,je.Z)(function*(Re,Se=!1){const qe=Re.app;hn(qe);const ht=Ht(qe);let Gt,Tt=ht.token;if(!Tt){const Pn=yield ht.cachedTokenPromise;Pn&&Wr(Pn)&&(Tt=Pn)}if(!Se&&Tt&&Wr(Tt))return{token:Tt.token};let qr,ir=!1;if(ue()){ht.exchangeTokenPromise||(ht.exchangeTokenPromise=mn(ct(qe,yield we()),Re.platformLoggerProvider).then(bi=>(ht.exchangeTokenPromise=void 0,bi)),ir=!0);const Pn=yield ht.exchangeTokenPromise;return yield Bn(qe,Pn),Ft(qe,Object.assign(Object.assign({},ht),{token:Pn})),{token:Pn.token}}try{ht.exchangeTokenPromise||(ht.exchangeTokenPromise=ht.provider.getToken().then(Pn=>(ht.exchangeTokenPromise=void 0,Pn)),ir=!0),Tt=yield ht.exchangeTokenPromise}catch(Pn){"appCheck/throttled"===Pn.code?Xn.warn(Pn.message):Xn.error(Pn),Gt=Pn}return Tt?(qr={token:Tt.token},Ft(qe,Object.assign(Object.assign({},ht),{token:Tt})),yield Bn(qe,Tt)):qr=xr(Gt),ir&&jr(qe,qr),qr})).apply(this,arguments)}function fn(Re,Se){const qe=Ht(Re),ht=qe.tokenObservers.filter(Tt=>Tt.next!==Se);0===ht.length&&qe.tokenRefresher&&qe.tokenRefresher.isRunning()&&qe.tokenRefresher.stop(),Ft(Re,Object.assign(Object.assign({},qe),{tokenObservers:ht}))}function $t(Re){const{app:Se}=Re,qe=Ht(Se);let ht=qe.tokenRefresher;ht||(ht=function(Re){const{app:Se}=Re;return new It((0,je.Z)(function*(){let ht;if(ht=Ht(Se).token?yield ie(Re,!0):yield ie(Re),ht.error)throw ht.error}),()=>!0,()=>{const qe=Ht(Se);if(qe.token){let ht=qe.token.issuedAtTimeMillis+.5*(qe.token.expireTimeMillis-qe.token.issuedAtTimeMillis)+3e5;return ht=Math.min(ht,qe.token.expireTimeMillis-3e5),Math.max(0,ht-Date.now())}return 0},3e4,96e4)}(Re),Ft(Se,Object.assign(Object.assign({},qe),{tokenRefresher:ht}))),!ht.isRunning()&&qe.isTokenAutoRefreshEnabled&&ht.start()}function jr(Re,Se){const qe=Ht(Re).tokenObservers;for(const ht of qe)try{"EXTERNAL"===ht.type&&null!=Se.error?ht.error(Se.error):ht.next(Se)}catch(Tt){}}function Wr(Re){return Re.expireTimeMillis-Date.now()>0}function xr(Re){return{token:H(Me),error:Re}}class Un{constructor(Se,qe){this.app=Se,this.platformLoggerProvider=qe}_delete(){const{tokenObservers:Se}=Ht(this.app);for(const qe of Se)fn(this.app,qe.next);return Promise.resolve()}}const Hn="app-check-internal";(0,Xe._registerComponent)(new kt.wA("app-check",Re=>function(Re,Se){return new Un(Re,Se)}(Re.getProvider("app").getImmediate(),Re.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Re,Se,qe)=>{Re.getProvider(Hn).initialize()})),(0,Xe._registerComponent)(new kt.wA(Hn,Re=>function(Re){return{getToken:Se=>ie(Re,Se),addTokenListener:Se=>function(Re,Se,qe,ht){const{app:Tt}=Re,Gt=Ht(Tt),ir={next:qe,error:ht,type:Se};if(Ft(Tt,Object.assign(Object.assign({},Gt),{tokenObservers:[...Gt.tokenObservers,ir]})),Gt.token&&Wr(Gt.token)){const qr=Gt.token;Promise.resolve().then(()=>{qe({token:qr.token}),$t(Re)}).catch(()=>{})}Gt.cachedTokenPromise.then(()=>$t(Re))}(Re,"INTERNAL",Se),removeTokenListener:Se=>fn(Re.app,Se)}}(Re.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Xe.registerVersion)("@firebase/app-check","0.5.3");class as{constructor(){return(0,w.vb)("app-check")}}"undefined"!=typeof window&&window},4259:(Mt,Be,F)=>{"use strict";F.d(Be,{zQ:()=>Rr,ww:()=>pi,rT:()=>In,f7:()=>yr,L6:()=>Ht,_Q:()=>Ft,lh:()=>ft,Qv:()=>Qt,nw:()=>Zn});var w=F(2741),L=F(6006),z=F(267),be=F(3948),oe=F(2850),te=F(636),De=F(6511),ee=F(9734),Te=F(8602),Q=F(7078),ne=F(2417);class J extends L.xQ{constructor(It=Number.POSITIVE_INFINITY,Kt=Number.POSITIVE_INFINITY,Cn){super(),this.scheduler=Cn,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=It<1?1:It,this._windowTime=Kt<1?1:Kt,Kt===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(It){const Kt=this._events;Kt.push(It),Kt.length>this._bufferSize&&Kt.shift(),super.next(It)}nextTimeWindow(It){this._events.push(new ve(this._getNow(),It)),this._trimBufferThenGetEvents(),super.next(It)}_subscribe(It){const Kt=this._infiniteTimeWindow,Cn=Kt?this._events:this._trimBufferThenGetEvents(),Bt=this.scheduler,Wt=Cn.length;let hn;if(this.closed)throw new Q.N;if(this.isStopped||this.hasError?hn=ee.w.EMPTY:(this.observers.push(It),hn=new ne.W(this,It)),Bt&&It.add(It=new Te.ht(It,Bt)),Kt)for(let Ut=0;Ut<Wt&&!It.closed;Ut++)It.next(Cn[Ut]);else for(let Ut=0;Ut<Wt&&!It.closed;Ut++)It.next(Cn[Ut].value);return this.hasError?It.error(this.thrownError):this.isStopped&&It.complete(),hn}_getNow(){return(this.scheduler||De.c).now()}_trimBufferThenGetEvents(){const It=this._getNow(),Kt=this._bufferSize,Cn=this._windowTime,Bt=this._events,Wt=Bt.length;let hn=0;for(;hn<Wt&&!(It-Bt[hn].time<Cn);)hn++;return Wt>Kt&&(hn=Math.max(hn,Wt-Kt)),hn>0&&Bt.splice(0,hn),Bt}}class ve{constructor(It,Kt){this.time=It,this.value=Kt}}function Ge(Ot,It,Kt){let Cn;return Cn=Ot&&"object"==typeof Ot?Ot:{bufferSize:Ot,windowTime:It,refCount:!1,scheduler:Kt},Bt=>Bt.lift(function({bufferSize:Ot=Number.POSITIVE_INFINITY,windowTime:It=Number.POSITIVE_INFINITY,refCount:Kt,scheduler:Cn}){let Bt,hn,Wt=0,Ut=!1,Dn=!1;return function(mn){let rr;Wt++,!Bt||Ut?(Ut=!1,Bt=new J(Ot,It,Cn),rr=Bt.subscribe(this),hn=mn.subscribe({next(br){Bt.next(br)},error(br){Ut=!0,Bt.error(br)},complete(){Dn=!0,hn=void 0,Bt.complete()}})):rr=Bt.subscribe(this),this.add(()=>{Wt--,rr.unsubscribe(),hn&&!Dn&&Kt&&0===Wt&&(hn.unsubscribe(),hn=void 0,Bt=void 0)})}}(Cn))}var ke=F(2812);function Ke(Ot,It){return It?(0,ke.w)(()=>Ot,It):(0,ke.w)(()=>Ot)}var Pe=F(8561),Ne=F(3987),Ie=F(1557),je=F(3305),Xe=F(8682),kt=F(9106),cn=F(6274),zt=F(7240),en=F(2837);const Qt=new w.InjectionToken("angularfire2.auth.use-emulator"),Ht=new w.InjectionToken("angularfire2.auth.settings"),Ft=new w.InjectionToken("angularfire2.auth.tenant-id"),In=new w.InjectionToken("angularfire2.auth.langugage-code"),ft=new w.InjectionToken("angularfire2.auth.use-device-language"),yr=new w.InjectionToken("angularfire.auth.persistence"),Zn=(Ot,It,Kt,Cn,Bt,Wt,hn,Ut)=>(0,kt.cc)(`${Ot.name}.auth`,"AngularFireAuth",Ot.name,()=>{const Dn=It.runOutsideAngular(()=>Ot.auth());if(Kt&&Dn.useEmulator(...Kt),Cn&&(Dn.tenantId=Cn),Dn.languageCode=Bt,Wt&&Dn.useDeviceLanguage(),hn)for(const[Yt,mn]of Object.entries(hn))Dn.settings[Yt]=mn;return Ut&&Dn.setPersistence(Ut),Dn},[Kt,Cn,Bt,Wt,hn,Ut]);let Rr=(()=>{class Ot{constructor(Kt,Cn,Bt,Wt,hn,Ut,Dn,Yt,mn,rr,br,cr){const ct=new L.xQ,Qn=(0,z.of)(void 0).pipe((0,Te.QV)(hn.outsideAngular),(0,ke.w)(()=>Wt.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,2136)))),(0,Pe.U)(()=>(0,kt.on)(Kt,Wt,Cn)),(0,Pe.U)(Yn=>Zn(Yn,Wt,Ut,Yt,mn,rr,Dn,br)),Ge({bufferSize:1,refCount:!1}));if((0,cn.PM)(Bt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,z.of)(null);else{Qn.pipe((0,Ne.P)()).subscribe();const Nt=Qn.pipe((0,ke.w)(Vn=>Vn.getRedirectResult().then(Le=>Le,()=>null)),Xe.iC,Ge({bufferSize:1,refCount:!1})),Sn=Qn.pipe((0,ke.w)(Vn=>new be.y(Le=>({unsubscribe:Wt.runOutsideAngular(()=>Vn.onAuthStateChanged(ae=>Le.next(ae),ae=>Le.error(ae),()=>Le.complete()))})))),_r=Qn.pipe((0,ke.w)(Vn=>new be.y(Le=>({unsubscribe:Wt.runOutsideAngular(()=>Vn.onIdTokenChanged(ae=>Le.next(ae),ae=>Le.error(ae),()=>Le.complete()))}))));this.authState=Nt.pipe(Ke(Sn),(0,Ie.R)(hn.outsideAngular),(0,Te.QV)(hn.insideAngular)),this.user=Nt.pipe(Ke(_r),(0,Ie.R)(hn.outsideAngular),(0,Te.QV)(hn.insideAngular)),this.idToken=this.user.pipe((0,ke.w)(Vn=>Vn?(0,oe.D)(Vn.getIdToken()):(0,z.of)(null))),this.idTokenResult=this.user.pipe((0,ke.w)(Vn=>Vn?(0,oe.D)(Vn.getIdTokenResult()):(0,z.of)(null))),this.credential=(0,te.T)(Nt,ct,this.authState.pipe((0,je.h)(Vn=>!Vn))).pipe((0,Pe.U)(Vn=>(null==Vn?void 0:Vn.user)?Vn:null),(0,Ie.R)(hn.outsideAngular),(0,Te.QV)(hn.insideAngular))}return(0,kt.pX)(this,Qn,Wt,{spy:{apply:(Yn,Nt,Sn)=>{(Yn.startsWith("signIn")||Yn.startsWith("createUser"))&&Sn.then(_r=>ct.next(_r))}}})}}return Ot.\u0275fac=function(Kt){return new(Kt||Ot)(w.\u0275\u0275inject(kt.Dh),w.\u0275\u0275inject(kt.xv,8),w.\u0275\u0275inject(w.PLATFORM_ID),w.\u0275\u0275inject(w.NgZone),w.\u0275\u0275inject(Xe.HU),w.\u0275\u0275inject(Qt,8),w.\u0275\u0275inject(Ht,8),w.\u0275\u0275inject(Ft,8),w.\u0275\u0275inject(In,8),w.\u0275\u0275inject(ft,8),w.\u0275\u0275inject(yr,8),w.\u0275\u0275inject(zt.nm,8))},Ot.\u0275prov=w.\u0275\u0275defineInjectable({token:Ot,factory:Ot.\u0275fac,providedIn:"any"}),Ot})(),pi=(()=>{class Ot{constructor(){en.Z.registerVersion("angularfire",Xe.q4.full,"auth-compat")}}return Ot.\u0275fac=function(Kt){return new(Kt||Ot)},Ot.\u0275mod=w.\u0275\u0275defineNgModule({type:Ot}),Ot.\u0275inj=w.\u0275\u0275defineInjector({providers:[Rr]}),Ot})()},9805:(Mt,Be,F)=>{"use strict";F.d(Be,{ST:()=>We,yb:()=>Fe});var w=F(2741),L=F(8846),z=F(3948),be=F(2850),oe=F(267),te=F(8682),De=F(8744);function ee(){return Me=>Me.lift(new Te)}class Te{call(H,ie){return ie.subscribe(new Q(H))}}class Q extends De.L{constructor(H){super(H),this.hasPrev=!1}_next(H){let ie;this.hasPrev?ie=[this.prev,H]:this.hasPrev=!0,this.prev=H,ie&&this.destination.next(ie)}}var ne=F(3543),J=F(8561),ve=F(1310),Ge=F(7689),st=F(3305),ke=F(9106),Ke=F(6274),Ne=(F(2136),F(6043)),Ie=F(9665),je=F(9870),Xe=F(3552);function zt(Me,H){if(void 0===H)return{merge:!1};if(void 0!==H.mergeFields&&void 0!==H.merge)throw new Ie.WA("invalid-argument",`Invalid options passed to function ${Me}(): You cannot specify both "merge" and "mergeFields".`);return H}function en(){if("undefined"==typeof Uint8Array)throw new Ie.WA("unimplemented","Uint8Arrays are not available in this environment.")}function rn(){if(!(0,Ie.Me)())throw new Ie.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Qt{constructor(H){this._delegate=H}static fromBase64String(H){return rn(),new Qt(Ie.Jj.fromBase64String(H))}static fromUint8Array(H){return en(),new Qt(Ie.Jj.fromUint8Array(H))}toBase64(){return rn(),this._delegate.toBase64()}toUint8Array(){return en(),this._delegate.toUint8Array()}isEqual(H){return this._delegate.isEqual(H._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Ht(Me){return function(Me,H){if("object"!=typeof Me||null===Me)return!1;const ie=Me;for(const Ze of["next","error","complete"])if(Ze in ie&&"function"==typeof ie[Ze])return!0;return!1}(Me)}class In{enableIndexedDbPersistence(H,ie){return(0,Ie.ST)(H._delegate,{forceOwnership:ie})}enableMultiTabIndexedDbPersistence(H){return(0,Ie.fH)(H._delegate)}clearIndexedDbPersistence(H){return(0,Ie.Fc)(H._delegate)}}class ft{constructor(H,ie,Ze){this._delegate=ie,this._persistenceProvider=Ze,this.INTERNAL={delete:()=>this.terminate()},H instanceof Ie.l7||(this._appCompat=H)}get _databaseId(){return this._delegate._databaseId}settings(H){const ie=this._delegate._getSettings();!H.merge&&ie.host!==H.host&&(0,Ie.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),H.merge&&delete(H=Object.assign(Object.assign({},ie),H)).merge,this._delegate._setSettings(H)}useEmulator(H,ie,Ze={}){(0,Ie.at)(this._delegate,H,ie,Ze)}enableNetwork(){return(0,Ie.Ix)(this._delegate)}disableNetwork(){return(0,Ie.TF)(this._delegate)}enablePersistence(H){let ie=!1,Ze=!1;return H&&(ie=!!H.synchronizeTabs,Ze=!!H.experimentalForceOwningTab,(0,Ie.Wi)("synchronizeTabs",ie,"experimentalForceOwningTab",Ze)),ie?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,Ze)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,Ie.Mx)(this._delegate)}onSnapshotsInSync(H){return(0,Ie.sc)(this._delegate,H)}get app(){if(!this._appCompat)throw new Ie.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(H){try{return new mn(this,(0,Ie.hJ)(this._delegate,H))}catch(ie){throw Kt(ie,"collection()","Firestore.collection()")}}doc(H){try{return new It(this,(0,Ie.JU)(this._delegate,H))}catch(ie){throw Kt(ie,"doc()","Firestore.doc()")}}collectionGroup(H){try{return new Ut(this,(0,Ie.B$)(this._delegate,H))}catch(ie){throw Kt(ie,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(H){return(0,Ie.i3)(this._delegate,ie=>H(new Rr(this,ie)))}batch(){return(0,Ie.qY)(this._delegate),new pi(new Ie.PU(this._delegate,H=>(0,Ie.GL)(this._delegate,H)))}loadBundle(H){return(0,Ie.Pb)(this._delegate,H)}namedQuery(H){return(0,Ie.L$)(this._delegate,H).then(ie=>ie?new Ut(this,ie):null)}}class yr extends Ie.u7{constructor(H){super(),this.firestore=H}convertBytes(H){return new Qt(new Ie.Jj(H))}convertReference(H){const ie=this.convertDocumentKey(H,this.firestore._databaseId);return It.forKey(ie,this.firestore,null)}}class Rr{constructor(H,ie){this._firestore=H,this._delegate=ie,this._userDataWriter=new yr(H)}get(H){const ie=rr(H);return this._delegate.get(ie).then(Ze=>new Wt(this._firestore,new Ie.xU(this._firestore._delegate,this._userDataWriter,Ze._key,Ze._document,Ze.metadata,ie.converter)))}set(H,ie,Ze){const mt=rr(H);return Ze?(zt("Transaction.set",Ze),this._delegate.set(mt,ie,Ze)):this._delegate.set(mt,ie),this}update(H,ie,Ze,...mt){const fn=rr(H);return 2===arguments.length?this._delegate.update(fn,ie):this._delegate.update(fn,ie,Ze,...mt),this}delete(H){const ie=rr(H);return this._delegate.delete(ie),this}}class pi{constructor(H){this._delegate=H}set(H,ie,Ze){const mt=rr(H);return Ze?(zt("WriteBatch.set",Ze),this._delegate.set(mt,ie,Ze)):this._delegate.set(mt,ie),this}update(H,ie,Ze,...mt){const fn=rr(H);return 2===arguments.length?this._delegate.update(fn,ie):this._delegate.update(fn,ie,Ze,...mt),this}delete(H){const ie=rr(H);return this._delegate.delete(ie),this}commit(){return this._delegate.commit()}}class Ot{constructor(H,ie,Ze){this._firestore=H,this._userDataWriter=ie,this._delegate=Ze}fromFirestore(H,ie){const Ze=new Ie.$q(this._firestore._delegate,this._userDataWriter,H._key,H._document,H.metadata,null);return this._delegate.fromFirestore(new hn(this._firestore,Ze),null!=ie?ie:{})}toFirestore(H,ie){return ie?this._delegate.toFirestore(H,ie):this._delegate.toFirestore(H)}static getInstance(H,ie){const Ze=Ot.INSTANCES;let mt=Ze.get(H);mt||(mt=new WeakMap,Ze.set(H,mt));let fn=mt.get(ie);return fn||(fn=new Ot(H,new yr(H),ie),mt.set(ie,fn)),fn}}Ot.INSTANCES=new WeakMap;class It{constructor(H,ie){this.firestore=H,this._delegate=ie,this._userDataWriter=new yr(H)}static forPath(H,ie,Ze){if(H.length%2!=0)throw new Ie.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${H.canonicalString()} has ${H.length}`);return new It(ie,new Ie.my(ie._delegate,Ze,new Ie.Ky(H)))}static forKey(H,ie,Ze){return new It(ie,new Ie.my(ie._delegate,Ze,H))}get id(){return this._delegate.id}get parent(){return new mn(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(H){try{return new mn(this.firestore,(0,Ie.hJ)(this._delegate,H))}catch(ie){throw Kt(ie,"collection()","DocumentReference.collection()")}}isEqual(H){return(H=(0,je.m9)(H))instanceof Ie.my&&(0,Ie.Eo)(this._delegate,H)}set(H,ie){ie=zt("DocumentReference.set",ie);try{return ie?(0,Ie.pl)(this._delegate,H,ie):(0,Ie.pl)(this._delegate,H)}catch(Ze){throw Kt(Ze,"setDoc()","DocumentReference.set()")}}update(H,ie,...Ze){try{return 1===arguments.length?(0,Ie.r7)(this._delegate,H):(0,Ie.r7)(this._delegate,H,ie,...Ze)}catch(mt){throw Kt(mt,"updateDoc()","DocumentReference.update()")}}delete(){return(0,Ie.oe)(this._delegate)}onSnapshot(...H){const ie=Cn(H),Ze=Bt(H,mt=>new Wt(this.firestore,new Ie.xU(this.firestore._delegate,this._userDataWriter,mt._key,mt._document,mt.metadata,this._delegate.converter)));return(0,Ie.cf)(this._delegate,ie,Ze)}get(H){let ie;return ie="cache"===(null==H?void 0:H.source)?(0,Ie.kl)(this._delegate):"server"===(null==H?void 0:H.source)?(0,Ie.Xk)(this._delegate):(0,Ie.QT)(this._delegate),ie.then(Ze=>new Wt(this.firestore,new Ie.xU(this.firestore._delegate,this._userDataWriter,Ze._key,Ze._document,Ze.metadata,this._delegate.converter)))}withConverter(H){return new It(this.firestore,this._delegate.withConverter(H?Ot.getInstance(this.firestore,H):null))}}function Kt(Me,H,ie){return Me.message=Me.message.replace(H,ie),Me}function Cn(Me){for(const H of Me)if("object"==typeof H&&!Ht(H))return H;return{}}function Bt(Me,H){var ie,Ze;let mt;return mt=Ht(Me[0])?Me[0]:Ht(Me[1])?Me[1]:"function"==typeof Me[0]?{next:Me[0],error:Me[1],complete:Me[2]}:{next:Me[1],error:Me[2],complete:Me[3]},{next:fn=>{mt.next&&mt.next(H(fn))},error:null===(ie=mt.error)||void 0===ie?void 0:ie.bind(mt),complete:null===(Ze=mt.complete)||void 0===Ze?void 0:Ze.bind(mt)}}class Wt{constructor(H,ie){this._firestore=H,this._delegate=ie}get ref(){return new It(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(H){return this._delegate.data(H)}get(H,ie){return this._delegate.get(H,ie)}isEqual(H){return(0,Ie.qK)(this._delegate,H._delegate)}}class hn extends Wt{data(H){const ie=this._delegate.data(H);return(0,Ie.K9)(void 0!==ie,"Document in a QueryDocumentSnapshot should exist"),ie}}class Ut{constructor(H,ie){this.firestore=H,this._delegate=ie,this._userDataWriter=new yr(H)}where(H,ie,Ze){try{return new Ut(this.firestore,(0,Ie.IO)(this._delegate,(0,Ie.ar)(H,ie,Ze)))}catch(mt){throw Kt(mt,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(H,ie){try{return new Ut(this.firestore,(0,Ie.IO)(this._delegate,(0,Ie.Xo)(H,ie)))}catch(Ze){throw Kt(Ze,/(orderBy|where)\(\)/,"Query.$1()")}}limit(H){try{return new Ut(this.firestore,(0,Ie.IO)(this._delegate,(0,Ie.b9)(H)))}catch(ie){throw Kt(ie,"limit()","Query.limit()")}}limitToLast(H){try{return new Ut(this.firestore,(0,Ie.IO)(this._delegate,(0,Ie.vh)(H)))}catch(ie){throw Kt(ie,"limitToLast()","Query.limitToLast()")}}startAt(...H){try{return new Ut(this.firestore,(0,Ie.IO)(this._delegate,(0,Ie.e0)(...H)))}catch(ie){throw Kt(ie,"startAt()","Query.startAt()")}}startAfter(...H){try{return new Ut(this.firestore,(0,Ie.IO)(this._delegate,(0,Ie.TQ)(...H)))}catch(ie){throw Kt(ie,"startAfter()","Query.startAfter()")}}endBefore(...H){try{return new Ut(this.firestore,(0,Ie.IO)(this._delegate,(0,Ie.Lx)(...H)))}catch(ie){throw Kt(ie,"endBefore()","Query.endBefore()")}}endAt(...H){try{return new Ut(this.firestore,(0,Ie.IO)(this._delegate,(0,Ie.Wu)(...H)))}catch(ie){throw Kt(ie,"endAt()","Query.endAt()")}}isEqual(H){return(0,Ie.iE)(this._delegate,H._delegate)}get(H){let ie;return ie="cache"===(null==H?void 0:H.source)?(0,Ie.UQ)(this._delegate):"server"===(null==H?void 0:H.source)?(0,Ie.zN)(this._delegate):(0,Ie.PL)(this._delegate),ie.then(Ze=>new Yt(this.firestore,new Ie.W(this.firestore._delegate,this._userDataWriter,this._delegate,Ze._snapshot)))}onSnapshot(...H){const ie=Cn(H),Ze=Bt(H,mt=>new Yt(this.firestore,new Ie.W(this.firestore._delegate,this._userDataWriter,this._delegate,mt._snapshot)));return(0,Ie.cf)(this._delegate,ie,Ze)}withConverter(H){return new Ut(this.firestore,this._delegate.withConverter(H?Ot.getInstance(this.firestore,H):null))}}class Dn{constructor(H,ie){this._firestore=H,this._delegate=ie}get type(){return this._delegate.type}get doc(){return new hn(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Yt{constructor(H,ie){this._firestore=H,this._delegate=ie}get query(){return new Ut(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(H=>new hn(this._firestore,H))}docChanges(H){return this._delegate.docChanges(H).map(ie=>new Dn(this._firestore,ie))}forEach(H,ie){this._delegate.forEach(Ze=>{H.call(ie,new hn(this._firestore,Ze))})}isEqual(H){return(0,Ie.qK)(this._delegate,H._delegate)}}class mn extends Ut{constructor(H,ie){super(H,ie),this.firestore=H,this._delegate=ie}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const H=this._delegate.parent;return H?new It(this.firestore,H):null}doc(H){try{return new It(this.firestore,void 0===H?(0,Ie.JU)(this._delegate):(0,Ie.JU)(this._delegate,H))}catch(ie){throw Kt(ie,"doc()","CollectionReference.doc()")}}add(H){return(0,Ie.ET)(this._delegate,H).then(ie=>new It(this.firestore,ie))}isEqual(H){return(0,Ie.Eo)(this._delegate,H._delegate)}withConverter(H){return new mn(this.firestore,this._delegate.withConverter(H?Ot.getInstance(this.firestore,H):null))}}function rr(Me){return(0,Ie.Cf)(Me,Ie.my)}class br{constructor(...H){this._delegate=new Ie.Lz(...H)}static documentId(){return new br(Ie.Xb.keyField().canonicalString())}isEqual(H){return(H=(0,je.m9)(H))instanceof Ie.Lz&&this._delegate._internalPath.isEqual(H._internalPath)}}class cr{constructor(H){this._delegate=H}static serverTimestamp(){const H=(0,Ie.Bt)();return H._methodName="FieldValue.serverTimestamp",new cr(H)}static delete(){const H=(0,Ie.AK)();return H._methodName="FieldValue.delete",new cr(H)}static arrayUnion(...H){const ie=(0,Ie.vr)(...H);return ie._methodName="FieldValue.arrayUnion",new cr(ie)}static arrayRemove(...H){const ie=(0,Ie.Ab)(...H);return ie._methodName="FieldValue.arrayRemove",new cr(ie)}static increment(H){const ie=(0,Ie.nP)(H);return ie._methodName="FieldValue.increment",new cr(ie)}isEqual(H){return this._delegate.isEqual(H._delegate)}}const ct={Firestore:ft,GeoPoint:Ie.F8,Timestamp:Ie.EK,Blob:Qt,Transaction:Rr,WriteBatch:pi,DocumentReference:It,DocumentSnapshot:Wt,Query:Ut,QueryDocumentSnapshot:hn,QuerySnapshot:Yt,CollectionReference:mn,FieldPath:br,FieldValue:cr,setLogLevel:function(Me){(0,Ie.Ub)(Me)},CACHE_SIZE_UNLIMITED:Ie.IX};var Me;(function(Me,H){Me.INTERNAL.registerComponent(new Xe.wA("firestore-compat",ie=>((H,ie)=>new ft(H,ie,new In))(ie.getProvider("app-compat").getImmediate(),ie.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},ct)))})(Me=Ne.Z),Me.registerVersion("@firebase/firestore-compat","0.1.14");var Nt=F(4259),Sn=F(7240),_r=F(2837);function Le(Me,H){return function(Me,H=L.z){return new z.y(ie=>{let Ze;return null!=H?H.schedule(()=>{Ze=Me.onSnapshot({includeMetadataChanges:!0},ie)}):Ze=Me.onSnapshot({includeMetadataChanges:!0},ie),()=>{null!=Ze&&Ze()}})}(Me,H)}function de(Me,H){return Le(Me,H).pipe((0,J.U)(ie=>({payload:ie,type:"query"})))}function Je(Me,H){return de(Me,H).pipe((0,ne.O)(void 0),ee(),(0,J.U)(([ie,Ze])=>{const mt=Ze.payload.docChanges(),fn=mt.map($t=>({type:$t.type,payload:$t}));return ie&&JSON.stringify(ie.payload.metadata)!==JSON.stringify(Ze.payload.metadata)&&Ze.payload.docs.forEach(($t,_n)=>{const jr=mt.find(xr=>xr.doc.ref.isEqual($t.ref)),Wr=null==ie?void 0:ie.payload.docs.find(xr=>xr.ref.isEqual($t.ref));jr&&JSON.stringify(jr.doc.metadata)===JSON.stringify($t.metadata)||!jr&&Wr&&JSON.stringify(Wr.metadata)===JSON.stringify($t.metadata)||fn.push({type:"modified",payload:{oldIndex:_n,newIndex:_n,type:"modified",doc:$t}})}),fn}))}function $e(Me,H,ie){return Je(Me,ie).pipe((0,ve.R)((Ze,mt)=>function(Me,H,ie){return H.forEach(Ze=>{ie.indexOf(Ze.type)>-1&&(Me=function(Me,H){switch(H.type){case"added":if(!Me[H.newIndex]||!Me[H.newIndex].doc.ref.isEqual(H.doc.ref))return at(Me,H.newIndex,0,H);break;case"modified":if(null==Me[H.oldIndex]||Me[H.oldIndex].doc.ref.isEqual(H.doc.ref)){if(H.oldIndex!==H.newIndex){const ie=Me.slice();return ie.splice(H.oldIndex,1),ie.splice(H.newIndex,0,H),ie}return at(Me,H.newIndex,1,H)}break;case"removed":if(Me[H.oldIndex]&&Me[H.oldIndex].doc.ref.isEqual(H.doc.ref))return at(Me,H.oldIndex,1)}return Me}(Me,Ze))}),Me}(Ze,mt.map(fn=>fn.payload),H),[]),(0,Ge.x)(),(0,J.U)(Ze=>Ze.map(mt=>({type:mt.type,payload:mt}))))}function at(Me,H,ie,...Ze){const mt=Me.slice();return mt.splice(H,ie,...Ze),mt}function yn(Me){return(!Me||0===Me.length)&&(Me=["added","removed","modified"]),Me}class Xn{constructor(H,ie,Ze){this.ref=H,this.query=ie,this.afs=Ze}stateChanges(H){let ie=Je(this.query,this.afs.schedulers.outsideAngular);return H&&H.length>0&&(ie=ie.pipe((0,J.U)(Ze=>Ze.filter(mt=>H.indexOf(mt.type)>-1)))),ie.pipe((0,ne.O)(void 0),ee(),(0,st.h)(([Ze,mt])=>mt.length>0||!Ze),(0,J.U)(([Ze,mt])=>mt),te.iC)}auditTrail(H){return this.stateChanges(H).pipe((0,ve.R)((ie,Ze)=>[...ie,...Ze],[]))}snapshotChanges(H){const ie=yn(H);return $e(this.query,ie,this.afs.schedulers.outsideAngular).pipe(te.iC)}valueChanges(H={}){return de(this.query,this.afs.schedulers.outsideAngular).pipe((0,J.U)(ie=>ie.payload.docs.map(Ze=>H.idField?Object.assign(Object.assign({},Ze.data()),{[H.idField]:Ze.id}):Ze.data())),te.iC)}get(H){return(0,be.D)(this.query.get(H)).pipe(te.iC)}add(H){return this.ref.add(H)}doc(H){return new Nn(this.ref.doc(H),this.afs)}}class Nn{constructor(H,ie){this.ref=H,this.afs=ie}set(H,ie){return this.ref.set(H,ie)}update(H){return this.ref.update(H)}delete(){return this.ref.delete()}collection(H,ie){const Ze=this.ref.collection(H),{ref:mt,query:fn}=we(Ze,ie);return new Xn(mt,fn,this.afs)}snapshotChanges(){return function(Me,H){return Le(Me,H).pipe((0,ne.O)(void 0),ee(),(0,J.U)(([ie,Ze])=>Ze.exists?(null==ie?void 0:ie.exists)?{payload:Ze,type:"modified"}:{payload:Ze,type:"added"}:{payload:Ze,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(te.iC)}valueChanges(H={}){return this.snapshotChanges().pipe((0,J.U)(({payload:ie})=>H.idField?Object.assign(Object.assign({},ie.data()),{[H.idField]:ie.id}):ie.data()))}get(H){return(0,be.D)(this.ref.get(H)).pipe(te.iC)}}class an{constructor(H,ie){this.query=H,this.afs=ie}stateChanges(H){return H&&0!==H.length?Je(this.query,this.afs.schedulers.outsideAngular).pipe((0,J.U)(ie=>ie.filter(Ze=>H.indexOf(Ze.type)>-1)),(0,st.h)(ie=>ie.length>0),te.iC):Je(this.query,this.afs.schedulers.outsideAngular).pipe(te.iC)}auditTrail(H){return this.stateChanges(H).pipe((0,ve.R)((ie,Ze)=>[...ie,...Ze],[]))}snapshotChanges(H){const ie=yn(H);return $e(this.query,ie,this.afs.schedulers.outsideAngular).pipe(te.iC)}valueChanges(H={}){return de(this.query,this.afs.schedulers.outsideAngular).pipe((0,J.U)(Ze=>Ze.payload.docs.map(mt=>H.idField?Object.assign({[H.idField]:mt.id},mt.data()):mt.data())),te.iC)}get(H){return(0,be.D)(this.query.get(H)).pipe(te.iC)}}const Bn=new w.InjectionToken("angularfire2.enableFirestorePersistence"),An=new w.InjectionToken("angularfire2.firestore.persistenceSettings"),pe=new w.InjectionToken("angularfire2.firestore.settings"),ue=new w.InjectionToken("angularfire2.firestore.use-emulator");function we(Me,H=(ie=>ie)){return{query:H(Me),ref:Me}}let We=(()=>{class Me{constructor(ie,Ze,mt,fn,$t,_n,jr,Wr,xr,Un,gi,eo,zr,Nr,fr,mi,Yr){this.schedulers=jr;const Br=(0,ke.on)(ie,_n,Ze),ar=xr;Un&&(0,Nt.nw)(Br,_n,gi,zr,Nr,fr,eo,mi),[this.firestore,this.persistenceEnabled$]=(0,ke.cc)(`${Br.name}.firestore`,"AngularFirestore",Br.name,()=>{const At=_n.runOutsideAngular(()=>Br.firestore());if(fn&&At.settings(fn),ar&&At.useEmulator(...ar),mt&&!(0,Ke.PM)($t)){const wn=()=>{try{return(0,be.D)(At.enablePersistence(Wr||void 0).then(()=>!0,()=>!1))}catch(er){return"undefined"!=typeof console&&console.warn(er),(0,oe.of)(!1)}};return[At,_n.runOutsideAngular(wn)]}return[At,(0,oe.of)(!1)]},[fn,ar,mt])}collection(ie,Ze){let mt;mt="string"==typeof ie?this.firestore.collection(ie):ie;const{ref:fn,query:$t}=we(mt,Ze),_n=this.schedulers.ngZone.run(()=>fn);return new Xn(_n,$t,this)}collectionGroup(ie,Ze){const mt=Ze||($t=>$t),fn=this.firestore.collectionGroup(ie);return new an(mt(fn),this)}doc(ie){let Ze;Ze="string"==typeof ie?this.firestore.doc(ie):ie;const mt=this.schedulers.ngZone.run(()=>Ze);return new Nn(mt,this)}createId(){return this.firestore.collection("_").doc().id}}return Me.\u0275fac=function(ie){return new(ie||Me)(w.\u0275\u0275inject(ke.Dh),w.\u0275\u0275inject(ke.xv,8),w.\u0275\u0275inject(Bn,8),w.\u0275\u0275inject(pe,8),w.\u0275\u0275inject(w.PLATFORM_ID),w.\u0275\u0275inject(w.NgZone),w.\u0275\u0275inject(te.HU),w.\u0275\u0275inject(An,8),w.\u0275\u0275inject(ue,8),w.\u0275\u0275inject(Nt.zQ,8),w.\u0275\u0275inject(Nt.Qv,8),w.\u0275\u0275inject(Nt.L6,8),w.\u0275\u0275inject(Nt._Q,8),w.\u0275\u0275inject(Nt.rT,8),w.\u0275\u0275inject(Nt.lh,8),w.\u0275\u0275inject(Nt.f7,8),w.\u0275\u0275inject(Sn.nm,8))},Me.\u0275prov=w.\u0275\u0275defineInjectable({token:Me,factory:Me.\u0275fac,providedIn:"any"}),Me})(),Fe=(()=>{class Me{constructor(){_r.Z.registerVersion("angularfire",te.q4.full,"fst-compat")}static enablePersistence(ie){return{ngModule:Me,providers:[{provide:Bn,useValue:!0},{provide:An,useValue:ie}]}}}return Me.\u0275fac=function(ie){return new(ie||Me)},Me.\u0275mod=w.\u0275\u0275defineNgModule({type:Me}),Me.\u0275inj=w.\u0275\u0275defineInjector({providers:[We]}),Me})()},9106:(Mt,Be,F)=>{"use strict";F.d(Be,{hO:()=>ve,xv:()=>Te,Dh:()=>ee,GT:()=>te,cc:()=>Ge,on:()=>Q,pX:()=>oe});var w=F(2741),L=F(2837),z=F(8682);Mt=F.hmd(Mt);const be=["ngOnDestroy"],oe=(Pe,Ne,Ie,je={})=>new Proxy(Pe,{get:(Xe,kt)=>Ie.runOutsideAngular(()=>{var cn;if(Pe[kt])return(null===(cn=null==je?void 0:je.spy)||void 0===cn?void 0:cn.get)&&je.spy.get(kt,Pe[kt]),Pe[kt];if(be.indexOf(kt)>-1)return()=>{};const zt=Ne.toPromise().then(en=>{const rn=en&&en[kt];return"function"==typeof rn?rn.bind(en):rn&&rn.then?rn.then(Qt=>Ie.run(()=>Qt)):Ie.run(()=>rn)});return new Proxy(()=>{},{get:(en,rn)=>zt[rn],apply:(en,rn,Qt)=>zt.then(Ht=>{var Ft;const In=Ht&&Ht(...Qt);return(null===(Ft=null==je?void 0:je.spy)||void 0===Ft?void 0:Ft.apply)&&je.spy.apply(kt,Qt,In),In})})})}),te=(Pe,Ne)=>{Ne.forEach(Ie=>{Object.getOwnPropertyNames(Ie.prototype||Ie).forEach(je=>{Object.defineProperty(Pe.prototype,je,Object.getOwnPropertyDescriptor(Ie.prototype||Ie,je))})})};class De{constructor(Ne){return Ne}}const ee=new w.InjectionToken("angularfire2.app.options"),Te=new w.InjectionToken("angularfire2.app.name");function Q(Pe,Ne,Ie){const Xe="object"==typeof Ie&&Ie||{};Xe.name=Xe.name||"string"==typeof Ie&&Ie||"[DEFAULT]";const cn=L.Z.apps.filter(zt=>zt&&zt.name===Xe.name)[0]||Ne.runOutsideAngular(()=>L.Z.initializeApp(Pe,Xe));try{JSON.stringify(Pe)!==JSON.stringify(cn.options)&&ne("error",`${cn.name} Firebase App already initialized with different options${Mt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(zt){}return new De(cn)}const ne=(Pe,...Ne)=>{(0,w.isDevMode)()&&"undefined"!=typeof console&&console[Pe](...Ne)},J={provide:De,useFactory:Q,deps:[ee,w.NgZone,[new w.Optional,Te]]};let ve=(()=>{class Pe{constructor(Ie){L.Z.registerVersion("angularfire",z.q4.full,"core"),L.Z.registerVersion("angularfire",z.q4.full,"app-compat"),L.Z.registerVersion("angular",w.VERSION.full,Ie.toString())}static initializeApp(Ie,je){return{ngModule:Pe,providers:[{provide:ee,useValue:Ie},{provide:Te,useValue:je}]}}}return Pe.\u0275fac=function(Ie){return new(Ie||Pe)(w.\u0275\u0275inject(w.PLATFORM_ID))},Pe.\u0275mod=w.\u0275\u0275defineNgModule({type:Pe}),Pe.\u0275inj=w.\u0275\u0275defineInjector({providers:[J]}),Pe})();function Ge(Pe,Ne,Ie,je,Xe){const[,kt,cn]=globalThis.\u0275AngularfireInstanceCache.find(zt=>zt[0]===Pe)||[];if(kt)return function(Pe,Ne){try{return Pe.toString()===Ne.toString()}catch(Ie){return Pe===Ne}}(Xe,cn)||(Ke("error",`${Ne} was already initialized on the ${Ie} Firebase App with different settings.${ke?" You may need to reload as Firebase is not HMR aware.":""}`),Ke("warn",{is:Xe,was:cn})),kt;{const zt=je();return globalThis.\u0275AngularfireInstanceCache.push([Pe,zt,Xe]),zt}}const ke=!!Mt.hot,Ke=(Pe,...Ne)=>{(0,w.isDevMode)()&&"undefined"!=typeof console&&console[Pe](...Ne)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8682:(Mt,Be,F)=>{"use strict";F.d(Be,{q4:()=>Ru,iC:()=>au,HU:()=>pl,vb:()=>ja,JM:()=>ao});var w=F(2741),L=F(1665),z=F(1921),be=F(4762),oe=F(9870),te=F(3552),De=F(1773),ee=F(2842);const Te="@firebase/installations",Q="0.5.5",J=`w:${Q}`,ve="FIS_v2",Ne=new oe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ie(A){return A instanceof oe.ZR&&A.code.includes("request-failed")}function je({projectId:A}){return`https://firebaseinstallations.googleapis.com/v1/projects/${A}/installations`}function Xe(A){return{token:A.token,requestStatus:2,expiresIn:Ht(A.expiresIn),creationTime:Date.now()}}function kt(A,k){return cn.apply(this,arguments)}function cn(){return(cn=(0,z.Z)(function*(A,k){const he=(yield k.json()).error;return Ne.create("request-failed",{requestName:A,serverCode:he.code,serverMessage:he.message,serverStatus:he.status})})).apply(this,arguments)}function zt({apiKey:A}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":A})}function en(A,{refreshToken:k}){const G=zt(A);return G.append("Authorization",function(A){return`${ve} ${A}`}(k)),G}function rn(A){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,z.Z)(function*(A){const k=yield A();return k.status>=500&&k.status<600?A():k})).apply(this,arguments)}function Ht(A){return Number(A.replace("s","000"))}function In(A,k){return ft.apply(this,arguments)}function ft(){return(ft=(0,z.Z)(function*(A,{fid:k}){const G=je(A),Qe={method:"POST",headers:zt(A),body:JSON.stringify({fid:k,authVersion:ve,appId:A.appId,sdkVersion:J})},vt=yield rn(()=>fetch(G,Qe));if(vt.ok){const Vt=yield vt.json();return{fid:Vt.fid||k,registrationStatus:2,refreshToken:Vt.refreshToken,authToken:Xe(Vt.authToken)}}throw yield kt("Create Installation",vt)})).apply(this,arguments)}function yr(A){return new Promise(k=>{setTimeout(k,A)})}const Rr=/^[cdef][\w-]{21}$/;function Ot(){try{const A=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(A),A[0]=112+A[0]%16;const G=function(A){return function(A){return btoa(String.fromCharCode(...A)).replace(/\+/g,"-").replace(/\//g,"_")}(A).substr(0,22)}(A);return Rr.test(G)?G:""}catch(A){return""}}function Kt(A){return`${A.appName}!${A.appId}`}const Cn=new Map;function Bt(A,k){const G=Kt(A);Ut(G,k),function(A,k){const G=(!Yt&&"BroadcastChannel"in self&&(Yt=new BroadcastChannel("[Firebase] FID Change"),Yt.onmessage=A=>{Ut(A.data.key,A.data.fid)}),Yt);G&&G.postMessage({key:A,fid:k}),0===Cn.size&&Yt&&(Yt.close(),Yt=null)}(G,k)}function Ut(A,k){const G=Cn.get(A);if(G)for(const he of G)he(k)}let Yt=null;const ct="firebase-installations-store";let Qn=null;function Yn(){return Qn||(Qn=(0,ee.openDb)("firebase-installations-database",1,A=>{switch(A.oldVersion){case 0:A.createObjectStore(ct)}})),Qn}function Nt(A,k){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,z.Z)(function*(A,k){const G=Kt(A),Ue=(yield Yn()).transaction(ct,"readwrite"),Qe=Ue.objectStore(ct),vt=yield Qe.get(G);return yield Qe.put(k,G),yield Ue.complete,(!vt||vt.fid!==k.fid)&&Bt(A,k.fid),k})).apply(this,arguments)}function _r(A){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,z.Z)(function*(A){const k=Kt(A),he=(yield Yn()).transaction(ct,"readwrite");yield he.objectStore(ct).delete(k),yield he.complete})).apply(this,arguments)}function Le(A,k){return ae.apply(this,arguments)}function ae(){return(ae=(0,z.Z)(function*(A,k){const G=Kt(A),Ue=(yield Yn()).transaction(ct,"readwrite"),Qe=Ue.objectStore(ct),vt=yield Qe.get(G),Vt=k(vt);return void 0===Vt?yield Qe.delete(G):yield Qe.put(Vt,G),yield Ue.complete,Vt&&(!vt||vt.fid!==Vt.fid)&&Bt(A,Vt.fid),Vt})).apply(this,arguments)}function de(A){return Je.apply(this,arguments)}function Je(){return(Je=(0,z.Z)(function*(A){let k;const G=yield Le(A,he=>{const Ue=$e(he),Qe=bt(A,Ue);return k=Qe.registrationPromise,Qe.installationEntry});return""===G.fid?{installationEntry:yield k}:{installationEntry:G,registrationPromise:k}})).apply(this,arguments)}function $e(A){return an(A||{fid:Ot(),registrationStatus:0})}function bt(A,k){if(0===k.registrationStatus){if(!navigator.onLine)return{installationEntry:k,registrationPromise:Promise.reject(Ne.create("app-offline"))};const G={fid:k.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:G,registrationPromise:function(A,k){return Rt.apply(this,arguments)}(A,G)}}return 1===k.registrationStatus?{installationEntry:k,registrationPromise:yn(A)}:{installationEntry:k}}function Rt(){return(Rt=(0,z.Z)(function*(A,k){try{return Nt(A,yield In(A,k))}catch(G){throw Ie(G)&&409===G.customData.serverCode?yield _r(A):yield Nt(A,{fid:k.fid,registrationStatus:0}),G}})).apply(this,arguments)}function yn(A){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,z.Z)(function*(A){let k=yield Nn(A);for(;1===k.registrationStatus;)yield yr(100),k=yield Nn(A);if(0===k.registrationStatus){const{installationEntry:G,registrationPromise:he}=yield de(A);return he||G}return k})).apply(this,arguments)}function Nn(A){return Le(A,k=>{if(!k)throw Ne.create("installation-not-found");return an(k)})}function an(A){return function(A){return 1===A.registrationStatus&&A.registrationTime+1e4<Date.now()}(A)?{fid:A.fid,registrationStatus:0}:A}function An(A,k){return pe.apply(this,arguments)}function pe(){return(pe=(0,z.Z)(function*({appConfig:A,platformLoggerProvider:k},G){const he=ue(A,G),Ue=en(A,G),Qe=k.getImmediate({optional:!0});Qe&&Ue.append("x-firebase-client",Qe.getPlatformInfoString());const Vt={method:"POST",headers:Ue,body:JSON.stringify({installation:{sdkVersion:J}})},sn=yield rn(()=>fetch(he,Vt));if(sn.ok)return Xe(yield sn.json());throw yield kt("Generate Auth Token",sn)})).apply(this,arguments)}function ue(A,{fid:k}){return`${je(A)}/${k}/authTokens:generate`}function we(A){return We.apply(this,arguments)}function We(){return(We=(0,z.Z)(function*(A,k=!1){let G;const he=yield Le(A.appConfig,Qe=>{if(!mt(Qe))throw Ne.create("not-registered");const vt=Qe.authToken;if(!k&&fn(vt))return Qe;if(1===vt.requestStatus)return G=Fe(A,k),Qe;{if(!navigator.onLine)throw Ne.create("app-offline");const Vt=_n(Qe);return G=ie(A,Vt),Vt}});return G?yield G:he.authToken})).apply(this,arguments)}function Fe(A,k){return Me.apply(this,arguments)}function Me(){return(Me=(0,z.Z)(function*(A,k){let G=yield H(A.appConfig);for(;1===G.authToken.requestStatus;)yield yr(100),G=yield H(A.appConfig);const he=G.authToken;return 0===he.requestStatus?we(A,k):he})).apply(this,arguments)}function H(A){return Le(A,k=>{if(!mt(k))throw Ne.create("not-registered");return function(A){return 1===A.requestStatus&&A.requestTime+1e4<Date.now()}(k.authToken)?Object.assign(Object.assign({},k),{authToken:{requestStatus:0}}):k})}function ie(A,k){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,z.Z)(function*(A,k){try{const G=yield An(A,k),he=Object.assign(Object.assign({},k),{authToken:G});return yield Nt(A.appConfig,he),G}catch(G){if(!Ie(G)||401!==G.customData.serverCode&&404!==G.customData.serverCode){const he=Object.assign(Object.assign({},k),{authToken:{requestStatus:0}});yield Nt(A.appConfig,he)}else yield _r(A.appConfig);throw G}})).apply(this,arguments)}function mt(A){return void 0!==A&&2===A.registrationStatus}function fn(A){return 2===A.requestStatus&&!function(A){const k=Date.now();return k<A.creationTime||A.creationTime+A.expiresIn<k+36e5}(A)}function _n(A){const k={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},A),{authToken:k})}function xr(){return(xr=(0,z.Z)(function*(A){const k=A,{installationEntry:G,registrationPromise:he}=yield de(k.appConfig);return he?he.catch(console.error):we(k).catch(console.error),G.fid})).apply(this,arguments)}function gi(){return(gi=(0,z.Z)(function*(A,k=!1){const G=A;return yield eo(G.appConfig),(yield we(G,k)).token})).apply(this,arguments)}function eo(A){return zr.apply(this,arguments)}function zr(){return(zr=(0,z.Z)(function*(A){const{registrationPromise:k}=yield de(A);k&&(yield k)})).apply(this,arguments)}function er(A){return Ne.create("missing-app-config-values",{valueName:A})}const ti="installations";(0,be._registerComponent)(new te.wA(ti,A=>{const k=A.getProvider("app").getImmediate();return{app:k,appConfig:function(A){if(!A||!A.options)throw er("App Configuration");if(!A.name)throw er("App Name");const k=["projectId","apiKey","appId"];for(const G of k)if(!A.options[G])throw er(G);return{appName:A.name,projectId:A.options.projectId,apiKey:A.options.apiKey,appId:A.options.appId}}(k),platformLoggerProvider:(0,be._getProvider)(k,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,be._registerComponent)(new te.wA("installations-internal",A=>{const k=A.getProvider("app").getImmediate(),G=(0,be._getProvider)(k,ti).getImmediate();return{getId:()=>function(A){return xr.apply(this,arguments)}(G),getToken:Ue=>function(A){return gi.apply(this,arguments)}(G,Ue)}},"PRIVATE")),(0,be.registerVersion)(Te,Q),(0,be.registerVersion)(Te,Q,"esm2017");const yi="@firebase/remote-config",se=new oe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class hs{constructor(k,G,he,Ue){this.client=k,this.storage=G,this.storageCache=he,this.logger=Ue}isCachedDataFresh(k,G){if(!G)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const he=Date.now()-G,Ue=he<=k;return this.logger.debug(`Config fetch cache check. Cache age millis: ${he}. Cache max age millis (minimumFetchIntervalMillis setting): ${k}. Is cache hit: ${Ue}.`),Ue}fetch(k){var G=this;return(0,z.Z)(function*(){const[he,Ue]=yield Promise.all([G.storage.getLastSuccessfulFetchTimestampMillis(),G.storage.getLastSuccessfulFetchResponse()]);if(Ue&&G.isCachedDataFresh(k.cacheMaxAgeMillis,he))return Ue;k.eTag=Ue&&Ue.eTag;const Qe=yield G.client.fetch(k),vt=[G.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Qe.status&&vt.push(G.storage.setLastSuccessfulFetchResponse(Qe)),yield Promise.all(vt),Qe})()}}function oi(A=navigator){return A.languages&&A.languages[0]||A.language}class Qi{constructor(k,G,he,Ue,Qe,vt){this.firebaseInstallations=k,this.sdkVersion=G,this.namespace=he,this.projectId=Ue,this.apiKey=Qe,this.appId=vt}fetch(k){var G=this;return(0,z.Z)(function*(){const[he,Ue]=yield Promise.all([G.firebaseInstallations.getId(),G.firebaseInstallations.getToken()]),vt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${G.projectId}/namespaces/${G.namespace}:fetch?key=${G.apiKey}`,Vt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":k.eTag||"*"},sn={sdk_version:G.sdkVersion,app_instance_id:he,app_instance_id_token:Ue,app_id:G.appId,language_code:oi()},Jn={method:"POST",headers:Vt,body:JSON.stringify(sn)},kr=fetch(vt,Jn),Ri=new Promise((Fo,uo)=>{k.signal.addEventListener(()=>{const Go=new Error("The operation was aborted.");Go.name="AbortError",uo(Go)})});let Gs;try{yield Promise.race([kr,Ri]),Gs=yield kr}catch(Fo){let uo="fetch-client-network";throw"AbortError"===Fo.name&&(uo="fetch-timeout"),se.create(uo,{originalErrorMessage:Fo.message})}let os=Gs.status;const uu=Gs.headers.get("ETag")||void 0;let Lo,qs;if(200===Gs.status){let Fo;try{Fo=yield Gs.json()}catch(uo){throw se.create("fetch-client-parse",{originalErrorMessage:uo.message})}Lo=Fo.entries,qs=Fo.state}if("INSTANCE_STATE_UNSPECIFIED"===qs?os=500:"NO_CHANGE"===qs?os=304:("NO_TEMPLATE"===qs||"EMPTY_CONFIG"===qs)&&(Lo={}),304!==os&&200!==os)throw se.create("fetch-status",{httpStatus:os});return{status:os,eTag:uu,config:Lo}})()}}class Re{constructor(k,G){this.client=k,this.storage=G}fetch(k){var G=this;return(0,z.Z)(function*(){const he=(yield G.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return G.attemptFetch(k,he)})()}attemptFetch(k,{throttleEndTimeMillis:G,backoffCount:he}){var Ue=this;return(0,z.Z)(function*(){yield function(A,k){return new Promise((G,he)=>{const Ue=Math.max(k-Date.now(),0),Qe=setTimeout(G,Ue);A.addEventListener(()=>{clearTimeout(Qe),he(se.create("fetch-throttle",{throttleEndTimeMillis:k}))})})}(k.signal,G);try{const Qe=yield Ue.client.fetch(k);return yield Ue.storage.deleteThrottleMetadata(),Qe}catch(Qe){if(!function(A){if(!(A instanceof oe.ZR&&A.customData))return!1;const k=Number(A.customData.httpStatus);return 429===k||500===k||503===k||504===k}(Qe))throw Qe;const vt={throttleEndTimeMillis:Date.now()+(0,oe.$s)(he),backoffCount:he+1};return yield Ue.storage.setThrottleMetadata(vt),Ue.attemptFetch(k,vt)}})()}}class ht{constructor(k,G,he,Ue,Qe){this.app=k,this._client=G,this._storageCache=he,this._storage=Ue,this._logger=Qe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Tt(A,k){const G=A.target.error||void 0;return se.create(k,{originalErrorMessage:G&&G.message})}const Gt="app_namespace_store";class bi{constructor(k,G,he,Ue=function(){return new Promise((A,k)=>{try{const G=indexedDB.open("firebase_remote_config",1);G.onerror=he=>{k(Tt(he,"storage-open"))},G.onsuccess=he=>{A(he.target.result)},G.onupgradeneeded=he=>{const Ue=he.target.result;switch(he.oldVersion){case 0:Ue.createObjectStore(Gt,{keyPath:"compositeKey"})}}}catch(G){k(se.create("storage-open",{originalErrorMessage:G}))}})}()){this.appId=k,this.appName=G,this.namespace=he,this.openDbPromise=Ue}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(k){return this.set("last_fetch_status",k)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(k){return this.set("last_successful_fetch_timestamp_millis",k)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(k){return this.set("last_successful_fetch_response",k)}getActiveConfig(){return this.get("active_config")}setActiveConfig(k){return this.set("active_config",k)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(k){return this.set("active_config_etag",k)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(k){return this.set("throttle_metadata",k)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(k){var G=this;return(0,z.Z)(function*(){const he=yield G.openDbPromise;return new Promise((Ue,Qe)=>{const Vt=he.transaction([Gt],"readonly").objectStore(Gt),sn=G.createCompositeKey(k);try{const Jn=Vt.get(sn);Jn.onerror=kr=>{Qe(Tt(kr,"storage-get"))},Jn.onsuccess=kr=>{const Ri=kr.target.result;Ue(Ri?Ri.value:void 0)}}catch(Jn){Qe(se.create("storage-get",{originalErrorMessage:Jn&&Jn.message}))}})})()}set(k,G){var he=this;return(0,z.Z)(function*(){const Ue=yield he.openDbPromise;return new Promise((Qe,vt)=>{const sn=Ue.transaction([Gt],"readwrite").objectStore(Gt),Jn=he.createCompositeKey(k);try{const kr=sn.put({compositeKey:Jn,value:G});kr.onerror=Ri=>{vt(Tt(Ri,"storage-set"))},kr.onsuccess=()=>{Qe()}}catch(kr){vt(se.create("storage-set",{originalErrorMessage:kr&&kr.message}))}})})()}delete(k){var G=this;return(0,z.Z)(function*(){const he=yield G.openDbPromise;return new Promise((Ue,Qe)=>{const Vt=he.transaction([Gt],"readwrite").objectStore(Gt),sn=G.createCompositeKey(k);try{const Jn=Vt.delete(sn);Jn.onerror=kr=>{Qe(Tt(kr,"storage-delete"))},Jn.onsuccess=()=>{Ue()}}catch(Jn){Qe(se.create("storage-delete",{originalErrorMessage:Jn&&Jn.message}))}})})()}createCompositeKey(k){return[this.appId,this.appName,this.namespace,k].join()}}class fs{constructor(k){this.storage=k}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var k=this;return(0,z.Z)(function*(){const G=k.storage.getLastFetchStatus(),he=k.storage.getLastSuccessfulFetchTimestampMillis(),Ue=k.storage.getActiveConfig(),Qe=yield G;Qe&&(k.lastFetchStatus=Qe);const vt=yield he;vt&&(k.lastSuccessfulFetchTimestampMillis=vt);const Vt=yield Ue;Vt&&(k.activeConfig=Vt)})()}setLastFetchStatus(k){return this.lastFetchStatus=k,this.storage.setLastFetchStatus(k)}setLastSuccessfulFetchTimestampMillis(k){return this.lastSuccessfulFetchTimestampMillis=k,this.storage.setLastSuccessfulFetchTimestampMillis(k)}setActiveConfig(k){return this.activeConfig=k,this.storage.setActiveConfig(k)}}function ps(){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,z.Z)(function*(){if(!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch(A){return!1}})).apply(this,arguments)}(0,be._registerComponent)(new te.wA("remote-config",function(k,{instanceIdentifier:G}){const he=k.getProvider("app").getImmediate(),Ue=k.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw se.create("registration-window");if(!(0,oe.hl)())throw se.create("indexed-db-unavailable");const{projectId:Qe,apiKey:vt,appId:Vt}=he.options;if(!Qe)throw se.create("registration-project-id");if(!vt)throw se.create("registration-api-key");if(!Vt)throw se.create("registration-app-id");const sn=new bi(Vt,he.name,G=G||"firebase"),Jn=new fs(sn),kr=new De.Yd(yi);kr.logLevel=De.in.ERROR;const Ri=new Qi(Ue,be.SDK_VERSION,G,Qe,vt,Vt),Gs=new Re(Ri,sn),os=new hs(Gs,sn,Jn,kr),uu=new ht(he,os,Jn,sn,kr);return function(A){const k=(0,oe.m9)(A);k._initializePromise||(k._initializePromise=k._storageCache.loadFromStorage().then(()=>{k._isInitializationComplete=!0}))}(uu),uu},"PUBLIC").setMultipleInstances(!0)),(0,be.registerVersion)(yi,"0.3.4"),(0,be.registerVersion)(yi,"0.3.4","esm2017");const ns="/firebase-messaging-sw.js",mo="/firebase-cloud-messaging-push-scope",yo="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ai="google.c.a.c_id",Rs="google.c.a.c_l",Ti="google.c.a.ts",Mi="google.c.a.e";var kn=(()=>{return(A=kn||(kn={})).PUSH_RECEIVED="push-received",A.NOTIFICATION_CLICKED="notification-clicked",kn;var A})();function rs(A){const k=new Uint8Array(A);return btoa(String.fromCharCode(...k)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ea(A){const G=(A+"=".repeat((4-A.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),he=atob(G),Ue=new Uint8Array(he.length);for(let Qe=0;Qe<he.length;++Qe)Ue[Qe]=he.charCodeAt(Qe);return Ue}const ta="fcm_token_details_db",Ns="fcm_token_object_Store";function ri(A){return ro.apply(this,arguments)}function ro(){return(ro=(0,z.Z)(function*(A){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Qe=>Qe.name).includes(ta))return null;let k=null;return(yield(0,ee.openDb)(ta,5,function(){var he=(0,z.Z)(function*(Ue){var Qe;if(Ue.oldVersion<2||!Ue.objectStoreNames.contains(Ns))return;const vt=Ue.transaction.objectStore(Ns),Vt=yield vt.index("fcmSenderId").get(A);if(yield vt.clear(),Vt)if(2===Ue.oldVersion){const sn=Vt;if(!sn.auth||!sn.p256dh||!sn.endpoint)return;k={token:sn.fcmToken,createTime:null!==(Qe=sn.createTime)&&void 0!==Qe?Qe:Date.now(),subscriptionOptions:{auth:sn.auth,p256dh:sn.p256dh,endpoint:sn.endpoint,swScope:sn.swScope,vapidKey:"string"==typeof sn.vapidKey?sn.vapidKey:rs(sn.vapidKey)}}}else if(3===Ue.oldVersion){const sn=Vt;k={token:sn.fcmToken,createTime:sn.createTime,subscriptionOptions:{auth:rs(sn.auth),p256dh:rs(sn.p256dh),endpoint:sn.endpoint,swScope:sn.swScope,vapidKey:rs(sn.vapidKey)}}}else if(4===Ue.oldVersion){const sn=Vt;k={token:sn.fcmToken,createTime:sn.createTime,subscriptionOptions:{auth:rs(sn.auth),p256dh:rs(sn.p256dh),endpoint:sn.endpoint,swScope:sn.swScope,vapidKey:rs(sn.vapidKey)}}}});return function(Ue){return he.apply(this,arguments)}}())).close(),yield(0,ee.deleteDb)(ta),yield(0,ee.deleteDb)("fcm_vapid_details_db"),yield(0,ee.deleteDb)("undefined"),ma(k)?k:null})).apply(this,arguments)}function ma(A){if(!A||!A.subscriptionOptions)return!1;const{subscriptionOptions:k}=A;return"number"==typeof A.createTime&&A.createTime>0&&"string"==typeof A.token&&A.token.length>0&&"string"==typeof k.auth&&k.auth.length>0&&"string"==typeof k.p256dh&&k.p256dh.length>0&&"string"==typeof k.endpoint&&k.endpoint.length>0&&"string"==typeof k.swScope&&k.swScope.length>0&&"string"==typeof k.vapidKey&&k.vapidKey.length>0}const gs="firebase-messaging-store";let Ci=null;function N(){return Ci||(Ci=(0,ee.openDb)("firebase-messaging-database",1,A=>{switch(A.oldVersion){case 0:A.createObjectStore(gs)}})),Ci}function K(A){return P.apply(this,arguments)}function P(){return(P=(0,z.Z)(function*(A){const k=tn(A),he=yield(yield N()).transaction(gs).objectStore(gs).get(k);if(he)return he;{const Ue=yield ri(A.appConfig.senderId);if(Ue)return yield Z(A,Ue),Ue}})).apply(this,arguments)}function Z(A,k){return fe.apply(this,arguments)}function fe(){return(fe=(0,z.Z)(function*(A,k){const G=tn(A),Ue=(yield N()).transaction(gs,"readwrite");return yield Ue.objectStore(gs).put(k,G),yield Ue.complete,k})).apply(this,arguments)}function rt(A){return yt.apply(this,arguments)}function yt(){return(yt=(0,z.Z)(function*(A){const k=tn(A),he=(yield N()).transaction(gs,"readwrite");yield he.objectStore(gs).delete(k),yield he.complete})).apply(this,arguments)}function tn({appConfig:A}){return A.appId}const Kn=new oe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function dr(A,k){return On.apply(this,arguments)}function On(){return(On=(0,z.Z)(function*(A,k){const G=yield ys(A),he=vn(k),Ue={method:"POST",headers:G,body:JSON.stringify(he)};let Qe;try{Qe=yield(yield fetch(Cr(A.appConfig),Ue)).json()}catch(vt){throw Kn.create("token-subscribe-failed",{errorInfo:vt})}if(Qe.error)throw Kn.create("token-subscribe-failed",{errorInfo:Qe.error.message});if(!Qe.token)throw Kn.create("token-subscribe-no-token");return Qe.token})).apply(this,arguments)}function sr(A,k){return Er.apply(this,arguments)}function Er(){return(Er=(0,z.Z)(function*(A,k){const G=yield ys(A),he=vn(k.subscriptionOptions),Ue={method:"PATCH",headers:G,body:JSON.stringify(he)};let Qe;try{Qe=yield(yield fetch(`${Cr(A.appConfig)}/${k.token}`,Ue)).json()}catch(vt){throw Kn.create("token-update-failed",{errorInfo:vt})}if(Qe.error)throw Kn.create("token-update-failed",{errorInfo:Qe.error.message});if(!Qe.token)throw Kn.create("token-update-no-token");return Qe.token})).apply(this,arguments)}function ei(A,k){return ms.apply(this,arguments)}function ms(){return(ms=(0,z.Z)(function*(A,k){const he={method:"DELETE",headers:yield ys(A)};try{const Qe=yield(yield fetch(`${Cr(A.appConfig)}/${k}`,he)).json();if(Qe.error)throw Kn.create("token-unsubscribe-failed",{errorInfo:Qe.error.message})}catch(Ue){throw Kn.create("token-unsubscribe-failed",{errorInfo:Ue})}})).apply(this,arguments)}function Cr({projectId:A}){return`https://fcmregistrations.googleapis.com/v1/projects/${A}/registrations`}function ys(A){return _s.apply(this,arguments)}function _s(){return(_s=(0,z.Z)(function*({appConfig:A,installations:k}){const G=yield k.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":A.apiKey,"x-goog-firebase-installations-auth":`FIS ${G}`})})).apply(this,arguments)}function vn({p256dh:A,auth:k,endpoint:G,vapidKey:he}){const Ue={web:{endpoint:G,auth:k,p256dh:A}};return he!==yo&&(Ue.web.applicationPubKey=he),Ue}const cs=6048e5;function xo(A){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,z.Z)(function*(A){const k=yield Da(A.swRegistration,A.vapidKey),G={vapidKey:A.vapidKey,swScope:A.swRegistration.scope,endpoint:k.endpoint,auth:rs(k.getKey("auth")),p256dh:rs(k.getKey("p256dh"))},he=yield K(A.firebaseDependencies);if(he){if(Po(he.subscriptionOptions,G))return Date.now()>=he.createTime+cs?No(A,{token:he.token,createTime:Date.now(),subscriptionOptions:G}):he.token;try{yield ei(A.firebaseDependencies,he.token)}catch(Ue){console.warn(Ue)}return lt(A.firebaseDependencies,G)}return lt(A.firebaseDependencies,G)})).apply(this,arguments)}function na(A){return io.apply(this,arguments)}function io(){return(io=(0,z.Z)(function*(A){const k=yield K(A.firebaseDependencies);k&&(yield ei(A.firebaseDependencies,k.token),yield rt(A.firebaseDependencies));const G=yield A.swRegistration.pushManager.getSubscription();return!G||G.unsubscribe()})).apply(this,arguments)}function No(A,k){return vo.apply(this,arguments)}function vo(){return(vo=(0,z.Z)(function*(A,k){try{const G=yield sr(A.firebaseDependencies,k),he=Object.assign(Object.assign({},k),{token:G,createTime:Date.now()});return yield Z(A.firebaseDependencies,he),G}catch(G){throw yield na(A),G}})).apply(this,arguments)}function lt(A,k){return $n.apply(this,arguments)}function $n(){return($n=(0,z.Z)(function*(A,k){const he={token:yield dr(A,k),createTime:Date.now(),subscriptionOptions:k};return yield Z(A,he),he.token})).apply(this,arguments)}function Da(A,k){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,z.Z)(function*(A,k){return(yield A.pushManager.getSubscription())||A.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ea(k)})})).apply(this,arguments)}function Po(A,k){return k.vapidKey===A.vapidKey&&k.endpoint===A.endpoint&&k.auth===A.auth&&k.p256dh===A.p256dh}function Oo(A){const k={from:A.from,collapseKey:A.collapse_key,messageId:A.fcmMessageId};return function(A,k){if(!k.notification)return;A.notification={};const G=k.notification.title;G&&(A.notification.title=G);const he=k.notification.body;he&&(A.notification.body=he);const Ue=k.notification.image;Ue&&(A.notification.image=Ue)}(k,A),function(A,k){!k.data||(A.data=k.data)}(k,A),function(A,k){if(!k.fcmOptions)return;A.fcmOptions={};const G=k.fcmOptions.link;G&&(A.fcmOptions.link=G);const he=k.fcmOptions.analytics_label;he&&(A.fcmOptions.analyticsLabel=he)}(k,A),k}function _(A){return"object"==typeof A&&!!A&&ai in A}function D(A,k){const G=[];for(let he=0;he<A.length;he++)G.push(A.charAt(he)),he<k.length&&G.push(k.charAt(he));return G.join("")}function X(A){return Kn.create("missing-app-config-values",{valueName:A})}D("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),D("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class le{constructor(k,G,he){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ue=function(A){if(!A||!A.options)throw X("App Configuration Object");if(!A.name)throw X("App Name");const k=["projectId","apiKey","appId","messagingSenderId"],{options:G}=A;for(const he of k)if(!G[he])throw X(he);return{appName:A.name,projectId:G.projectId,apiKey:G.apiKey,appId:G.appId,senderId:G.messagingSenderId}}(k);this.firebaseDependencies={app:k,appConfig:Ue,installations:G,analyticsProvider:he}}_delete(){return Promise.resolve()}}function me(A){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,z.Z)(function*(A){try{A.swRegistration=yield navigator.serviceWorker.register(ns,{scope:mo}),A.swRegistration.update().catch(()=>{})}catch(k){throw Kn.create("failed-service-worker-registration",{browserErrorMessage:k.message})}})).apply(this,arguments)}function ut(A,k){return wt.apply(this,arguments)}function wt(){return(wt=(0,z.Z)(function*(A,k){if(!k&&!A.swRegistration&&(yield me(A)),k||!A.swRegistration){if(!(k instanceof ServiceWorkerRegistration))throw Kn.create("invalid-sw-registration");A.swRegistration=k}})).apply(this,arguments)}function qt(A,k){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,z.Z)(function*(A,k){k?A.vapidKey=k:A.vapidKey||(A.vapidKey=yo)})).apply(this,arguments)}function pn(){return(pn=(0,z.Z)(function*(A,k){if(!navigator)throw Kn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Kn.create("permission-blocked");return yield qt(A,null==k?void 0:k.vapidKey),yield ut(A,null==k?void 0:k.serviceWorkerRegistration),xo(A)})).apply(this,arguments)}function Rn(A,k,G){return qn.apply(this,arguments)}function qn(){return(qn=(0,z.Z)(function*(A,k,G){const he=Dr(k);(yield A.firebaseDependencies.analyticsProvider.get()).logEvent(he,{message_id:G[ai],message_name:G[Rs],message_time:G[Ti],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Dr(A){switch(A){case kn.NOTIFICATION_CLICKED:return"notification_open";case kn.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function _i(){return(_i=(0,z.Z)(function*(A,k){const G=k.data;if(!G.isFirebaseMessaging)return;A.onMessageHandler&&G.messageType===kn.PUSH_RECEIVED&&("function"==typeof A.onMessageHandler?A.onMessageHandler(Oo(G)):A.onMessageHandler.next(Oo(G)));const he=G.data;_(he)&&"1"===he[Mi]&&(yield Rn(A,G.messageType,he))})).apply(this,arguments)}const ui="@firebase/messaging";function Os(){return ii.apply(this,arguments)}function ii(){return(ii=(0,z.Z)(function*(){try{yield(0,oe.eu)()}catch(A){return!1}return"undefined"!=typeof window&&(0,oe.hl)()&&(0,oe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,be._registerComponent)(new te.wA("messaging",A=>{const k=new le(A.getProvider("app").getImmediate(),A.getProvider("installations-internal").getImmediate(),A.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",G=>function(A,k){return _i.apply(this,arguments)}(k,G)),k},"PUBLIC")),(0,be._registerComponent)(new te.wA("messaging-internal",A=>{const k=A.getProvider("messaging").getImmediate();return{getToken:he=>function(A,k){return pn.apply(this,arguments)}(k,he)}},"PRIVATE")),(0,be.registerVersion)(ui,"0.9.8"),(0,be.registerVersion)(ui,"0.9.8","esm2017");const Wn="analytics",Di="firebase_id",Or="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Hr="https://www.googletagmanager.com/gtag/js",Qr=new De.Yd("@firebase/analytics");function is(A){return Promise.all(A.map(k=>k.catch(G=>G)))}function Ks(A,k){const G=document.createElement("script");G.src=`${Hr}?l=${A}&id=${k}`,G.async=!0,document.head.appendChild(G)}function ds(A,k,G,he,Ue,Qe){return li.apply(this,arguments)}function li(){return(li=(0,z.Z)(function*(A,k,G,he,Ue,Qe){const vt=he[Ue];try{if(vt)yield k[vt];else{const sn=(yield is(G)).find(Jn=>Jn.measurementId===Ue);sn&&(yield k[sn.appId])}}catch(Vt){Qr.error(Vt)}A("config",Ue,Qe)})).apply(this,arguments)}function Ws(A,k,G,he,Ue){return Is.apply(this,arguments)}function Is(){return(Is=(0,z.Z)(function*(A,k,G,he,Ue){try{let Qe=[];if(Ue&&Ue.send_to){let vt=Ue.send_to;Array.isArray(vt)||(vt=[vt]);const Vt=yield is(G);for(const sn of vt){const Jn=Vt.find(Ri=>Ri.measurementId===sn),kr=Jn&&k[Jn.appId];if(!kr){Qe=[];break}Qe.push(kr)}}0===Qe.length&&(Qe=Object.values(k)),yield Promise.all(Qe),A("event",he,Ue||{})}catch(Qe){Qr.error(Qe)}})).apply(this,arguments)}function St(){const A=window.document.getElementsByTagName("script");for(const k of Object.values(A))if(k.src&&k.src.includes(Hr))return k;return null}const Yi=new oe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),nu=new class{constructor(k={},G=1e3){this.throttleMetadata=k,this.intervalMillis=G}getThrottleMetadata(k){return this.throttleMetadata[k]}setThrottleMetadata(k,G){this.throttleMetadata[k]=G}deleteThrottleMetadata(k){delete this.throttleMetadata[k]}};function jt(A){return new Headers({Accept:"application/json","x-goog-api-key":A})}function tt(A){return gt.apply(this,arguments)}function gt(){return(gt=(0,z.Z)(function*(A){var k;const{appId:G,apiKey:he}=A,Ue={method:"GET",headers:jt(he)},Qe=Or.replace("{app-id}",G),vt=yield fetch(Qe,Ue);if(200!==vt.status&&304!==vt.status){let Vt="";try{const sn=yield vt.json();(null===(k=sn.error)||void 0===k?void 0:k.message)&&(Vt=sn.error.message)}catch(sn){}throw Yi.create("config-fetch-failed",{httpStatus:vt.status,responseMessage:Vt})}return vt.json()})).apply(this,arguments)}function Fi(A){return ws.apply(this,arguments)}function ws(){return(ws=(0,z.Z)(function*(A,k=nu,G){const{appId:he,apiKey:Ue,measurementId:Qe}=A.options;if(!he)throw Yi.create("no-app-id");if(!Ue){if(Qe)return{measurementId:Qe,appId:he};throw Yi.create("no-api-key")}const vt=k.getThrottleMetadata(he)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Vt=new ac;return setTimeout((0,z.Z)(function*(){Vt.abort()}),void 0!==G?G:6e4),Ra({appId:he,apiKey:Ue,measurementId:Qe},vt,Vt,k)})).apply(this,arguments)}function Ra(A,k,G){return ya.apply(this,arguments)}function ya(){return(ya=(0,z.Z)(function*(A,{throttleEndTimeMillis:k,backoffCount:G},he,Ue=nu){const{appId:Qe,measurementId:vt}=A;try{yield dl(he,k)}catch(Vt){if(vt)return Qr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${vt} provided in the "measurementId" field in the local Firebase config. [${Vt.message}]`),{appId:Qe,measurementId:vt};throw Vt}try{const Vt=yield tt(A);return Ue.deleteThrottleMetadata(Qe),Vt}catch(Vt){if(!oc(Vt)){if(Ue.deleteThrottleMetadata(Qe),vt)return Qr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${vt} provided in the "measurementId" field in the local Firebase config. [${Vt.message}]`),{appId:Qe,measurementId:vt};throw Vt}const sn=503===Number(Vt.customData.httpStatus)?(0,oe.$s)(G,Ue.intervalMillis,30):(0,oe.$s)(G,Ue.intervalMillis),Jn={throttleEndTimeMillis:Date.now()+sn,backoffCount:G+1};return Ue.setThrottleMetadata(Qe,Jn),Qr.debug(`Calling attemptFetch again in ${sn} millis`),Ra(A,Jn,he,Ue)}})).apply(this,arguments)}function dl(A,k){return new Promise((G,he)=>{const Ue=Math.max(k-Date.now(),0),Qe=setTimeout(G,Ue);A.addEventListener(()=>{clearTimeout(Qe),he(Yi.create("fetch-throttle",{throttleEndTimeMillis:k}))})})}function oc(A){if(!(A instanceof oe.ZR&&A.customData))return!1;const k=Number(A.customData.httpStatus);return 429===k||500===k||503===k||504===k}class ac{constructor(){this.listeners=[]}addEventListener(k){this.listeners.push(k)}abort(){this.listeners.forEach(k=>k())}}function xa(){return La.apply(this,arguments)}function La(){return(La=(0,z.Z)(function*(){if(!(0,oe.hl)())return Qr.warn(Yi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,oe.eu)()}catch(A){return Qr.warn(Yi.create("indexeddb-unavailable",{errorInfo:A}).message),!1}return!0})).apply(this,arguments)}function Si(){return(Si=(0,z.Z)(function*(A,k,G,he,Ue,Qe,vt){var Vt;const sn=Fi(A);sn.then(os=>{G[os.measurementId]=os.appId,A.options.measurementId&&os.measurementId!==A.options.measurementId&&Qr.warn(`The measurement ID in the local Firebase config (${A.options.measurementId}) does not match the measurement ID fetched from the server (${os.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(os=>Qr.error(os)),k.push(sn);const Jn=xa().then(os=>{if(os)return he.getId()}),[kr,Ri]=yield Promise.all([sn,Jn]);St()||Ks(Qe,kr.measurementId),Ue("js",new Date);const Gs=null!==(Vt=null==vt?void 0:vt.config)&&void 0!==Vt?Vt:{};return Gs.origin="firebase",Gs.update=!0,null!=Ri&&(Gs[Di]=Ri),Ue("config",kr.measurementId,Gs),kr.measurementId})).apply(this,arguments)}class iu{constructor(k){this.app=k}_delete(){return delete oo[this.app.options.appId],Promise.resolve()}}let oo={},C=[];const b={};let M,W,E="dataLayer",ce=!1;function Et(A,k,G){!function(){const A=[];if((0,oe.ru)()&&A.push("This is a browser extension environment."),(0,oe.zI)()||A.push("Cookies are not available."),A.length>0){const k=A.map((he,Ue)=>`(${Ue+1}) ${he}`).join(" "),G=Yi.create("invalid-analytics-context",{errorInfo:k});Qr.warn(G.message)}}();const he=A.options.appId;if(!he)throw Yi.create("no-app-id");if(!A.options.apiKey){if(!A.options.measurementId)throw Yi.create("no-api-key");Qr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${A.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=oo[he])throw Yi.create("already-exists",{id:he});if(!ce){!function(A){let k=[];Array.isArray(window[A])?k=window[A]:window[A]=k}(E);const{wrappedGtag:Qe,gtagCore:vt}=function(A,k,G,he,Ue){let Qe=function(...vt){window[he].push(arguments)};return window[Ue]&&"function"==typeof window[Ue]&&(Qe=window[Ue]),window[Ue]=function(A,k,G,he){function Qe(){return(Qe=(0,z.Z)(function*(vt,Vt,sn){try{"event"===vt?yield Ws(A,k,G,Vt,sn):"config"===vt?yield ds(A,k,G,he,Vt,sn):A("set",Vt)}catch(Jn){Qr.error(Jn)}})).apply(this,arguments)}return function(vt,Vt,sn){return Qe.apply(this,arguments)}}(Qe,A,k,G),{gtagCore:Qe,wrappedGtag:window[Ue]}}(oo,C,b,E,"gtag");W=Qe,M=vt,ce=!0}return oo[he]=function(A,k,G,he,Ue,Qe,vt){return Si.apply(this,arguments)}(A,C,b,k,M,E,G),new iu(A)}function En(){return(En=(0,z.Z)(function*(A,k,G,he,Ue){if(Ue&&Ue.global)A("event",G,he);else{const Qe=yield k;A("event",G,Object.assign(Object.assign({},he),{send_to:Qe}))}})).apply(this,arguments)}function zo(){return bs.apply(this,arguments)}function bs(){return(bs=(0,z.Z)(function*(){if((0,oe.ru)()||!(0,oe.zI)()||!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch(A){return!1}})).apply(this,arguments)}const _a="@firebase/analytics";(0,be._registerComponent)(new te.wA(Wn,(k,{options:G})=>Et(k.getProvider("app").getImmediate(),k.getProvider("installations-internal").getImmediate(),G),"PUBLIC")),(0,be._registerComponent)(new te.wA("analytics-internal",function(k){try{const G=k.getProvider(Wn).getImmediate();return{logEvent:(he,Ue,Qe)=>function(A,k,G,he){A=(0,oe.m9)(A),function(A,k,G,he,Ue){return En.apply(this,arguments)}(W,oo[A.app.options.appId],k,G,he).catch(Ue=>Qr.error(Ue))}(G,he,Ue,Qe)}}catch(G){throw Yi.create("interop-component-reg-failed",{reason:G})}},"PRIVATE")),(0,be.registerVersion)(_a,"0.7.5"),(0,be.registerVersion)(_a,"0.7.5","esm2017");var uc=F(6511),Va=F(8846),Au=F(6286),Ac=F(1557),Rc=F(8602);const Ru=new w.Version("7.2.1"),xu="__angularfire_symbol__analyticsIsSupportedValue",Nu="__angularfire_symbol__analyticsIsSupported",Ai="__angularfire_symbol__remoteConfigIsSupportedValue",Pu="__angularfire_symbol__remoteConfigIsSupported",di="__angularfire_symbol__messagingIsSupportedValue",Ei="__angularfire_symbol__messagingIsSupported";function ao(A,k,G){if(k){if(1===k.length)return k[0];const Qe=k.filter(vt=>vt.app===G);if(1===Qe.length)return Qe[0]}return G.container.getProvider(A).getImmediate({optional:!0})}globalThis[Nu]||(globalThis[Nu]=zo().then(A=>globalThis[xu]=A).catch(()=>globalThis[xu]=!1)),globalThis[Ei]||(globalThis[Ei]=Os().then(A=>globalThis[di]=A).catch(()=>globalThis[di]=!1)),globalThis[Pu]||(globalThis[Pu]=ps().then(A=>globalThis[Ai]=A).catch(()=>globalThis[Ai]=!1));const ja=(A,k)=>{const G=k?[k]:(0,L.C6)(),he=[];return G.forEach(Ue=>{Ue.container.getProvider(A).instances.forEach(vt=>{he.includes(vt)||he.push(vt)})}),he};function Mo(){}class ra{constructor(k,G=uc.N){this.zone=k,this.delegate=G}now(){return this.delegate.now()}schedule(k,G,he){const Ue=this.zone;return this.delegate.schedule(function(vt){Ue.runGuarded(()=>{k.apply(this,[vt])})},G,he)}}class ou{constructor(k){this.zone=k,this.task=null}call(k,G){const he=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Mo,{},Mo,Mo)),G.pipe((0,Au.b)({next:he,complete:he,error:he})).subscribe(k).add(he)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let pl=(()=>{class A{constructor(G){this.ngZone=G,this.outsideAngular=G.runOutsideAngular(()=>new ra(Zone.current)),this.insideAngular=G.run(()=>new ra(Zone.current,Va.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return A.\u0275fac=function(G){return new(G||A)(w.\u0275\u0275inject(w.NgZone))},A.\u0275prov=w.\u0275\u0275defineInjectable({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();function ia(){const A=globalThis.\u0275AngularFireScheduler;if(!A)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return A}function au(A){return ia(),function(A){return function(G){return(G=G.lift(new ou(A.ngZone))).pipe((0,Ac.R)(A.outsideAngular),(0,Rc.QV)(A.insideAngular))}}(ia())(A)}},1728:(Mt,Be,F)=>{"use strict";F.d(Be,{Qb:()=>$n,PW:()=>Oo});var w=F(2741),L=F(3220),z=F(8638);function be(){return"undefined"!=typeof window&&void 0!==window.document}function oe(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function te(B){switch(B.length){case 0:return new z.ZN;case 1:return B[0];default:return new z.ZE(B)}}function De(B,y,_,D,U={},X={}){const le=[],me=[];let Ve=-1,ut=null;if(D.forEach(wt=>{const qt=wt.offset,Mn=qt==Ve,Gn=Mn&&ut||{};Object.keys(wt).forEach(pn=>{let Rn=pn,qn=wt[pn];if("offset"!==pn)switch(Rn=y.normalizePropertyName(Rn,le),qn){case z.k1:qn=U[pn];break;case z.l3:qn=X[pn];break;default:qn=y.normalizeStyleValue(pn,Rn,qn,le)}Gn[Rn]=qn}),Mn||me.push(Gn),ut=Gn,Ve=qt}),le.length){const wt="\n - ";throw new Error(`Unable to animate due to the following errors:${wt}${le.join(wt)}`)}return me}function ee(B,y,_,D){switch(y){case"start":B.onStart(()=>D(_&&Te(_,"start",B)));break;case"done":B.onDone(()=>D(_&&Te(_,"done",B)));break;case"destroy":B.onDestroy(()=>D(_&&Te(_,"destroy",B)))}}function Te(B,y,_){const D=_.totalTime,X=Q(B.element,B.triggerName,B.fromState,B.toState,y||B.phaseName,null==D?B.totalTime:D,!!_.disabled),le=B._data;return null!=le&&(X._data=le),X}function Q(B,y,_,D,U="",X=0,le){return{element:B,triggerName:y,fromState:_,toState:D,phaseName:U,totalTime:X,disabled:!!le}}function ne(B,y,_){let D;return B instanceof Map?(D=B.get(y),D||B.set(y,D=_)):(D=B[y],D||(D=B[y]=_)),D}function J(B){const y=B.indexOf(":");return[B.substring(1,y),B.substr(y+1)]}let ve=(B,y)=>!1,st=(B,y)=>!1,Ke=(B,y,_)=>[];const Ne=oe();(Ne||"undefined"!=typeof Element)&&(ve=be()?(B,y)=>{for(;y&&y!==document.documentElement;){if(y===B)return!0;y=y.parentNode||y.host}return!1}:(B,y)=>B.contains(y),st=(()=>{if(Ne||Element.prototype.matches)return(B,y)=>B.matches(y);{const B=Element.prototype,y=B.matchesSelector||B.mozMatchesSelector||B.msMatchesSelector||B.oMatchesSelector||B.webkitMatchesSelector;return y?(_,D)=>y.apply(_,[D]):st}})(),Ke=(B,y,_)=>{let D=[];if(_){const U=B.querySelectorAll(y);for(let X=0;X<U.length;X++)D.push(U[X])}else{const U=B.querySelector(y);U&&D.push(U)}return D});let je=null,Xe=!1;function kt(B){je||(je=("undefined"!=typeof document?document.body:null)||{},Xe=!!je.style&&"WebkitAppearance"in je.style);let y=!0;return je.style&&!function(B){return"ebkit"==B.substring(1,6)}(B)&&(y=B in je.style,!y&&Xe&&(y="Webkit"+B.charAt(0).toUpperCase()+B.substr(1)in je.style)),y}const zt=st,en=ve,rn=Ke;function Qt(B){const y={};return Object.keys(B).forEach(_=>{const D=_.replace(/([a-z])([A-Z])/g,"$1-$2");y[D]=B[_]}),y}let Ht=(()=>{class B{validateStyleProperty(_){return kt(_)}matchesElement(_,D){return zt(_,D)}containsElement(_,D){return en(_,D)}query(_,D,U){return rn(_,D,U)}computeStyle(_,D,U){return U||""}animate(_,D,U,X,le,me=[],Ve){return new z.ZN(U,X)}}return B.\u0275fac=function(_){return new(_||B)},B.\u0275prov=w.\u0275\u0275defineInjectable({token:B,factory:B.\u0275fac}),B})();class Ft{}Ft.NOOP=new Ht;const Zn="ng-enter",Rr="ng-leave",It="ng-trigger",Kt=".ng-trigger",Cn="ng-animating",Bt=".ng-animating";function Wt(B){if("number"==typeof B)return B;const y=B.match(/^(-?[\.\d]+)(m?s)/);return!y||y.length<2?0:hn(parseFloat(y[1]),y[2])}function hn(B,y){switch(y){case"s":return 1e3*B;default:return B}}function Ut(B,y,_){return B.hasOwnProperty("duration")?B:function(B,y,_){let U,X=0,le="";if("string"==typeof B){const me=B.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===me)return y.push(`The provided timing value "${B}" is invalid.`),{duration:0,delay:0,easing:""};U=hn(parseFloat(me[1]),me[2]);const Ve=me[3];null!=Ve&&(X=hn(parseFloat(Ve),me[4]));const ut=me[5];ut&&(le=ut)}else U=B;if(!_){let me=!1,Ve=y.length;U<0&&(y.push("Duration values below 0 are not allowed for this animation step."),me=!0),X<0&&(y.push("Delay values below 0 are not allowed for this animation step."),me=!0),me&&y.splice(Ve,0,`The provided timing value "${B}" is invalid.`)}return{duration:U,delay:X,easing:le}}(B,y,_)}function Yt(B,y={}){return Object.keys(B).forEach(_=>{y[_]=B[_]}),y}function rr(B,y,_={}){if(y)for(let D in B)_[D]=B[D];else Yt(B,_);return _}function br(B,y,_){return _?y+":"+_+";":""}function cr(B){let y="";for(let _=0;_<B.style.length;_++){const D=B.style.item(_);y+=br(0,D,B.style.getPropertyValue(D))}for(const _ in B.style)B.style.hasOwnProperty(_)&&!_.startsWith("_")&&(y+=br(0,Je(_),B.style[_]));B.setAttribute("style",y)}function ct(B,y,_){B.style&&(Object.keys(y).forEach(D=>{const U=de(D);_&&!_.hasOwnProperty(D)&&(_[D]=B.style[U]),B.style[U]=y[D]}),oe()&&cr(B))}function Qn(B,y){B.style&&(Object.keys(y).forEach(_=>{const D=de(_);B.style[D]=""}),oe()&&cr(B))}function Yn(B){return Array.isArray(B)?1==B.length?B[0]:(0,z.vP)(B):B}const Sn=new RegExp("{{\\s*(.+?)\\s*}}","g");function _r(B){let y=[];if("string"==typeof B){let _;for(;_=Sn.exec(B);)y.push(_[1]);Sn.lastIndex=0}return y}function Vn(B,y,_){const D=B.toString(),U=D.replace(Sn,(X,le)=>{let me=y[le];return y.hasOwnProperty(le)||(_.push(`Please provide a value for the animation param ${le}`),me=""),me.toString()});return U==D?B:U}function Le(B){const y=[];let _=B.next();for(;!_.done;)y.push(_.value),_=B.next();return y}const ae=/-+([a-z0-9])/g;function de(B){return B.replace(ae,(...y)=>y[1].toUpperCase())}function Je(B){return B.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function $e(B,y){return 0===B||0===y}function bt(B,y,_){const D=Object.keys(_);if(D.length&&y.length){let X=y[0],le=[];if(D.forEach(me=>{X.hasOwnProperty(me)||le.push(me),X[me]=_[me]}),le.length)for(var U=1;U<y.length;U++){let me=y[U];le.forEach(function(Ve){me[Ve]=Rt(B,Ve)})}}return y}function at(B,y,_){switch(y.type){case 7:return B.visitTrigger(y,_);case 0:return B.visitState(y,_);case 1:return B.visitTransition(y,_);case 2:return B.visitSequence(y,_);case 3:return B.visitGroup(y,_);case 4:return B.visitAnimate(y,_);case 5:return B.visitKeyframes(y,_);case 6:return B.visitStyle(y,_);case 8:return B.visitReference(y,_);case 9:return B.visitAnimateChild(y,_);case 10:return B.visitAnimateRef(y,_);case 11:return B.visitQuery(y,_);case 12:return B.visitStagger(y,_);default:throw new Error(`Unable to resolve animation metadata node #${y.type}`)}}function Rt(B,y){return window.getComputedStyle(B)[y]}function Xn(B,y){const _=[];return"string"==typeof B?B.split(/\s*,\s*/).forEach(D=>function(B,y,_){if(":"==B[0]){const Ve=function(B,y){switch(B){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(_,D)=>parseFloat(D)>parseFloat(_);case":decrement":return(_,D)=>parseFloat(D)<parseFloat(_);default:return y.push(`The transition alias value "${B}" is not supported`),"* => *"}}(B,_);if("function"==typeof Ve)return void y.push(Ve);B=Ve}const D=B.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==D||D.length<4)return _.push(`The provided transition expression "${B}" is not supported`),y;const U=D[1],X=D[2],le=D[3];y.push(pe(U,le));"<"==X[0]&&!("*"==U&&"*"==le)&&y.push(pe(le,U))}(D,_,y)):_.push(B),_}const Bn=new Set(["true","1"]),An=new Set(["false","0"]);function pe(B,y){const _=Bn.has(B)||An.has(B),D=Bn.has(y)||An.has(y);return(U,X)=>{let le="*"==B||B==U,me="*"==y||y==X;return!le&&_&&"boolean"==typeof U&&(le=U?Bn.has(B):An.has(B)),!me&&D&&"boolean"==typeof X&&(me=X?Bn.has(y):An.has(y)),le&&me}}const we=new RegExp("s*:selfs*,?","g");function We(B,y,_){return new Me(B).build(y,_)}class Me{constructor(y){this._driver=y}build(y,_){const D=new Ze(_);return this._resetContextStyleTimingState(D),at(this,Yn(y),D)}_resetContextStyleTimingState(y){y.currentQuerySelector="",y.collectedStyles={},y.collectedStyles[""]={},y.currentTime=0}visitTrigger(y,_){let D=_.queryCount=0,U=_.depCount=0;const X=[],le=[];return"@"==y.name.charAt(0)&&_.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),y.definitions.forEach(me=>{if(this._resetContextStyleTimingState(_),0==me.type){const Ve=me,ut=Ve.name;ut.toString().split(/\s*,\s*/).forEach(wt=>{Ve.name=wt,X.push(this.visitState(Ve,_))}),Ve.name=ut}else if(1==me.type){const Ve=this.visitTransition(me,_);D+=Ve.queryCount,U+=Ve.depCount,le.push(Ve)}else _.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:y.name,states:X,transitions:le,queryCount:D,depCount:U,options:null}}visitState(y,_){const D=this.visitStyle(y.styles,_),U=y.options&&y.options.params||null;if(D.containsDynamicStyles){const X=new Set,le=U||{};if(D.styles.forEach(me=>{if(fn(me)){const Ve=me;Object.keys(Ve).forEach(ut=>{_r(Ve[ut]).forEach(wt=>{le.hasOwnProperty(wt)||X.add(wt)})})}}),X.size){const me=Le(X.values());_.errors.push(`state("${y.name}", ...) must define default values for all the following style substitutions: ${me.join(", ")}`)}}return{type:0,name:y.name,style:D,options:U?{params:U}:null}}visitTransition(y,_){_.queryCount=0,_.depCount=0;const D=at(this,Yn(y.animation),_);return{type:1,matchers:Xn(y.expr,_.errors),animation:D,queryCount:_.queryCount,depCount:_.depCount,options:_n(y.options)}}visitSequence(y,_){return{type:2,steps:y.steps.map(D=>at(this,D,_)),options:_n(y.options)}}visitGroup(y,_){const D=_.currentTime;let U=0;const X=y.steps.map(le=>{_.currentTime=D;const me=at(this,le,_);return U=Math.max(U,_.currentTime),me});return _.currentTime=U,{type:3,steps:X,options:_n(y.options)}}visitAnimate(y,_){const D=function(B,y){let _=null;if(B.hasOwnProperty("duration"))_=B;else if("number"==typeof B)return jr(Ut(B,y).duration,0,"");const D=B;if(D.split(/\s+/).some(X=>"{"==X.charAt(0)&&"{"==X.charAt(1))){const X=jr(0,0,"");return X.dynamic=!0,X.strValue=D,X}return _=_||Ut(D,y),jr(_.duration,_.delay,_.easing)}(y.timings,_.errors);_.currentAnimateTimings=D;let U,X=y.styles?y.styles:(0,z.oB)({});if(5==X.type)U=this.visitKeyframes(X,_);else{let le=y.styles,me=!1;if(!le){me=!0;const ut={};D.easing&&(ut.easing=D.easing),le=(0,z.oB)(ut)}_.currentTime+=D.duration+D.delay;const Ve=this.visitStyle(le,_);Ve.isEmptyStep=me,U=Ve}return _.currentAnimateTimings=null,{type:4,timings:D,style:U,options:null}}visitStyle(y,_){const D=this._makeStyleAst(y,_);return this._validateStyleAst(D,_),D}_makeStyleAst(y,_){const D=[];Array.isArray(y.styles)?y.styles.forEach(le=>{"string"==typeof le?le==z.l3?D.push(le):_.errors.push(`The provided style string value ${le} is not allowed.`):D.push(le)}):D.push(y.styles);let U=!1,X=null;return D.forEach(le=>{if(fn(le)){const me=le,Ve=me.easing;if(Ve&&(X=Ve,delete me.easing),!U)for(let ut in me)if(me[ut].toString().indexOf("{{")>=0){U=!0;break}}}),{type:6,styles:D,easing:X,offset:y.offset,containsDynamicStyles:U,options:null}}_validateStyleAst(y,_){const D=_.currentAnimateTimings;let U=_.currentTime,X=_.currentTime;D&&X>0&&(X-=D.duration+D.delay),y.styles.forEach(le=>{"string"!=typeof le&&Object.keys(le).forEach(me=>{if(!this._driver.validateStyleProperty(me))return void _.errors.push(`The provided animation property "${me}" is not a supported CSS property for animations`);const Ve=_.collectedStyles[_.currentQuerySelector],ut=Ve[me];let wt=!0;ut&&(X!=U&&X>=ut.startTime&&U<=ut.endTime&&(_.errors.push(`The CSS property "${me}" that exists between the times of "${ut.startTime}ms" and "${ut.endTime}ms" is also being animated in a parallel animation between the times of "${X}ms" and "${U}ms"`),wt=!1),X=ut.startTime),wt&&(Ve[me]={startTime:X,endTime:U}),_.options&&function(B,y,_){const D=y.params||{},U=_r(B);U.length&&U.forEach(X=>{D.hasOwnProperty(X)||_.push(`Unable to resolve the local animation param ${X} in the given list of values`)})}(le[me],_.options,_.errors)})})}visitKeyframes(y,_){const D={type:5,styles:[],options:null};if(!_.currentAnimateTimings)return _.errors.push("keyframes() must be placed inside of a call to animate()"),D;let X=0;const le=[];let me=!1,Ve=!1,ut=0;const wt=y.steps.map(Dr=>{const $r=this._makeStyleAst(Dr,_);let _i=null!=$r.offset?$r.offset:function(B){if("string"==typeof B)return null;let y=null;if(Array.isArray(B))B.forEach(_=>{if(fn(_)&&_.hasOwnProperty("offset")){const D=_;y=parseFloat(D.offset),delete D.offset}});else if(fn(B)&&B.hasOwnProperty("offset")){const _=B;y=parseFloat(_.offset),delete _.offset}return y}($r.styles),ui=0;return null!=_i&&(X++,ui=$r.offset=_i),Ve=Ve||ui<0||ui>1,me=me||ui<ut,ut=ui,le.push(ui),$r});Ve&&_.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),me&&_.errors.push("Please ensure that all keyframe offsets are in order");const qt=y.steps.length;let Mn=0;X>0&&X<qt?_.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==X&&(Mn=1/(qt-1));const Gn=qt-1,pn=_.currentTime,Rn=_.currentAnimateTimings,qn=Rn.duration;return wt.forEach((Dr,$r)=>{const _i=Mn>0?$r==Gn?1:Mn*$r:le[$r],ui=_i*qn;_.currentTime=pn+Rn.delay+ui,Rn.duration=ui,this._validateStyleAst(Dr,_),Dr.offset=_i,D.styles.push(Dr)}),D}visitReference(y,_){return{type:8,animation:at(this,Yn(y.animation),_),options:_n(y.options)}}visitAnimateChild(y,_){return _.depCount++,{type:9,options:_n(y.options)}}visitAnimateRef(y,_){return{type:10,animation:this.visitReference(y.animation,_),options:_n(y.options)}}visitQuery(y,_){const D=_.currentQuerySelector,U=y.options||{};_.queryCount++,_.currentQuery=y;const[X,le]=function(B){const y=!!B.split(/\s*,\s*/).find(_=>":self"==_);return y&&(B=B.replace(we,"")),[B=B.replace(/@\*/g,Kt).replace(/@\w+/g,_=>Kt+"-"+_.substr(1)).replace(/:animating/g,Bt),y]}(y.selector);_.currentQuerySelector=D.length?D+" "+X:X,ne(_.collectedStyles,_.currentQuerySelector,{});const me=at(this,Yn(y.animation),_);return _.currentQuery=null,_.currentQuerySelector=D,{type:11,selector:X,limit:U.limit||0,optional:!!U.optional,includeSelf:le,animation:me,originalSelector:y.selector,options:_n(y.options)}}visitStagger(y,_){_.currentQuery||_.errors.push("stagger() can only be used inside of query()");const D="full"===y.timings?{duration:0,delay:0,easing:"full"}:Ut(y.timings,_.errors,!0);return{type:12,animation:at(this,Yn(y.animation),_),timings:D,options:null}}}class Ze{constructor(y){this.errors=y,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function fn(B){return!Array.isArray(B)&&"object"==typeof B}function _n(B){return B?(B=Yt(B)).params&&(B.params=function(B){return B?Yt(B):null}(B.params)):B={},B}function jr(B,y,_){return{duration:B,delay:y,easing:_}}function Wr(B,y,_,D,U,X,le=null,me=!1){return{type:1,element:B,keyframes:y,preStyleProps:_,postStyleProps:D,duration:U,delay:X,totalTime:U+X,easing:le,subTimeline:me}}class xr{constructor(){this._map=new Map}consume(y){let _=this._map.get(y);return _?this._map.delete(y):_=[],_}append(y,_){let D=this._map.get(y);D||this._map.set(y,D=[]),D.push(..._)}has(y){return this._map.has(y)}clear(){this._map.clear()}}const eo=new RegExp(":enter","g"),Nr=new RegExp(":leave","g");function fr(B,y,_,D,U,X={},le={},me,Ve,ut=[]){return(new mi).buildKeyframes(B,y,_,D,U,X,le,me,Ve,ut)}class mi{buildKeyframes(y,_,D,U,X,le,me,Ve,ut,wt=[]){ut=ut||new xr;const qt=new Br(y,_,ut,U,X,wt,[]);qt.options=Ve,qt.currentTimeline.setStyles([le],null,qt.errors,Ve),at(this,D,qt);const Mn=qt.timelines.filter(Gn=>Gn.containsAnimation());if(Mn.length&&Object.keys(me).length){const Gn=Mn[Mn.length-1];Gn.allowOnlyTimelineStyles()||Gn.setStyles([me],null,qt.errors,Ve)}return Mn.length?Mn.map(Gn=>Gn.buildKeyframes()):[Wr(_,[],[],[],0,0,"",!1)]}visitTrigger(y,_){}visitState(y,_){}visitTransition(y,_){}visitAnimateChild(y,_){const D=_.subInstructions.consume(_.element);if(D){const U=_.createSubContext(y.options),X=_.currentTimeline.currentTime,le=this._visitSubInstructions(D,U,U.options);X!=le&&_.transformIntoNewTimeline(le)}_.previousNode=y}visitAnimateRef(y,_){const D=_.createSubContext(y.options);D.transformIntoNewTimeline(),this.visitReference(y.animation,D),_.transformIntoNewTimeline(D.currentTimeline.currentTime),_.previousNode=y}_visitSubInstructions(y,_,D){let X=_.currentTimeline.currentTime;const le=null!=D.duration?Wt(D.duration):null,me=null!=D.delay?Wt(D.delay):null;return 0!==le&&y.forEach(Ve=>{const ut=_.appendInstructionToTimeline(Ve,le,me);X=Math.max(X,ut.duration+ut.delay)}),X}visitReference(y,_){_.updateOptions(y.options,!0),at(this,y.animation,_),_.previousNode=y}visitSequence(y,_){const D=_.subContextCount;let U=_;const X=y.options;if(X&&(X.params||X.delay)&&(U=_.createSubContext(X),U.transformIntoNewTimeline(),null!=X.delay)){6==U.previousNode.type&&(U.currentTimeline.snapshotCurrentStyles(),U.previousNode=Yr);const le=Wt(X.delay);U.delayNextStep(le)}y.steps.length&&(y.steps.forEach(le=>at(this,le,U)),U.currentTimeline.applyStylesToKeyframe(),U.subContextCount>D&&U.transformIntoNewTimeline()),_.previousNode=y}visitGroup(y,_){const D=[];let U=_.currentTimeline.currentTime;const X=y.options&&y.options.delay?Wt(y.options.delay):0;y.steps.forEach(le=>{const me=_.createSubContext(y.options);X&&me.delayNextStep(X),at(this,le,me),U=Math.max(U,me.currentTimeline.currentTime),D.push(me.currentTimeline)}),D.forEach(le=>_.currentTimeline.mergeTimelineCollectedStyles(le)),_.transformIntoNewTimeline(U),_.previousNode=y}_visitTiming(y,_){if(y.dynamic){const D=y.strValue;return Ut(_.params?Vn(D,_.params,_.errors):D,_.errors)}return{duration:y.duration,delay:y.delay,easing:y.easing}}visitAnimate(y,_){const D=_.currentAnimateTimings=this._visitTiming(y.timings,_),U=_.currentTimeline;D.delay&&(_.incrementTime(D.delay),U.snapshotCurrentStyles());const X=y.style;5==X.type?this.visitKeyframes(X,_):(_.incrementTime(D.duration),this.visitStyle(X,_),U.applyStylesToKeyframe()),_.currentAnimateTimings=null,_.previousNode=y}visitStyle(y,_){const D=_.currentTimeline,U=_.currentAnimateTimings;!U&&D.getCurrentStyleProperties().length&&D.forwardFrame();const X=U&&U.easing||y.easing;y.isEmptyStep?D.applyEmptyStep(X):D.setStyles(y.styles,X,_.errors,_.options),_.previousNode=y}visitKeyframes(y,_){const D=_.currentAnimateTimings,U=_.currentTimeline.duration,X=D.duration,me=_.createSubContext().currentTimeline;me.easing=D.easing,y.styles.forEach(Ve=>{me.forwardTime((Ve.offset||0)*X),me.setStyles(Ve.styles,Ve.easing,_.errors,_.options),me.applyStylesToKeyframe()}),_.currentTimeline.mergeTimelineCollectedStyles(me),_.transformIntoNewTimeline(U+X),_.previousNode=y}visitQuery(y,_){const D=_.currentTimeline.currentTime,U=y.options||{},X=U.delay?Wt(U.delay):0;X&&(6===_.previousNode.type||0==D&&_.currentTimeline.getCurrentStyleProperties().length)&&(_.currentTimeline.snapshotCurrentStyles(),_.previousNode=Yr);let le=D;const me=_.invokeQuery(y.selector,y.originalSelector,y.limit,y.includeSelf,!!U.optional,_.errors);_.currentQueryTotal=me.length;let Ve=null;me.forEach((ut,wt)=>{_.currentQueryIndex=wt;const qt=_.createSubContext(y.options,ut);X&&qt.delayNextStep(X),ut===_.element&&(Ve=qt.currentTimeline),at(this,y.animation,qt),qt.currentTimeline.applyStylesToKeyframe(),le=Math.max(le,qt.currentTimeline.currentTime)}),_.currentQueryIndex=0,_.currentQueryTotal=0,_.transformIntoNewTimeline(le),Ve&&(_.currentTimeline.mergeTimelineCollectedStyles(Ve),_.currentTimeline.snapshotCurrentStyles()),_.previousNode=y}visitStagger(y,_){const D=_.parentContext,U=_.currentTimeline,X=y.timings,le=Math.abs(X.duration),me=le*(_.currentQueryTotal-1);let Ve=le*_.currentQueryIndex;switch(X.duration<0?"reverse":X.easing){case"reverse":Ve=me-Ve;break;case"full":Ve=D.currentStaggerTime}const wt=_.currentTimeline;Ve&&wt.delayNextStep(Ve);const qt=wt.currentTime;at(this,y.animation,_),_.previousNode=y,D.currentStaggerTime=U.currentTime-qt+(U.startTime-D.currentTimeline.startTime)}}const Yr={};class Br{constructor(y,_,D,U,X,le,me,Ve){this._driver=y,this.element=_,this.subInstructions=D,this._enterClassName=U,this._leaveClassName=X,this.errors=le,this.timelines=me,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Yr,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Ve||new ar(this._driver,_,0),me.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(y,_){if(!y)return;const D=y;let U=this.options;null!=D.duration&&(U.duration=Wt(D.duration)),null!=D.delay&&(U.delay=Wt(D.delay));const X=D.params;if(X){let le=U.params;le||(le=this.options.params={}),Object.keys(X).forEach(me=>{(!_||!le.hasOwnProperty(me))&&(le[me]=Vn(X[me],le,this.errors))})}}_copyOptions(){const y={};if(this.options){const _=this.options.params;if(_){const D=y.params={};Object.keys(_).forEach(U=>{D[U]=_[U]})}}return y}createSubContext(y=null,_,D){const U=_||this.element,X=new Br(this._driver,U,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(U,D||0));return X.previousNode=this.previousNode,X.currentAnimateTimings=this.currentAnimateTimings,X.options=this._copyOptions(),X.updateOptions(y),X.currentQueryIndex=this.currentQueryIndex,X.currentQueryTotal=this.currentQueryTotal,X.parentContext=this,this.subContextCount++,X}transformIntoNewTimeline(y){return this.previousNode=Yr,this.currentTimeline=this.currentTimeline.fork(this.element,y),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(y,_,D){const U={duration:null!=_?_:y.duration,delay:this.currentTimeline.currentTime+(null!=D?D:0)+y.delay,easing:""},X=new At(this._driver,y.element,y.keyframes,y.preStyleProps,y.postStyleProps,U,y.stretchStartingKeyframe);return this.timelines.push(X),U}incrementTime(y){this.currentTimeline.forwardTime(this.currentTimeline.duration+y)}delayNextStep(y){y>0&&this.currentTimeline.delayNextStep(y)}invokeQuery(y,_,D,U,X,le){let me=[];if(U&&me.push(this.element),y.length>0){y=(y=y.replace(eo,"."+this._enterClassName)).replace(Nr,"."+this._leaveClassName);let ut=this._driver.query(this.element,y,1!=D);0!==D&&(ut=D<0?ut.slice(ut.length+D,ut.length):ut.slice(0,D)),me.push(...ut)}return!X&&0==me.length&&le.push(`\`query("${_}")\` returned zero elements. (Use \`query("${_}", { optional: true })\` if you wish to allow this.)`),me}}class ar{constructor(y,_,D,U){this._driver=y,this.element=_,this.startTime=D,this._elementTimelineStylesLookup=U,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(_),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(_,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(y){const _=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||_?(this.forwardTime(this.currentTime+y),_&&this.snapshotCurrentStyles()):this.startTime+=y}fork(y,_){return this.applyStylesToKeyframe(),new ar(this._driver,y,_||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(y){this.applyStylesToKeyframe(),this.duration=y,this._loadKeyframe()}_updateStyle(y,_){this._localTimelineStyles[y]=_,this._globalTimelineStyles[y]=_,this._styleSummary[y]={time:this.currentTime,value:_}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(y){y&&(this._previousKeyframe.easing=y),Object.keys(this._globalTimelineStyles).forEach(_=>{this._backFill[_]=this._globalTimelineStyles[_]||z.l3,this._currentKeyframe[_]=z.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(y,_,D,U){_&&(this._previousKeyframe.easing=_);const X=U&&U.params||{},le=function(B,y){const _={};let D;return B.forEach(U=>{"*"===U?(D=D||Object.keys(y),D.forEach(X=>{_[X]=z.l3})):rr(U,!1,_)}),_}(y,this._globalTimelineStyles);Object.keys(le).forEach(me=>{const Ve=Vn(le[me],X,D);this._pendingStyles[me]=Ve,this._localTimelineStyles.hasOwnProperty(me)||(this._backFill[me]=this._globalTimelineStyles.hasOwnProperty(me)?this._globalTimelineStyles[me]:z.l3),this._updateStyle(me,Ve)})}applyStylesToKeyframe(){const y=this._pendingStyles,_=Object.keys(y);0!=_.length&&(this._pendingStyles={},_.forEach(D=>{this._currentKeyframe[D]=y[D]}),Object.keys(this._localTimelineStyles).forEach(D=>{this._currentKeyframe.hasOwnProperty(D)||(this._currentKeyframe[D]=this._localTimelineStyles[D])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(y=>{const _=this._localTimelineStyles[y];this._pendingStyles[y]=_,this._updateStyle(y,_)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const y=[];for(let _ in this._currentKeyframe)y.push(_);return y}mergeTimelineCollectedStyles(y){Object.keys(y._styleSummary).forEach(_=>{const D=this._styleSummary[_],U=y._styleSummary[_];(!D||U.time>D.time)&&this._updateStyle(_,U.value)})}buildKeyframes(){this.applyStylesToKeyframe();const y=new Set,_=new Set,D=1===this._keyframes.size&&0===this.duration;let U=[];this._keyframes.forEach((me,Ve)=>{const ut=rr(me,!0);Object.keys(ut).forEach(wt=>{const qt=ut[wt];qt==z.k1?y.add(wt):qt==z.l3&&_.add(wt)}),D||(ut.offset=Ve/this.duration),U.push(ut)});const X=y.size?Le(y.values()):[],le=_.size?Le(_.values()):[];if(D){const me=U[0],Ve=Yt(me);me.offset=0,Ve.offset=1,U=[me,Ve]}return Wr(this.element,U,X,le,this.duration,this.startTime,this.easing,!1)}}class At extends ar{constructor(y,_,D,U,X,le,me=!1){super(y,_,le.delay),this.keyframes=D,this.preStyleProps=U,this.postStyleProps=X,this._stretchStartingKeyframe=me,this.timings={duration:le.duration,delay:le.delay,easing:le.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let y=this.keyframes,{delay:_,duration:D,easing:U}=this.timings;if(this._stretchStartingKeyframe&&_){const X=[],le=D+_,me=_/le,Ve=rr(y[0],!1);Ve.offset=0,X.push(Ve);const ut=rr(y[0],!1);ut.offset=wn(me),X.push(ut);const wt=y.length-1;for(let qt=1;qt<=wt;qt++){let Mn=rr(y[qt],!1);Mn.offset=wn((_+Mn.offset*D)/le),X.push(Mn)}D=le,_=0,U="",y=X}return Wr(this.element,y,this.preStyleProps,this.postStyleProps,D,_,U,!0)}}function wn(B,y=3){const _=Math.pow(10,y-1);return Math.round(B*_)/_}class ji{}class si extends ji{normalizePropertyName(y,_){return de(y)}normalizeStyleValue(y,_,D,U){let X="";const le=D.toString().trim();if(yi[_]&&0!==D&&"0"!==D)if("number"==typeof D)X="px";else{const me=D.match(/^[+-]?[\d\.]+([a-z]*)$/);me&&0==me[1].length&&U.push(`Please provide a CSS unit value for ${y}:${D}`)}return le+X}}const yi=(()=>function(B){const y={};return B.forEach(_=>y[_]=!0),y}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function dn(B,y,_,D,U,X,le,me,Ve,ut,wt,qt,Mn){return{type:0,element:B,triggerName:y,isRemovalTransition:U,fromState:_,fromStyles:X,toState:D,toStyles:le,timelines:me,queriedElements:Ve,preStyleProps:ut,postStyleProps:wt,totalTime:qt,errors:Mn}}const Oe={};class Ee{constructor(y,_,D){this._triggerName=y,this.ast=_,this._stateStyles=D}match(y,_,D,U){return function(B,y,_,D,U){return B.some(X=>X(y,_,D,U))}(this.ast.matchers,y,_,D,U)}buildStyles(y,_,D){const U=this._stateStyles["*"],X=this._stateStyles[y],le=U?U.buildStyles(_,D):{};return X?X.buildStyles(_,D):le}build(y,_,D,U,X,le,me,Ve,ut,wt){const qt=[],Mn=this.ast.options&&this.ast.options.params||Oe,pn=this.buildStyles(D,me&&me.params||Oe,qt),Rn=Ve&&Ve.params||Oe,qn=this.buildStyles(U,Rn,qt),Dr=new Set,$r=new Map,_i=new Map,ui="void"===U,ls={params:Object.assign(Object.assign({},Mn),Rn)},Ps=wt?[]:fr(y,_,this.ast.animation,X,le,pn,qn,ls,ut,qt);let ci=0;if(Ps.forEach(Os=>{ci=Math.max(Os.duration+Os.delay,ci)}),qt.length)return dn(_,this._triggerName,D,U,ui,pn,qn,[],[],$r,_i,ci,qt);Ps.forEach(Os=>{const ii=Os.element,Sa=ne($r,ii,{});Os.preStyleProps.forEach(Zr=>Sa[Zr]=!0);const so=ne(_i,ii,{});Os.postStyleProps.forEach(Zr=>so[Zr]=!0),ii!==_&&Dr.add(ii)});const Es=Le(Dr.values());return dn(_,this._triggerName,D,U,ui,pn,qn,Ps,Es,$r,_i,ci)}}class He{constructor(y,_,D){this.styles=y,this.defaultParams=_,this.normalizer=D}buildStyles(y,_){const D={},U=Yt(this.defaultParams);return Object.keys(y).forEach(X=>{const le=y[X];null!=le&&(U[X]=le)}),this.styles.styles.forEach(X=>{if("string"!=typeof X){const le=X;Object.keys(le).forEach(me=>{let Ve=le[me];Ve.length>1&&(Ve=Vn(Ve,U,_));const ut=this.normalizer.normalizePropertyName(me,_);Ve=this.normalizer.normalizeStyleValue(me,ut,Ve,_),D[ut]=Ve})}}),D}}class un{constructor(y,_,D){this.name=y,this.ast=_,this._normalizer=D,this.transitionFactories=[],this.states={},_.states.forEach(U=>{this.states[U.name]=new He(U.style,U.options&&U.options.params||{},D)}),Hn(this.states,"true","1"),Hn(this.states,"false","0"),_.transitions.forEach(U=>{this.transitionFactories.push(new Ee(y,U,this.states))}),this.fallbackTransition=function(B,y,_){return new Ee(B,{type:1,animation:{type:2,steps:[],options:null},matchers:[(le,me)=>!0],options:null,queryCount:0,depCount:0},y)}(y,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(y,_,D,U){return this.transitionFactories.find(le=>le.match(y,_,D,U))||null}matchStyles(y,_,D){return this.fallbackTransition.buildStyles(y,_,D)}}function Hn(B,y,_){B.hasOwnProperty(y)?B.hasOwnProperty(_)||(B[_]=B[y]):B.hasOwnProperty(_)&&(B[y]=B[_])}const ln=new xr;class es{constructor(y,_,D){this.bodyNode=y,this._driver=_,this._normalizer=D,this._animations={},this._playersById={},this.players=[]}register(y,_){const D=[],U=We(this._driver,_,D);if(D.length)throw new Error(`Unable to build the animation due to the following errors: ${D.join("\n")}`);this._animations[y]=U}_buildPlayer(y,_,D){const U=y.element,X=De(0,this._normalizer,0,y.keyframes,_,D);return this._driver.animate(U,X,y.duration,y.delay,y.easing,[],!0)}create(y,_,D={}){const U=[],X=this._animations[y];let le;const me=new Map;if(X?(le=fr(this._driver,_,X,Zn,Rr,{},{},D,ln,U),le.forEach(wt=>{const qt=ne(me,wt.element,{});wt.postStyleProps.forEach(Mn=>qt[Mn]=null)})):(U.push("The requested animation doesn't exist or has already been destroyed"),le=[]),U.length)throw new Error(`Unable to create the animation due to the following errors: ${U.join("\n")}`);me.forEach((wt,qt)=>{Object.keys(wt).forEach(Mn=>{wt[Mn]=this._driver.computeStyle(qt,Mn,z.l3)})});const ut=te(le.map(wt=>{const qt=me.get(wt.element);return this._buildPlayer(wt,{},qt)}));return this._playersById[y]=ut,ut.onDestroy(()=>this.destroy(y)),this.players.push(ut),ut}destroy(y){const _=this._getPlayer(y);_.destroy(),delete this._playersById[y];const D=this.players.indexOf(_);D>=0&&this.players.splice(D,1)}_getPlayer(y){const _=this._playersById[y];if(!_)throw new Error(`Unable to find the timeline player referenced by ${y}`);return _}listen(y,_,D,U){const X=Q(_,"","","");return ee(this._getPlayer(y),D,X,U),()=>{}}command(y,_,D,U){if("register"==D)return void this.register(y,U[0]);if("create"==D)return void this.create(y,_,U[0]||{});const X=this._getPlayer(y);switch(D){case"play":X.play();break;case"pause":X.pause();break;case"reset":X.reset();break;case"restart":X.restart();break;case"finish":X.finish();break;case"init":X.init();break;case"setPosition":X.setPosition(parseFloat(U[0]));break;case"destroy":this.destroy(y)}}}const Pr="ng-animate-queued",Bs="ng-animate-disabled",ni=".ng-animate-disabled",Gr=[],Ao={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},lr={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},vr="__ng_removed";class $s{constructor(y,_=""){this.namespaceId=_;const D=y&&y.hasOwnProperty("value");if(this.value=null!=(B=D?y.value:y)?B:null,D){const X=Yt(y);delete X.value,this.options=X}else this.options={};var B;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(y){const _=y.params;if(_){const D=this.options.params;Object.keys(_).forEach(U=>{null==D[U]&&(D[U]=_[U])})}}}const Bi="void",hs=new $s(Bi);class oi{constructor(y,_,D){this.id=y,this.hostElement=_,this._engine=D,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+y,Pn(_,this._hostClassName)}listen(y,_,D,U){if(!this._triggers.hasOwnProperty(_))throw new Error(`Unable to listen on the animation trigger event "${D}" because the animation trigger "${_}" doesn't exist!`);if(null==D||0==D.length)throw new Error(`Unable to listen on the animation trigger "${_}" because the provided event is undefined!`);if("start"!=(B=D)&&"done"!=B)throw new Error(`The provided animation trigger event "${D}" for the animation trigger "${_}" is not supported!`);var B;const X=ne(this._elementListeners,y,[]),le={name:_,phase:D,callback:U};X.push(le);const me=ne(this._engine.statesByElement,y,{});return me.hasOwnProperty(_)||(Pn(y,It),Pn(y,It+"-"+_),me[_]=hs),()=>{this._engine.afterFlush(()=>{const Ve=X.indexOf(le);Ve>=0&&X.splice(Ve,1),this._triggers[_]||delete me[_]})}}register(y,_){return!this._triggers[y]&&(this._triggers[y]=_,!0)}_getTrigger(y){const _=this._triggers[y];if(!_)throw new Error(`The provided animation trigger "${y}" has not been registered!`);return _}trigger(y,_,D,U=!0){const X=this._getTrigger(_),le=new to(this.id,_,y);let me=this._engine.statesByElement.get(y);me||(Pn(y,It),Pn(y,It+"-"+_),this._engine.statesByElement.set(y,me={}));let Ve=me[_];const ut=new $s(D,this.id);if(!(D&&D.hasOwnProperty("value"))&&Ve&&ut.absorbOptions(Ve.options),me[_]=ut,Ve||(Ve=hs),ut.value!==Bi&&Ve.value===ut.value){if(!function(B,y){const _=Object.keys(B),D=Object.keys(y);if(_.length!=D.length)return!1;for(let U=0;U<_.length;U++){const X=_[U];if(!y.hasOwnProperty(X)||B[X]!==y[X])return!1}return!0}(Ve.params,ut.params)){const Rn=[],qn=X.matchStyles(Ve.value,Ve.params,Rn),Dr=X.matchStyles(ut.value,ut.params,Rn);Rn.length?this._engine.reportError(Rn):this._engine.afterFlush(()=>{Qn(y,qn),ct(y,Dr)})}return}const Mn=ne(this._engine.playersByElement,y,[]);Mn.forEach(Rn=>{Rn.namespaceId==this.id&&Rn.triggerName==_&&Rn.queued&&Rn.destroy()});let Gn=X.matchTransition(Ve.value,ut.value,y,ut.params),pn=!1;if(!Gn){if(!U)return;Gn=X.fallbackTransition,pn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:y,triggerName:_,transition:Gn,fromState:Ve,toState:ut,player:le,isFallbackTransition:pn}),pn||(Pn(y,Pr),le.onStart(()=>{bi(y,Pr)})),le.onDone(()=>{let Rn=this.players.indexOf(le);Rn>=0&&this.players.splice(Rn,1);const qn=this._engine.playersByElement.get(y);if(qn){let Dr=qn.indexOf(le);Dr>=0&&qn.splice(Dr,1)}}),this.players.push(le),Mn.push(le),le}deregister(y){delete this._triggers[y],this._engine.statesByElement.forEach((_,D)=>{delete _[y]}),this._elementListeners.forEach((_,D)=>{this._elementListeners.set(D,_.filter(U=>U.name!=y))})}clearElementCache(y){this._engine.statesByElement.delete(y),this._elementListeners.delete(y);const _=this._engine.playersByElement.get(y);_&&(_.forEach(D=>D.destroy()),this._engine.playersByElement.delete(y))}_signalRemovalForInnerTriggers(y,_){const D=this._engine.driver.query(y,Kt,!0);D.forEach(U=>{if(U[vr])return;const X=this._engine.fetchNamespacesByElement(U);X.size?X.forEach(le=>le.triggerLeaveAnimation(U,_,!1,!0)):this.clearElementCache(U)}),this._engine.afterFlushAnimationsDone(()=>D.forEach(U=>this.clearElementCache(U)))}triggerLeaveAnimation(y,_,D,U){const X=this._engine.statesByElement.get(y);if(X){const le=[];if(Object.keys(X).forEach(me=>{if(this._triggers[me]){const Ve=this.trigger(y,me,Bi,U);Ve&&le.push(Ve)}}),le.length)return this._engine.markElementAsRemoved(this.id,y,!0,_),D&&te(le).onDone(()=>this._engine.processLeaveNode(y)),!0}return!1}prepareLeaveAnimationListeners(y){const _=this._elementListeners.get(y),D=this._engine.statesByElement.get(y);if(_&&D){const U=new Set;_.forEach(X=>{const le=X.name;if(U.has(le))return;U.add(le);const Ve=this._triggers[le].fallbackTransition,ut=D[le]||hs,wt=new $s(Bi),qt=new to(this.id,le,y);this._engine.totalQueuedPlayers++,this._queue.push({element:y,triggerName:le,transition:Ve,fromState:ut,toState:wt,player:qt,isFallbackTransition:!0})})}}removeNode(y,_){const D=this._engine;if(y.childElementCount&&this._signalRemovalForInnerTriggers(y,_),this.triggerLeaveAnimation(y,_,!0))return;let U=!1;if(D.totalAnimations){const X=D.players.length?D.playersByQueriedElement.get(y):[];if(X&&X.length)U=!0;else{let le=y;for(;le=le.parentNode;)if(D.statesByElement.get(le)){U=!0;break}}}if(this.prepareLeaveAnimationListeners(y),U)D.markElementAsRemoved(this.id,y,!1,_);else{const X=y[vr];(!X||X===Ao)&&(D.afterFlush(()=>this.clearElementCache(y)),D.destroyInnerAnimations(y),D._onRemovalComplete(y,_))}}insertNode(y,_){Pn(y,this._hostClassName)}drainQueuedTransitions(y){const _=[];return this._queue.forEach(D=>{const U=D.player;if(U.destroyed)return;const X=D.element,le=this._elementListeners.get(X);le&&le.forEach(me=>{if(me.name==D.triggerName){const Ve=Q(X,D.triggerName,D.fromState.value,D.toState.value);Ve._data=y,ee(D.player,me.phase,Ve,me.callback)}}),U.markedForDestroy?this._engine.afterFlush(()=>{U.destroy()}):_.push(D)}),this._queue=[],_.sort((D,U)=>{const X=D.transition.ast.depCount,le=U.transition.ast.depCount;return 0==X||0==le?X-le:this._engine.driver.containsElement(D.element,U.element)?1:-1})}destroy(y){this.players.forEach(_=>_.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,y)}elementContainsData(y){let _=!1;return this._elementListeners.has(y)&&(_=!0),_=!!this._queue.find(D=>D.element===y)||_,_}}class Qi{constructor(y,_,D){this.bodyNode=y,this.driver=_,this._normalizer=D,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(U,X)=>{}}_onRemovalComplete(y,_){this.onRemovalComplete(y,_)}get queuedPlayers(){const y=[];return this._namespaceList.forEach(_=>{_.players.forEach(D=>{D.queued&&y.push(D)})}),y}createNamespace(y,_){const D=new oi(y,_,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,_)?this._balanceNamespaceList(D,_):(this.newHostElements.set(_,D),this.collectEnterElement(_)),this._namespaceLookup[y]=D}_balanceNamespaceList(y,_){const D=this._namespaceList.length-1;if(D>=0){let U=!1;for(let X=D;X>=0;X--)if(this.driver.containsElement(this._namespaceList[X].hostElement,_)){this._namespaceList.splice(X+1,0,y),U=!0;break}U||this._namespaceList.splice(0,0,y)}else this._namespaceList.push(y);return this.namespacesByHostElement.set(_,y),y}register(y,_){let D=this._namespaceLookup[y];return D||(D=this.createNamespace(y,_)),D}registerTrigger(y,_,D){let U=this._namespaceLookup[y];U&&U.register(_,D)&&this.totalAnimations++}destroy(y,_){if(!y)return;const D=this._fetchNamespace(y);this.afterFlush(()=>{this.namespacesByHostElement.delete(D.hostElement),delete this._namespaceLookup[y];const U=this._namespaceList.indexOf(D);U>=0&&this._namespaceList.splice(U,1)}),this.afterFlushAnimationsDone(()=>D.destroy(_))}_fetchNamespace(y){return this._namespaceLookup[y]}fetchNamespacesByElement(y){const _=new Set,D=this.statesByElement.get(y);if(D){const U=Object.keys(D);for(let X=0;X<U.length;X++){const le=D[U[X]].namespaceId;if(le){const me=this._fetchNamespace(le);me&&_.add(me)}}}return _}trigger(y,_,D,U){if(Se(_)){const X=this._fetchNamespace(y);if(X)return X.trigger(_,D,U),!0}return!1}insertNode(y,_,D,U){if(!Se(_))return;const X=_[vr];if(X&&X.setForRemoval){X.setForRemoval=!1,X.setForMove=!0;const le=this.collectedLeaveElements.indexOf(_);le>=0&&this.collectedLeaveElements.splice(le,1)}if(y){const le=this._fetchNamespace(y);le&&le.insertNode(_,D)}U&&this.collectEnterElement(_)}collectEnterElement(y){this.collectedEnterElements.push(y)}markElementAsDisabled(y,_){_?this.disabledNodes.has(y)||(this.disabledNodes.add(y),Pn(y,Bs)):this.disabledNodes.has(y)&&(this.disabledNodes.delete(y),bi(y,Bs))}removeNode(y,_,D,U){if(Se(_)){const X=y?this._fetchNamespace(y):null;if(X?X.removeNode(_,U):this.markElementAsRemoved(y,_,!1,U),D){const le=this.namespacesByHostElement.get(_);le&&le.id!==y&&le.removeNode(_,U)}}else this._onRemovalComplete(_,U)}markElementAsRemoved(y,_,D,U){this.collectedLeaveElements.push(_),_[vr]={namespaceId:y,setForRemoval:U,hasAnimation:D,removedBeforeQueried:!1}}listen(y,_,D,U,X){return Se(_)?this._fetchNamespace(y).listen(_,D,U,X):()=>{}}_buildInstruction(y,_,D,U,X){return y.transition.build(this.driver,y.element,y.fromState.value,y.toState.value,D,U,y.fromState.options,y.toState.options,_,X)}destroyInnerAnimations(y){let _=this.driver.query(y,Kt,!0);_.forEach(D=>this.destroyActiveAnimationsForElement(D)),0!=this.playersByQueriedElement.size&&(_=this.driver.query(y,Bt,!0),_.forEach(D=>this.finishActiveQueriedAnimationOnElement(D)))}destroyActiveAnimationsForElement(y){const _=this.playersByElement.get(y);_&&_.forEach(D=>{D.queued?D.markedForDestroy=!0:D.destroy()})}finishActiveQueriedAnimationOnElement(y){const _=this.playersByQueriedElement.get(y);_&&_.forEach(D=>D.finish())}whenRenderingDone(){return new Promise(y=>{if(this.players.length)return te(this.players).onDone(()=>y());y()})}processLeaveNode(y){const _=y[vr];if(_&&_.setForRemoval){if(y[vr]=Ao,_.namespaceId){this.destroyInnerAnimations(y);const D=this._fetchNamespace(_.namespaceId);D&&D.clearElementCache(y)}this._onRemovalComplete(y,_.setForRemoval)}this.driver.matchesElement(y,ni)&&this.markElementAsDisabled(y,!1),this.driver.query(y,ni,!0).forEach(D=>{this.markElementAsDisabled(D,!1)})}flush(y=-1){let _=[];if(this.newHostElements.size&&(this.newHostElements.forEach((D,U)=>this._balanceNamespaceList(D,U)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let D=0;D<this.collectedEnterElements.length;D++)Pn(this.collectedEnterElements[D],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const D=[];try{_=this._flushAnimations(D,y)}finally{for(let U=0;U<D.length;U++)D[U]()}}else for(let D=0;D<this.collectedLeaveElements.length;D++)this.processLeaveNode(this.collectedLeaveElements[D]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(D=>D()),this._flushFns=[],this._whenQuietFns.length){const D=this._whenQuietFns;this._whenQuietFns=[],_.length?te(_).onDone(()=>{D.forEach(U=>U())}):D.forEach(U=>U())}}reportError(y){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${y.join("\n")}`)}_flushAnimations(y,_){const D=new xr,U=[],X=new Map,le=[],me=new Map,Ve=new Map,ut=new Map,wt=new Set;this.disabledNodes.forEach(Lt=>{wt.add(Lt);const gn=this.driver.query(Lt,".ng-animate-queued",!0);for(let jn=0;jn<gn.length;jn++)wt.add(gn[jn])});const qt=this.bodyNode,Mn=Array.from(this.statesByElement.keys()),Gn=Gt(Mn,this.collectedEnterElements),pn=new Map;let Rn=0;Gn.forEach((Lt,gn)=>{const jn=Zn+Rn++;pn.set(gn,jn),Lt.forEach(Wn=>Pn(Wn,jn))});const qn=[],Dr=new Set,$r=new Set;for(let Lt=0;Lt<this.collectedLeaveElements.length;Lt++){const gn=this.collectedLeaveElements[Lt],jn=gn[vr];jn&&jn.setForRemoval&&(qn.push(gn),Dr.add(gn),jn.hasAnimation?this.driver.query(gn,".ng-star-inserted",!0).forEach(Wn=>Dr.add(Wn)):$r.add(gn))}const _i=new Map,ui=Gt(Mn,Array.from(Dr));ui.forEach((Lt,gn)=>{const jn=Rr+Rn++;_i.set(gn,jn),Lt.forEach(Wn=>Pn(Wn,jn))}),y.push(()=>{Gn.forEach((Lt,gn)=>{const jn=pn.get(gn);Lt.forEach(Wn=>bi(Wn,jn))}),ui.forEach((Lt,gn)=>{const jn=_i.get(gn);Lt.forEach(Wn=>bi(Wn,jn))}),qn.forEach(Lt=>{this.processLeaveNode(Lt)})});const ls=[],Ps=[];for(let Lt=this._namespaceList.length-1;Lt>=0;Lt--)this._namespaceList[Lt].drainQueuedTransitions(_).forEach(jn=>{const Wn=jn.player,Di=jn.element;if(ls.push(Wn),this.collectedEnterElements.length){const is=Di[vr];if(is&&is.setForMove)return void Wn.destroy()}const Ms=!qt||!this.driver.containsElement(qt,Di),ki=_i.get(Di),Or=pn.get(Di),Hr=this._buildInstruction(jn,D,Or,ki,Ms);if(Hr.errors&&Hr.errors.length)Ps.push(Hr);else{if(Ms)return Wn.onStart(()=>Qn(Di,Hr.fromStyles)),Wn.onDestroy(()=>ct(Di,Hr.toStyles)),void U.push(Wn);if(jn.isFallbackTransition)return Wn.onStart(()=>Qn(Di,Hr.fromStyles)),Wn.onDestroy(()=>ct(Di,Hr.toStyles)),void U.push(Wn);Hr.timelines.forEach(is=>is.stretchStartingKeyframe=!0),D.append(Di,Hr.timelines),le.push({instruction:Hr,player:Wn,element:Di}),Hr.queriedElements.forEach(is=>ne(me,is,[]).push(Wn)),Hr.preStyleProps.forEach((is,Ks)=>{const $i=Object.keys(is);if($i.length){let ds=Ve.get(Ks);ds||Ve.set(Ks,ds=new Set),$i.forEach(li=>ds.add(li))}}),Hr.postStyleProps.forEach((is,Ks)=>{const $i=Object.keys(is);let ds=ut.get(Ks);ds||ut.set(Ks,ds=new Set),$i.forEach(li=>ds.add(li))})}});if(Ps.length){const Lt=[];Ps.forEach(gn=>{Lt.push(`@${gn.triggerName} has failed due to:\n`),gn.errors.forEach(jn=>Lt.push(`- ${jn}\n`))}),ls.forEach(gn=>gn.destroy()),this.reportError(Lt)}const ci=new Map,Es=new Map;le.forEach(Lt=>{const gn=Lt.element;D.has(gn)&&(Es.set(gn,gn),this._beforeAnimationBuild(Lt.player.namespaceId,Lt.instruction,ci))}),U.forEach(Lt=>{const gn=Lt.element;this._getPreviousPlayers(gn,!1,Lt.namespaceId,Lt.triggerName,null).forEach(Wn=>{ne(ci,gn,[]).push(Wn),Wn.destroy()})});const Os=qn.filter(Lt=>ps(Lt,Ve,ut)),ii=new Map;Tt(ii,this.driver,$r,ut,z.l3).forEach(Lt=>{ps(Lt,Ve,ut)&&Os.push(Lt)});const so=new Map;Gn.forEach((Lt,gn)=>{Tt(so,this.driver,new Set(Lt),Ve,z.k1)}),Os.forEach(Lt=>{const gn=ii.get(Lt),jn=so.get(Lt);ii.set(Lt,Object.assign(Object.assign({},gn),jn))});const Zr=[],Eo=[],Ir={};le.forEach(Lt=>{const{element:gn,player:jn,instruction:Wn}=Lt;if(D.has(gn)){if(wt.has(gn))return jn.onDestroy(()=>ct(gn,Wn.toStyles)),jn.disabled=!0,jn.overrideTotalTime(Wn.totalTime),void U.push(jn);let Di=Ir;if(Es.size>1){let ki=gn;const Or=[];for(;ki=ki.parentNode;){const Hr=Es.get(ki);if(Hr){Di=Hr;break}Or.push(ki)}Or.forEach(Hr=>Es.set(Hr,Di))}const Ms=this._buildAnimation(jn.namespaceId,Wn,ci,X,so,ii);if(jn.setRealPlayer(Ms),Di===Ir)Zr.push(jn);else{const ki=this.playersByElement.get(Di);ki&&ki.length&&(jn.parentPlayer=te(ki)),U.push(jn)}}else Qn(gn,Wn.fromStyles),jn.onDestroy(()=>ct(gn,Wn.toStyles)),Eo.push(jn),wt.has(gn)&&U.push(jn)}),Eo.forEach(Lt=>{const gn=X.get(Lt.element);if(gn&&gn.length){const jn=te(gn);Lt.setRealPlayer(jn)}}),U.forEach(Lt=>{Lt.parentPlayer?Lt.syncPlayerEvents(Lt.parentPlayer):Lt.destroy()});for(let Lt=0;Lt<qn.length;Lt++){const gn=qn[Lt],jn=gn[vr];if(bi(gn,Rr),jn&&jn.hasAnimation)continue;let Wn=[];if(me.size){let Ms=me.get(gn);Ms&&Ms.length&&Wn.push(...Ms);let ki=this.driver.query(gn,Bt,!0);for(let Or=0;Or<ki.length;Or++){let Hr=me.get(ki[Or]);Hr&&Hr.length&&Wn.push(...Hr)}}const Di=Wn.filter(Ms=>!Ms.destroyed);Di.length?fs(this,gn,Di):this.processLeaveNode(gn)}return qn.length=0,Zr.forEach(Lt=>{this.players.push(Lt),Lt.onDone(()=>{Lt.destroy();const gn=this.players.indexOf(Lt);this.players.splice(gn,1)}),Lt.play()}),Zr}elementContainsData(y,_){let D=!1;const U=_[vr];return U&&U.setForRemoval&&(D=!0),this.playersByElement.has(_)&&(D=!0),this.playersByQueriedElement.has(_)&&(D=!0),this.statesByElement.has(_)&&(D=!0),this._fetchNamespace(y).elementContainsData(_)||D}afterFlush(y){this._flushFns.push(y)}afterFlushAnimationsDone(y){this._whenQuietFns.push(y)}_getPreviousPlayers(y,_,D,U,X){let le=[];if(_){const me=this.playersByQueriedElement.get(y);me&&(le=me)}else{const me=this.playersByElement.get(y);if(me){const Ve=!X||X==Bi;me.forEach(ut=>{ut.queued||!Ve&&ut.triggerName!=U||le.push(ut)})}}return(D||U)&&(le=le.filter(me=>!(D&&D!=me.namespaceId||U&&U!=me.triggerName))),le}_beforeAnimationBuild(y,_,D){const X=_.element,le=_.isRemovalTransition?void 0:y,me=_.isRemovalTransition?void 0:_.triggerName;for(const Ve of _.timelines){const ut=Ve.element,wt=ut!==X,qt=ne(D,ut,[]);this._getPreviousPlayers(ut,wt,le,me,_.toState).forEach(Gn=>{const pn=Gn.getRealPlayer();pn.beforeDestroy&&pn.beforeDestroy(),Gn.destroy(),qt.push(Gn)})}Qn(X,_.fromStyles)}_buildAnimation(y,_,D,U,X,le){const me=_.triggerName,Ve=_.element,ut=[],wt=new Set,qt=new Set,Mn=_.timelines.map(pn=>{const Rn=pn.element;wt.add(Rn);const qn=Rn[vr];if(qn&&qn.removedBeforeQueried)return new z.ZN(pn.duration,pn.delay);const Dr=Rn!==Ve,$r=function(B){const y=[];return $o(B,y),y}((D.get(Rn)||Gr).map(ci=>ci.getRealPlayer())).filter(ci=>!!ci.element&&ci.element===Rn),_i=X.get(Rn),ui=le.get(Rn),ls=De(0,this._normalizer,0,pn.keyframes,_i,ui),Ps=this._buildPlayer(pn,ls,$r);if(pn.subTimeline&&U&&qt.add(Rn),Dr){const ci=new to(y,me,Rn);ci.setRealPlayer(Ps),ut.push(ci)}return Ps});ut.forEach(pn=>{ne(this.playersByQueriedElement,pn.element,[]).push(pn),pn.onDone(()=>function(B,y,_){let D;if(B instanceof Map){if(D=B.get(y),D){if(D.length){const U=D.indexOf(_);D.splice(U,1)}0==D.length&&B.delete(y)}}else if(D=B[y],D){if(D.length){const U=D.indexOf(_);D.splice(U,1)}0==D.length&&delete B[y]}return D}(this.playersByQueriedElement,pn.element,pn))}),wt.forEach(pn=>Pn(pn,Cn));const Gn=te(Mn);return Gn.onDestroy(()=>{wt.forEach(pn=>bi(pn,Cn)),ct(Ve,_.toStyles)}),qt.forEach(pn=>{ne(U,pn,[]).push(Gn)}),Gn}_buildPlayer(y,_,D){return _.length>0?this.driver.animate(y.element,_,y.duration,y.delay,y.easing,D):new z.ZN(y.duration,y.delay)}}class to{constructor(y,_,D){this.namespaceId=y,this.triggerName=_,this.element=D,this._player=new z.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(y){this._containsRealPlayer||(this._player=y,Object.keys(this._queuedCallbacks).forEach(_=>{this._queuedCallbacks[_].forEach(D=>ee(y,_,void 0,D))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(y.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(y){this.totalTime=y}syncPlayerEvents(y){const _=this._player;_.triggerCallback&&y.onStart(()=>_.triggerCallback("start")),y.onDone(()=>this.finish()),y.onDestroy(()=>this.destroy())}_queueEvent(y,_){ne(this._queuedCallbacks,y,[]).push(_)}onDone(y){this.queued&&this._queueEvent("done",y),this._player.onDone(y)}onStart(y){this.queued&&this._queueEvent("start",y),this._player.onStart(y)}onDestroy(y){this.queued&&this._queueEvent("destroy",y),this._player.onDestroy(y)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(y){this.queued||this._player.setPosition(y)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(y){const _=this._player;_.triggerCallback&&_.triggerCallback(y)}}function Se(B){return B&&1===B.nodeType}function ht(B,y){const _=B.style.display;return B.style.display=null!=y?y:"none",_}function Tt(B,y,_,D,U){const X=[];_.forEach(Ve=>X.push(ht(Ve)));const le=[];D.forEach((Ve,ut)=>{const wt={};Ve.forEach(qt=>{const Mn=wt[qt]=y.computeStyle(ut,qt,U);(!Mn||0==Mn.length)&&(ut[vr]=lr,le.push(ut))}),B.set(ut,wt)});let me=0;return _.forEach(Ve=>ht(Ve,X[me++])),le}function Gt(B,y){const _=new Map;if(B.forEach(me=>_.set(me,[])),0==y.length)return _;const U=new Set(y),X=new Map;function le(me){if(!me)return 1;let Ve=X.get(me);if(Ve)return Ve;const ut=me.parentNode;return Ve=_.has(ut)?ut:U.has(ut)?1:le(ut),X.set(me,Ve),Ve}return y.forEach(me=>{const Ve=le(me);1!==Ve&&_.get(Ve).push(me)}),_}const ir="$$classes";function Pn(B,y){if(B.classList)B.classList.add(y);else{let _=B[ir];_||(_=B[ir]={}),_[y]=!0}}function bi(B,y){if(B.classList)B.classList.remove(y);else{let _=B[ir];_&&delete _[y]}}function fs(B,y,_){te(_).onDone(()=>B.processLeaveNode(y))}function $o(B,y){for(let _=0;_<B.length;_++){const D=B[_];D instanceof z.ZE?$o(D.players,y):y.push(D)}}function ps(B,y,_){const D=_.get(B);if(!D)return!1;let U=y.get(B);return U?D.forEach(X=>U.add(X)):y.set(B,D),_.delete(B),!0}class Hs{constructor(y,_,D){this.bodyNode=y,this._driver=_,this._normalizer=D,this._triggerCache={},this.onRemovalComplete=(U,X)=>{},this._transitionEngine=new Qi(y,_,D),this._timelineEngine=new es(y,_,D),this._transitionEngine.onRemovalComplete=(U,X)=>this.onRemovalComplete(U,X)}registerTrigger(y,_,D,U,X){const le=y+"-"+U;let me=this._triggerCache[le];if(!me){const Ve=[],ut=We(this._driver,X,Ve);if(Ve.length)throw new Error(`The animation trigger "${U}" has failed to build due to the following errors:\n - ${Ve.join("\n - ")}`);me=function(B,y,_){return new un(B,y,_)}(U,ut,this._normalizer),this._triggerCache[le]=me}this._transitionEngine.registerTrigger(_,U,me)}register(y,_){this._transitionEngine.register(y,_)}destroy(y,_){this._transitionEngine.destroy(y,_)}onInsert(y,_,D,U){this._transitionEngine.insertNode(y,_,D,U)}onRemove(y,_,D,U){this._transitionEngine.removeNode(y,_,U||!1,D)}disableAnimations(y,_){this._transitionEngine.markElementAsDisabled(y,_)}process(y,_,D,U){if("@"==D.charAt(0)){const[X,le]=J(D);this._timelineEngine.command(X,_,le,U)}else this._transitionEngine.trigger(y,_,D,U)}listen(y,_,D,U,X){if("@"==D.charAt(0)){const[le,me]=J(D);return this._timelineEngine.listen(le,_,me,X)}return this._transitionEngine.listen(y,_,D,U,X)}flush(y=-1){this._transitionEngine.flush(y)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function ns(B,y){let _=null,D=null;return Array.isArray(y)&&y.length?(_=yo(y[0]),y.length>1&&(D=yo(y[y.length-1]))):y&&(_=yo(y)),_||D?new mo(B,_,D):null}class mo{constructor(y,_,D){this._element=y,this._startStyles=_,this._endStyles=D,this._state=0;let U=mo.initialStylesByElement.get(y);U||mo.initialStylesByElement.set(y,U={}),this._initialStyles=U}start(){this._state<1&&(this._startStyles&&ct(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ct(this._element,this._initialStyles),this._endStyles&&(ct(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(mo.initialStylesByElement.delete(this._element),this._startStyles&&(Qn(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Qn(this._element,this._endStyles),this._endStyles=null),ct(this._element,this._initialStyles),this._state=3)}}function yo(B){let y=null;const _=Object.keys(B);for(let D=0;D<_.length;D++){const U=_[D];no(U)&&(y=y||{},y[U]=B[U])}return y}function no(B){return"display"===B||"position"===B}mo.initialStylesByElement=new WeakMap;const Rs="animation",Ti="animationend";class ka{constructor(y,_,D,U,X,le,me){this._element=y,this._name=_,this._duration=D,this._delay=U,this._easing=X,this._fillMode=le,this._onDoneFn=me,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=Ve=>this._handleCallback(Ve)}apply(){(function(B,y){const _=ro(B,"").trim();let D=0;_.length&&(function(B,y){let _=0;for(let D=0;D<B.length;D++)","===B.charAt(D)&&_++;return _}(_)+1,y=`${_}, ${y}`),ri(B,"",y)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Ns(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){kn(this._element,this._name,"paused")}resume(){kn(this._element,this._name,"running")}setPosition(y){const _=ta(this._element,this._name);this._position=y*this._duration,ri(this._element,"Delay",`-${this._position}ms`,_)}getPosition(){return this._position}_handleCallback(y){const _=y._ngTestManualTimestamp||Date.now(),D=1e3*parseFloat(y.elapsedTime.toFixed(3));y.animationName==this._name&&Math.max(_-this._startTime,0)>=this._delay&&D>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Ns(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(B,y){const D=ro(B,"").split(","),U=xs(D,y);U>=0&&(D.splice(U,1),ri(B,"",D.join(",")))}(this._element,this._name))}}function kn(B,y,_){ri(B,"PlayState",_,ta(B,y))}function ta(B,y){const _=ro(B,"");return _.indexOf(",")>0?xs(_.split(","),y):xs([_],y)}function xs(B,y){for(let _=0;_<B.length;_++)if(B[_].indexOf(y)>=0)return _;return-1}function Ns(B,y,_){_?B.removeEventListener(Ti,y):B.addEventListener(Ti,y)}function ri(B,y,_,D){const U=Rs+y;if(null!=D){const X=B.style[U];if(X.length){const le=X.split(",");le[D]=_,_=le.join(",")}}B.style[U]=_}function ro(B,y){return B.style[Rs+y]||""}class gs{constructor(y,_,D,U,X,le,me,Ve){this.element=y,this.keyframes=_,this.animationName=D,this._duration=U,this._delay=X,this._finalStyles=me,this._specialStyles=Ve,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=le||"linear",this.totalTime=U+X,this._buildStyler()}onStart(y){this._onStartFns.push(y)}onDone(y){this._onDoneFns.push(y)}onDestroy(y){this._onDestroyFns.push(y)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(y=>y()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(y=>y()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(y=>y()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(y){this._styler.setPosition(y)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new ka(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(y){const _="start"==y?this._onStartFns:this._onDoneFns;_.forEach(D=>D()),_.length=0}beforeDestroy(){this.init();const y={};if(this.hasStarted()){const _=this._state>=3;Object.keys(this._finalStyles).forEach(D=>{"offset"!=D&&(y[D]=_?this._finalStyles[D]:Rt(this.element,D))})}this.currentSnapshot=y}}class Ci extends z.ZN{constructor(y,_){super(),this.element=y,this._startingStyles={},this.__initialized=!1,this._styles=Qt(_)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(y=>{this._startingStyles[y]=this.element.style[y]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(y=>this.element.style.setProperty(y,this._styles[y])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(y=>{const _=this._startingStyles[y];_?this.element.style.setProperty(y,_):this.element.style.removeProperty(y)}),this._startingStyles=null,super.destroy())}}class P{constructor(){this._count=0}validateStyleProperty(y){return kt(y)}matchesElement(y,_){return zt(y,_)}containsElement(y,_){return en(y,_)}query(y,_,D){return rn(y,_,D)}computeStyle(y,_,D){return window.getComputedStyle(y)[_]}buildKeyframeElement(y,_,D){D=D.map(me=>Qt(me));let U=`@keyframes ${_} {\n`,X="";D.forEach(me=>{X=" ";const Ve=parseFloat(me.offset);U+=`${X}${100*Ve}% {\n`,X+=" ",Object.keys(me).forEach(ut=>{const wt=me[ut];switch(ut){case"offset":return;case"easing":return void(wt&&(U+=`${X}animation-timing-function: ${wt};\n`));default:return void(U+=`${X}${ut}: ${wt};\n`)}}),U+=`${X}}\n`}),U+="}\n";const le=document.createElement("style");return le.textContent=U,le}animate(y,_,D,U,X,le=[],me){const Ve=le.filter(qn=>qn instanceof gs),ut={};$e(D,U)&&Ve.forEach(qn=>{let Dr=qn.currentSnapshot;Object.keys(Dr).forEach($r=>ut[$r]=Dr[$r])});const wt=function(B){let y={};return B&&(Array.isArray(B)?B:[B]).forEach(D=>{Object.keys(D).forEach(U=>{"offset"==U||"easing"==U||(y[U]=D[U])})}),y}(_=bt(y,_,ut));if(0==D)return new Ci(y,wt);const qt="gen_css_kf_"+this._count++,Mn=this.buildKeyframeElement(y,qt,_);(function(B){var y;const _=null===(y=B.getRootNode)||void 0===y?void 0:y.call(B);return"undefined"!=typeof ShadowRoot&&_ instanceof ShadowRoot?_:document.head})(y).appendChild(Mn);const pn=ns(y,_),Rn=new gs(y,_,qt,D,U,X,wt,pn);return Rn.onDestroy(()=>{var B;(B=Mn).parentNode.removeChild(B)}),Rn}}class Ln{constructor(y,_,D,U){this.element=y,this.keyframes=_,this.options=D,this._specialStyles=U,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=D.duration,this._delay=D.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(y=>y()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const y=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,y,this.options),this._finalKeyframe=y.length?y[y.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(y,_,D){return y.animate(_,D)}onStart(y){this._onStartFns.push(y)}onDone(y){this._onDoneFns.push(y)}onDestroy(y){this._onDestroyFns.push(y)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(y=>y()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(y=>y()),this._onDestroyFns=[])}setPosition(y){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=y*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const y={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(_=>{"offset"!=_&&(y[_]=this._finished?this._finalKeyframe[_]:Rt(this.element,_))}),this.currentSnapshot=y}triggerCallback(y){const _="start"==y?this._onStartFns:this._onDoneFns;_.forEach(D=>D()),_.length=0}}class Kn{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(On().toString()),this._cssKeyframesDriver=new P}validateStyleProperty(y){return kt(y)}matchesElement(y,_){return zt(y,_)}containsElement(y,_){return en(y,_)}query(y,_,D){return rn(y,_,D)}computeStyle(y,_,D){return window.getComputedStyle(y)[_]}overrideWebAnimationsSupport(y){this._isNativeImpl=y}animate(y,_,D,U,X,le=[],me){if(!me&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(y,_,D,U,X,le);const wt={duration:D,delay:U,fill:0==U?"both":"forwards"};X&&(wt.easing=X);const qt={},Mn=le.filter(pn=>pn instanceof Ln);$e(D,U)&&Mn.forEach(pn=>{let Rn=pn.currentSnapshot;Object.keys(Rn).forEach(qn=>qt[qn]=Rn[qn])});const Gn=ns(y,_=bt(y,_=_.map(pn=>rr(pn,!1)),qt));return new Ln(y,_,wt,Gn)}}function On(){return be()&&Element.prototype.animate||{}}var sr=F(6274);let Er=(()=>{class B extends z._j{constructor(_,D){super(),this._nextAnimationId=0,this._renderer=_.createRenderer(D.body,{id:"0",encapsulation:w.ViewEncapsulation.None,styles:[],data:{animation:[]}})}build(_){const D=this._nextAnimationId.toString();this._nextAnimationId++;const U=Array.isArray(_)?(0,z.vP)(_):_;return Cr(this._renderer,null,D,"register",[U]),new ei(D,this._renderer)}}return B.\u0275fac=function(_){return new(_||B)(w.\u0275\u0275inject(w.RendererFactory2),w.\u0275\u0275inject(sr.K0))},B.\u0275prov=w.\u0275\u0275defineInjectable({token:B,factory:B.\u0275fac}),B})();class ei extends z.LC{constructor(y,_){super(),this._id=y,this._renderer=_}create(y,_){return new ms(this._id,y,_||{},this._renderer)}}class ms{constructor(y,_,D,U){this.id=y,this.element=_,this._renderer=U,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",D)}_listen(y,_){return this._renderer.listen(this.element,`@@${this.id}:${y}`,_)}_command(y,..._){return Cr(this._renderer,this.element,this.id,y,_)}onDone(y){this._listen("done",y)}onStart(y){this._listen("start",y)}onDestroy(y){this._listen("destroy",y)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(y){this._command("setPosition",y)}getPosition(){var y,_;return null!==(_=null===(y=this._renderer.engine.players[+this.id])||void 0===y?void 0:y.getPosition())&&void 0!==_?_:0}}function Cr(B,y,_,D,U){return B.setProperty(y,`@@${_}:${D}`,U)}const _s="@.disabled";let vn=(()=>{class B{constructor(_,D,U){this.delegate=_,this.engine=D,this._zone=U,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),D.onRemovalComplete=(X,le)=>{le&&le.parentNode(X)&&le.removeChild(X.parentNode,X)}}createRenderer(_,D){const X=this.delegate.createRenderer(_,D);if(!(_&&D&&D.data&&D.data.animation)){let wt=this._rendererCache.get(X);return wt||(wt=new cs("",X,this.engine),this._rendererCache.set(X,wt)),wt}const le=D.id,me=D.id+"-"+this._currentId;this._currentId++,this.engine.register(me,_);const Ve=wt=>{Array.isArray(wt)?wt.forEach(Ve):this.engine.registerTrigger(le,me,_,wt.name,wt)};return D.data.animation.forEach(Ve),new xo(this,me,X,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(_,D,U){_>=0&&_<this._microtaskId?this._zone.run(()=>D(U)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(X=>{const[le,me]=X;le(me)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([D,U]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return B.\u0275fac=function(_){return new(_||B)(w.\u0275\u0275inject(w.RendererFactory2),w.\u0275\u0275inject(Hs),w.\u0275\u0275inject(w.NgZone))},B.\u0275prov=w.\u0275\u0275defineInjectable({token:B,factory:B.\u0275fac}),B})();class cs{constructor(y,_,D){this.namespaceId=y,this.delegate=_,this.engine=D,this.destroyNode=this.delegate.destroyNode?U=>_.destroyNode(U):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(y,_){return this.delegate.createElement(y,_)}createComment(y){return this.delegate.createComment(y)}createText(y){return this.delegate.createText(y)}appendChild(y,_){this.delegate.appendChild(y,_),this.engine.onInsert(this.namespaceId,_,y,!1)}insertBefore(y,_,D,U=!0){this.delegate.insertBefore(y,_,D),this.engine.onInsert(this.namespaceId,_,y,U)}removeChild(y,_,D){this.engine.onRemove(this.namespaceId,_,this.delegate,D)}selectRootElement(y,_){return this.delegate.selectRootElement(y,_)}parentNode(y){return this.delegate.parentNode(y)}nextSibling(y){return this.delegate.nextSibling(y)}setAttribute(y,_,D,U){this.delegate.setAttribute(y,_,D,U)}removeAttribute(y,_,D){this.delegate.removeAttribute(y,_,D)}addClass(y,_){this.delegate.addClass(y,_)}removeClass(y,_){this.delegate.removeClass(y,_)}setStyle(y,_,D,U){this.delegate.setStyle(y,_,D,U)}removeStyle(y,_,D){this.delegate.removeStyle(y,_,D)}setProperty(y,_,D){"@"==_.charAt(0)&&_==_s?this.disableAnimations(y,!!D):this.delegate.setProperty(y,_,D)}setValue(y,_){this.delegate.setValue(y,_)}listen(y,_,D){return this.delegate.listen(y,_,D)}disableAnimations(y,_){this.engine.disableAnimations(y,_)}}class xo extends cs{constructor(y,_,D,U){super(_,D,U),this.factory=y,this.namespaceId=_}setProperty(y,_,D){"@"==_.charAt(0)?"."==_.charAt(1)&&_==_s?this.disableAnimations(y,D=void 0===D||!!D):this.engine.process(this.namespaceId,y,_.substr(1),D):this.delegate.setProperty(y,_,D)}listen(y,_,D){if("@"==_.charAt(0)){const U=function(B){switch(B){case"body":return document.body;case"document":return document;case"window":return window;default:return B}}(y);let X=_.substr(1),le="";return"@"!=X.charAt(0)&&([X,le]=function(B){const y=B.indexOf(".");return[B.substring(0,y),B.substr(y+1)]}(X)),this.engine.listen(this.namespaceId,U,X,le,me=>{this.factory.scheduleListenerCallback(me._data||-1,D,me)})}return this.delegate.listen(y,_,D)}}let io=(()=>{class B extends Hs{constructor(_,D,U){super(_.body,D,U)}ngOnDestroy(){this.flush()}}return B.\u0275fac=function(_){return new(_||B)(w.\u0275\u0275inject(sr.K0),w.\u0275\u0275inject(Ft),w.\u0275\u0275inject(ji))},B.\u0275prov=w.\u0275\u0275defineInjectable({token:B,factory:B.\u0275fac}),B})();const $n=new w.InjectionToken("AnimationModuleType"),Da=[{provide:z._j,useClass:Er},{provide:ji,useFactory:function(){return new si}},{provide:Hs,useClass:io},{provide:w.RendererFactory2,useFactory:function(B,y,_){return new vn(B,y,_)},deps:[L.se,Hs,w.NgZone]}],Jr=[{provide:Ft,useFactory:function(){return"function"==typeof On()?new Kn:new P}},{provide:$n,useValue:"BrowserAnimations"},...Da],Po=[{provide:Ft,useClass:Ht},{provide:$n,useValue:"NoopAnimations"},...Da];let Oo=(()=>{class B{static withConfig(_){return{ngModule:B,providers:_.disableAnimations?Po:Jr}}}return B.\u0275fac=function(_){return new(_||B)},B.\u0275mod=w.\u0275\u0275defineNgModule({type:B}),B.\u0275inj=w.\u0275\u0275defineInjector({providers:Jr,imports:[L.b2]}),B})()},3220:(Mt,Be,F)=>{"use strict";F.d(Be,{b2:()=>xr,H7:()=>we,q6:()=>jr,se:()=>Yt});var w=F(6274),L=F(2741);class z extends w.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class be extends z{static makeCurrent(){(0,w.HT)(new be)}onAndCancel(Ee,se,He){return Ee.addEventListener(se,He,!1),()=>{Ee.removeEventListener(se,He,!1)}}dispatchEvent(Ee,se){Ee.dispatchEvent(se)}remove(Ee){Ee.parentNode&&Ee.parentNode.removeChild(Ee)}createElement(Ee,se){return(se=se||this.getDefaultDocument()).createElement(Ee)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Ee){return Ee.nodeType===Node.ELEMENT_NODE}isShadowRoot(Ee){return Ee instanceof DocumentFragment}getGlobalEventTarget(Ee,se){return"window"===se?window:"document"===se?Ee:"body"===se?Ee.body:null}getBaseHref(Ee){const se=(oe=oe||document.querySelector("base"),oe?oe.getAttribute("href"):null);return null==se?null:function(Oe){De=De||document.createElement("a"),De.setAttribute("href",Oe);const Ee=De.pathname;return"/"===Ee.charAt(0)?Ee:`/${Ee}`}(se)}resetBaseElement(){oe=null}getUserAgent(){return window.navigator.userAgent}getCookie(Ee){return(0,w.Mx)(document.cookie,Ee)}}let De,oe=null;const Te=new L.InjectionToken("TRANSITION_ID"),ne=[{provide:L.APP_INITIALIZER,useFactory:function(Oe,Ee,se){return()=>{se.get(L.ApplicationInitStatus).donePromise.then(()=>{const He=(0,w.q)(),it=Ee.querySelectorAll(`style[ng-transition="${Oe}"]`);for(let un=0;un<it.length;un++)He.remove(it[un])})}},deps:[Te,w.K0,L.Injector],multi:!0}];class J{static init(){(0,L.setTestabilityGetter)(new J)}addToWindow(Ee){L.\u0275global.getAngularTestability=(He,it=!0)=>{const un=Ee.findTestabilityInTree(He,it);if(null==un)throw new Error("Could not find testability for element.");return un},L.\u0275global.getAllAngularTestabilities=()=>Ee.getAllTestabilities(),L.\u0275global.getAllAngularRootElements=()=>Ee.getAllRootElements(),L.\u0275global.frameworkStabilizers||(L.\u0275global.frameworkStabilizers=[]),L.\u0275global.frameworkStabilizers.push(He=>{const it=L.\u0275global.getAllAngularTestabilities();let un=it.length,bn=!1;const Hn=function(ln){bn=bn||ln,un--,0==un&&He(bn)};it.forEach(function(ln){ln.whenStable(Hn)})})}findTestabilityInTree(Ee,se,He){if(null==se)return null;const it=Ee.getTestability(se);return null!=it?it:He?(0,w.q)().isShadowRoot(se)?this.findTestabilityInTree(Ee,se.host,!0):this.findTestabilityInTree(Ee,se.parentElement,!0):null}}let ve=(()=>{class Oe{build(){return new XMLHttpRequest}}return Oe.\u0275fac=function(se){return new(se||Oe)},Oe.\u0275prov=L.\u0275\u0275defineInjectable({token:Oe,factory:Oe.\u0275fac}),Oe})();const Ht=new L.InjectionToken("EventManagerPlugins");let Ft=(()=>{class Oe{constructor(se,He){this._zone=He,this._eventNameToPlugin=new Map,se.forEach(it=>it.manager=this),this._plugins=se.slice().reverse()}addEventListener(se,He,it){return this._findPluginFor(He).addEventListener(se,He,it)}addGlobalEventListener(se,He,it){return this._findPluginFor(He).addGlobalEventListener(se,He,it)}getZone(){return this._zone}_findPluginFor(se){const He=this._eventNameToPlugin.get(se);if(He)return He;const it=this._plugins;for(let un=0;un<it.length;un++){const bn=it[un];if(bn.supports(se))return this._eventNameToPlugin.set(se,bn),bn}throw new Error(`No event manager plugin found for event ${se}`)}}return Oe.\u0275fac=function(se){return new(se||Oe)(L.\u0275\u0275inject(Ht),L.\u0275\u0275inject(L.NgZone))},Oe.\u0275prov=L.\u0275\u0275defineInjectable({token:Oe,factory:Oe.\u0275fac}),Oe})();class In{constructor(Ee){this._doc=Ee}addGlobalEventListener(Ee,se,He){const it=(0,w.q)().getGlobalEventTarget(this._doc,Ee);if(!it)throw new Error(`Unsupported event target ${it} for event ${se}`);return this.addEventListener(it,se,He)}}let ft=(()=>{class Oe{constructor(){this._stylesSet=new Set}addStyles(se){const He=new Set;se.forEach(it=>{this._stylesSet.has(it)||(this._stylesSet.add(it),He.add(it))}),this.onStylesAdded(He)}onStylesAdded(se){}getAllStyles(){return Array.from(this._stylesSet)}}return Oe.\u0275fac=function(se){return new(se||Oe)},Oe.\u0275prov=L.\u0275\u0275defineInjectable({token:Oe,factory:Oe.\u0275fac}),Oe})(),yr=(()=>{class Oe extends ft{constructor(se){super(),this._doc=se,this._hostNodes=new Map,this._hostNodes.set(se.head,[])}_addStylesToHost(se,He,it){se.forEach(un=>{const bn=this._doc.createElement("style");bn.textContent=un,it.push(He.appendChild(bn))})}addHost(se){const He=[];this._addStylesToHost(this._stylesSet,se,He),this._hostNodes.set(se,He)}removeHost(se){const He=this._hostNodes.get(se);He&&He.forEach(Zn),this._hostNodes.delete(se)}onStylesAdded(se){this._hostNodes.forEach((He,it)=>{this._addStylesToHost(se,it,He)})}ngOnDestroy(){this._hostNodes.forEach(se=>se.forEach(Zn))}}return Oe.\u0275fac=function(se){return new(se||Oe)(L.\u0275\u0275inject(w.K0))},Oe.\u0275prov=L.\u0275\u0275defineInjectable({token:Oe,factory:Oe.\u0275fac}),Oe})();function Zn(Oe){(0,w.q)().remove(Oe)}const Rr={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},pi=/%COMP%/g;function hn(Oe,Ee,se){for(let He=0;He<Ee.length;He++){let it=Ee[He];Array.isArray(it)?hn(Oe,it,se):(it=it.replace(pi,Oe),se.push(it))}return se}function Ut(Oe){return Ee=>{if("__ngUnwrap__"===Ee)return Oe;!1===Oe(Ee)&&(Ee.preventDefault(),Ee.returnValue=!1)}}let Yt=(()=>{class Oe{constructor(se,He,it){this.eventManager=se,this.sharedStylesHost=He,this.appId=it,this.rendererByCompId=new Map,this.defaultRenderer=new mn(se)}createRenderer(se,He){if(!se||!He)return this.defaultRenderer;switch(He.encapsulation){case L.ViewEncapsulation.Emulated:{let it=this.rendererByCompId.get(He.id);return it||(it=new ct(this.eventManager,this.sharedStylesHost,He,this.appId),this.rendererByCompId.set(He.id,it)),it.applyToHost(se),it}case 1:case L.ViewEncapsulation.ShadowDom:return new Qn(this.eventManager,this.sharedStylesHost,se,He);default:if(!this.rendererByCompId.has(He.id)){const it=hn(He.id,He.styles,[]);this.sharedStylesHost.addStyles(it),this.rendererByCompId.set(He.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Oe.\u0275fac=function(se){return new(se||Oe)(L.\u0275\u0275inject(Ft),L.\u0275\u0275inject(yr),L.\u0275\u0275inject(L.APP_ID))},Oe.\u0275prov=L.\u0275\u0275defineInjectable({token:Oe,factory:Oe.\u0275fac}),Oe})();class mn{constructor(Ee){this.eventManager=Ee,this.data=Object.create(null)}destroy(){}createElement(Ee,se){return se?document.createElementNS(Rr[se]||se,Ee):document.createElement(Ee)}createComment(Ee){return document.createComment(Ee)}createText(Ee){return document.createTextNode(Ee)}appendChild(Ee,se){Ee.appendChild(se)}insertBefore(Ee,se,He){Ee&&Ee.insertBefore(se,He)}removeChild(Ee,se){Ee&&Ee.removeChild(se)}selectRootElement(Ee,se){let He="string"==typeof Ee?document.querySelector(Ee):Ee;if(!He)throw new Error(`The selector "${Ee}" did not match any elements`);return se||(He.textContent=""),He}parentNode(Ee){return Ee.parentNode}nextSibling(Ee){return Ee.nextSibling}setAttribute(Ee,se,He,it){if(it){se=it+":"+se;const un=Rr[it];un?Ee.setAttributeNS(un,se,He):Ee.setAttribute(se,He)}else Ee.setAttribute(se,He)}removeAttribute(Ee,se,He){if(He){const it=Rr[He];it?Ee.removeAttributeNS(it,se):Ee.removeAttribute(`${He}:${se}`)}else Ee.removeAttribute(se)}addClass(Ee,se){Ee.classList.add(se)}removeClass(Ee,se){Ee.classList.remove(se)}setStyle(Ee,se,He,it){it&(L.RendererStyleFlags2.DashCase|L.RendererStyleFlags2.Important)?Ee.style.setProperty(se,He,it&L.RendererStyleFlags2.Important?"important":""):Ee.style[se]=He}removeStyle(Ee,se,He){He&L.RendererStyleFlags2.DashCase?Ee.style.removeProperty(se):Ee.style[se]=""}setProperty(Ee,se,He){Ee[se]=He}setValue(Ee,se){Ee.nodeValue=se}listen(Ee,se,He){return"string"==typeof Ee?this.eventManager.addGlobalEventListener(Ee,se,Ut(He)):this.eventManager.addEventListener(Ee,se,Ut(He))}}class ct extends mn{constructor(Ee,se,He,it){super(Ee),this.component=He;const un=hn(it+"-"+He.id,He.styles,[]);se.addStyles(un),this.contentAttr="_ngcontent-%COMP%".replace(pi,it+"-"+He.id),this.hostAttr="_nghost-%COMP%".replace(pi,it+"-"+He.id)}applyToHost(Ee){super.setAttribute(Ee,this.hostAttr,"")}createElement(Ee,se){const He=super.createElement(Ee,se);return super.setAttribute(He,this.contentAttr,""),He}}class Qn extends mn{constructor(Ee,se,He,it){super(Ee),this.sharedStylesHost=se,this.hostEl=He,this.shadowRoot=He.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const un=hn(it.id,it.styles,[]);for(let bn=0;bn<un.length;bn++){const Hn=document.createElement("style");Hn.textContent=un[bn],this.shadowRoot.appendChild(Hn)}}nodeOrShadowRoot(Ee){return Ee===this.hostEl?this.shadowRoot:Ee}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(Ee,se){return super.appendChild(this.nodeOrShadowRoot(Ee),se)}insertBefore(Ee,se,He){return super.insertBefore(this.nodeOrShadowRoot(Ee),se,He)}removeChild(Ee,se){return super.removeChild(this.nodeOrShadowRoot(Ee),se)}parentNode(Ee){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Ee)))}}let Yn=(()=>{class Oe extends In{constructor(se){super(se)}supports(se){return!0}addEventListener(se,He,it){return se.addEventListener(He,it,!1),()=>this.removeEventListener(se,He,it)}removeEventListener(se,He,it){return se.removeEventListener(He,it)}}return Oe.\u0275fac=function(se){return new(se||Oe)(L.\u0275\u0275inject(w.K0))},Oe.\u0275prov=L.\u0275\u0275defineInjectable({token:Oe,factory:Oe.\u0275fac}),Oe})();const bt=["alt","control","meta","shift"],Rt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},yn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},An={alt:Oe=>Oe.altKey,control:Oe=>Oe.ctrlKey,meta:Oe=>Oe.metaKey,shift:Oe=>Oe.shiftKey};let pe=(()=>{class Oe extends In{constructor(se){super(se)}supports(se){return null!=Oe.parseEventName(se)}addEventListener(se,He,it){const un=Oe.parseEventName(He),bn=Oe.eventCallback(un.fullKey,it,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,w.q)().onAndCancel(se,un.domEventName,bn))}static parseEventName(se){const He=se.toLowerCase().split("."),it=He.shift();if(0===He.length||"keydown"!==it&&"keyup"!==it)return null;const un=Oe._normalizeKey(He.pop());let bn="";if(bt.forEach(ln=>{const es=He.indexOf(ln);es>-1&&(He.splice(es,1),bn+=ln+".")}),bn+=un,0!=He.length||0===un.length)return null;const Hn={};return Hn.domEventName=it,Hn.fullKey=bn,Hn}static getEventFullKey(se){let He="",it=function(Oe){let Ee=Oe.key;if(null==Ee){if(Ee=Oe.keyIdentifier,null==Ee)return"Unidentified";Ee.startsWith("U+")&&(Ee=String.fromCharCode(parseInt(Ee.substring(2),16)),3===Oe.location&&yn.hasOwnProperty(Ee)&&(Ee=yn[Ee]))}return Rt[Ee]||Ee}(se);return it=it.toLowerCase()," "===it?it="space":"."===it&&(it="dot"),bt.forEach(un=>{un!=it&&An[un](se)&&(He+=un+".")}),He+=it,He}static eventCallback(se,He,it){return un=>{Oe.getEventFullKey(un)===se&&it.runGuarded(()=>He(un))}}static _normalizeKey(se){switch(se){case"esc":return"escape";default:return se}}}return Oe.\u0275fac=function(se){return new(se||Oe)(L.\u0275\u0275inject(w.K0))},Oe.\u0275prov=L.\u0275\u0275defineInjectable({token:Oe,factory:Oe.\u0275fac}),Oe})(),we=(()=>{class Oe{}return Oe.\u0275fac=function(se){return new(se||Oe)},Oe.\u0275prov=(0,L.\u0275\u0275defineInjectable)({factory:function(){return(0,L.\u0275\u0275inject)(Fe)},token:Oe,providedIn:"root"}),Oe})(),Fe=(()=>{class Oe extends we{constructor(se){super(),this._doc=se}sanitize(se,He){if(null==He)return null;switch(se){case L.SecurityContext.NONE:return He;case L.SecurityContext.HTML:return(0,L.\u0275allowSanitizationBypassAndThrow)(He,"HTML")?(0,L.\u0275unwrapSafeValue)(He):(0,L.\u0275_sanitizeHtml)(this._doc,String(He)).toString();case L.SecurityContext.STYLE:return(0,L.\u0275allowSanitizationBypassAndThrow)(He,"Style")?(0,L.\u0275unwrapSafeValue)(He):He;case L.SecurityContext.SCRIPT:if((0,L.\u0275allowSanitizationBypassAndThrow)(He,"Script"))return(0,L.\u0275unwrapSafeValue)(He);throw new Error("unsafe value used in a script context");case L.SecurityContext.URL:return(0,L.\u0275getSanitizationBypassType)(He),(0,L.\u0275allowSanitizationBypassAndThrow)(He,"URL")?(0,L.\u0275unwrapSafeValue)(He):(0,L.\u0275_sanitizeUrl)(String(He));case L.SecurityContext.RESOURCE_URL:if((0,L.\u0275allowSanitizationBypassAndThrow)(He,"ResourceURL"))return(0,L.\u0275unwrapSafeValue)(He);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${se} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(se){return(0,L.\u0275bypassSanitizationTrustHtml)(se)}bypassSecurityTrustStyle(se){return(0,L.\u0275bypassSanitizationTrustStyle)(se)}bypassSecurityTrustScript(se){return(0,L.\u0275bypassSanitizationTrustScript)(se)}bypassSecurityTrustUrl(se){return(0,L.\u0275bypassSanitizationTrustUrl)(se)}bypassSecurityTrustResourceUrl(se){return(0,L.\u0275bypassSanitizationTrustResourceUrl)(se)}}return Oe.\u0275fac=function(se){return new(se||Oe)(L.\u0275\u0275inject(w.K0))},Oe.\u0275prov=(0,L.\u0275\u0275defineInjectable)({factory:function(){return function(Oe){return new Fe(Oe.get(w.K0))}((0,L.\u0275\u0275inject)(L.INJECTOR))},token:Oe,providedIn:"root"}),Oe})();const jr=(0,L.createPlatformFactory)(L.platformCore,"browser",[{provide:L.PLATFORM_ID,useValue:w.bD},{provide:L.PLATFORM_INITIALIZER,useValue:function(){be.makeCurrent(),J.init()},multi:!0},{provide:w.K0,useFactory:function(){return(0,L.\u0275setDocument)(document),document},deps:[]}]),Wr=[[],{provide:L.\u0275INJECTOR_SCOPE,useValue:"root"},{provide:L.ErrorHandler,useFactory:function(){return new L.ErrorHandler},deps:[]},{provide:Ht,useClass:Yn,multi:!0,deps:[w.K0,L.NgZone,L.PLATFORM_ID]},{provide:Ht,useClass:pe,multi:!0,deps:[w.K0]},[],{provide:Yt,useClass:Yt,deps:[Ft,yr,L.APP_ID]},{provide:L.RendererFactory2,useExisting:Yt},{provide:ft,useExisting:yr},{provide:yr,useClass:yr,deps:[w.K0]},{provide:L.Testability,useClass:L.Testability,deps:[L.NgZone]},{provide:Ft,useClass:Ft,deps:[Ht,L.NgZone]},{provide:w.JF,useClass:ve,deps:[]},[]];let xr=(()=>{class Oe{constructor(se){if(se)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(se){return{ngModule:Oe,providers:[{provide:L.APP_ID,useValue:se.appId},{provide:Te,useExisting:L.APP_ID},ne]}}}return Oe.\u0275fac=function(se){return new(se||Oe)(L.\u0275\u0275inject(Oe,12))},Oe.\u0275mod=L.\u0275\u0275defineNgModule({type:Oe}),Oe.\u0275inj=L.\u0275\u0275defineInjector({providers:Wr,imports:[w.ez,L.ApplicationModule]}),Oe})();"undefined"!=typeof window&&window},8718:(Mt,Be,F)=>{"use strict";F.d(Be,{gz:()=>ni,F0:()=>Or,rH:()=>is,yS:()=>Ks,Bz:()=>gt,lC:()=>Ws});var w=F(6274),L=F(2741),z=F(7204),be=F(9622),oe=F(2167),te=F(5348),De=F(6431);const ee={};class Q{constructor(b){this.resultSelector=b}call(b,E){return E.subscribe(new ne(b,this.resultSelector))}}class ne extends oe.L{constructor(b,E){super(b),this.resultSelector=E,this.active=0,this.values=[],this.observables=[]}_next(b){this.values.push(ee),this.observables.push(b)}_complete(){const b=this.observables,E=b.length;if(0===E)this.destination.complete();else{this.active=E,this.toRespond=E;for(let x=0;x<E;x++){const M=b[x];this.add((0,te.D)(this,M,M,x))}}}notifyComplete(b){0==(this.active-=1)&&this.destination.complete()}notifyNext(b,E,x,M,W){const ce=this.values,ot=this.toRespond?ce[x]===ee?--this.toRespond:this.toRespond:0;ce[x]=E,0===ot&&(this.resultSelector?this._tryResultSelector(ce):this.destination.next(ce.slice()))}_tryResultSelector(b){let E;try{E=this.resultSelector.apply(this,b)}catch(x){return void this.destination.error(x)}this.destination.next(E)}}var J=F(3948),ve=F(2850),Ge=F(3974);function st(C){return new J.y(b=>{let E;try{E=C()}catch(M){return void b.error(M)}return(E?(0,ve.D)(E):(0,Ge.c)()).subscribe(b)})}var ke=F(267),Ke=F(9923),Pe=F(6507),Ne=F(8895),Ie=F(955),je=F(6006),Xe=F(3305),kt=F(8744),cn=F(9862);function zt(C){return function(E){return 0===C?(0,Ge.c)():E.lift(new en(C))}}class en{constructor(b){if(this.total=b,this.total<0)throw new cn.W}call(b,E){return E.subscribe(new rn(b,this.total))}}class rn extends kt.L{constructor(b,E){super(b),this.total=E,this.ring=new Array,this.count=0}_next(b){const E=this.ring,x=this.total,M=this.count++;E.length<x?E.push(b):E[M%x]=b}_complete(){const b=this.destination;let E=this.count;if(E>0){const x=this.count>=this.total?this.total:this.count,M=this.ring;for(let W=0;W<x;W++){const ce=E++%x;b.next(M[ce])}}b.complete()}}var Qt=F(3369),Ht=F(395),Ft=F(7846),ft=F(8561),yr=F(2812),Zn=F(9917),Rr=F(3543),pi=F(1310),Ot=F(367),It=F(3748),Kt=F(3987),Cn=F(6513),Bt=F(6286),Wt=F(5290),hn=F(7813),Ut=F(4540);class Dn{constructor(b,E){this.id=b,this.url=E}}class Yt extends Dn{constructor(b,E,x="imperative",M=null){super(b,E),this.navigationTrigger=x,this.restoredState=M}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class mn extends Dn{constructor(b,E,x){super(b,E),this.urlAfterRedirects=x}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class rr extends Dn{constructor(b,E,x){super(b,E),this.reason=x}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class br extends Dn{constructor(b,E,x){super(b,E),this.error=x}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class cr extends Dn{constructor(b,E,x,M){super(b,E),this.urlAfterRedirects=x,this.state=M}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ct extends Dn{constructor(b,E,x,M){super(b,E),this.urlAfterRedirects=x,this.state=M}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qn extends Dn{constructor(b,E,x,M,W){super(b,E),this.urlAfterRedirects=x,this.state=M,this.shouldActivate=W}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Yn extends Dn{constructor(b,E,x,M){super(b,E),this.urlAfterRedirects=x,this.state=M}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Nt extends Dn{constructor(b,E,x,M){super(b,E),this.urlAfterRedirects=x,this.state=M}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Sn{constructor(b){this.route=b}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class _r{constructor(b){this.route=b}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Vn{constructor(b){this.snapshot=b}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Le{constructor(b){this.snapshot=b}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ae{constructor(b){this.snapshot=b}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class de{constructor(b){this.snapshot=b}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Je{constructor(b,E,x){this.routerEvent=b,this.position=E,this.anchor=x}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const $e="primary";class bt{constructor(b){this.params=b||{}}has(b){return Object.prototype.hasOwnProperty.call(this.params,b)}get(b){if(this.has(b)){const E=this.params[b];return Array.isArray(E)?E[0]:E}return null}getAll(b){if(this.has(b)){const E=this.params[b];return Array.isArray(E)?E:[E]}return[]}get keys(){return Object.keys(this.params)}}function at(C){return new bt(C)}const Rt="ngNavigationCancelingError";function yn(C){const b=Error("NavigationCancelingError: "+C);return b[Rt]=!0,b}function Nn(C,b,E){const x=E.path.split("/");if(x.length>C.length||"full"===E.pathMatch&&(b.hasChildren()||x.length<C.length))return null;const M={};for(let W=0;W<x.length;W++){const ce=x[W],Ae=C[W];if(ce.startsWith(":"))M[ce.substring(1)]=Ae;else if(ce!==Ae.path)return null}return{consumed:C.slice(0,x.length),posParams:M}}function Bn(C,b){const E=C?Object.keys(C):void 0,x=b?Object.keys(b):void 0;if(!E||!x||E.length!=x.length)return!1;let M;for(let W=0;W<E.length;W++)if(M=E[W],!An(C[M],b[M]))return!1;return!0}function An(C,b){if(Array.isArray(C)&&Array.isArray(b)){if(C.length!==b.length)return!1;const E=[...C].sort(),x=[...b].sort();return E.every((M,W)=>x[W]===M)}return C===b}function pe(C){return Array.prototype.concat.apply([],C)}function ue(C){return C.length>0?C[C.length-1]:null}function We(C,b){for(const E in C)C.hasOwnProperty(E)&&b(C[E],E)}function Fe(C){return(0,L.\u0275isObservable)(C)?C:(0,L.\u0275isPromise)(C)?(0,ve.D)(Promise.resolve(C)):(0,ke.of)(C)}const H={exact:function fn(C,b,E){if(!zr(C.segments,b.segments)||!Wr(C.segments,b.segments,E)||C.numberOfChildren!==b.numberOfChildren)return!1;for(const x in b.children)if(!C.children[x]||!fn(C.children[x],b.children[x],E))return!1;return!0},subset:_n},ie={exact:function(C,b){return Bn(C,b)},subset:function(C,b){return Object.keys(b).length<=Object.keys(C).length&&Object.keys(b).every(E=>An(C[E],b[E]))},ignored:()=>!0};function Ze(C,b,E){return H[E.paths](C.root,b.root,E.matrixParams)&&ie[E.queryParams](C.queryParams,b.queryParams)&&!("exact"===E.fragment&&C.fragment!==b.fragment)}function _n(C,b,E){return jr(C,b,b.segments,E)}function jr(C,b,E,x){if(C.segments.length>E.length){const M=C.segments.slice(0,E.length);return!(!zr(M,E)||b.hasChildren()||!Wr(M,E,x))}if(C.segments.length===E.length){if(!zr(C.segments,E)||!Wr(C.segments,E,x))return!1;for(const M in b.children)if(!C.children[M]||!_n(C.children[M],b.children[M],x))return!1;return!0}{const M=E.slice(0,C.segments.length),W=E.slice(C.segments.length);return!!(zr(C.segments,M)&&Wr(C.segments,M,x)&&C.children[$e])&&jr(C.children[$e],b,W,x)}}function Wr(C,b,E){return b.every((x,M)=>ie[E](C[M].parameters,x.parameters))}class xr{constructor(b,E,x){this.root=b,this.queryParams=E,this.fragment=x}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=at(this.queryParams)),this._queryParamMap}toString(){return Yr.serialize(this)}}class Un{constructor(b,E){this.segments=b,this.children=E,this.parent=null,We(E,(x,M)=>x.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Br(this)}}class gi{constructor(b,E){this.path=b,this.parameters=E}get parameterMap(){return this._parameterMap||(this._parameterMap=at(this.parameters)),this._parameterMap}toString(){return si(this)}}function zr(C,b){return C.length===b.length&&C.every((E,x)=>E.path===b[x].path)}class fr{}class mi{parse(b){const E=new it(b);return new xr(E.parseRootSegment(),E.parseQueryParams(),E.parseFragment())}serialize(b){var C;return`${`/${ar(b.root,!0)}`}${function(C){const b=Object.keys(C).map(E=>{const x=C[E];return Array.isArray(x)?x.map(M=>`${wn(E)}=${wn(M)}`).join("&"):`${wn(E)}=${wn(x)}`}).filter(E=>!!E);return b.length?`?${b.join("&")}`:""}(b.queryParams)}${"string"==typeof b.fragment?`#${C=b.fragment,encodeURI(C)}`:""}`}}const Yr=new mi;function Br(C){return C.segments.map(b=>si(b)).join("/")}function ar(C,b){if(!C.hasChildren())return Br(C);if(b){const E=C.children[$e]?ar(C.children[$e],!1):"",x=[];return We(C.children,(M,W)=>{W!==$e&&x.push(`${W}:${ar(M,!1)}`)}),x.length>0?`${E}(${x.join("//")})`:E}{const E=function(C,b){let E=[];return We(C.children,(x,M)=>{M===$e&&(E=E.concat(b(x,M)))}),We(C.children,(x,M)=>{M!==$e&&(E=E.concat(b(x,M)))}),E}(C,(x,M)=>M===$e?[ar(C.children[$e],!1)]:[`${M}:${ar(x,!1)}`]);return 1===Object.keys(C.children).length&&null!=C.children[$e]?`${Br(C)}/${E[0]}`:`${Br(C)}/(${E.join("//")})`}}function At(C){return encodeURIComponent(C).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wn(C){return At(C).replace(/%3B/gi,";")}function ti(C){return At(C).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ji(C){return decodeURIComponent(C)}function Tr(C){return ji(C.replace(/\+/g,"%20"))}function si(C){return`${ti(C.path)}${function(C){return Object.keys(C).map(b=>`;${ti(b)}=${ti(C[b])}`).join("")}(C.parameters)}`}const Zi=/^[^\/()?;=#]+/;function dn(C){const b=C.match(Zi);return b?b[0]:""}const Oe=/^[^=?&#]+/,se=/^[^?&#]+/;class it{constructor(b){this.url=b,this.remaining=b}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Un([],{}):new Un([],this.parseChildren())}parseQueryParams(){const b={};if(this.consumeOptional("?"))do{this.parseQueryParam(b)}while(this.consumeOptional("&"));return b}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const b=[];for(this.peekStartsWith("(")||b.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),b.push(this.parseSegment());let E={};this.peekStartsWith("/(")&&(this.capture("/"),E=this.parseParens(!0));let x={};return this.peekStartsWith("(")&&(x=this.parseParens(!1)),(b.length>0||Object.keys(E).length>0)&&(x[$e]=new Un(b,E)),x}parseSegment(){const b=dn(this.remaining);if(""===b&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(b),new gi(ji(b),this.parseMatrixParams())}parseMatrixParams(){const b={};for(;this.consumeOptional(";");)this.parseParam(b);return b}parseParam(b){const E=dn(this.remaining);if(!E)return;this.capture(E);let x="";if(this.consumeOptional("=")){const M=dn(this.remaining);M&&(x=M,this.capture(x))}b[ji(E)]=ji(x)}parseQueryParam(b){const E=function(C){const b=C.match(Oe);return b?b[0]:""}(this.remaining);if(!E)return;this.capture(E);let x="";if(this.consumeOptional("=")){const ce=function(C){const b=C.match(se);return b?b[0]:""}(this.remaining);ce&&(x=ce,this.capture(x))}const M=Tr(E),W=Tr(x);if(b.hasOwnProperty(M)){let ce=b[M];Array.isArray(ce)||(ce=[ce],b[M]=ce),ce.push(W)}else b[M]=W}parseParens(b){const E={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const x=dn(this.remaining),M=this.remaining[x.length];if("/"!==M&&")"!==M&&";"!==M)throw new Error(`Cannot parse url '${this.url}'`);let W;x.indexOf(":")>-1?(W=x.substr(0,x.indexOf(":")),this.capture(W),this.capture(":")):b&&(W=$e);const ce=this.parseChildren();E[W]=1===Object.keys(ce).length?ce[$e]:new Un([],ce),this.consumeOptional("//")}return E}peekStartsWith(b){return this.remaining.startsWith(b)}consumeOptional(b){return!!this.peekStartsWith(b)&&(this.remaining=this.remaining.substring(b.length),!0)}capture(b){if(!this.consumeOptional(b))throw new Error(`Expected "${b}".`)}}class un{constructor(b){this._root=b}get root(){return this._root.value}parent(b){const E=this.pathFromRoot(b);return E.length>1?E[E.length-2]:null}children(b){const E=bn(b,this._root);return E?E.children.map(x=>x.value):[]}firstChild(b){const E=bn(b,this._root);return E&&E.children.length>0?E.children[0].value:null}siblings(b){const E=Hn(b,this._root);return E.length<2?[]:E[E.length-2].children.map(M=>M.value).filter(M=>M!==b)}pathFromRoot(b){return Hn(b,this._root).map(E=>E.value)}}function bn(C,b){if(C===b.value)return b;for(const E of b.children){const x=bn(C,E);if(x)return x}return null}function Hn(C,b){if(C===b.value)return[b];for(const E of b.children){const x=Hn(C,E);if(x.length)return x.unshift(b),x}return[]}class ln{constructor(b,E){this.value=b,this.children=E}toString(){return`TreeNode(${this.value})`}}function es(C){const b={};return C&&C.children.forEach(E=>b[E.value.outlet]=E),b}class Pr extends un{constructor(b,E){super(b),this.snapshot=E,lr(this,b)}toString(){return this.snapshot.toString()}}function as(C,b){const E=function(C,b){const ce=new Gr([],{},{},"",{},$e,b,null,C.root,-1,{});return new Ao("",new ln(ce,[]))}(C,b),x=new Ke.X([new gi("",{})]),M=new Ke.X({}),W=new Ke.X({}),ce=new Ke.X({}),Ae=new Ke.X(""),ot=new ni(x,M,ce,Ae,W,$e,b,E.root);return ot.snapshot=E.root,new Pr(new ln(ot,[]),E)}class ni{constructor(b,E,x,M,W,ce,Ae,ot){this.url=b,this.params=E,this.queryParams=x,this.fragment=M,this.data=W,this.outlet=ce,this.component=Ae,this._futureSnapshot=ot}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ft.U)(b=>at(b)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ft.U)(b=>at(b)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function us(C,b="emptyOnly"){const E=C.pathFromRoot;let x=0;if("always"!==b)for(x=E.length-1;x>=1;){const M=E[x],W=E[x-1];if(M.routeConfig&&""===M.routeConfig.path)x--;else{if(W.component)break;x--}}return function(C){return C.reduce((b,E)=>({params:Object.assign(Object.assign({},b.params),E.params),data:Object.assign(Object.assign({},b.data),E.data),resolve:Object.assign(Object.assign({},b.resolve),E._resolvedData)}),{params:{},data:{},resolve:{}})}(E.slice(x))}class Gr{constructor(b,E,x,M,W,ce,Ae,ot,Et,Zt,En){this.url=b,this.params=E,this.queryParams=x,this.fragment=M,this.data=W,this.outlet=ce,this.component=Ae,this.routeConfig=ot,this._urlSegment=Et,this._lastPathIndex=Zt,this._resolve=En}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=at(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=at(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(x=>x.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ao extends un{constructor(b,E){super(E),this.url=b,lr(this,E)}toString(){return vr(this._root)}}function lr(C,b){b.value._routerState=C,b.children.forEach(E=>lr(C,E))}function vr(C){const b=C.children.length>0?` { ${C.children.map(vr).join(", ")} } `:"";return`${C.value}${b}`}function $s(C){if(C.snapshot){const b=C.snapshot,E=C._futureSnapshot;C.snapshot=E,Bn(b.queryParams,E.queryParams)||C.queryParams.next(E.queryParams),b.fragment!==E.fragment&&C.fragment.next(E.fragment),Bn(b.params,E.params)||C.params.next(E.params),function(C,b){if(C.length!==b.length)return!1;for(let E=0;E<C.length;++E)if(!Bn(C[E],b[E]))return!1;return!0}(b.url,E.url)||C.url.next(E.url),Bn(b.data,E.data)||C.data.next(E.data)}else C.snapshot=C._futureSnapshot,C.data.next(C._futureSnapshot.data)}function Bi(C,b){return Bn(C.params,b.params)&&function(C,b){return zr(C,b)&&C.every((E,x)=>Bn(E.parameters,b[x].parameters))}(C.url,b.url)&&!(!C.parent!=!b.parent)&&(!C.parent||Bi(C.parent,b.parent))}function oi(C,b,E){if(E&&C.shouldReuseRoute(b.value,E.value.snapshot)){const x=E.value;x._futureSnapshot=b.value;const M=function(C,b,E){return b.children.map(x=>{for(const M of E.children)if(C.shouldReuseRoute(x.value,M.value.snapshot))return oi(C,x,M);return oi(C,x)})}(C,b,E);return new ln(x,M)}{if(C.shouldAttach(b.value)){const W=C.retrieve(b.value);if(null!==W){const ce=W.route;return Qi(b,ce),ce}}const x=function(C){return new ni(new Ke.X(C.url),new Ke.X(C.params),new Ke.X(C.queryParams),new Ke.X(C.fragment),new Ke.X(C.data),C.outlet,C.component,C)}(b.value),M=b.children.map(W=>oi(C,W));return new ln(x,M)}}function Qi(C,b){if(C.value.routeConfig!==b.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(C.children.length!==b.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");b.value._futureSnapshot=C.value;for(let E=0;E<C.children.length;++E)Qi(C.children[E],b.children[E])}function Se(C){return"object"==typeof C&&null!=C&&!C.outlets&&!C.segmentPath}function qe(C){return"object"==typeof C&&null!=C&&C.outlets}function ht(C,b,E,x,M){let W={};return x&&We(x,(ce,Ae)=>{W[Ae]=Array.isArray(ce)?ce.map(ot=>`${ot}`):`${ce}`}),new xr(E.root===C?b:Tt(E.root,C,b),W,M)}function Tt(C,b,E){const x={};return We(C.children,(M,W)=>{x[W]=M===b?E:Tt(M,b,E)}),new Un(C.segments,x)}class Gt{constructor(b,E,x){if(this.isAbsolute=b,this.numberOfDoubleDots=E,this.commands=x,b&&x.length>0&&Se(x[0]))throw new Error("Root segment cannot have matrix parameters");const M=x.find(qe);if(M&&M!==ue(x))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class qr{constructor(b,E,x){this.segmentGroup=b,this.processChildren=E,this.index=x}}function go(C,b,E){if(C||(C=new Un([],{})),0===C.segments.length&&C.hasChildren())return $o(C,b,E);const x=function(C,b,E){let x=0,M=b;const W={match:!1,pathIndex:0,commandIndex:0};for(;M<C.segments.length;){if(x>=E.length)return W;const ce=C.segments[M],Ae=E[x];if(qe(Ae))break;const ot=`${Ae}`,Et=x<E.length-1?E[x+1]:null;if(M>0&&void 0===ot)break;if(ot&&Et&&"object"==typeof Et&&void 0===Et.outlets){if(!mo(ot,Et,ce))return W;x+=2}else{if(!mo(ot,{},ce))return W;x++}M++}return{match:!0,pathIndex:M,commandIndex:x}}(C,b,E),M=E.slice(x.commandIndex);if(x.match&&x.pathIndex<C.segments.length){const W=new Un(C.segments.slice(0,x.pathIndex),{});return W.children[$e]=new Un(C.segments.slice(x.pathIndex),C.children),$o(W,0,M)}return x.match&&0===M.length?new Un(C.segments,{}):x.match&&!C.hasChildren()?ps(C,b,E):x.match?$o(C,0,M):ps(C,b,E)}function $o(C,b,E){if(0===E.length)return new Un(C.segments,{});{const x=function(C){return qe(C[0])?C[0].outlets:{[$e]:C}}(E),M={};return We(x,(W,ce)=>{"string"==typeof W&&(W=[W]),null!==W&&(M[ce]=go(C.children[ce],b,W))}),We(C.children,(W,ce)=>{void 0===x[ce]&&(M[ce]=W)}),new Un(C.segments,M)}}function ps(C,b,E){const x=C.segments.slice(0,b);let M=0;for(;M<E.length;){const W=E[M];if(qe(W)){const ot=Hs(W.outlets);return new Un(x,ot)}if(0===M&&Se(E[0])){x.push(new gi(C.segments[b].path,ns(E[0]))),M++;continue}const ce=qe(W)?W.outlets[$e]:`${W}`,Ae=M<E.length-1?E[M+1]:null;ce&&Ae&&Se(Ae)?(x.push(new gi(ce,ns(Ae))),M+=2):(x.push(new gi(ce,{})),M++)}return new Un(x,{})}function Hs(C){const b={};return We(C,(E,x)=>{"string"==typeof E&&(E=[E]),null!==E&&(b[x]=ps(new Un([],{}),0,E))}),b}function ns(C){const b={};return We(C,(E,x)=>b[x]=`${E}`),b}function mo(C,b,E){return C==E.path&&Bn(b,E.parameters)}class no{constructor(b,E,x,M){this.routeReuseStrategy=b,this.futureState=E,this.currState=x,this.forwardEvent=M}activate(b){const E=this.futureState._root,x=this.currState?this.currState._root:null;this.deactivateChildRoutes(E,x,b),$s(this.futureState.root),this.activateChildRoutes(E,x,b)}deactivateChildRoutes(b,E,x){const M=es(E);b.children.forEach(W=>{const ce=W.value.outlet;this.deactivateRoutes(W,M[ce],x),delete M[ce]}),We(M,(W,ce)=>{this.deactivateRouteAndItsChildren(W,x)})}deactivateRoutes(b,E,x){const M=b.value,W=E?E.value:null;if(M===W)if(M.component){const ce=x.getContext(M.outlet);ce&&this.deactivateChildRoutes(b,E,ce.children)}else this.deactivateChildRoutes(b,E,x);else W&&this.deactivateRouteAndItsChildren(E,x)}deactivateRouteAndItsChildren(b,E){this.routeReuseStrategy.shouldDetach(b.value.snapshot)?this.detachAndStoreRouteSubtree(b,E):this.deactivateRouteAndOutlet(b,E)}detachAndStoreRouteSubtree(b,E){const x=E.getContext(b.value.outlet);if(x&&x.outlet){const M=x.outlet.detach(),W=x.children.onOutletDeactivated();this.routeReuseStrategy.store(b.value.snapshot,{componentRef:M,route:b,contexts:W})}}deactivateRouteAndOutlet(b,E){const x=E.getContext(b.value.outlet),M=x&&b.value.component?x.children:E,W=es(b);for(const ce of Object.keys(W))this.deactivateRouteAndItsChildren(W[ce],M);x&&x.outlet&&(x.outlet.deactivate(),x.children.onOutletDeactivated(),x.attachRef=null,x.resolver=null,x.route=null)}activateChildRoutes(b,E,x){const M=es(E);b.children.forEach(W=>{this.activateRoutes(W,M[W.value.outlet],x),this.forwardEvent(new de(W.value.snapshot))}),b.children.length&&this.forwardEvent(new Le(b.value.snapshot))}activateRoutes(b,E,x){const M=b.value,W=E?E.value:null;if($s(M),M===W)if(M.component){const ce=x.getOrCreateContext(M.outlet);this.activateChildRoutes(b,E,ce.children)}else this.activateChildRoutes(b,E,x);else if(M.component){const ce=x.getOrCreateContext(M.outlet);if(this.routeReuseStrategy.shouldAttach(M.snapshot)){const Ae=this.routeReuseStrategy.retrieve(M.snapshot);this.routeReuseStrategy.store(M.snapshot,null),ce.children.onOutletReAttached(Ae.contexts),ce.attachRef=Ae.componentRef,ce.route=Ae.route.value,ce.outlet&&ce.outlet.attach(Ae.componentRef,Ae.route.value),ai(Ae.route)}else{const Ae=function(C){for(let b=C.parent;b;b=b.parent){const E=b.routeConfig;if(E&&E._loadedConfig)return E._loadedConfig;if(E&&E.component)return null}return null}(M.snapshot),ot=Ae?Ae.module.componentFactoryResolver:null;ce.attachRef=null,ce.route=M,ce.resolver=ot,ce.outlet&&ce.outlet.activateWith(M,ot),this.activateChildRoutes(b,null,ce.children)}}else this.activateChildRoutes(b,null,x)}}function ai(C){$s(C.value),C.children.forEach(ai)}class Ti{constructor(b,E){this.routes=b,this.module=E}}function Mi(C){return"function"==typeof C}function kn(C){return C instanceof xr}const Ns=Symbol("INITIAL_VALUE");function ri(){return(0,yr.w)(C=>function(...C){let b=null,E=null;return(0,z.K)(C[C.length-1])&&(E=C.pop()),"function"==typeof C[C.length-1]&&(b=C.pop()),1===C.length&&(0,be.k)(C[0])&&(C=C[0]),(0,De.n)(C,E).lift(new Q(b))}(C.map(b=>b.pipe((0,Zn.q)(1),(0,Rr.O)(Ns)))).pipe((0,pi.R)((b,E)=>{let x=!1;return E.reduce((M,W,ce)=>M!==Ns?M:(W===Ns&&(x=!0),x||!1!==W&&ce!==E.length-1&&!kn(W)?M:W),b)},Ns),(0,Xe.h)(b=>b!==Ns),(0,ft.U)(b=>kn(b)?b:!0===b),(0,Zn.q)(1)))}let ro=(()=>{class C{}return C.\u0275fac=function(E){return new(E||C)},C.\u0275cmp=L.\u0275\u0275defineComponent({type:C,selectors:[["ng-component"]],decls:1,vars:0,template:function(E,x){1&E&&L.\u0275\u0275element(0,"router-outlet")},directives:function(){return[Ws]},encapsulation:2}),C})();function ma(C,b=""){for(let E=0;E<C.length;E++){const x=C[E];Ro(x,_o(b,x))}}function Ro(C,b){C.children&&ma(C.children,b)}function _o(C,b){return b?C||b.path?C&&!b.path?`${C}/`:!C&&b.path?b.path:`${C}/${b.path}`:"":C}function gs(C){const b=C.children&&C.children.map(gs),E=b?Object.assign(Object.assign({},C),{children:b}):Object.assign({},C);return!E.component&&(b||E.loadChildren)&&E.outlet&&E.outlet!==$e&&(E.component=ro),E}function Ci(C){return C.outlet||$e}function N(C,b){const E=C.filter(x=>Ci(x)===b);return E.push(...C.filter(x=>Ci(x)!==b)),E}const K={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function P(C,b,E){var x;if(""===b.path)return"full"===b.pathMatch&&(C.hasChildren()||E.length>0)?Object.assign({},K):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const W=(b.matcher||Nn)(E,C,b);if(!W)return Object.assign({},K);const ce={};We(W.posParams,(ot,Et)=>{ce[Et]=ot.path});const Ae=W.consumed.length>0?Object.assign(Object.assign({},ce),W.consumed[W.consumed.length-1].parameters):ce;return{matched:!0,consumedSegments:W.consumed,lastChild:W.consumed.length,parameters:Ae,positionalParamSegments:null!==(x=W.posParams)&&void 0!==x?x:{}}}function Z(C,b,E,x,M="corrected"){if(E.length>0&&function(C,b,E){return E.some(x=>Ln(C,b,x)&&Ci(x)!==$e)}(C,E,x)){const ce=new Un(b,function(C,b,E,x){const M={};M[$e]=x,x._sourceSegment=C,x._segmentIndexShift=b.length;for(const W of E)if(""===W.path&&Ci(W)!==$e){const ce=new Un([],{});ce._sourceSegment=C,ce._segmentIndexShift=b.length,M[Ci(W)]=ce}return M}(C,b,x,new Un(E,C.children)));return ce._sourceSegment=C,ce._segmentIndexShift=b.length,{segmentGroup:ce,slicedSegments:[]}}if(0===E.length&&function(C,b,E){return E.some(x=>Ln(C,b,x))}(C,E,x)){const ce=new Un(C.segments,function(C,b,E,x,M,W){const ce={};for(const Ae of x)if(Ln(C,E,Ae)&&!M[Ci(Ae)]){const ot=new Un([],{});ot._sourceSegment=C,ot._segmentIndexShift="legacy"===W?C.segments.length:b.length,ce[Ci(Ae)]=ot}return Object.assign(Object.assign({},M),ce)}(C,b,E,x,C.children,M));return ce._sourceSegment=C,ce._segmentIndexShift=b.length,{segmentGroup:ce,slicedSegments:E}}const W=new Un(C.segments,C.children);return W._sourceSegment=C,W._segmentIndexShift=b.length,{segmentGroup:W,slicedSegments:E}}function Ln(C,b,E){return(!(C.hasChildren()||b.length>0)||"full"!==E.pathMatch)&&""===E.path}function Kn(C,b,E,x){return!!(Ci(C)===x||x!==$e&&Ln(b,E,C))&&("**"===C.path||P(b,C,E).matched)}function dr(C,b,E){return 0===b.length&&!C.children[E]}class On{constructor(b){this.segmentGroup=b||null}}class sr{constructor(b){this.urlTree=b}}function Er(C){return new J.y(b=>b.error(new On(C)))}function ei(C){return new J.y(b=>b.error(new sr(C)))}function ms(C){return new J.y(b=>b.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${C}'`)))}class _s{constructor(b,E,x,M,W){this.configLoader=E,this.urlSerializer=x,this.urlTree=M,this.config=W,this.allowRedirects=!0,this.ngModule=b.get(L.NgModuleRef)}apply(){const b=Z(this.urlTree.root,[],[],this.config).segmentGroup,E=new Un(b.segments,b.children);return this.expandSegmentGroup(this.ngModule,this.config,E,$e).pipe((0,ft.U)(W=>this.createUrlTree(cs(W),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Ot.K)(W=>{if(W instanceof sr)return this.allowRedirects=!1,this.match(W.urlTree);throw W instanceof On?this.noMatchError(W):W}))}match(b){return this.expandSegmentGroup(this.ngModule,this.config,b.root,$e).pipe((0,ft.U)(M=>this.createUrlTree(cs(M),b.queryParams,b.fragment))).pipe((0,Ot.K)(M=>{throw M instanceof On?this.noMatchError(M):M}))}noMatchError(b){return new Error(`Cannot match any routes. URL Segment: '${b.segmentGroup}'`)}createUrlTree(b,E,x){const M=b.segments.length>0?new Un([],{[$e]:b}):b;return new xr(M,E,x)}expandSegmentGroup(b,E,x,M){return 0===x.segments.length&&x.hasChildren()?this.expandChildren(b,E,x).pipe((0,ft.U)(W=>new Un([],W))):this.expandSegment(b,x,E,x.segments,M,!0)}expandChildren(b,E,x){const M=[];for(const W of Object.keys(x.children))"primary"===W?M.unshift(W):M.push(W);return(0,ve.D)(M).pipe((0,It.b)(W=>{const ce=x.children[W],Ae=N(E,W);return this.expandSegmentGroup(b,Ae,ce,W).pipe((0,ft.U)(ot=>({segment:ot,outlet:W})))}),(0,pi.R)((W,ce)=>(W[ce.outlet]=ce.segment,W),{}),function(C,b){const E=arguments.length>=2;return x=>x.pipe(C?(0,Xe.h)((M,W)=>C(M,W,x)):Ft.y,zt(1),E?(0,Ht.d)(b):(0,Qt.T)(()=>new Pe.K))}())}expandSegment(b,E,x,M,W,ce){return(0,ve.D)(x).pipe((0,It.b)(Ae=>this.expandSegmentAgainstRoute(b,E,x,Ae,M,W,ce).pipe((0,Ot.K)(Et=>{if(Et instanceof On)return(0,ke.of)(null);throw Et}))),(0,Kt.P)(Ae=>!!Ae),(0,Ot.K)((Ae,ot)=>{if(Ae instanceof Pe.K||"EmptyError"===Ae.name){if(dr(E,M,W))return(0,ke.of)(new Un([],{}));throw new On(E)}throw Ae}))}expandSegmentAgainstRoute(b,E,x,M,W,ce,Ae){return Kn(M,E,W,ce)?void 0===M.redirectTo?this.matchSegmentAgainstRoute(b,E,M,W,ce):Ae&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(b,E,x,M,W,ce):Er(E):Er(E)}expandSegmentAgainstRouteUsingRedirect(b,E,x,M,W,ce){return"**"===M.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(b,x,M,ce):this.expandRegularSegmentAgainstRouteUsingRedirect(b,E,x,M,W,ce)}expandWildCardWithParamsAgainstRouteUsingRedirect(b,E,x,M){const W=this.applyRedirectCommands([],x.redirectTo,{});return x.redirectTo.startsWith("/")?ei(W):this.lineralizeSegments(x,W).pipe((0,Cn.zg)(ce=>{const Ae=new Un(ce,{});return this.expandSegment(b,Ae,E,ce,M,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(b,E,x,M,W,ce){const{matched:Ae,consumedSegments:ot,lastChild:Et,positionalParamSegments:Zt}=P(E,M,W);if(!Ae)return Er(E);const En=this.applyRedirectCommands(ot,M.redirectTo,Zt);return M.redirectTo.startsWith("/")?ei(En):this.lineralizeSegments(M,En).pipe((0,Cn.zg)(Sr=>this.expandSegment(b,E,x,Sr.concat(W.slice(Et)),ce,!1)))}matchSegmentAgainstRoute(b,E,x,M,W){if("**"===x.path)return x.loadChildren?(x._loadedConfig?(0,ke.of)(x._loadedConfig):this.configLoader.load(b.injector,x)).pipe((0,ft.U)(Sr=>(x._loadedConfig=Sr,new Un(M,{})))):(0,ke.of)(new Un(M,{}));const{matched:ce,consumedSegments:Ae,lastChild:ot}=P(E,x,M);if(!ce)return Er(E);const Et=M.slice(ot);return this.getChildConfig(b,x,M).pipe((0,Cn.zg)(En=>{const Sr=En.module,or=En.routes,{segmentGroup:Mr,slicedSegments:zs}=Z(E,Ae,Et,or),Hi=new Un(Mr.segments,Mr.children);if(0===zs.length&&Hi.hasChildren())return this.expandChildren(Sr,or,Hi).pipe((0,ft.U)(Ko=>new Un(Ae,Ko)));if(0===or.length&&0===zs.length)return(0,ke.of)(new Un(Ae,{}));const wr=Ci(x)===W;return this.expandSegment(Sr,Hi,or,zs,wr?$e:W,!0).pipe((0,ft.U)(Vi=>new Un(Ae.concat(Vi.segments),Vi.children)))}))}getChildConfig(b,E,x){return E.children?(0,ke.of)(new Ti(E.children,b)):E.loadChildren?void 0!==E._loadedConfig?(0,ke.of)(E._loadedConfig):this.runCanLoadGuards(b.injector,E,x).pipe((0,Cn.zg)(M=>{return M?this.configLoader.load(b.injector,E).pipe((0,ft.U)(W=>(E._loadedConfig=W,W))):(C=E,new J.y(b=>b.error(yn(`Cannot load children because the guard of the route "path: '${C.path}'" returned false`))));var C})):(0,ke.of)(new Ti([],b))}runCanLoadGuards(b,E,x){const M=E.canLoad;if(!M||0===M.length)return(0,ke.of)(!0);const W=M.map(ce=>{const Ae=b.get(ce);let ot;if((C=Ae)&&Mi(C.canLoad))ot=Ae.canLoad(E,x);else{if(!Mi(Ae))throw new Error("Invalid CanLoad guard");ot=Ae(E,x)}var C;return Fe(ot)});return(0,ke.of)(W).pipe(ri(),(0,Bt.b)(ce=>{if(!kn(ce))return;const Ae=yn(`Redirecting to "${this.urlSerializer.serialize(ce)}"`);throw Ae.url=ce,Ae}),(0,ft.U)(ce=>!0===ce))}lineralizeSegments(b,E){let x=[],M=E.root;for(;;){if(x=x.concat(M.segments),0===M.numberOfChildren)return(0,ke.of)(x);if(M.numberOfChildren>1||!M.children[$e])return ms(b.redirectTo);M=M.children[$e]}}applyRedirectCommands(b,E,x){return this.applyRedirectCreatreUrlTree(E,this.urlSerializer.parse(E),b,x)}applyRedirectCreatreUrlTree(b,E,x,M){const W=this.createSegmentGroup(b,E.root,x,M);return new xr(W,this.createQueryParams(E.queryParams,this.urlTree.queryParams),E.fragment)}createQueryParams(b,E){const x={};return We(b,(M,W)=>{if("string"==typeof M&&M.startsWith(":")){const Ae=M.substring(1);x[W]=E[Ae]}else x[W]=M}),x}createSegmentGroup(b,E,x,M){const W=this.createSegments(b,E.segments,x,M);let ce={};return We(E.children,(Ae,ot)=>{ce[ot]=this.createSegmentGroup(b,Ae,x,M)}),new Un(W,ce)}createSegments(b,E,x,M){return E.map(W=>W.path.startsWith(":")?this.findPosParam(b,W,M):this.findOrReturn(W,x))}findPosParam(b,E,x){const M=x[E.path.substring(1)];if(!M)throw new Error(`Cannot redirect to '${b}'. Cannot find '${E.path}'.`);return M}findOrReturn(b,E){let x=0;for(const M of E){if(M.path===b.path)return E.splice(x),M;x++}return b}}function cs(C){const b={};for(const x of Object.keys(C.children)){const W=cs(C.children[x]);(W.segments.length>0||W.hasChildren())&&(b[x]=W)}return function(C){if(1===C.numberOfChildren&&C.children[$e]){const b=C.children[$e];return new Un(C.segments.concat(b.segments),b.children)}return C}(new Un(C.segments,b))}class Ho{constructor(b){this.path=b,this.route=this.path[this.path.length-1]}}class na{constructor(b,E){this.component=b,this.route=E}}function io(C,b,E){const x=C._root;return $n(x,b?b._root:null,E,[x.value])}function vo(C,b,E){const x=function(C){if(!C)return null;for(let b=C.parent;b;b=b.parent){const E=b.routeConfig;if(E&&E._loadedConfig)return E._loadedConfig}return null}(b);return(x?x.module.injector:E).get(C)}function $n(C,b,E,x,M={canDeactivateChecks:[],canActivateChecks:[]}){const W=es(b);return C.children.forEach(ce=>{(function(C,b,E,x,M={canDeactivateChecks:[],canActivateChecks:[]}){const W=C.value,ce=b?b.value:null,Ae=E?E.getContext(C.value.outlet):null;if(ce&&W.routeConfig===ce.routeConfig){const ot=function(C,b,E){if("function"==typeof E)return E(C,b);switch(E){case"pathParamsChange":return!zr(C.url,b.url);case"pathParamsOrQueryParamsChange":return!zr(C.url,b.url)||!Bn(C.queryParams,b.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Bi(C,b)||!Bn(C.queryParams,b.queryParams);case"paramsChange":default:return!Bi(C,b)}}(ce,W,W.routeConfig.runGuardsAndResolvers);ot?M.canActivateChecks.push(new Ho(x)):(W.data=ce.data,W._resolvedData=ce._resolvedData),$n(C,b,W.component?Ae?Ae.children:null:E,x,M),ot&&Ae&&Ae.outlet&&Ae.outlet.isActivated&&M.canDeactivateChecks.push(new na(Ae.outlet.component,ce))}else ce&&Po(b,Ae,M),M.canActivateChecks.push(new Ho(x)),$n(C,null,W.component?Ae?Ae.children:null:E,x,M)})(ce,W[ce.value.outlet],E,x.concat([ce.value]),M),delete W[ce.value.outlet]}),We(W,(ce,Ae)=>Po(ce,E.getContext(Ae),M)),M}function Po(C,b,E){const x=es(C),M=C.value;We(x,(W,ce)=>{Po(W,M.component?b?b.children.getContext(ce):null:b,E)}),E.canDeactivateChecks.push(new na(M.component&&b&&b.outlet&&b.outlet.isActivated?b.outlet.component:null,M))}class le{}function me(C){return new J.y(b=>b.error(C))}class ut{constructor(b,E,x,M,W,ce){this.rootComponentType=b,this.config=E,this.urlTree=x,this.url=M,this.paramsInheritanceStrategy=W,this.relativeLinkResolution=ce}recognize(){const b=Z(this.urlTree.root,[],[],this.config.filter(ce=>void 0===ce.redirectTo),this.relativeLinkResolution).segmentGroup,E=this.processSegmentGroup(this.config,b,$e);if(null===E)return null;const x=new Gr([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},$e,this.rootComponentType,null,this.urlTree.root,-1,{}),M=new ln(x,E),W=new Ao(this.url,M);return this.inheritParamsAndData(W._root),W}inheritParamsAndData(b){const E=b.value,x=us(E,this.paramsInheritanceStrategy);E.params=Object.freeze(x.params),E.data=Object.freeze(x.data),b.children.forEach(M=>this.inheritParamsAndData(M))}processSegmentGroup(b,E,x){return 0===E.segments.length&&E.hasChildren()?this.processChildren(b,E):this.processSegment(b,E,E.segments,x)}processChildren(b,E){const x=[];for(const W of Object.keys(E.children)){const ce=E.children[W],Ae=N(b,W),ot=this.processSegmentGroup(Ae,ce,W);if(null===ot)return null;x.push(...ot)}const M=Gn(x);return M.sort((b,E)=>b.value.outlet===$e?-1:E.value.outlet===$e?1:b.value.outlet.localeCompare(E.value.outlet)),M}processSegment(b,E,x,M){for(const W of b){const ce=this.processSegmentAgainstRoute(W,E,x,M);if(null!==ce)return ce}return dr(E,x,M)?[]:null}processSegmentAgainstRoute(b,E,x,M){if(b.redirectTo||!Kn(b,E,x,M))return null;let W,ce=[],Ae=[];if("**"===b.path){const or=x.length>0?ue(x).parameters:{};W=new Gr(x,or,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Dr(b),Ci(b),b.component,b,Rn(E),qn(E)+x.length,$r(b))}else{const or=P(E,b,x);if(!or.matched)return null;ce=or.consumedSegments,Ae=x.slice(or.lastChild),W=new Gr(ce,or.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Dr(b),Ci(b),b.component,b,Rn(E),qn(E)+ce.length,$r(b))}const ot=(C=b).children?C.children:C.loadChildren?C._loadedConfig.routes:[],{segmentGroup:Et,slicedSegments:Zt}=Z(E,ce,Ae,ot.filter(or=>void 0===or.redirectTo),this.relativeLinkResolution);var C;if(0===Zt.length&&Et.hasChildren()){const or=this.processChildren(ot,Et);return null===or?null:[new ln(W,or)]}if(0===ot.length&&0===Zt.length)return[new ln(W,[])];const En=Ci(b)===M,Sr=this.processSegment(ot,Et,Zt,En?$e:M);return null===Sr?null:[new ln(W,Sr)]}}function Mn(C){const b=C.value.routeConfig;return b&&""===b.path&&void 0===b.redirectTo}function Gn(C){const b=[],E=new Set;for(const x of C){if(!Mn(x)){b.push(x);continue}const M=b.find(W=>x.value.routeConfig===W.value.routeConfig);void 0!==M?(M.children.push(...x.children),E.add(M)):b.push(x)}for(const x of E){const M=Gn(x.children);b.push(new ln(x.value,M))}return b.filter(x=>!E.has(x))}function Rn(C){let b=C;for(;b._sourceSegment;)b=b._sourceSegment;return b}function qn(C){let b=C,E=b._segmentIndexShift?b._segmentIndexShift:0;for(;b._sourceSegment;)b=b._sourceSegment,E+=b._segmentIndexShift?b._segmentIndexShift:0;return E-1}function Dr(C){return C.data||{}}function $r(C){return C.resolve||{}}function Es(C){return(0,yr.w)(b=>{const E=C(b);return E?(0,ve.D)(E).pipe((0,ft.U)(()=>b)):(0,ke.of)(b)})}class Sa extends class{shouldDetach(b){return!1}store(b,E){}shouldAttach(b){return!1}retrieve(b){return null}shouldReuseRoute(b,E){return b.routeConfig===E.routeConfig}}{}const so=new L.InjectionToken("ROUTES");class Zr{constructor(b,E,x,M){this.loader=b,this.compiler=E,this.onLoadStartListener=x,this.onLoadEndListener=M}load(b,E){if(E._loader$)return E._loader$;this.onLoadStartListener&&this.onLoadStartListener(E);const M=this.loadModuleFactory(E.loadChildren).pipe((0,ft.U)(W=>{this.onLoadEndListener&&this.onLoadEndListener(E);const ce=W.create(b);return new Ti(pe(ce.injector.get(so,void 0,L.InjectFlags.Self|L.InjectFlags.Optional)).map(gs),ce)}),(0,Ot.K)(W=>{throw E._loader$=void 0,W}));return E._loader$=new Ie.c(M,()=>new je.xQ).pipe((0,Wt.x)()),E._loader$}loadModuleFactory(b){return"string"==typeof b?(0,ve.D)(this.loader.load(b)):Fe(b()).pipe((0,Cn.zg)(E=>E instanceof L.NgModuleFactory?(0,ke.of)(E):(0,ve.D)(this.compiler.compileModuleAsync(E))))}}class Eo{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ir,this.attachRef=null}}class Ir{constructor(){this.contexts=new Map}onChildOutletCreated(b,E){const x=this.getOrCreateContext(b);x.outlet=E,this.contexts.set(b,x)}onChildOutletDestroyed(b){const E=this.getContext(b);E&&(E.outlet=null)}onOutletDeactivated(){const b=this.contexts;return this.contexts=new Map,b}onOutletReAttached(b){this.contexts=b}getOrCreateContext(b){let E=this.getContext(b);return E||(E=new Eo,this.contexts.set(b,E)),E}getContext(b){return this.contexts.get(b)||null}}class gn{shouldProcessUrl(b){return!0}extract(b){return b}merge(b,E){return b}}function jn(C){throw C}function Wn(C,b,E){return b.parse("/")}function Di(C,b){return(0,ke.of)(null)}const Ms={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ki={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Or=(()=>{class C{constructor(E,x,M,W,ce,Ae,ot,Et){this.rootComponentType=E,this.urlSerializer=x,this.rootContexts=M,this.location=W,this.config=Et,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new je.xQ,this.errorHandler=jn,this.malformedUriErrorHandler=Wn,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Di,afterPreactivation:Di},this.urlHandlingStrategy=new gn,this.routeReuseStrategy=new Sa,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=ce.get(L.NgModuleRef),this.console=ce.get(L.\u0275Console);const Sr=ce.get(L.NgZone);this.isNgZoneEnabled=Sr instanceof L.NgZone&&L.NgZone.isInAngularZone(),this.resetConfig(Et),this.currentUrlTree=new xr(new Un([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Zr(Ae,ot,or=>this.triggerEvent(new Sn(or)),or=>this.triggerEvent(new _r(or))),this.routerState=as(this.currentUrlTree,this.rootComponentType),this.transitions=new Ke.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var E;return null===(E=this.location.getState())||void 0===E?void 0:E.\u0275routerPageId}setupNavigations(E){const x=this.events;return E.pipe((0,Xe.h)(M=>0!==M.id),(0,ft.U)(M=>Object.assign(Object.assign({},M),{extractedUrl:this.urlHandlingStrategy.extract(M.rawUrl)})),(0,yr.w)(M=>{let W=!1,ce=!1;return(0,ke.of)(M).pipe((0,Bt.b)(Ae=>{this.currentNavigation={id:Ae.id,initialUrl:Ae.currentRawUrl,extractedUrl:Ae.extractedUrl,trigger:Ae.source,extras:Ae.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,yr.w)(Ae=>{const ot=!this.navigated||Ae.extractedUrl.toString()!==this.browserUrlTree.toString(),Et=("reload"===this.onSameUrlNavigation||ot)&&this.urlHandlingStrategy.shouldProcessUrl(Ae.rawUrl);if(Qr(Ae.source)&&(this.browserUrlTree=Ae.rawUrl),Et)return(0,ke.of)(Ae).pipe((0,yr.w)(Zt=>{const En=this.transitions.getValue();return x.next(new Yt(Zt.id,this.serializeUrl(Zt.extractedUrl),Zt.source,Zt.restoredState)),En!==this.transitions.getValue()?Ge.E:Promise.resolve(Zt)}),function(C,b,E,x){return(0,yr.w)(M=>function(C,b,E,x,M){return new _s(C,b,E,x,M).apply()}(C,b,E,M.extractedUrl,x).pipe((0,ft.U)(W=>Object.assign(Object.assign({},M),{urlAfterRedirects:W}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Bt.b)(Zt=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Zt.urlAfterRedirects})}),function(C,b,E,x,M){return(0,Cn.zg)(W=>function(C,b,E,x,M="emptyOnly",W="legacy"){try{const ce=new ut(C,b,E,x,M,W).recognize();return null===ce?me(new le):(0,ke.of)(ce)}catch(ce){return me(ce)}}(C,b,W.urlAfterRedirects,E(W.urlAfterRedirects),x,M).pipe((0,ft.U)(ce=>Object.assign(Object.assign({},W),{targetSnapshot:ce}))))}(this.rootComponentType,this.config,Zt=>this.serializeUrl(Zt),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Bt.b)(Zt=>{"eager"===this.urlUpdateStrategy&&(Zt.extras.skipLocationChange||this.setBrowserUrl(Zt.urlAfterRedirects,Zt),this.browserUrlTree=Zt.urlAfterRedirects);const En=new cr(Zt.id,this.serializeUrl(Zt.extractedUrl),this.serializeUrl(Zt.urlAfterRedirects),Zt.targetSnapshot);x.next(En)}));if(ot&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:En,extractedUrl:Sr,source:or,restoredState:Mr,extras:zs}=Ae,Hi=new Yt(En,this.serializeUrl(Sr),or,Mr);x.next(Hi);const wr=as(Sr,this.rootComponentType).snapshot;return(0,ke.of)(Object.assign(Object.assign({},Ae),{targetSnapshot:wr,urlAfterRedirects:Sr,extras:Object.assign(Object.assign({},zs),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=Ae.rawUrl,this.browserUrlTree=Ae.urlAfterRedirects,Ae.resolve(null),Ge.E}),Es(Ae=>{const{targetSnapshot:ot,id:Et,extractedUrl:Zt,rawUrl:En,extras:{skipLocationChange:Sr,replaceUrl:or}}=Ae;return this.hooks.beforePreactivation(ot,{navigationId:Et,appliedUrlTree:Zt,rawUrlTree:En,skipLocationChange:!!Sr,replaceUrl:!!or})}),(0,Bt.b)(Ae=>{const ot=new ct(Ae.id,this.serializeUrl(Ae.extractedUrl),this.serializeUrl(Ae.urlAfterRedirects),Ae.targetSnapshot);this.triggerEvent(ot)}),(0,ft.U)(Ae=>Object.assign(Object.assign({},Ae),{guards:io(Ae.targetSnapshot,Ae.currentSnapshot,this.rootContexts)})),function(C,b){return(0,Cn.zg)(E=>{const{targetSnapshot:x,currentSnapshot:M,guards:{canActivateChecks:W,canDeactivateChecks:ce}}=E;return 0===ce.length&&0===W.length?(0,ke.of)(Object.assign(Object.assign({},E),{guardsResult:!0})):function(C,b,E,x){return(0,ve.D)(C).pipe((0,Cn.zg)(M=>function(C,b,E,x,M){const W=b&&b.routeConfig?b.routeConfig.canDeactivate:null;if(!W||0===W.length)return(0,ke.of)(!0);const ce=W.map(Ae=>{const ot=vo(Ae,b,M);let Et;if(function(C){return C&&Mi(C.canDeactivate)}(ot))Et=Fe(ot.canDeactivate(C,b,E,x));else{if(!Mi(ot))throw new Error("Invalid CanDeactivate guard");Et=Fe(ot(C,b,E,x))}return Et.pipe((0,Kt.P)())});return(0,ke.of)(ce).pipe(ri())}(M.component,M.route,E,b,x)),(0,Kt.P)(M=>!0!==M,!0))}(ce,x,M,C).pipe((0,Cn.zg)(Ae=>Ae&&function(C){return"boolean"==typeof C}(Ae)?function(C,b,E,x){return(0,ve.D)(b).pipe((0,It.b)(M=>(0,Ne.z)(function(C,b){return null!==C&&b&&b(new Vn(C)),(0,ke.of)(!0)}(M.route.parent,x),function(C,b){return null!==C&&b&&b(new ae(C)),(0,ke.of)(!0)}(M.route,x),function(C,b,E){const x=b[b.length-1],W=b.slice(0,b.length-1).reverse().map(ce=>function(C){const b=C.routeConfig?C.routeConfig.canActivateChild:null;return b&&0!==b.length?{node:C,guards:b}:null}(ce)).filter(ce=>null!==ce).map(ce=>st(()=>{const Ae=ce.guards.map(ot=>{const Et=vo(ot,ce.node,E);let Zt;if(function(C){return C&&Mi(C.canActivateChild)}(Et))Zt=Fe(Et.canActivateChild(x,C));else{if(!Mi(Et))throw new Error("Invalid CanActivateChild guard");Zt=Fe(Et(x,C))}return Zt.pipe((0,Kt.P)())});return(0,ke.of)(Ae).pipe(ri())}));return(0,ke.of)(W).pipe(ri())}(C,M.path,E),function(C,b,E){const x=b.routeConfig?b.routeConfig.canActivate:null;if(!x||0===x.length)return(0,ke.of)(!0);const M=x.map(W=>st(()=>{const ce=vo(W,b,E);let Ae;if(function(C){return C&&Mi(C.canActivate)}(ce))Ae=Fe(ce.canActivate(b,C));else{if(!Mi(ce))throw new Error("Invalid CanActivate guard");Ae=Fe(ce(b,C))}return Ae.pipe((0,Kt.P)())}));return(0,ke.of)(M).pipe(ri())}(C,M.route,E))),(0,Kt.P)(M=>!0!==M,!0))}(x,W,C,b):(0,ke.of)(Ae)),(0,ft.U)(Ae=>Object.assign(Object.assign({},E),{guardsResult:Ae})))})}(this.ngModule.injector,Ae=>this.triggerEvent(Ae)),(0,Bt.b)(Ae=>{if(kn(Ae.guardsResult)){const Et=yn(`Redirecting to "${this.serializeUrl(Ae.guardsResult)}"`);throw Et.url=Ae.guardsResult,Et}const ot=new Qn(Ae.id,this.serializeUrl(Ae.extractedUrl),this.serializeUrl(Ae.urlAfterRedirects),Ae.targetSnapshot,!!Ae.guardsResult);this.triggerEvent(ot)}),(0,Xe.h)(Ae=>!!Ae.guardsResult||(this.restoreHistory(Ae),this.cancelNavigationTransition(Ae,""),!1)),Es(Ae=>{if(Ae.guards.canActivateChecks.length)return(0,ke.of)(Ae).pipe((0,Bt.b)(ot=>{const Et=new Yn(ot.id,this.serializeUrl(ot.extractedUrl),this.serializeUrl(ot.urlAfterRedirects),ot.targetSnapshot);this.triggerEvent(Et)}),(0,yr.w)(ot=>{let Et=!1;return(0,ke.of)(ot).pipe(function(C,b){return(0,Cn.zg)(E=>{const{targetSnapshot:x,guards:{canActivateChecks:M}}=E;if(!M.length)return(0,ke.of)(E);let W=0;return(0,ve.D)(M).pipe((0,It.b)(ce=>function(C,b,E,x){return function(C,b,E,x){const M=Object.keys(C);if(0===M.length)return(0,ke.of)({});const W={};return(0,ve.D)(M).pipe((0,Cn.zg)(ce=>function(C,b,E,x){const M=vo(C,b,x);return Fe(M.resolve?M.resolve(b,E):M(b,E))}(C[ce],b,E,x).pipe((0,Bt.b)(Ae=>{W[ce]=Ae}))),zt(1),(0,Cn.zg)(()=>Object.keys(W).length===M.length?(0,ke.of)(W):Ge.E))}(C._resolve,C,b,x).pipe((0,ft.U)(W=>(C._resolvedData=W,C.data=Object.assign(Object.assign({},C.data),us(C,E).resolve),null)))}(ce.route,x,C,b)),(0,Bt.b)(()=>W++),zt(1),(0,Cn.zg)(ce=>W===M.length?(0,ke.of)(E):Ge.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Bt.b)({next:()=>Et=!0,complete:()=>{Et||(this.restoreHistory(ot),this.cancelNavigationTransition(ot,"At least one route resolver didn't emit any value."))}}))}),(0,Bt.b)(ot=>{const Et=new Nt(ot.id,this.serializeUrl(ot.extractedUrl),this.serializeUrl(ot.urlAfterRedirects),ot.targetSnapshot);this.triggerEvent(Et)}))}),Es(Ae=>{const{targetSnapshot:ot,id:Et,extractedUrl:Zt,rawUrl:En,extras:{skipLocationChange:Sr,replaceUrl:or}}=Ae;return this.hooks.afterPreactivation(ot,{navigationId:Et,appliedUrlTree:Zt,rawUrlTree:En,skipLocationChange:!!Sr,replaceUrl:!!or})}),(0,ft.U)(Ae=>{const ot=function(C,b,E){const x=oi(C,b._root,E?E._root:void 0);return new Pr(x,b)}(this.routeReuseStrategy,Ae.targetSnapshot,Ae.currentRouterState);return Object.assign(Object.assign({},Ae),{targetRouterState:ot})}),(0,Bt.b)(Ae=>{this.currentUrlTree=Ae.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,Ae.rawUrl),this.routerState=Ae.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Ae.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Ae),this.browserUrlTree=Ae.urlAfterRedirects)}),((C,b,E)=>(0,ft.U)(x=>(new no(b,x.targetRouterState,x.currentRouterState,E).activate(C),x)))(this.rootContexts,this.routeReuseStrategy,Ae=>this.triggerEvent(Ae)),(0,Bt.b)({next(){W=!0},complete(){W=!0}}),(0,hn.x)(()=>{if(!W&&!ce){const Ae=`Navigation ID ${M.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(M),this.cancelNavigationTransition(M,Ae)):this.cancelNavigationTransition(M,Ae)}this.currentNavigation=null}),(0,Ot.K)(Ae=>{if(ce=!0,function(C){return C&&C[Rt]}(Ae)){const ot=kn(Ae.url);ot||(this.navigated=!0,this.restoreHistory(M,!0));const Et=new rr(M.id,this.serializeUrl(M.extractedUrl),Ae.message);x.next(Et),ot?setTimeout(()=>{const Zt=this.urlHandlingStrategy.merge(Ae.url,this.rawUrlTree),En={skipLocationChange:M.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Qr(M.source)};this.scheduleNavigation(Zt,"imperative",null,En,{resolve:M.resolve,reject:M.reject,promise:M.promise})},0):M.resolve(!1)}else{this.restoreHistory(M,!0);const ot=new br(M.id,this.serializeUrl(M.extractedUrl),Ae);x.next(ot);try{M.resolve(this.errorHandler(Ae))}catch(Et){M.reject(Et)}}return Ge.E}))}))}resetRootComponentType(E){this.rootComponentType=E,this.routerState.root.component=this.rootComponentType}getTransition(){const E=this.transitions.value;return E.urlAfterRedirects=this.browserUrlTree,E}setTransition(E){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),E))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(E=>{const x=this.extractLocationChangeInfoFromEvent(E);this.shouldScheduleNavigation(this.lastLocationChangeInfo,x)&&setTimeout(()=>{const{source:M,state:W,urlTree:ce}=x,Ae={replaceUrl:!0};if(W){const ot=Object.assign({},W);delete ot.navigationId,delete ot.\u0275routerPageId,0!==Object.keys(ot).length&&(Ae.state=ot)}this.scheduleNavigation(ce,M,W,Ae)},0),this.lastLocationChangeInfo=x}))}extractLocationChangeInfoFromEvent(E){var x;return{source:"popstate"===E.type?"popstate":"hashchange",urlTree:this.parseUrl(E.url),state:(null===(x=E.state)||void 0===x?void 0:x.navigationId)?E.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(E,x){if(!E)return!0;const M=x.urlTree.toString()===E.urlTree.toString();return x.transitionId!==E.transitionId||!M||!("hashchange"===x.source&&"popstate"===E.source||"popstate"===x.source&&"hashchange"===E.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(E){this.events.next(E)}resetConfig(E){ma(E),this.config=E.map(gs),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(E,x={}){const{relativeTo:M,queryParams:W,fragment:ce,queryParamsHandling:Ae,preserveFragment:ot}=x,Et=M||this.routerState.root,Zt=ot?this.currentUrlTree.fragment:ce;let En=null;switch(Ae){case"merge":En=Object.assign(Object.assign({},this.currentUrlTree.queryParams),W);break;case"preserve":En=this.currentUrlTree.queryParams;break;default:En=W||null}return null!==En&&(En=this.removeEmptyProps(En)),function(C,b,E,x,M){if(0===E.length)return ht(b.root,b.root,b,x,M);const W=function(C){if("string"==typeof C[0]&&1===C.length&&"/"===C[0])return new Gt(!0,0,C);let b=0,E=!1;const x=C.reduce((M,W,ce)=>{if("object"==typeof W&&null!=W){if(W.outlets){const Ae={};return We(W.outlets,(ot,Et)=>{Ae[Et]="string"==typeof ot?ot.split("/"):ot}),[...M,{outlets:Ae}]}if(W.segmentPath)return[...M,W.segmentPath]}return"string"!=typeof W?[...M,W]:0===ce?(W.split("/").forEach((Ae,ot)=>{0==ot&&"."===Ae||(0==ot&&""===Ae?E=!0:".."===Ae?b++:""!=Ae&&M.push(Ae))}),M):[...M,W]},[]);return new Gt(E,b,x)}(E);if(W.toRoot())return ht(b.root,new Un([],{}),b,x,M);const ce=function(C,b,E){if(C.isAbsolute)return new qr(b.root,!0,0);if(-1===E.snapshot._lastPathIndex){const W=E.snapshot._urlSegment;return new qr(W,W===b.root,0)}const x=Se(C.commands[0])?0:1;return function(C,b,E){let x=C,M=b,W=E;for(;W>M;){if(W-=M,x=x.parent,!x)throw new Error("Invalid number of '../'");M=x.segments.length}return new qr(x,!1,M-W)}(E.snapshot._urlSegment,E.snapshot._lastPathIndex+x,C.numberOfDoubleDots)}(W,b,C),Ae=ce.processChildren?$o(ce.segmentGroup,ce.index,W.commands):go(ce.segmentGroup,ce.index,W.commands);return ht(ce.segmentGroup,Ae,b,x,M)}(Et,this.currentUrlTree,E,En,null!=Zt?Zt:null)}navigateByUrl(E,x={skipLocationChange:!1}){const M=kn(E)?E:this.parseUrl(E),W=this.urlHandlingStrategy.merge(M,this.rawUrlTree);return this.scheduleNavigation(W,"imperative",null,x)}navigate(E,x={skipLocationChange:!1}){return function(C){for(let b=0;b<C.length;b++){const E=C[b];if(null==E)throw new Error(`The requested path contains ${E} segment at index ${b}`)}}(E),this.navigateByUrl(this.createUrlTree(E,x),x)}serializeUrl(E){return this.urlSerializer.serialize(E)}parseUrl(E){let x;try{x=this.urlSerializer.parse(E)}catch(M){x=this.malformedUriErrorHandler(M,this.urlSerializer,E)}return x}isActive(E,x){let M;if(M=!0===x?Object.assign({},Ms):!1===x?Object.assign({},ki):x,kn(E))return Ze(this.currentUrlTree,E,M);const W=this.parseUrl(E);return Ze(this.currentUrlTree,W,M)}removeEmptyProps(E){return Object.keys(E).reduce((x,M)=>{const W=E[M];return null!=W&&(x[M]=W),x},{})}processNavigations(){this.navigations.subscribe(E=>{this.navigated=!0,this.lastSuccessfulId=E.id,this.currentPageId=E.targetPageId,this.events.next(new mn(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,E.resolve(!0)},E=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(E,x,M,W,ce){var Ae,ot;if(this.disposed)return Promise.resolve(!1);const Et=this.getTransition(),Zt=Qr(x)&&Et&&!Qr(Et.source),or=(this.lastSuccessfulId===Et.id||this.currentNavigation?Et.rawUrl:Et.urlAfterRedirects).toString()===E.toString();if(Zt&&or)return Promise.resolve(!0);let Mr,zs,Hi;ce?(Mr=ce.resolve,zs=ce.reject,Hi=ce.promise):Hi=new Promise((Vi,Ko)=>{Mr=Vi,zs=Ko});const wr=++this.navigationId;let ss;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(M=this.location.getState()),ss=M&&M.\u0275routerPageId?M.\u0275routerPageId:W.replaceUrl||W.skipLocationChange?null!==(Ae=this.browserPageId)&&void 0!==Ae?Ae:0:(null!==(ot=this.browserPageId)&&void 0!==ot?ot:0)+1):ss=0,this.setTransition({id:wr,targetPageId:ss,source:x,restoredState:M,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:E,extras:W,resolve:Mr,reject:zs,promise:Hi,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Hi.catch(Vi=>Promise.reject(Vi))}setBrowserUrl(E,x){const M=this.urlSerializer.serialize(E),W=Object.assign(Object.assign({},x.extras.state),this.generateNgRouterState(x.id,x.targetPageId));this.location.isCurrentPathEqualTo(M)||x.extras.replaceUrl?this.location.replaceState(M,"",W):this.location.go(M,"",W)}restoreHistory(E,x=!1){var M,W;if("computed"===this.canceledNavigationResolution){const ce=this.currentPageId-E.targetPageId;"popstate"!==E.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(M=this.currentNavigation)||void 0===M?void 0:M.finalUrl)||0===ce?this.currentUrlTree===(null===(W=this.currentNavigation)||void 0===W?void 0:W.finalUrl)&&0===ce&&(this.resetState(E),this.browserUrlTree=E.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(ce)}else"replace"===this.canceledNavigationResolution&&(x&&this.resetState(E),this.resetUrlToCurrentUrlTree())}resetState(E){this.routerState=E.currentRouterState,this.currentUrlTree=E.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,E.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(E,x){const M=new rr(E.id,this.serializeUrl(E.extractedUrl),x);this.triggerEvent(M),E.resolve(!1)}generateNgRouterState(E,x){return"computed"===this.canceledNavigationResolution?{navigationId:E,\u0275routerPageId:x}:{navigationId:E}}}return C.\u0275fac=function(E){return new(E||C)(L.\u0275\u0275inject(L.Type),L.\u0275\u0275inject(fr),L.\u0275\u0275inject(Ir),L.\u0275\u0275inject(w.Ye),L.\u0275\u0275inject(L.Injector),L.\u0275\u0275inject(L.NgModuleFactoryLoader),L.\u0275\u0275inject(L.Compiler),L.\u0275\u0275inject(void 0))},C.\u0275prov=L.\u0275\u0275defineInjectable({token:C,factory:C.\u0275fac}),C})();function Qr(C){return"imperative"!==C}let is=(()=>{class C{constructor(E,x,M,W,ce){this.router=E,this.route=x,this.commands=[],this.onChanges=new je.xQ,null==M&&W.setAttribute(ce.nativeElement,"tabindex","0")}ngOnChanges(E){this.onChanges.next(this)}set routerLink(E){this.commands=null!=E?Array.isArray(E)?E:[E]:[]}onClick(){const E={skipLocationChange:$i(this.skipLocationChange),replaceUrl:$i(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,E),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:$i(this.preserveFragment)})}}return C.\u0275fac=function(E){return new(E||C)(L.\u0275\u0275directiveInject(Or),L.\u0275\u0275directiveInject(ni),L.\u0275\u0275injectAttribute("tabindex"),L.\u0275\u0275directiveInject(L.Renderer2),L.\u0275\u0275directiveInject(L.ElementRef))},C.\u0275dir=L.\u0275\u0275defineDirective({type:C,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(E,x){1&E&&L.\u0275\u0275listener("click",function(){return x.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[L.\u0275\u0275NgOnChangesFeature]}),C})(),Ks=(()=>{class C{constructor(E,x,M){this.router=E,this.route=x,this.locationStrategy=M,this.commands=[],this.onChanges=new je.xQ,this.subscription=E.events.subscribe(W=>{W instanceof mn&&this.updateTargetUrlAndHref()})}set routerLink(E){this.commands=null!=E?Array.isArray(E)?E:[E]:[]}ngOnChanges(E){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(E,x,M,W,ce){if(0!==E||x||M||W||ce||"string"==typeof this.target&&"_self"!=this.target)return!0;const Ae={skipLocationChange:$i(this.skipLocationChange),replaceUrl:$i(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,Ae),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:$i(this.preserveFragment)})}}return C.\u0275fac=function(E){return new(E||C)(L.\u0275\u0275directiveInject(Or),L.\u0275\u0275directiveInject(ni),L.\u0275\u0275directiveInject(w.S$))},C.\u0275dir=L.\u0275\u0275defineDirective({type:C,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(E,x){1&E&&L.\u0275\u0275listener("click",function(W){return x.onClick(W.button,W.ctrlKey,W.shiftKey,W.altKey,W.metaKey)}),2&E&&(L.\u0275\u0275hostProperty("href",x.href,L.\u0275\u0275sanitizeUrl),L.\u0275\u0275attribute("target",x.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[L.\u0275\u0275NgOnChangesFeature]}),C})();function $i(C){return""===C||!!C}let Ws=(()=>{class C{constructor(E,x,M,W,ce){this.parentContexts=E,this.location=x,this.resolver=M,this.changeDetector=ce,this.activated=null,this._activatedRoute=null,this.activateEvents=new L.EventEmitter,this.deactivateEvents=new L.EventEmitter,this.name=W||$e,E.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const E=this.parentContexts.getContext(this.name);E&&E.route&&(E.attachRef?this.attach(E.attachRef,E.route):this.activateWith(E.route,E.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const E=this.activated;return this.activated=null,this._activatedRoute=null,E}attach(E,x){this.activated=E,this._activatedRoute=x,this.location.insert(E.hostView)}deactivate(){if(this.activated){const E=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(E)}}activateWith(E,x){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=E;const ce=(x=x||this.resolver).resolveComponentFactory(E._futureSnapshot.routeConfig.component),Ae=this.parentContexts.getOrCreateContext(this.name).children,ot=new Is(E,Ae,this.location.injector);this.activated=this.location.createComponent(ce,this.location.length,ot),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return C.\u0275fac=function(E){return new(E||C)(L.\u0275\u0275directiveInject(Ir),L.\u0275\u0275directiveInject(L.ViewContainerRef),L.\u0275\u0275directiveInject(L.ComponentFactoryResolver),L.\u0275\u0275injectAttribute("name"),L.\u0275\u0275directiveInject(L.ChangeDetectorRef))},C.\u0275dir=L.\u0275\u0275defineDirective({type:C,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),C})();class Is{constructor(b,E,x){this.route=b,this.childContexts=E,this.parent=x}get(b,E){return b===ni?this.route:b===Ir?this.childContexts:this.parent.get(b,E)}}class Aa{}class St{preload(b,E){return(0,ke.of)(null)}}let Li=(()=>{class C{constructor(E,x,M,W,ce){this.router=E,this.injector=W,this.preloadingStrategy=ce,this.loader=new Zr(x,M,Et=>E.triggerEvent(new Sn(Et)),Et=>E.triggerEvent(new _r(Et)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,Xe.h)(E=>E instanceof mn),(0,It.b)(()=>this.preload())).subscribe(()=>{})}preload(){const E=this.injector.get(L.NgModuleRef);return this.processRoutes(E,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(E,x){const M=[];for(const W of x)if(W.loadChildren&&!W.canLoad&&W._loadedConfig){const ce=W._loadedConfig;M.push(this.processRoutes(ce.module,ce.routes))}else W.loadChildren&&!W.canLoad?M.push(this.preloadConfig(E,W)):W.children&&M.push(this.processRoutes(E,W.children));return(0,ve.D)(M).pipe((0,Ut.J)(),(0,ft.U)(W=>{}))}preloadConfig(E,x){return this.preloadingStrategy.preload(x,()=>(x._loadedConfig?(0,ke.of)(x._loadedConfig):this.loader.load(E.injector,x)).pipe((0,Cn.zg)(W=>(x._loadedConfig=W,this.processRoutes(W.module,W.routes)))))}}return C.\u0275fac=function(E){return new(E||C)(L.\u0275\u0275inject(Or),L.\u0275\u0275inject(L.NgModuleFactoryLoader),L.\u0275\u0275inject(L.Compiler),L.\u0275\u0275inject(L.Injector),L.\u0275\u0275inject(Aa))},C.\u0275prov=L.\u0275\u0275defineInjectable({token:C,factory:C.\u0275fac}),C})(),Yi=(()=>{class C{constructor(E,x,M={}){this.router=E,this.viewportScroller=x,this.options=M,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},M.scrollPositionRestoration=M.scrollPositionRestoration||"disabled",M.anchorScrolling=M.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(E=>{E instanceof Yt?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=E.navigationTrigger,this.restoredId=E.restoredState?E.restoredState.navigationId:0):E instanceof mn&&(this.lastId=E.id,this.scheduleScrollEvent(E,this.router.parseUrl(E.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(E=>{E instanceof Je&&(E.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(E.position):E.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(E.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(E,x){this.router.triggerEvent(new Je(E,"popstate"===this.lastSource?this.store[this.restoredId]:null,x))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return C.\u0275fac=function(E){return new(E||C)(L.\u0275\u0275inject(Or),L.\u0275\u0275inject(w.EM),L.\u0275\u0275inject(void 0))},C.\u0275prov=L.\u0275\u0275defineInjectable({token:C,factory:C.\u0275fac}),C})();const Jt=new L.InjectionToken("ROUTER_CONFIGURATION"),Fn=new L.InjectionToken("ROUTER_FORROOT_GUARD"),jt=[w.Ye,{provide:fr,useClass:mi},{provide:Or,useFactory:function(C,b,E,x,M,W,ce,Ae={},ot,Et){const Zt=new Or(null,C,b,E,x,M,W,pe(ce));return ot&&(Zt.urlHandlingStrategy=ot),Et&&(Zt.routeReuseStrategy=Et),function(C,b){C.errorHandler&&(b.errorHandler=C.errorHandler),C.malformedUriErrorHandler&&(b.malformedUriErrorHandler=C.malformedUriErrorHandler),C.onSameUrlNavigation&&(b.onSameUrlNavigation=C.onSameUrlNavigation),C.paramsInheritanceStrategy&&(b.paramsInheritanceStrategy=C.paramsInheritanceStrategy),C.relativeLinkResolution&&(b.relativeLinkResolution=C.relativeLinkResolution),C.urlUpdateStrategy&&(b.urlUpdateStrategy=C.urlUpdateStrategy)}(Ae,Zt),Ae.enableTracing&&Zt.events.subscribe(En=>{var Sr,or;null===(Sr=console.group)||void 0===Sr||Sr.call(console,`Router Event: ${En.constructor.name}`),console.log(En.toString()),console.log(En),null===(or=console.groupEnd)||void 0===or||or.call(console)}),Zt},deps:[fr,Ir,w.Ye,L.Injector,L.NgModuleFactoryLoader,L.Compiler,so,Jt,[class{},new L.Optional],[class{},new L.Optional]]},Ir,{provide:ni,useFactory:function(C){return C.routerState.root},deps:[Or]},{provide:L.NgModuleFactoryLoader,useClass:L.SystemJsNgModuleLoader},Li,St,class{preload(b,E){return E().pipe((0,Ot.K)(()=>(0,ke.of)(null)))}},{provide:Jt,useValue:{enableTracing:!1}}];function tt(){return new L.NgProbeToken("Router",Or)}let gt=(()=>{class C{constructor(E,x){}static forRoot(E,x){return{ngModule:C,providers:[jt,ya(E),{provide:Fn,useFactory:Ra,deps:[[Or,new L.Optional,new L.SkipSelf]]},{provide:Jt,useValue:x||{}},{provide:w.S$,useFactory:ws,deps:[w.lw,[new L.Inject(w.mr),new L.Optional],Jt]},{provide:Yi,useFactory:Fi,deps:[Or,w.EM,Jt]},{provide:Aa,useExisting:x&&x.preloadingStrategy?x.preloadingStrategy:St},{provide:L.NgProbeToken,multi:!0,useFactory:tt},[xa,{provide:L.APP_INITIALIZER,multi:!0,useFactory:La,deps:[xa]},{provide:Si,useFactory:ru,deps:[xa]},{provide:L.APP_BOOTSTRAP_LISTENER,multi:!0,useExisting:Si}]]}}static forChild(E){return{ngModule:C,providers:[ya(E)]}}}return C.\u0275fac=function(E){return new(E||C)(L.\u0275\u0275inject(Fn,8),L.\u0275\u0275inject(Or,8))},C.\u0275mod=L.\u0275\u0275defineNgModule({type:C}),C.\u0275inj=L.\u0275\u0275defineInjector({}),C})();function Fi(C,b,E){return E.scrollOffset&&b.setOffset(E.scrollOffset),new Yi(C,b,E)}function ws(C,b,E={}){return E.useHash?new w.Do(C,b):new w.b0(C,b)}function Ra(C){return"guarded"}function ya(C){return[{provide:L.ANALYZE_FOR_ENTRY_COMPONENTS,multi:!0,useValue:C},{provide:so,multi:!0,useValue:C}]}let xa=(()=>{class C{constructor(E){this.injector=E,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new je.xQ}appInitializer(){return this.injector.get(w.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let x=null;const M=new Promise(Ae=>x=Ae),W=this.injector.get(Or),ce=this.injector.get(Jt);return"disabled"===ce.initialNavigation?(W.setUpLocationChangeListener(),x(!0)):"enabled"===ce.initialNavigation||"enabledBlocking"===ce.initialNavigation?(W.hooks.afterPreactivation=()=>this.initNavigation?(0,ke.of)(null):(this.initNavigation=!0,x(!0),this.resultOfPreactivationDone),W.initialNavigation()):x(!0),M})}bootstrapListener(E){const x=this.injector.get(Jt),M=this.injector.get(Li),W=this.injector.get(Yi),ce=this.injector.get(Or),Ae=this.injector.get(L.ApplicationRef);E===Ae.components[0]&&(("enabledNonBlocking"===x.initialNavigation||void 0===x.initialNavigation)&&ce.initialNavigation(),M.setUpPreloading(),W.init(),ce.resetRootComponentType(Ae.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return C.\u0275fac=function(E){return new(E||C)(L.\u0275\u0275inject(L.Injector))},C.\u0275prov=L.\u0275\u0275defineInjectable({token:C,factory:C.\u0275fac}),C})();function La(C){return C.appInitializer.bind(C)}function ru(C){return C.bootstrapListener.bind(C)}const Si=new L.InjectionToken("Router Initializer")},9665:(Mt,Be,F)=>{"use strict";F.d(Be,{u7:()=>Af,Jj:()=>bu,IX:()=>If,my:()=>Oi,xU:()=>cl,Lz:()=>wu,WA:()=>gt,F8:()=>bf,$q:()=>nh,W:()=>Yo,EK:()=>x,PU:()=>_y,l7:()=>bs,Ky:()=>Xt,Xb:()=>En,Cf:()=>Fr,K9:()=>nu,Me:()=>or,yq:()=>Yi,Wi:()=>Ym,ET:()=>gg,Ab:()=>Cy,vr:()=>Ty,Fc:()=>ql,hJ:()=>Qd,B$:()=>B_,at:()=>Ef,oe:()=>Iy,AK:()=>by,TF:()=>Zp,JU:()=>ty,ST:()=>zl,fH:()=>Gl,Ix:()=>Ql,Wu:()=>ih,Lx:()=>ug,qY:()=>qi,GL:()=>nd,QT:()=>dg,kl:()=>uI,Xk:()=>Y_,PL:()=>hg,UQ:()=>fg,zN:()=>vy,nP:()=>vg,b9:()=>gy,vh:()=>Z_,Pb:()=>Qp,L$:()=>Yp,cf:()=>mg,sc:()=>yg,Xo:()=>q_,IO:()=>rh,iE:()=>Xa,Eo:()=>qp,i3:()=>_g,Bt:()=>J_,pl:()=>Ey,Ub:()=>Sc,qK:()=>ly,TQ:()=>my,e0:()=>Q_,r7:()=>pg,Mx:()=>Zl,ar:()=>hy});var ee,w=F(1921),L=F(4762),z=F(3552),be=F(1773),oe=F(9870),te="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},De={},Te=Te||{},Q=te||self;function ne(){}function J(s){var e=typeof s;return"array"==(e="object"!=e?e:s?Array.isArray(s)?"array":e:"null")||"object"==e&&"number"==typeof s.length}function ve(s){var e=typeof s;return"object"==e&&null!=s||"function"==e}var st="closure_uid_"+(1e9*Math.random()>>>0),ke=0;function Ke(s,e,i){return s.call.apply(s.bind,arguments)}function Pe(s,e,i){if(!s)throw Error();if(2<arguments.length){var a=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,a),s.apply(e,c)}}return function(){return s.apply(e,arguments)}}function Ne(s,e,i){return(Ne=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ke:Pe).apply(null,arguments)}function Ie(s,e){var i=Array.prototype.slice.call(arguments,1);return function(){var a=i.slice();return a.push.apply(a,arguments),s.apply(this,a)}}function je(s,e){function i(){}i.prototype=e.prototype,s.Z=e.prototype,s.prototype=new i,s.prototype.constructor=s,s.Vb=function(a,c,p){for(var I=Array(arguments.length-2),S=2;S<arguments.length;S++)I[S-2]=arguments[S];return e.prototype[c].apply(a,I)}}function Xe(){this.s=this.s,this.o=this.o}var cn={};Xe.prototype.s=!1,Xe.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var s=function(s){return Object.prototype.hasOwnProperty.call(s,st)&&s[st]||(s[st]=++ke)}(this);delete cn[s]}},Xe.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const zt=Array.prototype.indexOf?function(s,e){return Array.prototype.indexOf.call(s,e,void 0)}:function(s,e){if("string"==typeof s)return"string"!=typeof e||1!=e.length?-1:s.indexOf(e,0);for(let i=0;i<s.length;i++)if(i in s&&s[i]===e)return i;return-1},en=Array.prototype.forEach?function(s,e,i){Array.prototype.forEach.call(s,e,i)}:function(s,e,i){const a=s.length,c="string"==typeof s?s.split(""):s;for(let p=0;p<a;p++)p in c&&e.call(i,c[p],p,s)};function Qt(s){return Array.prototype.concat.apply([],arguments)}function Ht(s){const e=s.length;if(0<e){const i=Array(e);for(let a=0;a<e;a++)i[a]=s[a];return i}return[]}function Ft(s){return/^[\s\xa0]*$/.test(s)}var Zn,In=String.prototype.trim?function(s){return s.trim()}:function(s){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(s)[1]};function ft(s,e){return-1!=s.indexOf(e)}function yr(s,e){return s<e?-1:s>e?1:0}e:{var Rr=Q.navigator;if(Rr){var pi=Rr.userAgent;if(pi){Zn=pi;break e}}Zn=""}function Ot(s,e,i){for(const a in s)e.call(i,s[a],a,s)}function It(s){const e={};for(const i in s)e[i]=s[i];return e}var Kt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Cn(s,e){let i,a;for(let c=1;c<arguments.length;c++){for(i in a=arguments[c],a)s[i]=a[i];for(let p=0;p<Kt.length;p++)i=Kt[p],Object.prototype.hasOwnProperty.call(a,i)&&(s[i]=a[i])}}function Bt(s){return Bt[" "](s),s}Bt[" "]=ne;var cr,s,hn=ft(Zn,"Opera"),Ut=ft(Zn,"Trident")||ft(Zn,"MSIE"),Dn=ft(Zn,"Edge"),Yt=Dn||Ut,mn=ft(Zn,"Gecko")&&!(ft(Zn.toLowerCase(),"webkit")&&!ft(Zn,"Edge"))&&!(ft(Zn,"Trident")||ft(Zn,"MSIE"))&&!ft(Zn,"Edge"),rr=ft(Zn.toLowerCase(),"webkit")&&!ft(Zn,"Edge");function br(){var s=Q.document;return s?s.documentMode:void 0}e:{var ct="",Qn=(s=Zn,mn?/rv:([^\);]+)(\)|;)/.exec(s):Dn?/Edge\/([\d\.]+)/.exec(s):Ut?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(s):rr?/WebKit\/(\S+)/.exec(s):hn?/(?:Version)[ \/]?(\S+)/.exec(s):void 0);if(Qn&&(ct=Qn?Qn[1]:""),Ut){var Yn=br();if(null!=Yn&&Yn>parseFloat(ct)){cr=String(Yn);break e}}cr=ct}var Nt={};function Sn(){return e=Nt,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let s=0;const e=In(String(cr)).split("."),i=In("9").split("."),a=Math.max(e.length,i.length);for(let I=0;0==s&&I<a;I++){var c=e[I]||"",p=i[I]||"";do{if(c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],p=/(\d*)(\D*)(.*)/.exec(p)||["","","",""],0==c[0].length&&0==p[0].length)break;s=yr(0==c[1].length?0:parseInt(c[1],10),0==p[1].length?0:parseInt(p[1],10))||yr(0==c[2].length,0==p[2].length)||yr(c[2],p[2]),c=c[3],p=p[3]}while(0==s)}return 0<=s}();var e}var Le=Q.document&&Ut&&(br()||parseInt(cr,10))||void 0,ae=function(){if(!Q.addEventListener||!Object.defineProperty)return!1;var s=!1,e=Object.defineProperty({},"passive",{get:function(){s=!0}});try{Q.addEventListener("test",ne,e),Q.removeEventListener("test",ne,e)}catch(i){}return s}();function de(s,e){this.type=s,this.g=this.target=e,this.defaultPrevented=!1}function Je(s,e){if(de.call(this,s?s.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,s){var i=this.type=s.type,a=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.g=e,e=s.relatedTarget){if(mn){e:{try{Bt(e.nodeName);var c=!0;break e}catch(p){}c=!1}c||(e=null)}}else"mouseover"==i?e=s.fromElement:"mouseout"==i&&(e=s.toElement);this.relatedTarget=e,a?(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.key=s.key||"",this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType="string"==typeof s.pointerType?s.pointerType:$e[s.pointerType]||"",this.state=s.state,this.i=s,s.defaultPrevented&&Je.Z.h.call(this)}}de.prototype.h=function(){this.defaultPrevented=!0},je(Je,de);var $e={2:"touch",3:"pen",4:"mouse"};Je.prototype.h=function(){Je.Z.h.call(this);var s=this.i;s.preventDefault?s.preventDefault():s.returnValue=!1};var bt="closure_listenable_"+(1e6*Math.random()|0),at=0;function Rt(s,e,i,a,c){this.listener=s,this.proxy=null,this.src=e,this.type=i,this.capture=!!a,this.ia=c,this.key=++at,this.ca=this.fa=!1}function yn(s){s.ca=!0,s.listener=null,s.proxy=null,s.src=null,s.ia=null}function Xn(s){this.src=s,this.g={},this.h=0}function Nn(s,e){var i=e.type;if(i in s.g){var p,a=s.g[i],c=zt(a,e);(p=0<=c)&&Array.prototype.splice.call(a,c,1),p&&(yn(e),0==s.g[i].length&&(delete s.g[i],s.h--))}}function an(s,e,i,a){for(var c=0;c<s.length;++c){var p=s[c];if(!p.ca&&p.listener==e&&p.capture==!!i&&p.ia==a)return c}return-1}Xn.prototype.add=function(s,e,i,a,c){var p=s.toString();(s=this.g[p])||(s=this.g[p]=[],this.h++);var I=an(s,e,a,c);return-1<I?(e=s[I],i||(e.fa=!1)):((e=new Rt(e,this.src,p,!!a,c)).fa=i,s.push(e)),e};var Bn="closure_lm_"+(1e6*Math.random()|0),An={};function pe(s,e,i,a,c){if(a&&a.once)return We(s,e,i,a,c);if(Array.isArray(e)){for(var p=0;p<e.length;p++)pe(s,e[p],i,a,c);return null}return i=fn(i),s&&s[bt]?s.N(e,i,ve(a)?!!a.capture:!!a,c):ue(s,e,i,!1,a,c)}function ue(s,e,i,a,c,p){if(!e)throw Error("Invalid event type");var I=ve(c)?!!c.capture:!!c,S=Ze(s);if(S||(s[Bn]=S=new Xn(s)),(i=S.add(e,i,a,I,p)).proxy)return i;if(a=function(){var e=ie;return function s(i){return e.call(s.src,s.listener,i)}}(),i.proxy=a,a.src=s,a.listener=i,s.addEventListener)ae||(c=I),void 0===c&&(c=!1),s.addEventListener(e.toString(),a,c);else if(s.attachEvent)s.attachEvent(H(e.toString()),a);else{if(!s.addListener||!s.removeListener)throw Error("addEventListener and attachEvent are unavailable.");s.addListener(a)}return i}function We(s,e,i,a,c){if(Array.isArray(e)){for(var p=0;p<e.length;p++)We(s,e[p],i,a,c);return null}return i=fn(i),s&&s[bt]?s.O(e,i,ve(a)?!!a.capture:!!a,c):ue(s,e,i,!0,a,c)}function Fe(s,e,i,a,c){if(Array.isArray(e))for(var p=0;p<e.length;p++)Fe(s,e[p],i,a,c);else a=ve(a)?!!a.capture:!!a,i=fn(i),s&&s[bt]?(s=s.i,(e=String(e).toString())in s.g&&-1<(i=an(p=s.g[e],i,a,c))&&(yn(p[i]),Array.prototype.splice.call(p,i,1),0==p.length&&(delete s.g[e],s.h--))):s&&(s=Ze(s))&&(e=s.g[e.toString()],s=-1,e&&(s=an(e,i,a,c)),(i=-1<s?e[s]:null)&&Me(i))}function Me(s){if("number"!=typeof s&&s&&!s.ca){var e=s.src;if(e&&e[bt])Nn(e.i,s);else{var i=s.type,a=s.proxy;e.removeEventListener?e.removeEventListener(i,a,s.capture):e.detachEvent?e.detachEvent(H(i),a):e.addListener&&e.removeListener&&e.removeListener(a),(i=Ze(e))?(Nn(i,s),0==i.h&&(i.src=null,e[Bn]=null)):yn(s)}}}function H(s){return s in An?An[s]:An[s]="on"+s}function ie(s,e){if(s.ca)s=!0;else{e=new Je(e,this);var i=s.listener,a=s.ia||s.src;s.fa&&Me(s),s=i.call(a,e)}return s}function Ze(s){return(s=s[Bn])instanceof Xn?s:null}var mt="__closure_events_fn_"+(1e9*Math.random()>>>0);function fn(s){return"function"==typeof s?s:(s[mt]||(s[mt]=function(e){return s.handleEvent(e)}),s[mt])}function $t(){Xe.call(this),this.i=new Xn(this),this.P=this,this.I=null}function _n(s,e){var i,a=s.I;if(a)for(i=[];a;a=a.I)i.push(a);if(s=s.P,a=e.type||e,"string"==typeof e)e=new de(e,s);else if(e instanceof de)e.target=e.target||s;else{var c=e;Cn(e=new de(a,s),c)}if(c=!0,i)for(var p=i.length-1;0<=p;p--){var I=e.g=i[p];c=jr(I,a,!0,e)&&c}if(c=jr(I=e.g=s,a,!0,e)&&c,c=jr(I,a,!1,e)&&c,i)for(p=0;p<i.length;p++)c=jr(I=e.g=i[p],a,!1,e)&&c}function jr(s,e,i,a){if(!(e=s.i.g[String(e)]))return!0;e=e.concat();for(var c=!0,p=0;p<e.length;++p){var I=e[p];if(I&&!I.ca&&I.capture==i){var S=I.listener,j=I.ia||I.src;I.fa&&Nn(s.i,I),c=!1!==S.call(j,a)&&c}}return c&&!a.defaultPrevented}je($t,Xe),$t.prototype[bt]=!0,$t.prototype.removeEventListener=function(s,e,i,a){Fe(this,s,e,i,a)},$t.prototype.M=function(){if($t.Z.M.call(this),this.i){var e,s=this.i;for(e in s.g){for(var i=s.g[e],a=0;a<i.length;a++)yn(i[a]);delete s.g[e],s.h--}}this.I=null},$t.prototype.N=function(s,e,i,a){return this.i.add(String(s),e,!1,i,a)},$t.prototype.O=function(s,e,i,a){return this.i.add(String(s),e,!0,i,a)};var Wr=Q.JSON.stringify;function xr(){var s=Br;let e=null;return s.g&&(e=s.g,s.g=s.g.next,s.g||(s.h=null),e.next=null),e}var fr,gi=new class{constructor(s,e){this.i=s,this.j=e,this.h=0,this.g=null}get(){let s;return 0<this.h?(this.h--,s=this.g,this.g=s.next,s.next=null):s=this.i(),s}}(()=>new eo,s=>s.reset());class eo{constructor(){this.next=this.g=this.h=null}set(e,i){this.h=e,this.g=i,this.next=null}reset(){this.next=this.g=this.h=null}}function zr(s){Q.setTimeout(()=>{throw s},0)}function Nr(s,e){fr||function(){var s=Q.Promise.resolve(void 0);fr=function(){s.then(ar)}}(),Yr||(fr(),Yr=!0),Br.add(s,e)}var Yr=!1,Br=new class{constructor(){this.h=this.g=null}add(e,i){const a=gi.get();a.set(e,i),this.h?this.h.next=a:this.g=a,this.h=a}};function ar(){for(var s;s=xr();){try{s.h.call(s.g)}catch(i){zr(i)}var e=gi;e.j(s),100>e.h&&(e.h++,s.next=e.g,e.g=s)}Yr=!1}function At(s,e){$t.call(this),this.h=s||1,this.g=e||Q,this.j=Ne(this.kb,this),this.l=Date.now()}function wn(s){s.da=!1,s.S&&(s.g.clearTimeout(s.S),s.S=null)}function er(s,e,i){if("function"==typeof s)i&&(s=Ne(s,i));else{if(!s||"function"!=typeof s.handleEvent)throw Error("Invalid listener argument");s=Ne(s.handleEvent,s)}return 2147483647<Number(e)?-1:Q.setTimeout(s,e||0)}function ti(s){s.g=er(()=>{s.g=null,s.i&&(s.i=!1,ti(s))},s.j);const e=s.h;s.h=null,s.m.apply(null,e)}je(At,$t),(ee=At.prototype).da=!1,ee.S=null,ee.kb=function(){if(this.da){var s=Date.now()-this.l;0<s&&s<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-s):(this.S&&(this.g.clearTimeout(this.S),this.S=null),_n(this,"tick"),this.da&&(wn(this),this.start()))}},ee.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ee.M=function(){At.Z.M.call(this),wn(this),delete this.g};class ji extends Xe{constructor(e,i){super(),this.m=e,this.j=i,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ti(this)}M(){super.M(),this.g&&(Q.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tr(s){Xe.call(this),this.h=s,this.g={}}je(Tr,Xe);var si=[];function pr(s,e,i,a){Array.isArray(i)||(i&&(si[0]=i.toString()),i=si);for(var c=0;c<i.length;c++){var p=pe(e,i[c],a||s.handleEvent,!1,s.h||s);if(!p)break;s.g[p.key]=p}}function yi(s){Ot(s.g,function(e,i){this.g.hasOwnProperty(i)&&Me(e)},s),s.g={}}function Zi(){this.g=!0}function Ee(s,e,i,a){s.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(s,e){if(!s.g)return e;if(!e)return null;try{var i=JSON.parse(e);if(i)for(s=0;s<i.length;s++)if(Array.isArray(i[s])){var a=i[s];if(!(2>a.length)){var c=a[1];if(Array.isArray(c)&&!(1>c.length)){var p=c[0];if("noop"!=p&&"stop"!=p&&"close"!=p)for(var I=1;I<c.length;I++)c[I]=""}}}return Wr(i)}catch(S){return e}}(s,i)+(a?" "+a:"")})}Tr.prototype.M=function(){Tr.Z.M.call(this),yi(this)},Tr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Zi.prototype.Aa=function(){this.g=!1},Zi.prototype.info=function(){};var it={},un=null;function bn(){return un=un||new $t}function Hn(s){de.call(this,it.Ma,s)}function ln(s){const e=bn();_n(e,new Hn(e,s))}function es(s,e){de.call(this,it.STAT_EVENT,s),this.stat=e}function Pr(s){const e=bn();_n(e,new es(e,s))}function as(s,e){de.call(this,it.Na,s),this.size=e}function Bs(s,e){if("function"!=typeof s)throw Error("Fn must not be null and must be a function");return Q.setTimeout(function(){s()},e)}it.Ma="serverreachability",je(Hn,de),it.STAT_EVENT="statevent",je(es,de),it.Na="timingevent",je(as,de);var ni={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},us={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ts(){}function Ao(){}ts.prototype.h=null;var Bi,lr={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function vr(){de.call(this,"d")}function $s(){de.call(this,"c")}function hs(){}function oi(s,e,i,a){this.l=s,this.j=e,this.m=i,this.X=a||1,this.V=new Tr(this),this.P=to,this.W=new At(s=Yt?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Qi}function Qi(){this.i=null,this.g="",this.h=!1}je(vr,de),je($s,de),je(hs,ts),hs.prototype.g=function(){return new XMLHttpRequest},hs.prototype.i=function(){return{}},Bi=new hs;var to=45e3,Bo={},Re={};function Se(s,e,i){s.K=1,s.v=rs(ai(e)),s.s=i,s.U=!0,qe(s,null)}function qe(s,e){s.F=Date.now(),ir(s),s.A=ai(s.v);var i=s.A,a=s.X;Array.isArray(a)||(a=[String(a)]),Z(i.h,"t",a),s.C=0,i=s.l.H,s.h=new Qi,s.g=Zr(s.l,i?e:null,!s.s),0<s.O&&(s.L=new ji(Ne(s.Ia,s,s.g),s.O)),pr(s.V,s.g,"readystatechange",s.gb),e=s.H?It(s.H):{},s.s?(s.u||(s.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",s.g.ea(s.A,s.u,s.s,e)):(s.u="GET",s.g.ea(s.A,s.u,null,e)),ln(1),function(s,e,i,a,c,p){s.info(function(){if(s.g)if(p)for(var I="",S=p.split("&"),j=0;j<S.length;j++){var q=S[j].split("=");if(1<q.length){var ge=q[0];q=q[1];var Ce=ge.split("_");I=2<=Ce.length&&"type"==Ce[1]?I+(ge+"=")+q+"&":I+(ge+"=redacted&")}}else I=null;else I=p;return"XMLHTTP REQ ("+a+") [attempt "+c+"]: "+e+"\n"+i+"\n"+I})}(s.j,s.u,s.A,s.m,s.X,s.s)}function ht(s){return!!s.g&&"GET"==s.u&&2!=s.K&&s.l.Ba}function Tt(s,e,i){let c,a=!0;for(;!s.I&&s.C<i.length;){if(c=Gt(s,i),c==Re){4==e&&(s.o=4,Pr(14),a=!1),Ee(s.j,s.m,null,"[Incomplete Response]");break}if(c==Bo){s.o=4,Pr(15),Ee(s.j,s.m,i,"[Invalid Chunk]"),a=!1;break}Ee(s.j,s.m,c,null),go(s,c)}ht(s)&&c!=Re&&c!=Bo&&(s.h.g="",s.C=0),4!=e||0!=i.length||s.h.h||(s.o=1,Pr(16),a=!1),s.i=s.i&&a,a?0<i.length&&!s.aa&&(s.aa=!0,(e=s.l).g==s&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+i.length),ls(e),e.L=!0,Pr(11))):(Ee(s.j,s.m,i,"[Invalid Chunked Response]"),fs(s),bi(s))}function Gt(s,e){var i=s.C,a=e.indexOf("\n",i);return-1==a?Re:(i=Number(e.substring(i,a)),isNaN(i)?Bo:(a+=1)+i>e.length?Re:(e=e.substr(a,i),s.C=a+i,e))}function ir(s){s.Y=Date.now()+s.P,qr(s,s.P)}function qr(s,e){if(null!=s.B)throw Error("WatchDog timer not null");s.B=Bs(Ne(s.eb,s),e)}function Pn(s){s.B&&(Q.clearTimeout(s.B),s.B=null)}function bi(s){0==s.l.G||s.I||Es(s.l,s)}function fs(s){Pn(s);var e=s.L;e&&"function"==typeof e.na&&e.na(),s.L=null,wn(s.W),yi(s.V),s.g&&(e=s.g,s.g=null,e.abort(),e.na())}function go(s,e){try{var i=s.l;if(0!=i.G&&(i.g==s||On(i.i,s)))if(i.I=s.N,!s.J&&On(i.i,s)&&3==i.G){try{var a=i.Ca.g.parse(e)}catch(q){a=null}if(Array.isArray(a)&&3==a.length){var c=a;if(0==c[0])e:if(i.u)i.ta=c[1],0<i.ta-i.U&&37500>c[2]&&i.N&&0==i.A&&!i.v&&(i.v=Bs(Ne(i.ab,i),6e3));else{if(i.g){if(!(i.g.F+3e3<s.F))break e;ci(i),qt(i)}ui(i),Pr(18)}if(1>=dr(i.i)&&i.ka){try{i.ka()}catch(q){}i.ka=void 0}}else ii(i,11)}else if((s.J||i.g==s)&&ci(i),!Ft(e))for(c=i.Ca.g.parse(e),e=0;e<c.length;e++){let q=c[e];if(i.U=q[0],q=q[1],2==i.G)if("c"==q[0]){i.J=q[1],i.la=q[2];const ge=q[3];null!=ge&&(i.ma=ge,i.h.info("VER="+i.ma));const Ce=q[4];null!=Ce&&(i.za=Ce,i.h.info("SVER="+i.za));const et=q[5];null!=et&&"number"==typeof et&&0<et&&(i.K=a=1.5*et,i.h.info("backChannelRequestTimeoutMs_="+a)),a=i;const _t=s.g;if(_t){const Dt=_t.g?_t.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Dt){var p=a.i;!p.g&&(ft(Dt,"spdy")||ft(Dt,"quic")||ft(Dt,"h2"))&&(p.j=p.l,p.g=new Set,p.h&&(sr(p,p.h),p.h=null))}if(a.D){const Tn=_t.g?_t.g.getResponseHeader("X-HTTP-Session-Id"):null;Tn&&(a.sa=Tn,kn(a.F,a.D,Tn))}}i.G=3,i.j&&i.j.xa(),i.$&&(i.O=Date.now()-s.F,i.h.info("Handshake RTT: "+i.O+"ms"));var I=s;if((a=i).oa=so(a,a.H?a.la:null,a.W),I.J){Er(a.i,I);var S=I,j=a.K;j&&S.setTimeout(j),S.B&&(Pn(S),ir(S)),a.g=I}else _i(a);0<i.l.length&&pn(i)}else"stop"!=q[0]&&"close"!=q[0]||ii(i,7);else 3==i.G&&("stop"==q[0]||"close"==q[0]?"stop"==q[0]?ii(i,7):wt(i):"noop"!=q[0]&&i.j&&i.j.wa(q),i.A=0)}ln(4)}catch(q){}}function Xo(s,e){if(s.forEach&&"function"==typeof s.forEach)s.forEach(e,void 0);else if(J(s)||"string"==typeof s)en(s,e,void 0);else{if(s.T&&"function"==typeof s.T)var i=s.T();else if(s.R&&"function"==typeof s.R)i=void 0;else if(J(s)||"string"==typeof s){i=[];for(var a=s.length,c=0;c<a;c++)i.push(c)}else for(c in i=[],a=0,s)i[a++]=c;c=(a=function(s){if(s.R&&"function"==typeof s.R)return s.R();if("string"==typeof s)return s.split("");if(J(s)){for(var e=[],i=s.length,a=0;a<i;a++)e.push(s[a]);return e}for(a in e=[],i=0,s)e[i++]=s[a];return e}(s)).length;for(var p=0;p<c;p++)e.call(void 0,a[p],i&&i[p],s)}}function ps(s,e){this.h={},this.g=[],this.i=0;var i=arguments.length;if(1<i){if(i%2)throw Error("Uneven number of arguments");for(var a=0;a<i;a+=2)this.set(arguments[a],arguments[a+1])}else if(s)if(s instanceof ps)for(i=s.T(),a=0;a<i.length;a++)this.set(i[a],s.get(i[a]));else for(a in s)this.set(a,s[a])}function Hs(s){if(s.i!=s.g.length){for(var e=0,i=0;e<s.g.length;){var a=s.g[e];ns(s.h,a)&&(s.g[i++]=a),e++}s.g.length=i}if(s.i!=s.g.length){var c={};for(i=e=0;e<s.g.length;)ns(c,a=s.g[e])||(s.g[i++]=a,c[a]=1),e++;s.g.length=i}}function ns(s,e){return Object.prototype.hasOwnProperty.call(s,e)}(ee=oi.prototype).setTimeout=function(s){this.P=s},ee.gb=function(s){s=s.target;const e=this.L;e&&3==U(s)?e.l():this.Ia(s)},ee.Ia=function(s){try{if(s==this.g)e:{const ge=U(this.g);var e=this.g.Da();const Ce=this.g.ba();if(!(3>ge)&&(3!=ge||Yt||this.g&&(this.h.h||this.g.ga()||X(this.g)))){this.I||4!=ge||7==e||ln(8==e||0>=Ce?3:2),Pn(this);var i=this.g.ba();this.N=i;t:if(ht(this)){var a=X(this.g);s="";var c=a.length,p=4==U(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){fs(this),bi(this);var I="";break t}this.h.i=new Q.TextDecoder}for(e=0;e<c;e++)this.h.h=!0,s+=this.h.i.decode(a[e],{stream:p&&e==c-1});a.splice(0,c),this.h.g+=s,this.C=0,I=this.h.g}else I=this.g.ga();if(this.i=200==i,function(s,e,i,a,c,p,I){s.info(function(){return"XMLHTTP RESP ("+a+") [ attempt "+c+"]: "+e+"\n"+i+"\n"+p+" "+I})}(this.j,this.u,this.A,this.m,this.X,ge,i),this.i){if(this.$&&!this.J){t:{if(this.g){var S,j=this.g;if((S=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ft(S)){var q=S;break t}}q=null}if(!(i=q)){this.i=!1,this.o=3,Pr(12),fs(this),bi(this);break e}Ee(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,go(this,i)}this.U?(Tt(this,ge,I),Yt&&this.i&&3==ge&&(pr(this.V,this.W,"tick",this.fb),this.W.start())):(Ee(this.j,this.m,I,null),go(this,I)),4==ge&&fs(this),this.i&&!this.I&&(4==ge?Es(this.l,this):(this.i=!1,ir(this)))}else 400==i&&0<I.indexOf("Unknown SID")?(this.o=3,Pr(12)):(this.o=0,Pr(13)),fs(this),bi(this)}}}catch(ge){}},ee.fb=function(){if(this.g){var s=U(this.g),e=this.g.ga();this.C<e.length&&(Pn(this),Tt(this,s,e),this.i&&4!=s&&ir(this))}},ee.cancel=function(){this.I=!0,fs(this)},ee.eb=function(){this.B=null;const s=Date.now();0<=s-this.Y?(function(s,e){s.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(ln(3),Pr(17)),fs(this),this.o=2,bi(this)):qr(this,this.Y-s)},(ee=ps.prototype).R=function(){Hs(this);for(var s=[],e=0;e<this.g.length;e++)s.push(this.h[this.g[e]]);return s},ee.T=function(){return Hs(this),this.g.concat()},ee.get=function(s,e){return ns(this.h,s)?this.h[s]:e},ee.set=function(s,e){ns(this.h,s)||(this.i++,this.g.push(s)),this.h[s]=e},ee.forEach=function(s,e){for(var i=this.T(),a=0;a<i.length;a++){var c=i[a],p=this.get(c);s.call(e,p,c,this)}};var mo=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function no(s,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,s instanceof no){this.g=void 0!==e?e:s.g,Rs(this,s.j),this.s=s.s,Ti(this,s.i),Mi(this,s.m),this.l=s.l,e=s.h;var i=new Ci;i.i=e.i,e.g&&(i.g=new ps(e.g),i.h=e.h),ka(this,i),this.o=s.o}else s&&(i=String(s).match(mo))?(this.g=!!e,Rs(this,i[1]||"",!0),this.s=xs(i[2]||""),Ti(this,i[3]||"",!0),Mi(this,i[4]),this.l=xs(i[5]||"",!0),ka(this,i[6]||"",!0),this.o=xs(i[7]||"")):(this.g=!!e,this.h=new Ci(null,this.g))}function ai(s){return new no(s)}function Rs(s,e,i){s.j=i?xs(e,!0):e,s.j&&(s.j=s.j.replace(/:$/,""))}function Ti(s,e,i){s.i=i?xs(e,!0):e}function Mi(s,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);s.m=e}else s.m=null}function ka(s,e,i){e instanceof Ci?(s.h=e,function(s,e){e&&!s.j&&(N(s),s.i=null,s.g.forEach(function(i,a){var c=a.toLowerCase();a!=c&&(K(this,a),Z(this,c,i))},s)),s.j=e}(s.h,s.g)):(i||(e=Ns(e,_o)),s.h=new Ci(e,s.g))}function kn(s,e,i){s.h.set(e,i)}function rs(s){return kn(s,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),s}function xs(s,e){return s?e?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function Ns(s,e,i){return"string"==typeof s?(s=encodeURI(s).replace(e,ri),i&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function ri(s){return"%"+((s=s.charCodeAt(0))>>4&15).toString(16)+(15&s).toString(16)}no.prototype.toString=function(){var s=[],e=this.j;e&&s.push(Ns(e,ro,!0),":");var i=this.i;return(i||"file"==e)&&(s.push("//"),(e=this.s)&&s.push(Ns(e,ro,!0),"@"),s.push(encodeURIComponent(String(i)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(i=this.m)&&s.push(":",String(i))),(i=this.l)&&(this.i&&"/"!=i.charAt(0)&&s.push("/"),s.push(Ns(i,"/"==i.charAt(0)?Ro:ma,!0))),(i=this.h.toString())&&s.push("?",i),(i=this.o)&&s.push("#",Ns(i,gs)),s.join("")};var ro=/[#\/\?@]/g,ma=/[#\?:]/g,Ro=/[#\?]/g,_o=/[#\?@]/g,gs=/#/g;function Ci(s,e){this.h=this.g=null,this.i=s||null,this.j=!!e}function N(s){s.g||(s.g=new ps,s.h=0,s.i&&function(s,e){if(s){s=s.split("&");for(var i=0;i<s.length;i++){var a=s[i].indexOf("="),c=null;if(0<=a){var p=s[i].substring(0,a);c=s[i].substring(a+1)}else p=s[i];e(p,c?decodeURIComponent(c.replace(/\+/g," ")):"")}}}(s.i,function(e,i){s.add(decodeURIComponent(e.replace(/\+/g," ")),i)}))}function K(s,e){N(s),e=fe(s,e),ns(s.g.h,e)&&(s.i=null,s.h-=s.g.get(e).length,ns((s=s.g).h,e)&&(delete s.h[e],s.i--,s.g.length>2*s.i&&Hs(s)))}function P(s,e){return N(s),e=fe(s,e),ns(s.g.h,e)}function Z(s,e,i){K(s,e),0<i.length&&(s.i=null,s.g.set(fe(s,e),Ht(i)),s.h+=i.length)}function fe(s,e){return e=String(e),s.j&&(e=e.toLowerCase()),e}function tn(s){this.l=s||Ln,s=Q.PerformanceNavigationTiming?0<(s=Q.performance.getEntriesByType("navigation")).length&&("hq"==s[0].nextHopProtocol||"h2"==s[0].nextHopProtocol):!!(Q.g&&Q.g.Ea&&Q.g.Ea()&&Q.g.Ea().Zb),this.j=s?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ee=Ci.prototype).add=function(s,e){N(this),this.i=null,s=fe(this,s);var i=this.g.get(s);return i||this.g.set(s,i=[]),i.push(e),this.h+=1,this},ee.forEach=function(s,e){N(this),this.g.forEach(function(i,a){en(i,function(c){s.call(e,c,a,this)},this)},this)},ee.T=function(){N(this);for(var s=this.g.R(),e=this.g.T(),i=[],a=0;a<e.length;a++)for(var c=s[a],p=0;p<c.length;p++)i.push(e[a]);return i},ee.R=function(s){N(this);var e=[];if("string"==typeof s)P(this,s)&&(e=Qt(e,this.g.get(fe(this,s))));else{s=this.g.R();for(var i=0;i<s.length;i++)e=Qt(e,s[i])}return e},ee.set=function(s,e){return N(this),this.i=null,P(this,s=fe(this,s))&&(this.h-=this.g.get(s).length),this.g.set(s,[e]),this.h+=1,this},ee.get=function(s,e){return s&&0<(s=this.R(s)).length?String(s[0]):e},ee.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var s=[],e=this.g.T(),i=0;i<e.length;i++){var a=e[i],c=encodeURIComponent(String(a));a=this.R(a);for(var p=0;p<a.length;p++){var I=c;""!==a[p]&&(I+="="+encodeURIComponent(String(a[p]))),s.push(I)}}return this.i=s.join("&")};var Ln=10;function Kn(s){return!!s.h||!!s.g&&s.g.size>=s.j}function dr(s){return s.h?1:s.g?s.g.size:0}function On(s,e){return s.h?s.h==e:!!s.g&&s.g.has(e)}function sr(s,e){s.g?s.g.add(e):s.h=e}function Er(s,e){s.h&&s.h==e?s.h=null:s.g&&s.g.has(e)&&s.g.delete(e)}function ei(s){if(null!=s.h)return s.i.concat(s.h.D);if(null!=s.g&&0!==s.g.size){let e=s.i;for(const i of s.g.values())e=e.concat(i.D);return e}return Ht(s.i)}function ms(){}function Cr(){this.g=new ms}function ys(s,e,i){const a=i||"";try{Xo(s,function(c,p){let I=c;ve(c)&&(I=Wr(c)),e.push(a+p+"="+encodeURIComponent(I))})}catch(c){throw e.push(a+"type="+encodeURIComponent("_badmap")),c}}function vn(s,e,i,a,c){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,c(a)}catch(p){}}function cs(s){this.l=s.$b||null,this.j=s.ib||!1}function xo(s,e){$t.call(this),this.D=s,this.u=e,this.m=void 0,this.readyState=Ho,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}tn.prototype.cancel=function(){if(this.i=ei(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const s of this.g.values())s.cancel();this.g.clear()}},ms.prototype.stringify=function(s){return Q.JSON.stringify(s,void 0)},ms.prototype.parse=function(s){return Q.JSON.parse(s,void 0)},je(cs,ts),cs.prototype.g=function(){return new xo(this.l,this.j)},cs.prototype.i=function(s){return function(){return s}}({}),je(xo,$t);var Ho=0;function na(s){s.j.read().then(s.Sa.bind(s)).catch(s.ha.bind(s))}function io(s){s.readyState=4,s.l=null,s.j=null,s.A=null,No(s)}function No(s){s.onreadystatechange&&s.onreadystatechange.call(s)}(ee=xo.prototype).open=function(s,e){if(this.readyState!=Ho)throw this.abort(),Error("Error reopening a connection");this.C=s,this.B=e,this.readyState=1,No(this)},ee.send=function(s){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};s&&(e.body=s),(this.D||Q).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},ee.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,io(this)),this.readyState=Ho},ee.Va=function(s){if(this.g&&(this.l=s,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=s.headers,this.readyState=2,No(this)),this.g&&(this.readyState=3,No(this),this.g)))if("arraybuffer"===this.responseType)s.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Q.ReadableStream&&"body"in s){if(this.j=s.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;na(this)}else s.text().then(this.Ua.bind(this),this.ha.bind(this))},ee.Sa=function(s){if(this.g){if(this.u&&s.value)this.response.push(s.value);else if(!this.u){var e=s.value?s.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!s.done}))&&(this.response=this.responseText+=e)}s.done?io(this):No(this),3==this.readyState&&na(this)}},ee.Ua=function(s){this.g&&(this.response=this.responseText=s,io(this))},ee.Ta=function(s){this.g&&(this.response=s,io(this))},ee.ha=function(){this.g&&io(this)},ee.setRequestHeader=function(s,e){this.v.append(s,e)},ee.getResponseHeader=function(s){return this.h&&this.h.get(s.toLowerCase())||""},ee.getAllResponseHeaders=function(){if(!this.h)return"";const s=[],e=this.h.entries();for(var i=e.next();!i.done;)s.push((i=i.value)[0]+": "+i[1]),i=e.next();return s.join("\r\n")},Object.defineProperty(xo.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(s){this.m=s?"include":"same-origin"}});var vo=Q.JSON.parse;function lt(s){$t.call(this),this.headers=new ps,this.u=s||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=$n,this.K=this.L=!1}je(lt,$t);var $n="",Da=/^https?$/i,Jr=["POST","PUT"];function Oo(s){return"content-type"==s.toLowerCase()}function vs(s,e){s.h=!1,s.g&&(s.l=!0,s.g.abort(),s.l=!1),s.j=e,s.m=5,B(s),_(s)}function B(s){s.D||(s.D=!0,_n(s,"complete"),_n(s,"error"))}function y(s){if(s.h&&void 0!==Te&&(!s.C[1]||4!=U(s)||2!=s.ba()))if(s.v&&4==U(s))er(s.Fa,0,s);else if(_n(s,"readystatechange"),4==U(s)){s.h=!1;try{const S=s.ba();e:switch(S){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var i;if(!(i=e)){var a;if(a=0===S){var c=String(s.H).match(mo)[1]||null;if(!c&&Q.self&&Q.self.location){var p=Q.self.location.protocol;c=p.substr(0,p.length-1)}a=!Da.test(c?c.toLowerCase():"")}i=a}if(i)_n(s,"complete"),_n(s,"success");else{s.m=6;try{var I=2<U(s)?s.g.statusText:""}catch(j){I=""}s.j=I+" ["+s.ba()+"]",B(s)}}finally{_(s)}}}function _(s,e){if(s.g){D(s);const i=s.g,a=s.C[0]?ne:null;s.g=null,s.C=null,e||_n(s,"ready");try{i.onreadystatechange=a}catch(c){}}}function D(s){s.g&&s.K&&(s.g.ontimeout=null),s.A&&(Q.clearTimeout(s.A),s.A=null)}function U(s){return s.g?s.g.readyState:0}function X(s){try{if(!s.g)return null;if("response"in s.g)return s.g.response;switch(s.J){case $n:case"text":return s.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in s.g)return s.g.mozResponseArrayBuffer}return null}catch(e){return null}}function me(s,e,i){e:{for(a in i){var a=!1;break e}a=!0}a||(i=function(s){let e="";return Ot(s,function(i,a){e+=a,e+=":",e+=i,e+="\r\n"}),e}(i),"string"==typeof s?null!=i&&encodeURIComponent(String(i)):kn(s,e,i))}function Ve(s,e,i){return i&&i.internalChannelParams&&i.internalChannelParams[s]||e}function ut(s){this.za=0,this.l=[],this.h=new Zi,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ve("failFast",!1,s),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ve("baseRetryDelayMs",5e3,s),this.$a=Ve("retryDelaySeedMs",1e4,s),this.Ya=Ve("forwardChannelMaxRetries",2,s),this.ra=Ve("forwardChannelRequestTimeoutMs",2e4,s),this.qa=s&&s.xmlHttpFactory||void 0,this.Ba=s&&s.Yb||!1,this.K=void 0,this.H=s&&s.supportsCrossDomainXhr||!1,this.J="",this.i=new tn(s&&s.concurrentRequestLimit),this.Ca=new Cr,this.ja=s&&s.fastHandshake||!1,this.Ra=s&&s.Wb||!1,s&&s.Aa&&this.h.Aa(),s&&s.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&s&&s.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!s||!1!==s.Xb}function wt(s){if(Mn(s),3==s.G){var e=s.V++,i=ai(s.F);kn(i,"SID",s.J),kn(i,"RID",e),kn(i,"TYPE","terminate"),Dr(s,i),(e=new oi(s,s.h,e,void 0)).K=2,e.v=rs(ai(i)),i=!1,Q.navigator&&Q.navigator.sendBeacon&&(i=Q.navigator.sendBeacon(e.v.toString(),"")),!i&&Q.Image&&((new Image).src=e.v,i=!0),i||(e.g=Zr(e.l,null),e.g.ea(e.v)),e.F=Date.now(),ir(e)}Sa(s)}function qt(s){s.g&&(ls(s),s.g.cancel(),s.g=null)}function Mn(s){qt(s),s.u&&(Q.clearTimeout(s.u),s.u=null),ci(s),s.i.cancel(),s.m&&("number"==typeof s.m&&Q.clearTimeout(s.m),s.m=null)}function Gn(s,e){s.l.push(new class{constructor(s,e){this.h=s,this.g=e}}(s.Za++,e)),3==s.G&&pn(s)}function pn(s){Kn(s.i)||s.m||(s.m=!0,Nr(s.Ha,s),s.C=0)}function qn(s,e){var i;i=e?e.m:s.V++;const a=ai(s.F);kn(a,"SID",s.J),kn(a,"RID",i),kn(a,"AID",s.U),Dr(s,a),s.o&&s.s&&me(a,s.o,s.s),i=new oi(s,s.h,i,s.C+1),null===s.o&&(i.H=s.s),e&&(s.l=e.D.concat(s.l)),e=$r(s,i,1e3),i.setTimeout(Math.round(.5*s.ra)+Math.round(.5*s.ra*Math.random())),sr(s.i,i),Se(i,a,e)}function Dr(s,e){s.j&&Xo({},function(i,a){kn(e,a,i)})}function $r(s,e,i){i=Math.min(s.l.length,i);var a=s.j?Ne(s.j.Oa,s.j,s):null;e:{var c=s.l;let p=-1;for(;;){const I=["count="+i];-1==p?0<i?(p=c[0].h,I.push("ofs="+p)):p=0:I.push("ofs="+p);let S=!0;for(let j=0;j<i;j++){let q=c[j].h;const ge=c[j].g;if(q-=p,0>q)p=Math.max(0,c[j].h-100),S=!1;else try{ys(ge,I,"req"+q+"_")}catch(Ce){a&&a(ge)}}if(S){a=I.join("&");break e}}}return s=s.l.splice(0,i),e.D=s,a}function _i(s){s.g||s.u||(s.Y=1,Nr(s.Ga,s),s.A=0)}function ui(s){return!(s.g||s.u||3<=s.A||(s.Y++,s.u=Bs(Ne(s.Ga,s),Os(s,s.A)),s.A++,0))}function ls(s){null!=s.B&&(Q.clearTimeout(s.B),s.B=null)}function Ps(s){s.g=new oi(s,s.h,"rpc",s.Y),null===s.o&&(s.g.H=s.s),s.g.O=0;var e=ai(s.oa);kn(e,"RID","rpc"),kn(e,"SID",s.J),kn(e,"CI",s.N?"0":"1"),kn(e,"AID",s.U),Dr(s,e),kn(e,"TYPE","xmlhttp"),s.o&&s.s&&me(e,s.o,s.s),s.K&&s.g.setTimeout(s.K);var i=s.g;s=s.la,i.K=1,i.v=rs(ai(e)),i.s=null,i.U=!0,qe(i,s)}function ci(s){null!=s.v&&(Q.clearTimeout(s.v),s.v=null)}function Es(s,e){var i=null;if(s.g==e){ci(s),ls(s),s.g=null;var a=2}else{if(!On(s.i,e))return;i=e.D,Er(s.i,e),a=1}if(s.I=e.N,0!=s.G)if(e.i)if(1==a){i=e.s?e.s.length:0,e=Date.now()-e.F;var c=s.C;_n(a=bn(),new as(a,i,e,c)),pn(s)}else _i(s);else if(3==(c=e.o)||0==c&&0<s.I||!(1==a&&function(s,e){return!(dr(s.i)>=s.i.j-(s.m?1:0)||(s.m?(s.l=e.D.concat(s.l),0):1==s.G||2==s.G||s.C>=(s.Xa?0:s.Ya)||(s.m=Bs(Ne(s.Ha,s,e),Os(s,s.C)),s.C++,0)))}(s,e)||2==a&&ui(s)))switch(i&&0<i.length&&(e=s.i,e.i=e.i.concat(i)),c){case 1:ii(s,5);break;case 4:ii(s,10);break;case 3:ii(s,6);break;default:ii(s,2)}}function Os(s,e){let i=s.Pa+Math.floor(Math.random()*s.$a);return s.j||(i*=2),i*e}function ii(s,e){if(s.h.info("Error code "+e),2==e){var i=null;s.j&&(i=null);var a=Ne(s.jb,s);i||(i=new no("//www.google.com/images/cleardot.gif"),Q.location&&"http"==Q.location.protocol||Rs(i,"https"),rs(i)),function(s,e){const i=new Zi;if(Q.Image){const a=new Image;a.onload=Ie(vn,i,a,"TestLoadImage: loaded",!0,e),a.onerror=Ie(vn,i,a,"TestLoadImage: error",!1,e),a.onabort=Ie(vn,i,a,"TestLoadImage: abort",!1,e),a.ontimeout=Ie(vn,i,a,"TestLoadImage: timeout",!1,e),Q.setTimeout(function(){a.ontimeout&&a.ontimeout()},1e4),a.src=s}else e(!1)}(i.toString(),a)}else Pr(2);s.G=0,s.j&&s.j.va(e),Sa(s),Mn(s)}function Sa(s){s.G=0,s.I=-1,s.j&&((0!=ei(s.i).length||0!=s.l.length)&&(s.i.i.length=0,Ht(s.l),s.l.length=0),s.j.ua())}function so(s,e,i){let a=function(s){return s instanceof no?ai(s):new no(s,void 0)}(i);if(""!=a.i)e&&Ti(a,e+"."+a.i),Mi(a,a.m);else{const c=Q.location;a=function(s,e,i,a){var c=new no(null,void 0);return s&&Rs(c,s),e&&Ti(c,e),i&&Mi(c,i),a&&(c.l=a),c}(c.protocol,e?e+"."+c.hostname:c.hostname,+c.port,i)}return s.aa&&Ot(s.aa,function(c,p){kn(a,p,c)}),i=s.sa,(e=s.D)&&i&&kn(a,e,i),kn(a,"VER",s.ma),Dr(s,a),a}function Zr(s,e,i){if(e&&!s.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new lt(i&&s.Ba&&!s.qa?new cs({ib:!0}):s.qa)).L=s.H,e}function Eo(){}function Ir(){if(Ut&&!(10<=Number(Le)))throw Error("Environmental error: no available transport.")}function Lt(s,e){$t.call(this),this.g=new ut(e),this.l=s,this.h=e&&e.messageUrlParams||null,s=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(s?s["X-Client-Protocol"]="webchannel":s={"X-Client-Protocol":"webchannel"}),this.g.s=s,s=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(s?s["X-WebChannel-Content-Type"]=e.messageContentType:s={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(s?s["X-WebChannel-Client-Profile"]=e.ya:s={"X-WebChannel-Client-Profile":e.ya}),this.g.P=s,(s=e&&e.httpHeadersOverwriteParam)&&!Ft(s)&&(this.g.o=s),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ft(e)&&(this.g.D=e,null!==(s=this.h)&&e in s&&e in(s=this.h)&&delete s[e]),this.j=new Wn(this)}function gn(s){vr.call(this);var e=s.__sm__;if(e){e:{for(const i in e){s=i;break e}s=void 0}(this.i=s)&&(s=this.i,e=null!==e&&s in e?e[s]:void 0),this.data=e}else this.data=s}function jn(){$s.call(this),this.status=1}function Wn(s){this.g=s}(ee=lt.prototype).ea=function(s,e,i,a){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+s);e=e?e.toUpperCase():"GET",this.H=s,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Bi.g(),this.C=function(s){return s.h||(s.h=s.i())}(this.u?this.u:Bi),this.g.onreadystatechange=Ne(this.Fa,this);try{this.F=!0,this.g.open(e,String(s),!0),this.F=!1}catch(p){return void vs(this,p)}s=i||"";const c=new ps(this.headers);a&&Xo(a,function(p,I){c.set(I,p)}),a=function(s){e:{var e=Oo;const i=s.length,a="string"==typeof s?s.split(""):s;for(let c=0;c<i;c++)if(c in a&&e.call(void 0,a[c],c,s)){e=c;break e}e=-1}return 0>e?null:"string"==typeof s?s.charAt(e):s[e]}(c.T()),i=Q.FormData&&s instanceof Q.FormData,!(0<=zt(Jr,e))||a||i||c.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),c.forEach(function(p,I){this.g.setRequestHeader(I,p)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{D(this),0<this.B&&((this.K=function(s){return Ut&&Sn()&&"number"==typeof s.timeout&&void 0!==s.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ne(this.pa,this)):this.A=er(this.pa,this.B,this)),this.v=!0,this.g.send(s),this.v=!1}catch(p){vs(this,p)}},ee.pa=function(){void 0!==Te&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,_n(this,"timeout"),this.abort(8))},ee.abort=function(s){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=s||7,_n(this,"complete"),_n(this,"abort"),_(this))},ee.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),_(this,!0)),lt.Z.M.call(this)},ee.Fa=function(){this.s||(this.F||this.v||this.l?y(this):this.cb())},ee.cb=function(){y(this)},ee.ba=function(){try{return 2<U(this)?this.g.status:-1}catch(s){return-1}},ee.ga=function(){try{return this.g?this.g.responseText:""}catch(s){return""}},ee.Qa=function(s){if(this.g){var e=this.g.responseText;return s&&0==e.indexOf(s)&&(e=e.substring(s.length)),vo(e)}},ee.Da=function(){return this.m},ee.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ee=ut.prototype).ma=8,ee.G=1,ee.hb=function(s){try{this.h.info("Origin Trials invoked: "+s)}catch(e){}},ee.Ha=function(s){if(this.m)if(this.m=null,1==this.G){if(!s){this.V=Math.floor(1e5*Math.random()),s=this.V++;const c=new oi(this,this.h,s,void 0);let p=this.s;if(this.P&&(p?(p=It(p),Cn(p,this.P)):p=this.P),null===this.o&&(c.H=p),this.ja)e:{for(var e=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"==typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(e+=a)){e=i;break e}if(4096===e||i===this.l.length-1){e=i+1;break e}}e=1e3}else e=1e3;e=$r(this,c,e),kn(i=ai(this.F),"RID",s),kn(i,"CVER",22),this.D&&kn(i,"X-HTTP-Session-Id",this.D),Dr(this,i),this.o&&p&&me(i,this.o,p),sr(this.i,c),this.Ra&&kn(i,"TYPE","init"),this.ja?(kn(i,"$req",e),kn(i,"SID","null"),c.$=!0,Se(c,i,null)):Se(c,i,e),this.G=2}}else 3==this.G&&(s?qn(this,s):0==this.l.length||Kn(this.i)||qn(this))},ee.Ga=function(){if(this.u=null,Ps(this),this.$&&!(this.L||null==this.g||0>=this.O)){var s=2*this.O;this.h.info("BP detection timer enabled: "+s),this.B=Bs(Ne(this.bb,this),s)}},ee.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Pr(10),qt(this),Ps(this))},ee.ab=function(){null!=this.v&&(this.v=null,qt(this),ui(this),Pr(19))},ee.jb=function(s){s?(this.h.info("Successfully pinged google.com"),Pr(2)):(this.h.info("Failed to ping google.com"),Pr(1))},(ee=Eo.prototype).xa=function(){},ee.wa=function(){},ee.va=function(){},ee.ua=function(){},ee.Oa=function(){},Ir.prototype.g=function(s,e){return new Lt(s,e)},je(Lt,$t),Lt.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var s=this.g,e=this.l,i=this.h||void 0;s.Wa&&(s.h.info("Origin Trials enabled."),Nr(Ne(s.hb,s,e))),Pr(0),s.W=e,s.aa=i||{},s.N=s.X,s.F=so(s,null,s.W),pn(s)},Lt.prototype.close=function(){wt(this.g)},Lt.prototype.u=function(s){if("string"==typeof s){var e={};e.__data__=s,Gn(this.g,e)}else this.v?((e={}).__data__=Wr(s),Gn(this.g,e)):Gn(this.g,s)},Lt.prototype.M=function(){this.g.j=null,delete this.j,wt(this.g),delete this.g,Lt.Z.M.call(this)},je(gn,vr),je(jn,$s),je(Wn,Eo),Wn.prototype.xa=function(){_n(this.g,"a")},Wn.prototype.wa=function(s){_n(this.g,new gn(s))},Wn.prototype.va=function(s){_n(this.g,new jn(s))},Wn.prototype.ua=function(){_n(this.g,"b")},Ir.prototype.createWebChannel=Ir.prototype.g,Lt.prototype.send=Lt.prototype.u,Lt.prototype.open=Lt.prototype.m,Lt.prototype.close=Lt.prototype.close,ni.NO_ERROR=0,ni.TIMEOUT=8,ni.HTTP_ERROR=6,us.COMPLETE="complete",Ao.EventType=lr,lr.OPEN="a",lr.CLOSE="b",lr.ERROR="c",lr.MESSAGE="d",$t.prototype.listen=$t.prototype.N,lt.prototype.listenOnce=lt.prototype.O,lt.prototype.getLastError=lt.prototype.La,lt.prototype.getLastErrorCode=lt.prototype.Da,lt.prototype.getStatus=lt.prototype.ba,lt.prototype.getResponseJson=lt.prototype.Qa,lt.prototype.getResponseText=lt.prototype.ga,lt.prototype.send=lt.prototype.ea;var Di=De.createWebChannelTransport=function(){return new Ir},Ms=De.getStatEventTarget=function(){return bn()},ki=De.ErrorCode=ni,Or=De.EventType=us,Hr=De.Event=it,Qr=De.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},is=De.FetchXmlHttpFactory=cs,Ks=De.WebChannel=Ao,$i=De.XhrIo=lt;const ds="@firebase/firestore";class li{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}li.UNAUTHENTICATED=new li(null),li.GOOGLE_CREDENTIALS=new li("google-credentials-uid"),li.FIRST_PARTY=new li("first-party-uid"),li.MOCK_USER=new li("mock-user");let Ws="9.6.7";const Is=new be.Yd("@firebase/firestore");function Aa(){return Is.logLevel}function Sc(s){Is.setLogLevel(s)}function St(s,...e){if(Is.logLevel<=be.in.DEBUG){const i=e.map(tu);Is.debug(`Firestore (${Ws}): ${s}`,...i)}}function Li(s,...e){if(Is.logLevel<=be.in.ERROR){const i=e.map(tu);Is.error(`Firestore (${Ws}): ${s}`,...i)}}function Yi(s,...e){if(Is.logLevel<=be.in.WARN){const i=e.map(tu);Is.warn(`Firestore (${Ws}): ${s}`,...i)}}function tu(s){if("string"==typeof s)return s;try{return JSON.stringify(s)}catch(i){return s}}function Jt(s="Unexpected state"){const e=`FIRESTORE (${Ws}) INTERNAL ASSERTION FAILED: `+s;throw Li(e),new Error(e)}function Fn(s,e){s||Jt()}function nu(s,e){s||Jt()}function jt(s,e){return s}const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class gt extends oe.ZR{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Fi{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}class ws{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ra{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(li.UNAUTHENTICATED))}shutdown(){}}class ya{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class dl{constructor(e){this.t=e,this.currentUser=li.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){var a=this;let c=this.i;const p=q=>this.i!==c?(c=this.i,i(q)):Promise.resolve();let I=new Fi;this.o=()=>{this.i++,this.currentUser=this.u(),I.resolve(),I=new Fi,e.enqueueRetryable(()=>p(this.currentUser))};const S=()=>{const q=I;e.enqueueRetryable((0,w.Z)(function*(){yield q.promise,yield p(a.currentUser)}))},j=q=>{St("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=q,this.auth.addAuthTokenListener(this.o),S()};this.t.onInit(q=>j(q)),setTimeout(()=>{if(!this.auth){const q=this.t.getImmediate({optional:!0});q?j(q):(St("FirebaseAuthCredentialsProvider","Auth not yet detected"),I.resolve(),I=new Fi)}},0),S()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==e?(St("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Fn("string"==typeof a.accessToken),new ws(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Fn(null===e||"string"==typeof e),new li(e)}}class oc{constructor(e,i,a){this.type="FirstParty",this.user=li.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",i);const c=e.auth.getAuthHeaderValueForFirstParty([]);c&&this.headers.set("Authorization",c),a&&this.headers.set("X-Goog-Iam-Authorization-Token",a)}}class ac{constructor(e,i,a){this.h=e,this.l=i,this.m=a}getToken(){return Promise.resolve(new oc(this.h,this.l,this.m))}start(e,i){e.enqueueRetryable(()=>i(li.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class xa{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class La{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,i){const a=p=>{null!=p.error&&St("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${p.error.message}`);const I=p.token!==this.p;return this.p=p.token,St("FirebaseAppCheckTokenProvider",`Received ${I?"new":"existing"} token.`),I?i(p.token):Promise.resolve()};this.o=p=>{e.enqueueRetryable(()=>a(p))};const c=p=>{St("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=p,this.appCheck.addTokenListener(this.o)};this.g.onInit(p=>c(p)),setTimeout(()=>{if(!this.appCheck){const p=this.g.getImmediate({optional:!0});p?c(p):St("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(Fn("string"==typeof i.token),this.p=i.token,new xa(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Si{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.I(a),this.T=a=>i.writeSequenceNumber(a))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function iu(s){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}Si.A=-1;class oo{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=Math.floor(256/e.length)*e.length;let a="";for(;a.length<20;){const c=iu(40);for(let p=0;p<c.length;++p)a.length<20&&c[p]<i&&(a+=e.charAt(c[p]%e.length))}return a}}function C(s,e){return s<e?-1:s>e?1:0}function b(s,e,i){return s.length===e.length&&s.every((a,c)=>i(a,e[c]))}function E(s){return s+"\0"}class x{constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new gt(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new gt(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<-62135596800)throw new gt(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new gt(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return x.fromMillis(Date.now())}static fromDate(e){return x.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor(1e6*(e-1e3*i));return new x(i,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?C(this.nanoseconds,e.nanoseconds):C(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class M{constructor(e){this.timestamp=e}static fromTimestamp(e){return new M(e)}static min(){return new M(new x(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function W(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function ce(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function Ae(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class ot{constructor(e,i,a){void 0===i?i=0:i>e.length&&Jt(),void 0===a?a=e.length-i:a>e.length-i&&Jt(),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return 0===ot.comparator(this,e)}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ot?e.forEach(a=>{i.push(a)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let c=0;c<a;c++){const p=e.get(c),I=i.get(c);if(p<I)return-1;if(p>I)return 1}return e.length<i.length?-1:e.length>i.length?1:0}}class Et extends ot{construct(e,i,a){return new Et(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new gt(tt.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(c=>c.length>0))}return new Et(i)}static emptyPath(){return new Et([])}}const Zt=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class En extends ot{construct(e,i,a){return new En(e,i,a)}static isValidIdentifier(e){return Zt.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),En.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new En(["__name__"])}static fromServerFormat(e){const i=[];let a="",c=0;const p=()=>{if(0===a.length)throw new gt(tt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let I=!1;for(;c<e.length;){const S=e[c];if("\\"===S){if(c+1===e.length)throw new gt(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const j=e[c+1];if("\\"!==j&&"."!==j&&"`"!==j)throw new gt(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=j,c+=2}else"`"===S?(I=!I,c++):"."!==S||I?(a+=S,c++):(p(),c++)}if(p(),I)throw new gt(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new En(i)}static emptyPath(){return new En([])}}class Sr{constructor(e){this.fields=e,e.sort(En.comparator)}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return b(this.fields,e.fields,(i,a)=>i.isEqual(a))}}function or(){return"undefined"!=typeof atob}class Mr{constructor(e){this.binaryString=e}static fromBase64String(e){const i=atob(e);return new Mr(i)}static fromUint8Array(e){const i=function(a){let c="";for(let p=0;p<a.length;++p)c+=String.fromCharCode(a[p]);return c}(e);return new Mr(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let a=0;a<e.length;a++)i[a]=e.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return C(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mr.EMPTY_BYTE_STRING=new Mr("");const zs=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hi(s){if(Fn(!!s),"string"==typeof s){let e=0;const i=zs.exec(s);if(Fn(!!i),i[1]){let c=i[1];c=(c+"000000000").substr(0,9),e=Number(c)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:wr(s.seconds),nanos:wr(s.nanos)}}function wr(s){return"number"==typeof s?s:"string"==typeof s?Number(s):0}function ss(s){return"string"==typeof s?Mr.fromBase64String(s):Mr.fromUint8Array(s)}function Vi(s){var e,i;return"server_timestamp"===(null===(i=((null===(e=null==s?void 0:s.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function Ko(s){const e=s.mapValue.fields.__previous_value__;return Vi(e)?Ko(e):e}function Wo(s){const e=Hi(s.mapValue.fields.__local_write_time__.timestampValue);return new x(e.seconds,e.nanos)}class zo{constructor(e,i,a,c,p,I,S,j){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=c,this.ssl=p,this.forceLongPolling=I,this.autoDetectLongPolling=S,this.useFetchStreams=j}}class bs{constructor(e,i){this.projectId=e,this.database=i||"(default)"}static empty(){return new bs("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof bs&&e.projectId===this.projectId&&e.database===this.database}}function Fa(s){return null==s}function su(s){return 0===s&&1/s==-1/0}function hl(s){return"number"==typeof s&&Number.isInteger(s)&&!su(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}class Xt{constructor(e){this.path=e}static fromPath(e){return new Xt(Et.fromString(e))}static fromName(e){return new Xt(Et.fromString(e).popFirst(5))}static empty(){return new Xt(Et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Et.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,i){return Et.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Xt(new Et(e.slice()))}}const vi={mapValue:{fields:{__type__:{stringValue:"__max___"}}}};function _a(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Vi(s)?4:10:Jt()}function Io(s,e){if(s===e)return!0;const i=_a(s);if(i!==_a(e))return!1;switch(i){case 0:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Wo(s).isEqual(Wo(e));case 3:return function(a,c){if("string"==typeof a.timestampValue&&"string"==typeof c.timestampValue&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const p=Hi(a.timestampValue),I=Hi(c.timestampValue);return p.seconds===I.seconds&&p.nanos===I.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return c=e,ss(s.bytesValue).isEqual(ss(c.bytesValue));case 7:return s.referenceValue===e.referenceValue;case 8:return function(a,c){return wr(a.geoPointValue.latitude)===wr(c.geoPointValue.latitude)&&wr(a.geoPointValue.longitude)===wr(c.geoPointValue.longitude)}(s,e);case 2:return function(a,c){if("integerValue"in a&&"integerValue"in c)return wr(a.integerValue)===wr(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const p=wr(a.doubleValue),I=wr(c.doubleValue);return p===I?su(p)===su(I):isNaN(p)&&isNaN(I)}return!1}(s,e);case 9:return b(s.arrayValue.values||[],e.arrayValue.values||[],Io);case 10:return function(a,c){const p=a.mapValue.fields||{},I=c.mapValue.fields||{};if(W(p)!==W(I))return!1;for(const S in p)if(p.hasOwnProperty(S)&&(void 0===I[S]||!Io(p[S],I[S])))return!1;return!0}(s,e);default:return Jt()}var c}function va(s,e){return void 0!==(s.values||[]).find(i=>Io(i,e))}function uc(s,e){if(s===e)return 0;const i=_a(s),a=_a(e);if(i!==a)return C(i,a);switch(i){case 0:return 0;case 1:return C(s.booleanValue,e.booleanValue);case 2:return function(c,p){const I=wr(c.integerValue||c.doubleValue),S=wr(p.integerValue||p.doubleValue);return I<S?-1:I>S?1:I===S?0:isNaN(I)?isNaN(S)?0:-1:1}(s,e);case 3:return Va(s.timestampValue,e.timestampValue);case 4:return Va(Wo(s),Wo(e));case 5:return C(s.stringValue,e.stringValue);case 6:return function(c,p){const I=ss(c),S=ss(p);return I.compareTo(S)}(s.bytesValue,e.bytesValue);case 7:return function(c,p){const I=c.split("/"),S=p.split("/");for(let j=0;j<I.length&&j<S.length;j++){const q=C(I[j],S[j]);if(0!==q)return q}return C(I.length,S.length)}(s.referenceValue,e.referenceValue);case 8:return function(c,p){const I=C(wr(c.latitude),wr(p.latitude));return 0!==I?I:C(wr(c.longitude),wr(p.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return function(c,p){const I=c.values||[],S=p.values||[];for(let j=0;j<I.length&&j<S.length;++j){const q=uc(I[j],S[j]);if(q)return q}return C(I.length,S.length)}(s.arrayValue,e.arrayValue);case 10:return function(c,p){const I=c.fields||{},S=Object.keys(I),j=p.fields||{},q=Object.keys(j);S.sort(),q.sort();for(let ge=0;ge<S.length&&ge<q.length;++ge){const Ce=C(S[ge],q[ge]);if(0!==Ce)return Ce;const et=uc(I[S[ge]],j[q[ge]]);if(0!==et)return et}return C(S.length,q.length)}(s.mapValue,e.mapValue);default:throw Jt()}}function Va(s,e){if("string"==typeof s&&"string"==typeof e&&s.length===e.length)return C(s,e);const i=Hi(s),a=Hi(e),c=C(i.seconds,a.seconds);return 0!==c?c:C(i.nanos,a.nanos)}function Au(s){return Ac(s)}function Ac(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(a){const c=Hi(a);return`time(${c.seconds},${c.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?ss(s.bytesValue).toBase64():"referenceValue"in s?Xt.fromName(s.referenceValue).toString():"geoPointValue"in s?`geo(${(e=s.geoPointValue).latitude},${e.longitude})`:"arrayValue"in s?function(a){let c="[",p=!0;for(const I of a.values||[])p?p=!1:c+=",",c+=Ac(I);return c+"]"}(s.arrayValue):"mapValue"in s?function(a){const c=Object.keys(a.fields||{}).sort();let p="{",I=!0;for(const S of c)I?I=!1:p+=",",p+=`${S}:${Ac(a.fields[S])}`;return p+"}"}(s.mapValue):Jt();var e}function Rc(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Ru(s){return!!s&&"integerValue"in s}function xu(s){return!!s&&"arrayValue"in s}function Nu(s){return!!s&&"nullValue"in s}function Ai(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Pu(s){return!!s&&"mapValue"in s}function di(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&"object"==typeof s.timestampValue)return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return ce(s.mapValue.fields,(i,a)=>e.mapValue.fields[i]=di(a)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=di(s.arrayValue.values[i]);return e}return Object.assign({},s)}class Ei{constructor(e){this.value=e}static empty(){return new Ei({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Pu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=di(i)}setAll(e){let i=En.emptyPath(),a={},c=[];e.forEach((I,S)=>{if(!i.isImmediateParentOf(S)){const j=this.getFieldsMap(i);this.applyChanges(j,a,c),a={},c=[],i=S.popLast()}I?a[S.lastSegment()]=di(I):c.push(S.lastSegment())});const p=this.getFieldsMap(i);this.applyChanges(p,a,c)}delete(e){const i=this.field(e.popLast());Pu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Io(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let c=i.mapValue.fields[e.get(a)];Pu(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=c),i=c}return i.mapValue.fields}applyChanges(e,i,a){ce(i,(c,p)=>e[c]=p);for(const c of a)delete e[c]}clone(){return new Ei(di(this.value))}}function Ua(s){const e=[];return ce(s.fields,(i,a)=>{const c=new En([i]);if(Pu(a)){const p=Ua(a.mapValue).fields;if(0===p.length)e.push(c);else for(const I of p)e.push(c.child(I))}else e.push(c)}),new Sr(e)}class Ki{constructor(e,i,a,c,p,I){this.key=e,this.documentType=i,this.version=a,this.readTime=c,this.data=p,this.documentState=I}static newInvalidDocument(e){return new Ki(e,0,M.min(),M.min(),Ei.empty(),0)}static newFoundDocument(e,i,a){return new Ki(e,1,i,M.min(),a,0)}static newNoDocument(e,i){return new Ki(e,2,i,M.min(),Ei.empty(),0)}static newUnknownDocument(e,i){return new Ki(e,3,i,M.min(),Ei.empty(),2)}convertToFoundDocument(e,i){return this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ei.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ei.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ki&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ki(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}let fl=(()=>{class s{constructor(i,a,c,p){this.indexId=i,this.collectionGroup=a,this.fields=c,this.indexState=p}}return s.UNKNOWN_ID=-1,s})();class ks{constructor(e,i){this.fieldPath=e,this.kind=i}}class ao{constructor(e,i){this.sequenceNumber=e,this.offset=i}static empty(){return new ao(0,ja.min())}}class ja{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new ja(M.min(),Xt.empty(),-1)}}class Mo{constructor(e,i=null,a=[],c=[],p=null,I=null,S=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=c,this.limit=p,this.startAt=I,this.endAt=S,this.P=null}}function ra(s,e=null,i=[],a=[],c=null,p=null,I=null){return new Mo(s,e,i,a,c,p,I)}function ou(s){const e=jt(s);if(null===e.P){let i=e.path.canonicalString();null!==e.collectionGroup&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(a=>{return(c=a).field.canonicalString()+c.op.toString()+Au(c.value);var c}).join(","),i+="|ob:",i+=e.orderBy.map(a=>{return(c=a).field.canonicalString()+c.dir;var c}).join(","),Fa(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(a=>Au(a)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(a=>Au(a)).join(",")),e.P=i}return e.P}function ia(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let c=0;c<s.orderBy.length;c++)if(!Ue(s.orderBy[c],e.orderBy[c]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let c=0;c<s.filters.length;c++)if((i=s.filters[c]).op!==(a=e.filters[c]).op||!i.field.isEqual(a.field)||!Io(i.value,a.value))return!1;var i,a;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!vt(s.startAt,e.startAt)&&vt(s.endAt,e.endAt)}function xc(s){return Xt.isDocumentKey(s.path)&&null===s.collectionGroup&&0===s.filters.length}class Ji extends class{}{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?"in"===i||"not-in"===i?this.v(e,i,a):new Nc(e,i,a):"array-contains"===i?new gl(e,a):"in"===i?new ad(e,a):"not-in"===i?new A(e,a):"array-contains-any"===i?new k(e,a):new Ji(e,i,a)}static v(e,i,a){return"in"===i?new ko(e,a):new au(e,a)}matches(e){const i=e.data.field(this.field);return"!="===this.op?null!==i&&this.V(uc(i,this.value)):null!==i&&_a(this.value)===_a(i)&&this.V(uc(i,this.value))}V(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Jt()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Nc extends Ji{constructor(e,i,a){super(e,i,a),this.key=Xt.fromName(a.referenceValue)}matches(e){const i=Xt.comparator(e.key,this.key);return this.V(i)}}class ko extends Ji{constructor(e,i){super(e,"in",i),this.keys=Ba(0,i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class au extends Ji{constructor(e,i){super(e,"not-in",i),this.keys=Ba(0,i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function Ba(s,e){var i;return((null===(i=e.arrayValue)||void 0===i?void 0:i.values)||[]).map(a=>Xt.fromName(a.referenceValue))}class gl extends Ji{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return xu(i)&&va(i.arrayValue,this.value)}}class ad extends Ji{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return null!==i&&va(this.value.arrayValue,i)}}class A extends Ji{constructor(e,i){super(e,"not-in",i)}matches(e){if(va(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return null!==i&&!va(this.value.arrayValue,i)}}class k extends Ji{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!xu(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>va(this.value.arrayValue,a))}}class G{constructor(e,i){this.position=e,this.inclusive=i}}class he{constructor(e,i="asc"){this.field=e,this.dir=i}}function Ue(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}function Qe(s,e,i){let a=0;for(let c=0;c<s.position.length;c++){const p=e[c],I=s.position[c];if(a=p.field.isKeyField()?Xt.comparator(Xt.fromName(I.referenceValue),i.key):uc(I,i.data.field(p.field)),"desc"===p.dir&&(a*=-1),0!==a)break}return a}function vt(s,e){if(null===s)return null===e;if(null===e||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Io(s.position[i],e.position[i]))return!1;return!0}class Vt{constructor(e,i=null,a=[],c=[],p=null,I="F",S=null,j=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=c,this.limit=p,this.limitType=I,this.startAt=S,this.endAt=j,this.D=null,this.C=null}}function sn(s,e,i,a,c,p,I,S){return new Vt(s,e,i,a,c,p,I,S)}function Jn(s){return new Vt(s)}function kr(s){return!Fa(s.limit)&&"F"===s.limitType}function Ri(s){return!Fa(s.limit)&&"L"===s.limitType}function Gs(s){return s.explicitOrderBy.length>0?s.explicitOrderBy[0].field:null}function os(s){for(const e of s.filters)if(e.S())return e.field;return null}function uu(s){return null!==s.collectionGroup}function Lo(s){const e=jt(s);if(null===e.D){e.D=[];const i=os(e),a=Gs(e);if(null!==i&&null===a)i.isKeyField()||e.D.push(new he(i)),e.D.push(new he(En.keyField(),"asc"));else{let c=!1;for(const p of e.explicitOrderBy)e.D.push(p),p.field.isKeyField()&&(c=!0);if(!c){const p=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new he(En.keyField(),p))}}}return e.D}function qs(s){const e=jt(s);if(!e.C)if("F"===e.limitType)e.C=ra(e.path,e.collectionGroup,Lo(e),e.filters,e.limit,e.startAt,e.endAt);else{const i=[];for(const p of Lo(e))i.push(new he(p.field,"desc"===p.dir?"asc":"desc"));const a=e.endAt?new G(e.endAt.position,!e.endAt.inclusive):null,c=e.startAt?new G(e.startAt.position,!e.startAt.inclusive):null;e.C=ra(e.path,e.collectionGroup,i,e.filters,e.limit,a,c)}return e.C}function Fo(s,e,i){return new Vt(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function uo(s,e){return ia(qs(s),qs(e))&&s.limitType===e.limitType}function Go(s){return`${ou(qs(s))}|lt:${s.limitType}`}function cc(s){return`Query(target=${function(s){let e=s.path.canonicalString();return null!==s.collectionGroup&&(e+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(e+=`, filters: [${s.filters.map(i=>{return`${(a=i).field.canonicalString()} ${a.op} ${Au(a.value)}`;var a}).join(", ")}]`),Fa(s.limit)||(e+=", limit: "+s.limit),s.orderBy.length>0&&(e+=`, orderBy: [${s.orderBy.map(i=>{return`${(a=i).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),s.startAt&&(e+=", startAt: ",e+=s.startAt.inclusive?"b:":"a:",e+=s.startAt.position.map(i=>Au(i)).join(",")),s.endAt&&(e+=", endAt: ",e+=s.endAt.inclusive?"a:":"b:",e+=s.endAt.position.map(i=>Au(i)).join(",")),`Target(${e})`}(qs(s))}; limitType=${s.limitType})`}function Wi(s,e){return e.isFoundDocument()&&function(i,a){const c=a.key.path;return null!==i.collectionGroup?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(c):Xt.isDocumentKey(i.path)?i.path.isEqual(c):i.path.isImmediateParentOf(c)}(s,e)&&function(i,a){for(const c of i.explicitOrderBy)if(!c.field.isKeyField()&&null===a.data.field(c.field))return!1;return!0}(s,e)&&function(i,a){for(const c of i.filters)if(!c.matches(a))return!1;return!0}(s,e)&&(a=e,!((i=s).startAt&&!function(c,p,I){const S=Qe(c,p,I);return c.inclusive?S<=0:S<0}(i.startAt,Lo(i),a)||i.endAt&&!function(c,p,I){const S=Qe(c,p,I);return c.inclusive?S>=0:S>0}(i.endAt,Lo(i),a)));var i,a}function Ou(s){return(e,i)=>{let a=!1;for(const c of Lo(s)){const p=zf(c,e,i);if(0!==p)return p;a=a||c.field.isKeyField()}return 0}}function zf(s,e,i){const a=s.field.isKeyField()?Xt.comparator(e.key,i.key):function(c,p,I){const S=p.data.field(c),j=I.data.field(c);return null!==S&&null!==j?uc(S,j):Jt()}(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return Jt()}}function cu(s,e){if(s.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:su(e)?"-0":e}}function $a(s){return{integerValue:""+s}}function ml(s,e){return hl(e)?$a(e):cu(s,e)}class Mu{constructor(){this._=void 0}}function fh(s,e,i){return s instanceof Vo?function(a,c){const p={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&(p.fields.__previous_value__=c),{mapValue:p}}(i,e):s instanceof sa?oa(s,e):s instanceof du?cd(s,e):function(a,c){const p=lu(a,c),I=Pc(p)+Pc(a.k);return Ru(p)&&Ru(a.k)?$a(I):cu(a.O,I)}(s,e)}function ud(s,e,i){return s instanceof sa?oa(s,e):s instanceof du?cd(s,e):i}function lu(s,e){return s instanceof Na?Ru(i=e)||(a=i)&&"doubleValue"in a?e:{integerValue:0}:null;var a,i}class Vo extends Mu{}class sa extends Mu{constructor(e){super(),this.elements=e}}function oa(s,e){const i=ld(e);for(const a of s.elements)i.some(c=>Io(c,a))||i.push(a);return{arrayValue:{values:i}}}class du extends Mu{constructor(e){super(),this.elements=e}}function cd(s,e){let i=ld(e);for(const a of s.elements)i=i.filter(c=>!Io(c,a));return{arrayValue:{values:i}}}class Na extends Mu{constructor(e,i){super(),this.O=e,this.k=i}}function Pc(s){return wr(s.integerValue||s.doubleValue)}function ld(s){return xu(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class ku{constructor(e,i){this.field=e,this.transform=i}}class hu{constructor(e,i){this.version=e,this.transformResults=i}}class hi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new hi}static exists(e){return new hi(void 0,e)}static updateTime(e){return new hi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lc(s,e){return void 0!==s.updateTime?e.isFoundDocument()&&e.version.isEqual(s.updateTime):void 0===s.exists||s.exists===e.isFoundDocument()}class yl{}function _l(s,e,i){s instanceof Oc?function(a,c,p){const I=a.value.clone(),S=Lu(a.fieldTransforms,c,p.transformResults);I.setAll(S),c.convertToFoundDocument(p.version,I).setHasCommittedMutations()}(s,e,i):s instanceof Ea?function(a,c,p){if(!lc(a.precondition,c))return void c.convertToUnknownDocument(p.version);const I=Lu(a.fieldTransforms,c,p.transformResults),S=c.data;S.setAll(dc(a)),S.setAll(I),c.convertToFoundDocument(p.version,S).setHasCommittedMutations()}(s,e,i):e.convertToNoDocument(i.version).setHasCommittedMutations()}function vl(s,e,i){var c;s instanceof Oc?function(a,c,p){if(!lc(a.precondition,c))return;const I=a.value.clone(),S=gh(a.fieldTransforms,p,c);I.setAll(S),c.convertToFoundDocument(hd(c),I).setHasLocalMutations()}(s,e,i):s instanceof Ea?function(a,c,p){if(!lc(a.precondition,c))return;const I=gh(a.fieldTransforms,p,c),S=c.data;S.setAll(dc(a)),S.setAll(I),c.convertToFoundDocument(hd(c),S).setHasLocalMutations()}(s,e,i):lc(s.precondition,c=e)&&c.convertToNoDocument(M.min())}function Gf(s,e){let i=null;for(const a of s.fieldTransforms){const c=e.data.field(a.field),p=lu(a.transform,c||null);null!=p&&(null==i&&(i=Ei.empty()),i.set(a.field,p))}return i||null}function dd(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&(a=e.fieldTransforms,!!(void 0===(i=s.fieldTransforms)&&void 0===a||i&&a&&b(i,a,(c,p)=>function(s,e){return s.field.isEqual(e.field)&&(a=e.transform,(i=s.transform)instanceof sa&&a instanceof sa||i instanceof du&&a instanceof du?b(i.elements,a.elements,Io):i instanceof Na&&a instanceof Na?Io(i.k,a.k):i instanceof Vo&&a instanceof Vo);var i,a}(c,p))))&&(0===s.type?s.value.isEqual(e.value):1!==s.type||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask));var i,a}function hd(s){return s.isFoundDocument()?s.version:M.min()}class Oc extends yl{constructor(e,i,a,c=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=c,this.type=0}}class Ea extends yl{constructor(e,i,a,c,p=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=c,this.fieldTransforms=p,this.type=1}}function dc(s){const e=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}}),e}function Lu(s,e,i){const a=new Map;Fn(s.length===i.length);for(let c=0;c<i.length;c++){const p=s[c],I=p.transform,S=e.data.field(p.field);a.set(p.field,ud(I,S,i[c]))}return a}function gh(s,e,i){const a=new Map;for(const c of s){const p=c.transform,I=i.data.field(c.field);a.set(c.field,fh(p,I,e))}return a}class Mc extends yl{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}}class El extends yl{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}}class Il{constructor(e){this.count=e}}var Xi,Ar;function fd(s){switch(s){default:return Jt();case tt.CANCELLED:case tt.UNKNOWN:case tt.DEADLINE_EXCEEDED:case tt.RESOURCE_EXHAUSTED:case tt.INTERNAL:case tt.UNAVAILABLE:case tt.UNAUTHENTICATED:return!1;case tt.INVALID_ARGUMENT:case tt.NOT_FOUND:case tt.ALREADY_EXISTS:case tt.PERMISSION_DENIED:case tt.FAILED_PRECONDITION:case tt.ABORTED:case tt.OUT_OF_RANGE:case tt.UNIMPLEMENTED:case tt.DATA_LOSS:return!0}}function hc(s){if(void 0===s)return Li("GRPC error has no .code"),tt.UNKNOWN;switch(s){case Xi.OK:return tt.OK;case Xi.CANCELLED:return tt.CANCELLED;case Xi.UNKNOWN:return tt.UNKNOWN;case Xi.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case Xi.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case Xi.INTERNAL:return tt.INTERNAL;case Xi.UNAVAILABLE:return tt.UNAVAILABLE;case Xi.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case Xi.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case Xi.NOT_FOUND:return tt.NOT_FOUND;case Xi.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case Xi.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case Xi.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case Xi.ABORTED:return tt.ABORTED;case Xi.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case Xi.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case Xi.DATA_LOSS:return tt.DATA_LOSS;default:return Jt()}}(Ar=Xi||(Xi={}))[Ar.OK=0]="OK",Ar[Ar.CANCELLED=1]="CANCELLED",Ar[Ar.UNKNOWN=2]="UNKNOWN",Ar[Ar.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ar[Ar.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ar[Ar.NOT_FOUND=5]="NOT_FOUND",Ar[Ar.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ar[Ar.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ar[Ar.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ar[Ar.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ar[Ar.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ar[Ar.ABORTED=10]="ABORTED",Ar[Ar.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ar[Ar.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ar[Ar.INTERNAL=13]="INTERNAL",Ar[Ar.UNAVAILABLE=14]="UNAVAILABLE",Ar[Ar.DATA_LOSS=15]="DATA_LOSS";class fi{constructor(e,i){this.comparator=e,this.root=i||Zs.EMPTY}insert(e,i){return new fi(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Zs.BLACK,null,null))}remove(e){return new fi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zs.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(0===a)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const c=this.comparator(e,a.key);if(0===c)return i+a.left.size;c<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,a)=>(e(i,a),!1))}toString(){const e=[];return this.inorderTraversal((i,a)=>(e.push(`${i}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wl(this.root,e,this.comparator,!1)}getReverseIterator(){return new wl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wl(this.root,e,this.comparator,!0)}}class wl{constructor(e,i,a,c){this.isReverse=c,this.nodeStack=[];let p=1;for(;!e.isEmpty();)if(p=i?a(e.key,i):1,c&&(p*=-1),p<0)e=this.isReverse?e.left:e.right;else{if(0===p){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zs{constructor(e,i,a,c,p){this.key=e,this.value=i,this.color=null!=a?a:Zs.RED,this.left=null!=c?c:Zs.EMPTY,this.right=null!=p?p:Zs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,c,p){return new Zs(null!=e?e:this.key,null!=i?i:this.value,null!=a?a:this.color,null!=c?c:this.left,null!=p?p:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let c=this;const p=a(e,c.key);return c=p<0?c.copy(null,null,null,c.left.insert(e,i,a),null):0===p?c.copy(null,i,null,null,null):c.copy(null,null,null,null,c.right.insert(e,i,a)),c.fixUp()}removeMin(){if(this.left.isEmpty())return Zs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,c=this;if(i(e,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(e,i),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),0===i(e,c.key)){if(c.right.isEmpty())return Zs.EMPTY;a=c.right.min(),c=c.copy(a.key,a.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(e,i))}return c.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Jt();const e=this.left.check();if(e!==this.right.check())throw Jt();return e+(this.isRed()?0:1)}}Zs.EMPTY=null,Zs.RED=!0,Zs.BLACK=!1,Zs.EMPTY=new class{constructor(){this.size=0}get key(){throw Jt()}get value(){throw Jt()}get color(){throw Jt()}get left(){throw Jt()}get right(){throw Jt()}copy(s,e,i,a,c){return this}insert(s,e,i){return new Zs(s,e)}remove(s,e){return this}isEmpty(){return!0}inorderTraversal(s){return!1}reverseTraversal(s){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ui{constructor(e){this.comparator=e,this.data=new fi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,a)=>(e(i),!1))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const c=a.getNext();if(this.comparator(c.key,e[1])>=0)return;i(c.key)}}forEachWhile(e,i){let a;for(a=void 0!==i?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new mh(this.data.getIterator())}getIteratorFrom(e){return new mh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(a=>{i=i.add(a)}),i}isEqual(e){if(!(e instanceof Ui)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const c=i.getNext().key,p=a.getNext().key;if(0!==this.comparator(c,p))return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Ui(this.comparator);return i.data=e,i}}class mh{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function fc(s){return s.hasNext()?s.getNext():void 0}const Ha=new fi(Xt.comparator);function Qs(){return Ha}const bl=new fi(Xt.comparator);function pd(){return bl}const qf=new fi(Xt.comparator),Zf=new Ui(Xt.comparator);function Xr(...s){let e=Zf;for(const i of s)e=e.add(i);return e}const Qf=new Ui(C);function pc(){return Qf}class kc{constructor(e,i,a,c,p){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=c,this.resolvedLimboDocuments=p}static createSynthesizedRemoteEventForCurrentChange(e,i){const a=new Map;return a.set(e,Lc.createSynthesizedTargetChangeForCurrentChange(e,i)),new kc(M.min(),a,pc(),Qs(),Xr())}}class Lc{constructor(e,i,a,c,p){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=c,this.removedDocuments=p}static createSynthesizedTargetChangeForCurrentChange(e,i){return new Lc(Mr.EMPTY_BYTE_STRING,i,Xr(),Xr(),Xr())}}class Tl{constructor(e,i,a,c){this.M=e,this.removedTargetIds=i,this.key=a,this.$=c}}class yh{constructor(e,i){this.targetId=e,this.F=i}}class gd{constructor(e,i,a=Mr.EMPTY_BYTE_STRING,c=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=c}}class _h{constructor(){this.B=0,this.L=aa(),this.U=Mr.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=Xr(),i=Xr(),a=Xr();return this.L.forEach((c,p)=>{switch(p){case 0:e=e.add(c);break;case 2:i=i.add(c);break;case 1:a=a.add(c);break;default:Jt()}}),new Lc(this.U,this.q,e,i,a)}J(){this.K=!1,this.L=aa()}Y(e,i){this.K=!0,this.L=this.L.insert(e,i)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class Fu{constructor(e){this.nt=e,this.st=new Map,this.it=Qs(),this.rt=md(),this.ot=new Ui(C)}ct(e){for(const i of e.M)e.$&&e.$.isFoundDocument()?this.ut(i,e.$):this.at(i,e.key,e.$);for(const i of e.removedTargetIds)this.at(i,e.key,e.$)}ht(e){this.forEachTarget(e,i=>{const a=this.lt(i);switch(e.state){case 0:this.ft(i)&&a.W(e.resumeToken);break;case 1:a.tt(),a.G||a.J(),a.W(e.resumeToken);break;case 2:a.tt(),a.G||this.removeTarget(i);break;case 3:this.ft(i)&&(a.et(),a.W(e.resumeToken));break;case 4:this.ft(i)&&(this.dt(i),a.W(e.resumeToken));break;default:Jt()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.st.forEach((a,c)=>{this.ft(c)&&i(c)})}_t(e){const i=e.targetId,a=e.F.count,c=this.wt(i);if(c){const p=c.target;if(xc(p))if(0===a){const I=new Xt(p.path);this.at(i,I,Ki.newNoDocument(I,M.min()))}else Fn(1===a);else this.gt(i)!==a&&(this.dt(i),this.ot=this.ot.add(i))}}yt(e){const i=new Map;this.st.forEach((p,I)=>{const S=this.wt(I);if(S){if(p.current&&xc(S.target)){const j=new Xt(S.target.path);null!==this.it.get(j)||this.It(I,j)||this.at(I,j,Ki.newNoDocument(j,e))}p.j&&(i.set(I,p.H()),p.J())}});let a=Xr();this.rt.forEach((p,I)=>{let S=!0;I.forEachWhile(j=>{const q=this.wt(j);return!q||2===q.purpose||(S=!1,!1)}),S&&(a=a.add(p))}),this.it.forEach((p,I)=>I.setReadTime(e));const c=new kc(e,i,this.ot,this.it,a);return this.it=Qs(),this.rt=md(),this.ot=new Ui(C),c}ut(e,i){if(!this.ft(e))return;const a=this.It(e,i.key)?2:0;this.lt(e).Y(i.key,a),this.it=this.it.insert(i.key,i),this.rt=this.rt.insert(i.key,this.Et(i.key).add(e))}at(e,i,a){if(!this.ft(e))return;const c=this.lt(e);this.It(e,i)?c.Y(i,1):c.X(i),this.rt=this.rt.insert(i,this.Et(i).delete(e)),a&&(this.it=this.it.insert(i,a))}removeTarget(e){this.st.delete(e)}gt(e){const i=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let i=this.st.get(e);return i||(i=new _h,this.st.set(e,i)),i}Et(e){let i=this.rt.get(e);return i||(i=new Ui(C),this.rt=this.rt.insert(e,i)),i}ft(e){const i=null!==this.wt(e);return i||St("WatchChangeAggregator","Detected inactive target",e),i}wt(e){const i=this.st.get(e);return i&&i.G?null:this.nt.Tt(e)}dt(e){this.st.set(e,new _h),this.nt.getRemoteKeysForTarget(e).forEach(i=>{this.at(e,i,null)})}It(e,i){return this.nt.getRemoteKeysForTarget(e).has(i)}}function md(){return new fi(Xt.comparator)}function aa(){return new fi(Xt.comparator)}const Fc={asc:"ASCENDING",desc:"DESCENDING"},Cl={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class vh{constructor(e,i){this.databaseId=e,this.N=i}}function Vu(s,e){return s.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Eh(s,e){return s.N?e.toBase64():e.toUint8Array()}function em(s,e){return Vu(s,e.toTimestamp())}function Ys(s){return Fn(!!s),M.fromTimestamp(function(e){const i=Hi(e);return new x(i.seconds,i.nanos)}(s))}function Vc(s,e){return(i=s,new Et(["projects",i.projectId,"databases",i.database])).child("documents").child(e).canonicalString();var i}function yd(s){const e=Et.fromString(s);return Fn(za(e)),e}function qo(s,e){return Vc(s.databaseId,e.path)}function Ka(s,e){const i=yd(e);if(i.get(1)!==s.databaseId.projectId)throw new gt(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new gt(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new Xt(Dl(i))}function Ih(s,e){return Vc(s.databaseId,e)}function Uc(s){const e=yd(s);return 4===e.length?Et.emptyPath():Dl(e)}function jc(s){return new Et(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Dl(s){return Fn(s.length>4&&"documents"===s.get(4)),s.popFirst(5)}function wh(s,e,i){return{name:qo(s,e),fields:i.value.mapValue.fields}}function bh(s,e,i){const a=Ka(s,e.name),c=Ys(e.updateTime),p=new Ei({mapValue:{fields:e.fields}}),I=Ki.newFoundDocument(a,c,p);return i&&I.setHasCommittedMutations(),i?I.setHasCommittedMutations():I}function gc(s,e){let i;if(e instanceof Oc)i={update:wh(s,e.key,e.value)};else if(e instanceof Mc)i={delete:qo(s,e.key)};else if(e instanceof Ea)i={update:wh(s,e.key,e.data),updateMask:nm(e.fieldMask)};else{if(!(e instanceof El))return Jt();i={verify:qo(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(a=>function(c,p){const I=p.transform;if(I instanceof Vo)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(I instanceof sa)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:I.elements}};if(I instanceof du)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:I.elements}};if(I instanceof Na)return{fieldPath:p.field.canonicalString(),increment:I.k};throw Jt()}(0,a))),e.precondition.isNone||(i.currentDocument=void 0!==(c=e.precondition).updateTime?{updateTime:em(s,c.updateTime)}:void 0!==c.exists?{exists:c.exists}:Jt()),i;var c}function Uu(s,e){const i=e.currentDocument?void 0!==(c=e.currentDocument).updateTime?hi.updateTime(Ys(c.updateTime)):void 0!==c.exists?hi.exists(c.exists):hi.none():hi.none(),a=e.updateTransforms?e.updateTransforms.map(c=>function(p,I){let S=null;"setToServerValue"in I?(Fn("REQUEST_TIME"===I.setToServerValue),S=new Vo):"appendMissingElements"in I?S=new sa(I.appendMissingElements.values||[]):"removeAllFromArray"in I?S=new du(I.removeAllFromArray.values||[]):"increment"in I?S=new Na(p,I.increment):Jt();const j=En.fromServerFormat(I.fieldPath);return new ku(j,S)}(s,c)):[];var c;if(e.update){const c=Ka(s,e.update.name),p=new Ei({mapValue:{fields:e.update.fields}});if(e.updateMask){const I=new Sr((e.updateMask.fieldPaths||[]).map(q=>En.fromServerFormat(q)));return new Ea(c,p,I,i,a)}return new Oc(c,p,i,a)}if(e.delete){const c=Ka(s,e.delete);return new Mc(c,i)}if(e.verify){const c=Ka(s,e.verify);return new El(c,i)}return Jt()}function zi(s,e){return{documents:[Ih(s,e.path)]}}function _d(s,e){const i={structuredQuery:{}},a=e.path;null!==e.collectionGroup?(i.parent=Ih(s,a),i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i.parent=Ih(s,a.popLast()),i.structuredQuery.from=[{collectionId:a.lastSegment()}]);const c=function(j){if(0===j.length)return;const q=j.map(ge=>function(Ce){if("=="===Ce.op){if(Ai(Ce.value))return{unaryFilter:{field:ju(Ce.field),op:"IS_NAN"}};if(Nu(Ce.value))return{unaryFilter:{field:ju(Ce.field),op:"IS_NULL"}}}else if("!="===Ce.op){if(Ai(Ce.value))return{unaryFilter:{field:ju(Ce.field),op:"IS_NOT_NAN"}};if(Nu(Ce.value))return{unaryFilter:{field:ju(Ce.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ju(Ce.field),op:Th(Ce.op),value:Ce.value}}}(ge));return 1===q.length?q[0]:{compositeFilter:{op:"AND",filters:q}}}(e.filters);c&&(i.structuredQuery.where=c);const p=function(j){if(0!==j.length)return j.map(q=>{return{field:ju((ge=q).field),direction:Rl(ge.dir)};var ge})}(e.orderBy);p&&(i.structuredQuery.orderBy=p);const I=(q=e.limit,s.N||Fa(q)?q:{value:q});var q,S,j;return null!==I&&(i.structuredQuery.limit=I),e.startAt&&(i.structuredQuery.startAt={before:(S=e.startAt).inclusive,values:S.position}),e.endAt&&(i.structuredQuery.endAt={before:!(j=e.endAt).inclusive,values:j.position}),i}function vd(s){let e=Uc(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let c=null;if(a>0){Fn(1===a);const ge=i.from[0];ge.allDescendants?c=ge.collectionId:e=e.child(ge.collectionId)}let p=[];i.where&&(p=Bc(i.where));let I=[];i.orderBy&&(I=i.orderBy.map(ge=>{return new he(Wa((Ce=ge).field),function(et){switch(et){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ce.direction));var Ce}));let S=null;i.limit&&(S=function(ge){let Ce;return Ce="object"==typeof ge?ge.value:ge,Fa(Ce)?null:Ce}(i.limit));let j=null;var ge;i.startAt&&(j=new G((ge=i.startAt).values||[],!!ge.before));let q=null;return i.endAt&&(q=function(ge){return new G(ge.values||[],!ge.before)}(i.endAt)),sn(e,c,I,p,S,"F",j,q)}function Bc(s){return s?void 0!==s.unaryFilter?[tm(s)]:void 0!==s.fieldFilter?[xl(s)]:void 0!==s.compositeFilter?s.compositeFilter.filters.map(e=>Bc(e)).reduce((e,i)=>e.concat(i)):Jt():[]}function Rl(s){return Fc[s]}function Th(s){return Cl[s]}function ju(s){return{fieldPath:s.canonicalString()}}function Wa(s){return En.fromServerFormat(s.fieldPath)}function xl(s){return Ji.create(Wa(s.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Jt()}}(s.fieldFilter.op),s.fieldFilter.value)}function tm(s){switch(s.unaryFilter.op){case"IS_NAN":const e=Wa(s.unaryFilter.field);return Ji.create(e,"==",{doubleValue:NaN});case"IS_NULL":const i=Wa(s.unaryFilter.field);return Ji.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Wa(s.unaryFilter.field);return Ji.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Wa(s.unaryFilter.field);return Ji.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Jt()}}function nm(s){const e=[];return s.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function za(s){return s.length>=4&&"projects"===s.get(0)&&"databases"===s.get(2)}function Lr(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=wd(e)),e=Id(s.get(i),e);return wd(e)}function Id(s,e){let i=e;const a=s.length;for(let c=0;c<a;c++){const p=s.charAt(c);switch(p){case"\0":i+="\x01\x10";break;case"\x01":i+="\x01\x11";break;default:i+=p}}return i}function wd(s){return s+"\x01\x01"}function ua(s){const e=s.length;if(Fn(e>=2),2===e)return Fn("\x01"===s.charAt(0)&&"\x01"===s.charAt(1)),Et.emptyPath();const i=e-2,a=[];let c="";for(let p=0;p<e;){const I=s.indexOf("\x01",p);switch((I<0||I>i)&&Jt(),s.charAt(I+1)){case"\x01":const S=s.substring(p,I);let j;0===c.length?j=S:(c+=S,j=c,c=""),a.push(j);break;case"\x10":c+=s.substring(p,I),c+="\0";break;case"\x11":c+=s.substring(p,I+1);break;default:Jt()}p=I+2}return new Et(a)}class co{constructor(e,i){this.seconds=e,this.nanoseconds=i}}class Js{constructor(e,i,a){this.ownerId=e,this.allowTabSynchronization=i,this.leaseTimestampMs=a}}Js.store="owner",Js.key="owner";class Pa{constructor(e,i,a){this.userId=e,this.lastAcknowledgedBatchId=i,this.lastStreamToken=a}}Pa.store="mutationQueues",Pa.keyPath="userId";class xi{constructor(e,i,a,c,p){this.userId=e,this.batchId=i,this.localWriteTimeMs=a,this.baseMutations=c,this.mutations=p}}xi.store="mutations",xi.keyPath="batchId",xi.userMutationsIndex="userMutationsIndex",xi.userMutationsKeyPath=["userId","batchId"];class Ts{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,i){return[e,Lr(i)]}static key(e,i,a){return[e,Lr(i),a]}}Ts.store="documentMutations",Ts.PLACEHOLDER=new Ts;class Ch{constructor(e,i){this.path=e,this.readTime=i}}class Dh{constructor(e,i){this.path=e,this.version=i}}class Gi{constructor(e,i,a,c,p,I){this.unknownDocument=e,this.noDocument=i,this.document=a,this.hasCommittedMutations=c,this.readTime=p,this.parentPath=I}}Gi.store="remoteDocuments",Gi.readTimeIndex="readTimeIndex",Gi.readTimeIndexPath="readTime",Gi.collectionReadTimeIndex="collectionReadTimeIndex",Gi.collectionReadTimeIndexPath=["parentPath","readTime"];class Oa{constructor(e){this.byteSize=e}}Oa.store="remoteDocumentGlobal",Oa.key="remoteDocumentGlobalKey";class wo{constructor(e,i,a,c,p,I,S){this.targetId=e,this.canonicalId=i,this.readTime=a,this.resumeToken=c,this.lastListenSequenceNumber=p,this.lastLimboFreeSnapshotVersion=I,this.query=S}}wo.store="targets",wo.keyPath="targetId",wo.queryTargetsIndexName="queryTargetsIndex",wo.queryTargetsKeyPath=["canonicalId","targetId"];class Xs{constructor(e,i,a){this.targetId=e,this.path=i,this.sequenceNumber=a}}Xs.store="targetDocuments",Xs.keyPath=["targetId","path"],Xs.documentTargetsIndex="documentTargetsIndex",Xs.documentTargetsKeyPath=["path","targetId"];class Uo{constructor(e,i,a,c){this.highestTargetId=e,this.highestListenSequenceNumber=i,this.lastRemoteSnapshotVersion=a,this.targetCount=c}}Uo.key="targetGlobalKey",Uo.store="targetGlobal";class Ga{constructor(e,i){this.collectionId=e,this.parent=i}}Ga.store="collectionParents",Ga.keyPath=["collectionId","parent"];class ca{constructor(e,i,a,c){this.clientId=e,this.updateTimeMs=i,this.networkEnabled=a,this.inForeground=c}}ca.store="clientMetadata",ca.keyPath="clientId";class qa{constructor(e,i,a){this.bundleId=e,this.createTime=i,this.version=a}}qa.store="bundles",qa.keyPath="bundleId";class Bu{constructor(e,i,a){this.name=e,this.readTime=i,this.bundledQuery=a}}Bu.store="namedQueries",Bu.keyPath="name";class bo{constructor(e,i,a){this.indexId=e,this.collectionGroup=i,this.fields=a}}bo.store="indexConfiguration",bo.keyPath="indexId",bo.collectionGroupIndex="collectionGroupIndex",bo.collectionGroupIndexPath="collectionGroup";class Ia{constructor(e,i,a,c,p,I){this.indexId=e,this.uid=i,this.sequenceNumber=a,this.readTime=c,this.documentKey=p,this.largestBatchId=I}}Ia.store="indexState",Ia.keyPath=["indexId","uid"],Ia.sequenceNumberIndex="sequenceNumberIndex",Ia.sequenceNumberIndexPath=["uid","sequenceNumber"];class Ni{constructor(e,i,a,c,p){this.indexId=e,this.uid=i,this.arrayValue=a,this.directionalValue=c,this.documentKey=p}}Ni.store="indexEntries",Ni.keyPath=["indexId","uid","arrayValue","directionalValue","documentKey"],Ni.documentKeyIndex="documentKeyIndex",Ni.documentKeyIndexPath=["indexId","uid","documentKey"];class Pi{constructor(e,i,a,c,p,I){this.userId=e,this.collectionPath=i,this.documentId=a,this.collectionGroup=c,this.largestBatchId=p,this.overlayMutation=I}}Pi.store="documentOverlays",Pi.keyPath=["userId","collectionPath","documentId"],Pi.collectionPathOverlayIndex="collectionPathOverlayIndex",Pi.collectionPathOverlayIndexPath=["userId","collectionPath","largestBatchId"],Pi.collectionGroupOverlayIndex="collectionGroupOverlayIndex",Pi.collectionGroupOverlayIndexPath=["userId","collectionGroup","largestBatchId"];const bd=[Pa.store,xi.store,Ts.store,Gi.store,wo.store,Js.store,Uo.store,Xs.store,ca.store,Oa.store,Ga.store,qa.store,Bu.store],Sh=[...bd,Pi.store],fu=[...Sh,bo.store,Ia.store,Ni.store],$c="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Td{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class dt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Jt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new dt((a,c)=>{this.nextCallback=p=>{this.wrapSuccess(e,p).next(a,c)},this.catchCallback=p=>{this.wrapFailure(i,p).next(a,c)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof dt?i:dt.resolve(i)}catch(i){return dt.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):dt.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):dt.reject(i)}static resolve(e){return new dt((i,a)=>{i(e)})}static reject(e){return new dt((i,a)=>{a(e)})}static waitFor(e){return new dt((i,a)=>{let c=0,p=0,I=!1;e.forEach(S=>{++c,S.next(()=>{++p,I&&p===c&&i()},j=>a(j))}),I=!0,p===c&&i()})}static or(e){let i=dt.resolve(!1);for(const a of e)i=i.next(c=>c?dt.resolve(c):a());return i}static forEach(e,i){const a=[];return e.forEach((c,p)=>{a.push(i.call(this,c,p))}),this.waitFor(a)}}class Nl{constructor(e,i){this.action=e,this.transaction=i,this.aborted=!1,this.At=new Fi,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{i.error?this.At.reject(new lo(e,i.error)):this.At.resolve()},this.transaction.onerror=a=>{const c=Pl(a.target.error);this.At.reject(new lo(e,c))}}static open(e,i,a,c){try{return new Nl(i,e.transaction(c,a))}catch(p){throw new lo(i,p)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(St("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}Pt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const i=this.transaction.objectStore(e);return new Jf(i)}}class Ls{constructor(e,i,a){this.name=e,this.version=i,this.bt=a,12.2===Ls.vt((0,oe.z$)())&&Li("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return St("SimpleDb","Removing database:",e),gu(window.indexedDB.deleteDatabase(e)).toPromise()}static Vt(){if(!(0,oe.hl)())return!1;if(Ls.St())return!0;const e=(0,oe.z$)(),i=Ls.vt(e),a=0<i&&i<10,c=Ls.Dt(e),p=0<c&&c<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||a||p)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static Nt(e,i){return e.store(i)}static vt(e){const i=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),a=i?i[1].split("_").slice(0,2).join("."):"-1";return Number(a)}static Dt(e){const i=e.match(/Android ([\d.]+)/i),a=i?i[1].split(".").slice(0,2).join("."):"-1";return Number(a)}xt(e){var i=this;return(0,w.Z)(function*(){return i.db||(St("SimpleDb","Opening database:",i.name),i.db=yield new Promise((a,c)=>{const p=indexedDB.open(i.name,i.version);p.onsuccess=I=>{a(I.target.result)},p.onblocked=()=>{c(new lo(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},p.onerror=I=>{const S=I.target.error;c("VersionError"===S.name?new gt(tt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===S.name?new gt(tt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+S):new lo(e,S))},p.onupgradeneeded=I=>{St("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',I.oldVersion),i.bt.kt(I.target.result,p.transaction,I.oldVersion,i.version).next(()=>{St("SimpleDb","Database upgrade to version "+i.version+" complete")})}})),i.Ot&&(i.db.onversionchange=a=>i.Ot(a)),i.db})()}Mt(e){this.Ot=e,this.db&&(this.db.onversionchange=i=>e(i))}runTransaction(e,i,a,c){var p=this;return(0,w.Z)(function*(){const I="readonly"===i;let S=0;for(;;){++S;try{p.db=yield p.xt(e);const j=Nl.open(p.db,e,I?"readonly":"readwrite",a),q=c(j).next(ge=>(j.Pt(),ge)).catch(ge=>(j.abort(ge),dt.reject(ge))).toPromise();return q.catch(()=>{}),yield j.Rt,q}catch(j){const q="FirebaseError"!==j.name&&S<3;if(St("SimpleDb","Transaction failed with error:",j.message,"Retrying:",q),p.close(),!q)return Promise.reject(j)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Hc{constructor(e){this.$t=e,this.Ft=!1,this.Bt=null}get isDone(){return this.Ft}get Lt(){return this.Bt}set cursor(e){this.$t=e}done(){this.Ft=!0}Ut(e){this.Bt=e}delete(){return gu(this.$t.delete())}}class lo extends gt{constructor(e,i){super(tt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${i}`),this.name="IndexedDbTransactionError"}}function pu(s){return"IndexedDbTransactionError"===s.name}class Jf{constructor(e){this.store=e}put(e,i){let a;return void 0!==i?(St("SimpleDb","PUT",this.store.name,e,i),a=this.store.put(i,e)):(St("SimpleDb","PUT",this.store.name,"<auto-key>",e),a=this.store.put(e)),gu(a)}add(e){return St("SimpleDb","ADD",this.store.name,e,e),gu(this.store.add(e))}get(e){return gu(this.store.get(e)).next(i=>(void 0===i&&(i=null),St("SimpleDb","GET",this.store.name,e,i),i))}delete(e){return St("SimpleDb","DELETE",this.store.name,e),gu(this.store.delete(e))}count(){return St("SimpleDb","COUNT",this.store.name),gu(this.store.count())}qt(e,i){const a=this.options(e,i);if(a.index||"function"!=typeof this.store.getAll){const c=this.cursor(a),p=[];return this.Kt(c,(I,S)=>{p.push(S)}).next(()=>p)}{const c=this.store.getAll(a.range);return new dt((p,I)=>{c.onerror=S=>{I(S.target.error)},c.onsuccess=S=>{p(S.target.result)}})}}Gt(e,i){St("SimpleDb","DELETE ALL",this.store.name);const a=this.options(e,i);a.jt=!1;const c=this.cursor(a);return this.Kt(c,(p,I,S)=>S.delete())}Qt(e,i){let a;i?a=e:(a={},i=e);const c=this.cursor(a);return this.Kt(c,i)}Wt(e){const i=this.cursor({});return new dt((a,c)=>{i.onerror=p=>{const I=Pl(p.target.error);c(I)},i.onsuccess=p=>{const I=p.target.result;I?e(I.primaryKey,I.value).next(S=>{S?I.continue():a()}):a()}})}Kt(e,i){const a=[];return new dt((c,p)=>{e.onerror=I=>{p(I.target.error)},e.onsuccess=I=>{const S=I.target.result;if(!S)return void c();const j=new Hc(S),q=i(S.primaryKey,S.value,j);if(q instanceof dt){const ge=q.catch(Ce=>(j.done(),dt.reject(Ce)));a.push(ge)}j.isDone?c():null===j.Lt?S.continue():S.continue(j.Lt)}}).next(()=>dt.waitFor(a))}options(e,i){let a;return void 0!==e&&("string"==typeof e?a=e:i=e),{index:a,range:i}}cursor(e){let i="next";if(e.reverse&&(i="prev"),e.index){const a=this.store.index(e.index);return e.jt?a.openKeyCursor(e.range,i):a.openCursor(e.range,i)}return this.store.openCursor(e.range,i)}}function gu(s){return new dt((e,i)=>{s.onsuccess=a=>{e(a.target.result)},s.onerror=a=>{const c=Pl(a.target.error);i(c)}})}let ho=!1;function Pl(s){const e=Ls.vt((0,oe.z$)());if(e>=12.2&&e<13){const i="An internal error was encountered in the Indexed Database server";if(s.message.indexOf(i)>=0){const a=new gt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${i}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ho||(ho=!0,setTimeout(()=>{throw a},0)),a}}return s}class Kc extends Td{constructor(e,i){super(),this.zt=e,this.currentSequenceNumber=i}}function Cs(s,e){const i=jt(s);return Ls.Nt(i.zt,e)}class la{constructor(e,i,a,c){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=c}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let c=0;c<this.mutations.length;c++){const p=this.mutations[c];p.key.isEqual(e.key)&&_l(p,e,a[c])}}applyToLocalView(e){for(const i of this.baseMutations)i.key.isEqual(e.key)&&vl(i,e,this.localWriteTime);for(const i of this.mutations)i.key.isEqual(e.key)&&vl(i,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(i=>{const a=e.get(i.key),c=a;this.applyToLocalView(c),a.isValidDocument()||c.convertToNoDocument(M.min())})}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Xr())}isEqual(e){return this.batchId===e.batchId&&b(this.mutations,e.mutations,(i,a)=>dd(i,a))&&b(this.baseMutations,e.baseMutations,(i,a)=>dd(i,a))}}class mu{constructor(e,i,a,c){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=c}static from(e,i,a){Fn(e.mutations.length===a.length);let c=qf;const p=e.mutations;for(let I=0;I<p.length;I++)c=c.insert(p[I].key,a[I].version);return new mu(e,i,a,c)}}class Za{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Fs{constructor(e,i,a,c,p=M.min(),I=M.min(),S=Mr.EMPTY_BYTE_STRING){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=c,this.snapshotVersion=p,this.lastLimboFreeSnapshotVersion=I,this.resumeToken=S}withSequenceNumber(e){return new Fs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,i){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Xf{constructor(e){this.Ht=e}}function Cd(s,e){let i;if(e.document)i=bh(s.Ht,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const a=Xt.fromSegments(e.noDocument.path),c=g(e.noDocument.readTime);i=Ki.newNoDocument(a,c),e.hasCommittedMutations&&i.setHasCommittedMutations()}else{if(!e.unknownDocument)return Jt();{const a=Xt.fromSegments(e.unknownDocument.path),c=g(e.unknownDocument.version);i=Ki.newUnknownDocument(a,c)}}return e.readTime&&i.setReadTime(da(e.readTime)),i}function Dd(s,e){const i=Ah(e.readTime),a=e.key.path.popLast().toArray();if(e.isFoundDocument()){const c={name:qo(I=s.Ht,(S=e).key),fields:S.data.value.mapValue.fields,updateTime:Vu(I,S.version.toTimestamp())};return new Gi(null,null,c,e.hasCommittedMutations,i,a)}var I,S;if(e.isNoDocument()){const c=e.key.path.toArray(),p=Qa(e.version),I=e.hasCommittedMutations;return new Gi(null,new Ch(c,p),null,I,i,a)}if(e.isUnknownDocument()){const c=e.key.path.toArray(),p=Qa(e.version);return new Gi(new Dh(c,p),null,null,!0,i,a)}return Jt()}function Ah(s){const e=s.toTimestamp();return[e.seconds,e.nanoseconds]}function da(s){const e=new x(s[0],s[1]);return M.fromTimestamp(e)}function Qa(s){const e=s.toTimestamp();return new co(e.seconds,e.nanoseconds)}function g(s){const e=new x(s.seconds,s.nanoseconds);return M.fromTimestamp(e)}function d(s,e){const i=(e.baseMutations||[]).map(p=>Uu(s.Ht,p));for(let p=0;p<e.mutations.length-1;++p){const I=e.mutations[p];p+1<e.mutations.length&&void 0!==e.mutations[p+1].transform&&(I.updateTransforms=e.mutations[p+1].transform.fieldTransforms,e.mutations.splice(p+1,1),++p)}const a=e.mutations.map(p=>Uu(s.Ht,p)),c=x.fromMillis(e.localWriteTimeMs);return new la(e.batchId,c,i,a)}function h(s){const e=g(s.readTime),i=void 0!==s.lastLimboFreeSnapshotVersion?g(s.lastLimboFreeSnapshotVersion):M.min();let a;var c;return void 0!==s.query.documents?(Fn(1===(c=s.query).documents.length),a=qs(Jn(Uc(c.documents[0])))):a=qs(vd(s.query)),new Fs(a,s.targetId,0,s.lastListenSequenceNumber,e,i,Mr.fromBase64String(s.resumeToken))}function v(s,e){const i=Qa(e.snapshotVersion),a=Qa(e.lastLimboFreeSnapshotVersion);let c;c=xc(e.target)?zi(s.Ht,e.target):_d(s.Ht,e.target);const p=e.resumeToken.toBase64();return new wo(e.targetId,ou(e.target),i,p,e.sequenceNumber,a,c)}function O(s){const e=vd({parent:s.parent,structuredQuery:s.structuredQuery});return"LAST"===s.limitType?Fo(e,e.limit,"L"):e}function $(s,e){return new Za(e.largestBatchId,Uu(s.Ht,e.overlayMutation))}function _e(s,e){const i=e.path.lastSegment();return[s,Lr(e.path.popLast()),i]}class Ye{getBundleMetadata(e,i){return Pt(e).get(i).next(a=>{if(a)return{id:(c=a).bundleId,createTime:g(c.createTime),version:c.version};var c})}saveBundleMetadata(e,i){return Pt(e).put({bundleId:(a=i).id,createTime:Qa(Ys(a.createTime)),version:a.version});var a}getNamedQuery(e,i){return Ct(e).get(i).next(a=>{if(a)return{name:(c=a).name,query:O(c.bundledQuery),readTime:g(c.readTime)};var c})}saveNamedQuery(e,i){return Ct(e).put({name:(a=i).name,readTime:Qa(Ys(a.readTime)),bundledQuery:a.bundledQuery});var a}}function Pt(s){return Cs(s,qa.store)}function Ct(s){return Cs(s,Bu.store)}class nn{constructor(e,i){this.O=e,this.userId=i}static Jt(e,i){return new nn(e,i.uid||"")}getOverlay(e,i){return on(e).get(_e(this.userId,i)).next(a=>a?$(this.O,a):null)}saveOverlays(e,i,a){const c=[];return a.forEach(p=>{const I=new Za(i,p);c.push(this.Yt(e,I))}),dt.waitFor(c)}removeOverlaysForBatchId(e,i,a){const c=new Set;i.forEach(I=>c.add(Lr(I.getCollectionPath())));const p=[];return c.forEach(I=>{const S=IDBKeyRange.bound([this.userId,I,a],[this.userId,I,a+1],!1,!0);p.push(on(e).Gt(Pi.collectionPathOverlayIndex,S))}),dt.waitFor(p)}getOverlaysForCollection(e,i,a){const c=new Map,p=Lr(i),I=IDBKeyRange.bound([this.userId,p,a],[this.userId,p,Number.POSITIVE_INFINITY],!0);return on(e).qt(Pi.collectionPathOverlayIndex,I).next(S=>{for(const j of S){const q=$(this.O,j);c.set(q.getKey(),q)}return c})}getOverlaysForCollectionGroup(e,i,a,c){const p=new Map;let I;const S=IDBKeyRange.bound([this.userId,i,a],[this.userId,i,Number.POSITIVE_INFINITY],!0);return on(e).Qt({index:Pi.collectionGroupOverlayIndex,range:S},(j,q,ge)=>{const Ce=$(this.O,q);p.size<c||Ce.largestBatchId===I?(p.set(Ce.getKey(),Ce),I=Ce.largestBatchId):ge.done()}).next(()=>p)}Yt(e,i){return on(e).put(function(a,c,p){const[I,S,j]=_e(c,p.mutation.key);return new Pi(c,S,j,p.mutation.key.getCollectionGroup(),p.largestBatchId,gc(a.Ht,p.mutation))}(this.O,this.userId,i))}}function on(s){return Cs(s,Pi.store)}class gr{constructor(){}Xt(e,i){this.Zt(e,i),i.te()}Zt(e,i){if("nullValue"in e)this.ee(i,5);else if("booleanValue"in e)this.ee(i,10),i.ne(e.booleanValue?1:0);else if("integerValue"in e)this.ee(i,15),i.ne(wr(e.integerValue));else if("doubleValue"in e){const a=wr(e.doubleValue);isNaN(a)?this.ee(i,13):(this.ee(i,15),su(a)?i.ne(0):i.ne(a))}else if("timestampValue"in e){const a=e.timestampValue;this.ee(i,20),"string"==typeof a?i.se(a):(i.se(`${a.seconds||""}`),i.ne(a.nanos||0))}else if("stringValue"in e)this.ie(e.stringValue,i),this.re(i);else if("bytesValue"in e)this.ee(i,30),i.oe(ss(e.bytesValue)),this.re(i);else if("referenceValue"in e)this.ce(e.referenceValue,i);else if("geoPointValue"in e){const a=e.geoPointValue;this.ee(i,45),i.ne(a.latitude||0),i.ne(a.longitude||0)}else"mapValue"in e?Io(e,vi)?this.ee(i,Number.MAX_SAFE_INTEGER):(this.ue(e.mapValue,i),this.re(i)):"arrayValue"in e?(this.ae(e.arrayValue,i),this.re(i)):Jt()}ie(e,i){this.ee(i,25),this.he(e,i)}he(e,i){i.se(e)}ue(e,i){const a=e.fields||{};this.ee(i,55);for(const c of Object.keys(a))this.ie(c,i),this.Zt(a[c],i)}ae(e,i){const a=e.values||[];this.ee(i,50);for(const c of a)this.Zt(c,i)}ce(e,i){this.ee(i,37),Xt.fromName(e).path.forEach(a=>{this.ee(i,60),this.he(a,i)})}ee(e,i){e.ne(i)}re(e){e.ne(2)}}function Vs(s){if(0===s)return 8;let e=0;return s>>4==0&&(e+=4,s<<=4),s>>6==0&&(e+=2,s<<=2),s>>7==0&&(e+=1),e}function wa(s){const e=64-function(i){let a=0;for(let c=0;c<8;++c){const p=Vs(255&i[c]);if(a+=p,8!==p)break}return a}(s);return Math.ceil(e/8)}gr.le=new gr;class Ol{constructor(){this.buffer=new Uint8Array(1024),this.position=0}fe(e){const i=e[Symbol.iterator]();let a=i.next();for(;!a.done;)this.de(a.value),a=i.next();this._e()}we(e){const i=e[Symbol.iterator]();let a=i.next();for(;!a.done;)this.me(a.value),a=i.next();this.ge()}ye(e){for(const i of e){const a=i.charCodeAt(0);if(a<128)this.de(a);else if(a<2048)this.de(960|a>>>6),this.de(128|63&a);else if(i<"\ud800"||"\udbff"<i)this.de(480|a>>>12),this.de(128|63&a>>>6),this.de(128|63&a);else{const c=i.codePointAt(0);this.de(240|c>>>18),this.de(128|63&c>>>12),this.de(128|63&c>>>6),this.de(128|63&c)}}this._e()}pe(e){for(const i of e){const a=i.charCodeAt(0);if(a<128)this.me(a);else if(a<2048)this.me(960|a>>>6),this.me(128|63&a);else if(i<"\ud800"||"\udbff"<i)this.me(480|a>>>12),this.me(128|63&a>>>6),this.me(128|63&a);else{const c=i.codePointAt(0);this.me(240|c>>>18),this.me(128|63&c>>>12),this.me(128|63&c>>>6),this.me(128|63&c)}}this.ge()}Ie(e){const i=this.Ee(e),a=wa(i);this.Te(1+a),this.buffer[this.position++]=255&a;for(let c=i.length-a;c<i.length;++c)this.buffer[this.position++]=255&i[c]}Ae(e){const i=this.Ee(e),a=wa(i);this.Te(1+a),this.buffer[this.position++]=~(255&a);for(let c=i.length-a;c<i.length;++c)this.buffer[this.position++]=~(255&i[c])}Re(){this.Pe(255),this.Pe(255)}be(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Te(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ve(){return this.buffer.slice(0,this.position)}Ee(e){const i=function(c){const p=new DataView(new ArrayBuffer(8));return p.setFloat64(0,c,!1),new Uint8Array(p.buffer)}(e),a=0!=(128&i[0]);i[0]^=a?255:128;for(let c=1;c<i.length;++c)i[c]^=a?255:0;return i}de(e){const i=255&e;0===i?(this.Pe(0),this.Pe(255)):255===i?(this.Pe(255),this.Pe(0)):this.Pe(i)}me(e){const i=255&e;0===i?(this.ve(0),this.ve(255)):255===i?(this.ve(255),this.ve(0)):this.ve(e)}_e(){this.Pe(0),this.Pe(1)}ge(){this.ve(0),this.ve(1)}Pe(e){this.Te(1),this.buffer[this.position++]=e}ve(e){this.Te(1),this.buffer[this.position++]=~e}Te(e){const i=e+this.position;if(i<=this.buffer.length)return;let a=2*this.buffer.length;a<i&&(a=i);const c=new Uint8Array(a);c.set(this.buffer),this.buffer=c}}class Sd{constructor(e){this.Se=e}oe(e){this.Se.fe(e)}se(e){this.Se.ye(e)}ne(e){this.Se.Ie(e)}te(){this.Se.Re()}}class Rh{constructor(e){this.Se=e}oe(e){this.Se.we(e)}se(e){this.Se.pe(e)}ne(e){this.Se.Ae(e)}te(){this.Se.be()}}class Ad{constructor(){this.Se=new Ol,this.De=new Sd(this.Se),this.Ce=new Rh(this.Se)}seed(e){this.Se.seed(e)}Ne(e){return 0===e?this.De:this.Ce}Ve(){return this.Se.Ve()}reset(){this.Se.reset()}}class Wc{constructor(e,i,a,c){this.indexId=e,this.documentKey=i,this.arrayValue=a,this.directionalValue=c}}function Ml(s,e){let i=s.indexId-e.indexId;return 0!==i?i:(i=Xt.comparator(s.documentKey,e.documentKey),0!==i?i:(i=kl(s.arrayValue,e.arrayValue),0!==i?i:kl(s.directionalValue,e.directionalValue)))}function kl(s,e){for(let i=0;i<s.length&&i<e.length;++i){const a=s[i]-e[i];if(0!==a)return a}return s.length-e.length}class zc{constructor(){this.xe=new Gc}addToCollectionParentIndex(e,i){return this.xe.add(i),dt.resolve()}getCollectionParents(e,i){return dt.resolve(this.xe.getEntries(i))}addFieldIndex(e,i){return dt.resolve()}deleteFieldIndex(e,i){return dt.resolve()}getDocumentsMatchingTarget(e,i,a){return dt.resolve(Xr())}getFieldIndex(e,i){return dt.resolve(null)}getFieldIndexes(e,i){return dt.resolve([])}getNextCollectionGroupToUpdate(e){return dt.resolve(null)}updateCollectionGroup(e,i,a){return dt.resolve()}updateIndexEntries(e,i){return dt.resolve()}}class Gc{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),c=this.index[i]||new Ui(Et.comparator),p=!c.has(a);return this.index[i]=c.add(a),p}has(e){const i=e.lastSegment(),a=e.popLast(),c=this.index[i];return c&&c.has(a)}getEntries(e){return(this.index[e]||new Ui(Et.comparator)).toArray()}}class Rd{constructor(e){this.user=e,this.ke=new Gc,this.uid=e.uid||""}addToCollectionParentIndex(e,i){if(!this.ke.has(i)){const a=i.lastSegment(),c=i.popLast();e.addOnCommittedListener(()=>{this.ke.add(i)});const p={collectionId:a,parent:Lr(c)};return Ll(e).put(p)}return dt.resolve()}getCollectionParents(e,i){const a=[],c=IDBKeyRange.bound([i,""],[E(i),""],!1,!0);return Ll(e).qt(c).next(p=>{for(const I of p){if(I.collectionId!==i)break;a.push(ua(I.parent))}return a})}addFieldIndex(e,i){const a=xd(e),c=new bo((p=i).indexId,p.collectionGroup,p.fields.map(I=>[I.fieldPath.canonicalString(),I.kind]));var p;return delete c.indexId,a.add(c).next()}deleteFieldIndex(e,i){const a=xd(e),c=Nd(e),p=Fl(e);return a.delete(i.indexId).next(()=>c.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0))).next(()=>p.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,i,a){return dt.resolve(Xr())}getFieldIndex(e,i){return dt.resolve(null)}Oe(e,i){const a=new Ad;for(const c of e.fields.filter(I=>2!==I.kind)){const p=i.data.field(c.fieldPath);if(null==p)return null;const I=a.Ne(c.kind);gr.le.Xt(p,I)}return a.Ve()}Me(e){const i=new Ad;return gr.le.Xt(e,i.Ne(0)),i.Ve()}getFieldIndexes(e,i){const a=xd(e),c=Nd(e);return(i?a.qt(bo.collectionGroupIndex,IDBKeyRange.bound(i,i)):a.qt()).next(p=>{const I=[];return dt.forEach(p,S=>c.get([S.indexId,this.uid]).next(j=>{I.push(function(q,ge){const Ce=ge?new ao(ge.sequenceNumber,new ja(g(ge.readTime),new Xt(ua(ge.documentKey)),ge.largestBatchId)):ao.empty(),et=q.fields.map(([_t,Dt])=>new ks(En.fromServerFormat(_t),Dt));return new fl(q.indexId,q.collectionGroup,et,Ce)}(S,j))})).next(()=>I)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(i=>0===i.length?null:(i.sort((a,c)=>a.indexState.sequenceNumber-c.indexState.sequenceNumber),i[0].collectionGroup))}updateCollectionGroup(e,i,a){const c=xd(e),p=Nd(e);return this.$e(e).next(I=>c.qt(bo.collectionGroupIndex,IDBKeyRange.bound(i,i)).next(S=>dt.forEach(S,j=>{return p.put(new Ia(j.indexId,this.user.uid||"",I,Qa((et=a).readTime),Lr(et.documentKey.path),et.largestBatchId));var et})))}updateIndexEntries(e,i){const a=new Map;return dt.forEach(i,(c,p)=>{const I=a.get(c.collectionGroup);return(I?dt.resolve(I):this.getFieldIndexes(e,c.collectionGroup)).next(S=>(a.set(c.collectionGroup,S),dt.forEach(S,j=>this.Fe(e,c,j).next(q=>{const ge=this.Be(p,j);return q.isEqual(ge)?dt.resolve():this.Le(e,p,q,ge)}))))})}Ue(e,i,a){return Fl(e).put(new Ni(a.indexId,this.uid,a.arrayValue,a.directionalValue,Lr(i.key.path)))}qe(e,i,a){return Fl(e).delete([a.indexId,this.uid,a.arrayValue,a.directionalValue,Lr(i.key.path)])}Fe(e,i,a){const c=Fl(e);let p=new Ui(Ml);return c.Qt({index:Ni.documentKeyIndex,range:IDBKeyRange.only([a.indexId,this.uid,Lr(i.path)])},(I,S)=>{p=p.add(new Wc(a.indexId,i,S.arrayValue,S.directionalValue))}).next(()=>p)}Be(e,i){let a=new Ui(Ml);const c=this.Oe(i,e);if(null==c)return a;const p=i.fields.find(S=>2===S.kind);if(null!=p){const I=e.data.field(p.fieldPath);if(xu(I))for(const S of I.arrayValue.values||[])a=a.add(new Wc(i.indexId,e.key,this.Me(S),c))}else a=a.add(new Wc(i.indexId,e.key,new Uint8Array,c));return a}Le(e,i,a,c){St("IndexedDbIndexManager","Updating index entries for document '%s'",i.key);const p=[];return function(I,S,j,q,ge){const Ce=I.getIterator(),et=S.getIterator();let _t=fc(Ce),Dt=fc(et);for(;_t||Dt;){let Tn=!1,mr=!1;if(_t&&Dt){const Ss=j(_t,Dt);Ss<0?mr=!0:Ss>0&&(Tn=!0)}else null!=_t?mr=!0:Tn=!0;Tn?(q(Dt),Dt=fc(et)):mr?(ge(_t),_t=fc(Ce)):(_t=fc(Ce),Dt=fc(et))}}(a,c,Ml,I=>{p.push(this.Ue(e,i,I))},I=>{p.push(this.qe(e,i,I))}),dt.waitFor(p)}$e(e){let i=1;return Nd(e).Qt({index:Ia.sequenceNumberIndex,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(a,c,p)=>{p.done(),i=c.sequenceNumber+1}).next(()=>i)}}function Ll(s){return Cs(s,Ga.store)}function Fl(s){return Cs(s,Ni.store)}function xd(s){return Cs(s,bo.store)}function Nd(s){return Cs(s,Ia.store)}const mc={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Zo{constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}static withCacheSize(e){return new Zo(e,Zo.DEFAULT_COLLECTION_PERCENTILE,Zo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function ep(s,e,i){const a=s.store(xi.store),c=s.store(Ts.store),p=[],I=IDBKeyRange.only(i.batchId);let S=0;const j=a.Qt({range:I},(ge,Ce,et)=>(S++,et.delete()));p.push(j.next(()=>{Fn(1===S)}));const q=[];for(const ge of i.mutations){const Ce=Ts.key(e,ge.key.path,i.batchId);p.push(c.delete(Ce)),q.push(ge.key)}return dt.waitFor(p).next(()=>q)}function xh(s){if(!s)return 0;let e;if(s.document)e=s.document;else if(s.unknownDocument)e=s.unknownDocument;else{if(!s.noDocument)throw Jt();e=s.noDocument}return JSON.stringify(e).length}Zo.DEFAULT_COLLECTION_PERCENTILE=10,Zo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zo.DEFAULT=new Zo(41943040,Zo.DEFAULT_COLLECTION_PERCENTILE,Zo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zo.DISABLED=new Zo(-1,0,0);class Vl{constructor(e,i,a,c){this.userId=e,this.O=i,this.indexManager=a,this.referenceDelegate=c,this.Ke={}}static Jt(e,i,a,c){Fn(""!==e.uid);const p=e.isAuthenticated()?e.uid:"";return new Vl(p,i,a,c)}checkEmpty(e){let i=!0;const a=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return $u(e).Qt({index:xi.userMutationsIndex,range:a},(c,p,I)=>{i=!1,I.done()}).next(()=>i)}addMutationBatch(e,i,a,c){const p=qc(e),I=$u(e);return I.add({}).next(S=>{Fn("number"==typeof S);const j=new la(S,i,a,c),q=function(et,_t,Dt){const Tn=Dt.baseMutations.map(Ss=>gc(et.Ht,Ss)),mr=Dt.mutations.map(Ss=>gc(et.Ht,Ss));return new xi(_t,Dt.batchId,Dt.localWriteTime.toMillis(),Tn,mr)}(this.O,this.userId,j),ge=[];let Ce=new Ui((et,_t)=>C(et.canonicalString(),_t.canonicalString()));for(const et of c){const _t=Ts.key(this.userId,et.key.path,S);Ce=Ce.add(et.key.path.popLast()),ge.push(I.put(q)),ge.push(p.put(_t,Ts.PLACEHOLDER))}return Ce.forEach(et=>{ge.push(this.indexManager.addToCollectionParentIndex(e,et))}),e.addOnCommittedListener(()=>{this.Ke[S]=j.keys()}),dt.waitFor(ge).next(()=>j)})}lookupMutationBatch(e,i){return $u(e).get(i).next(a=>a?(Fn(a.userId===this.userId),d(this.O,a)):null)}Ge(e,i){return this.Ke[i]?dt.resolve(this.Ke[i]):this.lookupMutationBatch(e,i).next(a=>{if(a){const c=a.keys();return this.Ke[i]=c,c}return null})}getNextMutationBatchAfterBatchId(e,i){const a=i+1,c=IDBKeyRange.lowerBound([this.userId,a]);let p=null;return $u(e).Qt({index:xi.userMutationsIndex,range:c},(I,S,j)=>{S.userId===this.userId&&(Fn(S.batchId>=a),p=d(this.O,S)),j.done()}).next(()=>p)}getHighestUnacknowledgedBatchId(e){const i=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let a=-1;return $u(e).Qt({index:xi.userMutationsIndex,range:i,reverse:!0},(c,p,I)=>{a=p.batchId,I.done()}).next(()=>a)}getAllMutationBatches(e){const i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return $u(e).qt(xi.userMutationsIndex,i).next(a=>a.map(c=>d(this.O,c)))}getAllMutationBatchesAffectingDocumentKey(e,i){const a=Ts.prefixForPath(this.userId,i.path),c=IDBKeyRange.lowerBound(a),p=[];return qc(e).Qt({range:c},(I,S,j)=>{const[q,ge,Ce]=I,et=ua(ge);if(q===this.userId&&i.path.isEqual(et))return $u(e).get(Ce).next(_t=>{if(!_t)throw Jt();Fn(_t.userId===this.userId),p.push(d(this.O,_t))});j.done()}).next(()=>p)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Ui(C);const c=[];return i.forEach(p=>{const I=Ts.prefixForPath(this.userId,p.path),S=IDBKeyRange.lowerBound(I),j=qc(e).Qt({range:S},(q,ge,Ce)=>{const[et,_t,Dt]=q,Tn=ua(_t);et===this.userId&&p.path.isEqual(Tn)?a=a.add(Dt):Ce.done()});c.push(j)}),dt.waitFor(c).next(()=>this.je(e,a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,c=a.length+1,p=Ts.prefixForPath(this.userId,a),I=IDBKeyRange.lowerBound(p);let S=new Ui(C);return qc(e).Qt({range:I},(j,q,ge)=>{const[Ce,et,_t]=j,Dt=ua(et);Ce===this.userId&&a.isPrefixOf(Dt)?Dt.length===c&&(S=S.add(_t)):ge.done()}).next(()=>this.je(e,S))}je(e,i){const a=[],c=[];return i.forEach(p=>{c.push($u(e).get(p).next(I=>{if(null===I)throw Jt();Fn(I.userId===this.userId),a.push(d(this.O,I))}))}),dt.waitFor(c).next(()=>a)}removeMutationBatch(e,i){return ep(e.zt,this.userId,i).next(a=>(e.addOnCommittedListener(()=>{this.Qe(i.batchId)}),dt.forEach(a,c=>this.referenceDelegate.markPotentiallyOrphaned(e,c))))}Qe(e){delete this.Ke[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(i=>{if(!i)return dt.resolve();const a=IDBKeyRange.lowerBound(Ts.prefixForUser(this.userId)),c=[];return qc(e).Qt({range:a},(p,I,S)=>{if(p[0]===this.userId){const j=ua(p[1]);c.push(j)}else S.done()}).next(()=>{Fn(0===c.length)})})}containsKey(e,i){return rm(e,this.userId,i)}We(e){return tp(e).get(this.userId).next(i=>i||new Pa(this.userId,-1,""))}}function rm(s,e,i){const a=Ts.prefixForPath(e,i.path),c=a[1],p=IDBKeyRange.lowerBound(a);let I=!1;return qc(s).Qt({range:p,jt:!0},(S,j,q)=>{const[ge,Ce,et]=S;ge===e&&Ce===c&&(I=!0),q.done()}).next(()=>I)}function $u(s){return Cs(s,xi.store)}function qc(s){return Cs(s,Ts.store)}function tp(s){return Cs(s,Pa.store)}class Hu{constructor(e){this.ze=e}next(){return this.ze+=2,this.ze}static He(){return new Hu(0)}static Je(){return new Hu(-1)}}class im{constructor(e,i){this.referenceDelegate=e,this.O=i}allocateTargetId(e){return this.Ye(e).next(i=>{const a=new Hu(i.highestTargetId);return i.highestTargetId=a.next(),this.Xe(e,i).next(()=>i.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Ye(e).next(i=>M.fromTimestamp(new x(i.lastRemoteSnapshotVersion.seconds,i.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Ye(e).next(i=>i.highestListenSequenceNumber)}setTargetsMetadata(e,i,a){return this.Ye(e).next(c=>(c.highestListenSequenceNumber=i,a&&(c.lastRemoteSnapshotVersion=a.toTimestamp()),i>c.highestListenSequenceNumber&&(c.highestListenSequenceNumber=i),this.Xe(e,c)))}addTargetData(e,i){return this.Ze(e,i).next(()=>this.Ye(e).next(a=>(a.targetCount+=1,this.tn(i,a),this.Xe(e,a))))}updateTargetData(e,i){return this.Ze(e,i)}removeTargetData(e,i){return this.removeMatchingKeysForTargetId(e,i.targetId).next(()=>Ku(e).delete(i.targetId)).next(()=>this.Ye(e)).next(a=>(Fn(a.targetCount>0),a.targetCount-=1,this.Xe(e,a)))}removeTargets(e,i,a){let c=0;const p=[];return Ku(e).Qt((I,S)=>{const j=h(S);j.sequenceNumber<=i&&null===a.get(j.targetId)&&(c++,p.push(this.removeTargetData(e,j)))}).next(()=>dt.waitFor(p)).next(()=>c)}forEachTarget(e,i){return Ku(e).Qt((a,c)=>{const p=h(c);i(p)})}Ye(e){return Pd(e).get(Uo.key).next(i=>(Fn(null!==i),i))}Xe(e,i){return Pd(e).put(Uo.key,i)}Ze(e,i){return Ku(e).put(v(this.O,i))}tn(e,i){let a=!1;return e.targetId>i.highestTargetId&&(i.highestTargetId=e.targetId,a=!0),e.sequenceNumber>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e.sequenceNumber,a=!0),a}getTargetCount(e){return this.Ye(e).next(i=>i.targetCount)}getTargetData(e,i){const a=ou(i),c=IDBKeyRange.bound([a,Number.NEGATIVE_INFINITY],[a,Number.POSITIVE_INFINITY]);let p=null;return Ku(e).Qt({range:c,index:wo.queryTargetsIndexName},(I,S,j)=>{const q=h(S);ia(i,q.target)&&(p=q,j.done())}).next(()=>p)}addMatchingKeys(e,i,a){const c=[],p=Wu(e);return i.forEach(I=>{const S=Lr(I.path);c.push(p.put(new Xs(a,S))),c.push(this.referenceDelegate.addReference(e,a,I))}),dt.waitFor(c)}removeMatchingKeys(e,i,a){const c=Wu(e);return dt.forEach(i,p=>{const I=Lr(p.path);return dt.waitFor([c.delete([a,I]),this.referenceDelegate.removeReference(e,a,p)])})}removeMatchingKeysForTargetId(e,i){const a=Wu(e),c=IDBKeyRange.bound([i],[i+1],!1,!0);return a.delete(c)}getMatchingKeysForTargetId(e,i){const a=IDBKeyRange.bound([i],[i+1],!1,!0),c=Wu(e);let p=Xr();return c.Qt({range:a,jt:!0},(I,S,j)=>{const q=ua(I[1]),ge=new Xt(q);p=p.add(ge)}).next(()=>p)}containsKey(e,i){const a=Lr(i.path),c=IDBKeyRange.bound([a],[E(a)],!1,!0);let p=0;return Wu(e).Qt({index:Xs.documentTargetsIndex,jt:!0,range:c},([I,S],j,q)=>{0!==I&&(p++,q.done())}).next(()=>p>0)}Tt(e,i){return Ku(e).get(i).next(a=>a?h(a):null)}}function Ku(s){return Cs(s,wo.store)}function Pd(s){return Cs(s,Uo.store)}function Wu(s){return Cs(s,Xs.store)}function zu(s){return Nh.apply(this,arguments)}function Nh(){return(Nh=(0,w.Z)(function*(s){if(s.code!==tt.FAILED_PRECONDITION||s.message!==$c)throw s;St("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function Ph([s,e],[i,a]){const c=C(s,i);return 0===c?C(e,a):c}class Od{constructor(e){this.en=e,this.buffer=new Ui(Ph),this.nn=0}sn(){return++this.nn}rn(e){const i=[e,this.sn()];if(this.buffer.size<this.en)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Ph(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class i_{constructor(e,i){this.garbageCollector=e,this.asyncQueue=i,this.on=!1,this.cn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.un(e)}stop(){this.cn&&(this.cn.cancel(),this.cn=null)}get started(){return null!==this.cn}un(e){var i=this;const a=this.on?3e5:6e4;St("LruGarbageCollector",`Garbage collection scheduled in ${a}ms`),this.cn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",a,(0,w.Z)(function*(){i.cn=null,i.on=!0;try{yield e.collectGarbage(i.garbageCollector)}catch(c){pu(c)?St("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",c):yield zu(c)}yield i.un(e)}))}}class sm{constructor(e,i){this.an=e,this.params=i}calculateTargetCount(e,i){return this.an.hn(e).next(a=>Math.floor(i/100*a))}nthSequenceNumber(e,i){if(0===i)return dt.resolve(Si.A);const a=new Od(i);return this.an.forEachTarget(e,c=>a.rn(c.sequenceNumber)).next(()=>this.an.ln(e,c=>a.rn(c))).next(()=>a.maxValue)}removeTargets(e,i,a){return this.an.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.an.removeOrphanedDocuments(e,i)}collect(e,i){return-1===this.params.cacheSizeCollectionThreshold?(St("LruGarbageCollector","Garbage collection skipped; disabled"),dt.resolve(mc)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(St("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mc):this.fn(e,i))}getCacheSize(e){return this.an.getCacheSize(e)}fn(e,i){let a,c,p,I,S,j,q;const ge=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Ce=>(Ce>this.params.maximumSequenceNumbersToCollect?(St("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ce}`),c=this.params.maximumSequenceNumbersToCollect):c=Ce,I=Date.now(),this.nthSequenceNumber(e,c))).next(Ce=>(a=Ce,S=Date.now(),this.removeTargets(e,a,i))).next(Ce=>(p=Ce,j=Date.now(),this.removeOrphanedDocuments(e,a))).next(Ce=>(q=Date.now(),Aa()<=be.in.DEBUG&&St("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${I-ge}ms\n\tDetermined least recently used ${c} in `+(S-I)+`ms\n\tRemoved ${p} targets in `+(j-S)+`ms\n\tRemoved ${Ce} documents in `+(q-j)+`ms\nTotal Duration: ${q-ge}ms`),dt.resolve({didRun:!0,sequenceNumbersCollected:c,targetsRemoved:p,documentsRemoved:Ce})))}}class s_{constructor(e,i){this.db=e,this.garbageCollector=new sm(this,i)}hn(e){const i=this.dn(e);return this.db.getTargetCache().getTargetCount(e).next(a=>i.next(c=>a+c))}dn(e){let i=0;return this.ln(e,a=>{i++}).next(()=>i)}forEachTarget(e,i){return this.db.getTargetCache().forEachTarget(e,i)}ln(e,i){return this._n(e,(a,c)=>i(c))}addReference(e,i,a){return Oh(e,a)}removeReference(e,i,a){return Oh(e,a)}removeTargets(e,i,a){return this.db.getTargetCache().removeTargets(e,i,a)}markPotentiallyOrphaned(e,i){return Oh(e,i)}wn(e,i){return function(a,c){let p=!1;return tp(a).Wt(I=>rm(a,I,c).next(S=>(S&&(p=!0),dt.resolve(!S)))).next(()=>p)}(e,i)}removeOrphanedDocuments(e,i){const a=this.db.getRemoteDocumentCache().newChangeBuffer(),c=[];let p=0;return this._n(e,(I,S)=>{if(S<=i){const j=this.wn(e,I).next(q=>{if(!q)return p++,a.getEntry(e,I).next(()=>(a.removeEntry(I,M.min()),Wu(e).delete([0,Lr(I.path)])))});c.push(j)}}).next(()=>dt.waitFor(c)).next(()=>a.apply(e)).next(()=>p)}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,a)}updateLimboDocument(e,i){return Oh(e,i)}_n(e,i){const a=Wu(e);let c,p=Si.A;return a.Qt({index:Xs.documentTargetsIndex},([I,S],{path:j,sequenceNumber:q})=>{0===I?(p!==Si.A&&i(new Xt(ua(c)),p),p=q,c=j):p=Si.A}).next(()=>{p!==Si.A&&i(new Xt(ua(c)),p)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Oh(s,e){return Wu(s).put((a=s.currentSequenceNumber,new Xs(0,Lr(e.path),a)));var a}class Zc{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={}}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(void 0!==a)for(const[c,p]of a)if(this.equalsFn(c,e))return p}has(e){return void 0!==this.get(e)}set(e,i){const a=this.mapKeyFn(e),c=this.inner[a];if(void 0!==c){for(let p=0;p<c.length;p++)if(this.equalsFn(c[p][0],e))return void(c[p]=[e,i]);c.push([e,i])}else this.inner[a]=[[e,i]]}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(void 0===a)return!1;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return 1===a.length?delete this.inner[i]:a.splice(c,1),!0;return!1}forEach(e){ce(this.inner,(i,a)=>{for(const[c,p]of a)e(c,p)})}isEmpty(){return Ae(this.inner)}}class Mh{constructor(){this.changes=new Zc(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ki.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return void 0!==a?dt.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class om{constructor(e){this.O=e}setIndexManager(e){this.indexManager=e}addEntry(e,i,a){return yc(e).put(Md(i),a)}removeEntry(e,i){const a=yc(e),c=Md(i);return a.delete(c)}updateMetadata(e,i){return this.getMetadata(e).next(a=>(a.byteSize+=i,this.mn(e,a)))}getEntry(e,i){return yc(e).get(Md(i)).next(a=>this.gn(i,a))}yn(e,i){return yc(e).get(Md(i)).next(a=>({document:this.gn(i,a),size:xh(a)}))}getEntries(e,i){let a=Qs();return this.pn(e,i,(c,p)=>{const I=this.gn(c,p);a=a.insert(c,I)}).next(()=>a)}In(e,i){let a=Qs(),c=new fi(Xt.comparator);return this.pn(e,i,(p,I)=>{const S=this.gn(p,I);a=a.insert(p,S),c=c.insert(p,xh(I))}).next(()=>({documents:a,En:c}))}pn(e,i,a){if(i.isEmpty())return dt.resolve();const c=IDBKeyRange.bound(i.first().path.toArray(),i.last().path.toArray()),p=i.getIterator();let I=p.getNext();return yc(e).Qt({range:c},(S,j,q)=>{const ge=Xt.fromSegments(S);for(;I&&Xt.comparator(I,ge)<0;)a(I,null),I=p.getNext();I&&I.isEqual(ge)&&(a(I,j),I=p.hasNext()?p.getNext():null),I?q.Ut(I.path.toArray()):q.done()}).next(()=>{for(;I;)a(I,null),I=p.hasNext()?p.getNext():null})}getAll(e,i,a){let c=Qs();const p=i.length+1,I={};if(a.isEqual(M.min())){const S=i.toArray();I.range=IDBKeyRange.lowerBound(S)}else{const S=i.toArray(),j=Ah(a);I.range=IDBKeyRange.lowerBound([S,j],!0),I.index=Gi.collectionReadTimeIndex}return yc(e).Qt(I,(S,j,q)=>{if(S.length!==p)return;const ge=this.gn(Xt.fromSegments(S),j);i.isPrefixOf(ge.key.path)?c=c.insert(ge.key,ge):q.done()}).next(()=>c)}newChangeBuffer(e){return new YE(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(i=>i.byteSize)}getMetadata(e){return np(e).get(Oa.key).next(i=>(Fn(!!i),i))}mn(e,i){return np(e).put(Oa.key,i)}gn(e,i){if(i){const a=Cd(this.O,i);if(!a.isNoDocument()||!a.version.isEqual(M.min()))return a}return Ki.newInvalidDocument(e)}}class YE extends Mh{constructor(e,i){super(),this.Tn=e,this.trackRemovals=i,this.An=new Zc(a=>a.toString(),(a,c)=>a.isEqual(c))}applyChanges(e){const i=[];let a=0,c=new Ui((p,I)=>C(p.canonicalString(),I.canonicalString()));return this.changes.forEach((p,I)=>{const S=this.An.get(p);if(I.isValidDocument()){const j=Dd(this.Tn.O,I);c=c.add(p.path.popLast()),a+=xh(j)-S,i.push(this.Tn.addEntry(e,p,j))}else if(a-=S,this.trackRemovals){const j=Dd(this.Tn.O,I.convertToNoDocument(M.min()));i.push(this.Tn.addEntry(e,p,j))}else i.push(this.Tn.removeEntry(e,p))}),c.forEach(p=>{i.push(this.Tn.indexManager.addToCollectionParentIndex(e,p))}),i.push(this.Tn.updateMetadata(e,a)),dt.waitFor(i)}getFromCache(e,i){return this.Tn.yn(e,i).next(a=>(this.An.set(i,a.size),a.document))}getAllFromCache(e,i){return this.Tn.In(e,i).next(({documents:a,En:c})=>(c.forEach((p,I)=>{this.An.set(p,I)}),a))}}function np(s){return Cs(s,Oa.store)}function yc(s){return Cs(s,Gi.store)}function Md(s){return s.path.toArray()}class o_{constructor(e){this.O=e}kt(e,i,a,c){const p=new Nl("createOrUpgrade",i);var S;a<1&&c>=1&&(e.createObjectStore(Js.store),(S=e).createObjectStore(Pa.store,{keyPath:Pa.keyPath}),S.createObjectStore(xi.store,{keyPath:xi.keyPath,autoIncrement:!0}).createIndex(xi.userMutationsIndex,xi.userMutationsKeyPath,{unique:!0}),S.createObjectStore(Ts.store),am(e),function(S){S.createObjectStore(Gi.store)}(e));let I=dt.resolve();return a<3&&c>=3&&(0!==a&&(function(S){S.deleteObjectStore(Xs.store),S.deleteObjectStore(wo.store),S.deleteObjectStore(Uo.store)}(e),am(e)),I=I.next(()=>function(S){const j=S.store(Uo.store),q=new Uo(0,0,M.min().toTimestamp(),0);return j.put(Uo.key,q)}(p))),a<4&&c>=4&&(0!==a&&(I=I.next(()=>function(S,j){return j.store(xi.store).qt().next(q=>{S.deleteObjectStore(xi.store),S.createObjectStore(xi.store,{keyPath:xi.keyPath,autoIncrement:!0}).createIndex(xi.userMutationsIndex,xi.userMutationsKeyPath,{unique:!0});const ge=j.store(xi.store),Ce=q.map(et=>ge.put(et));return dt.waitFor(Ce)})}(e,p))),I=I.next(()=>{!function(S){S.createObjectStore(ca.store,{keyPath:ca.keyPath})}(e)})),a<5&&c>=5&&(I=I.next(()=>this.Rn(p))),a<6&&c>=6&&(I=I.next(()=>(function(S){S.createObjectStore(Oa.store)}(e),this.Pn(p)))),a<7&&c>=7&&(I=I.next(()=>this.bn(p))),a<8&&c>=8&&(I=I.next(()=>this.vn(e,p))),a<9&&c>=9&&(I=I.next(()=>{(function(S){S.objectStoreNames.contains("remoteDocumentChanges")&&S.deleteObjectStore("remoteDocumentChanges")})(e),function(S){const j=S.objectStore(Gi.store);j.createIndex(Gi.readTimeIndex,Gi.readTimeIndexPath,{unique:!1}),j.createIndex(Gi.collectionReadTimeIndex,Gi.collectionReadTimeIndexPath,{unique:!1})}(i)})),a<10&&c>=10&&(I=I.next(()=>this.Vn(p))),a<11&&c>=11&&(I=I.next(()=>{(function(S){S.createObjectStore(qa.store,{keyPath:qa.keyPath})})(e),function(S){S.createObjectStore(Bu.store,{keyPath:Bu.keyPath})}(e)})),a<12&&c>=12&&(I=I.next(()=>{!function(S){const j=S.createObjectStore(Pi.store,{keyPath:Pi.keyPath});j.createIndex(Pi.collectionPathOverlayIndex,Pi.collectionPathOverlayIndexPath,{unique:!1}),j.createIndex(Pi.collectionGroupOverlayIndex,Pi.collectionGroupOverlayIndexPath,{unique:!1})}(e)})),a<13&&c>=13&&(I=I.next(()=>{!function(S){S.createObjectStore(bo.store,{keyPath:bo.keyPath,autoIncrement:!0}).createIndex(bo.collectionGroupIndex,bo.collectionGroupIndexPath,{unique:!1}),S.createObjectStore(Ia.store,{keyPath:Ia.keyPath}).createIndex(Ia.sequenceNumberIndex,Ia.sequenceNumberIndexPath,{unique:!1}),S.createObjectStore(Ni.store,{keyPath:Ni.keyPath}).createIndex(Ni.documentKeyIndex,Ni.documentKeyIndexPath,{unique:!1})}(e)})),I}Pn(e){let i=0;return e.store(Gi.store).Qt((a,c)=>{i+=xh(c)}).next(()=>{const a=new Oa(i);return e.store(Oa.store).put(Oa.key,a)})}Rn(e){const i=e.store(Pa.store),a=e.store(xi.store);return i.qt().next(c=>dt.forEach(c,p=>{const I=IDBKeyRange.bound([p.userId,-1],[p.userId,p.lastAcknowledgedBatchId]);return a.qt(xi.userMutationsIndex,I).next(S=>dt.forEach(S,j=>{Fn(j.userId===p.userId);const q=d(this.O,j);return ep(e,p.userId,q).next(()=>{})}))}))}bn(e){const i=e.store(Xs.store),a=e.store(Gi.store);return e.store(Uo.store).get(Uo.key).next(c=>{const p=[];return a.Qt((I,S)=>{const j=new Et(I),q=[0,Lr(j)];p.push(i.get(q).next(ge=>ge?dt.resolve():i.put(new Xs(0,Lr(j),c.highestListenSequenceNumber))))}).next(()=>dt.waitFor(p))})}vn(e,i){e.createObjectStore(Ga.store,{keyPath:Ga.keyPath});const a=i.store(Ga.store),c=new Gc,p=I=>{if(c.add(I)){const S=I.lastSegment(),j=I.popLast();return a.put({collectionId:S,parent:Lr(j)})}};return i.store(Gi.store).Qt({jt:!0},(I,S)=>{const j=new Et(I);return p(j.popLast())}).next(()=>i.store(Ts.store).Qt({jt:!0},([I,S,j],q)=>{const ge=ua(S);return p(ge.popLast())}))}Vn(e){const i=e.store(wo.store);return i.Qt((a,c)=>{const p=h(c),I=v(this.O,p);return i.put(I)})}}function am(s){s.createObjectStore(Xs.store,{keyPath:Xs.keyPath}).createIndex(Xs.documentTargetsIndex,Xs.documentTargetsKeyPath,{unique:!0}),s.createObjectStore(wo.store,{keyPath:wo.keyPath}).createIndex(wo.queryTargetsIndexName,wo.queryTargetsKeyPath,{unique:!0}),s.createObjectStore(Uo.store)}const ba="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class rp{constructor(e,i,a,c,p,I,S,j,q,ge,Ce=12){if(this.allowTabSynchronization=e,this.persistenceKey=i,this.clientId=a,this.Sn=p,this.window=I,this.document=S,this.Dn=q,this.Cn=ge,this.schemaVersion=Ce,this.Nn=null,this.xn=!1,this.isPrimary=!1,this.networkEnabled=!0,this.kn=null,this.inForeground=!1,this.On=null,this.Mn=null,this.$n=Number.NEGATIVE_INFINITY,this.Fn=et=>Promise.resolve(),!rp.Vt())throw new gt(tt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new s_(this,c),this.Bn=i+"main",this.O=new Xf(j),this.Ln=new Ls(this.Bn,this.schemaVersion,new o_(this.O)),this.Un=new im(this.referenceDelegate,this.O),this.qn=new om(this.O),this.Kn=new Ye,this.window&&this.window.localStorage?this.Gn=this.window.localStorage:(this.Gn=null,!1===ge&&Li("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.jn().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new gt(tt.FAILED_PRECONDITION,ba);return this.Qn(),this.Wn(),this.zn(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Un.getHighestSequenceNumber(e))}).then(e=>{this.Nn=new Si(e,this.Dn)}).then(()=>{this.xn=!0}).catch(e=>(this.Ln&&this.Ln.close(),Promise.reject(e)))}Hn(e){var i=this;return this.Fn=function(){var a=(0,w.Z)(function*(c){if(i.started)return e(c)});return function(c){return a.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ln.Mt(function(){var i=(0,w.Z)(function*(a){null===a.newVersion&&(yield e())});return function(a){return i.apply(this,arguments)}}())}setNetworkEnabled(e){var i=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Sn.enqueueAndForget((0,w.Z)(function*(){i.started&&(yield i.jn())})))}jn(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>kh(e).put(new ca(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.Jn(e).next(i=>{i||(this.isPrimary=!1,this.Sn.enqueueRetryable(()=>this.Fn(!1)))})}).next(()=>this.Yn(e)).next(i=>this.isPrimary&&!i?this.Xn(e).next(()=>!1):!!i&&this.Zn(e).next(()=>!0))).catch(e=>{if(pu(e))return St("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return St("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Sn.enqueueRetryable(()=>this.Fn(e)),this.isPrimary=e})}Jn(e){return Ul(e).get(Js.key).next(i=>dt.resolve(this.ts(i)))}es(e){return kh(e).delete(this.clientId)}ns(){var e=this;return(0,w.Z)(function*(){if(e.isPrimary&&!e.ss(e.$n,18e5)){e.$n=Date.now();const i=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",a=>{const c=Cs(a,ca.store);return c.qt().next(p=>{const I=e.rs(p,18e5),S=p.filter(j=>-1===I.indexOf(j));return dt.forEach(S,j=>c.delete(j.clientId)).next(()=>S)})}).catch(()=>[]);if(e.Gn)for(const a of i)e.Gn.removeItem(e.os(a.clientId))}})()}zn(){this.Mn=this.Sn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.jn().then(()=>this.ns()).then(()=>this.zn()))}ts(e){return!!e&&e.ownerId===this.clientId}Yn(e){return this.Cn?dt.resolve(!0):Ul(e).get(Js.key).next(i=>{if(null!==i&&this.ss(i.leaseTimestampMs,5e3)&&!this.cs(i.ownerId)){if(this.ts(i)&&this.networkEnabled)return!0;if(!this.ts(i)){if(!i.allowTabSynchronization)throw new gt(tt.FAILED_PRECONDITION,ba);return!1}}return!(!this.networkEnabled||!this.inForeground)||kh(e).qt().next(a=>void 0===this.rs(a,5e3).find(c=>{if(this.clientId!==c.clientId){const I=!this.inForeground&&c.inForeground,S=this.networkEnabled===c.networkEnabled;if(!this.networkEnabled&&c.networkEnabled||I&&S)return!0}return!1}))}).next(i=>(this.isPrimary!==i&&St("IndexedDbPersistence",`Client ${i?"is":"is not"} eligible for a primary lease.`),i))}shutdown(){var e=this;return(0,w.Z)(function*(){e.xn=!1,e.us(),e.Mn&&(e.Mn.cancel(),e.Mn=null),e.hs(),e.ls(),yield e.Ln.runTransaction("shutdown","readwrite",[Js.store,ca.store],i=>{const a=new Kc(i,Si.A);return e.Xn(a).next(()=>e.es(a))}),e.Ln.close(),e.fs()})()}rs(e,i){return e.filter(a=>this.ss(a.updateTimeMs,i)&&!this.cs(a.clientId))}ds(){return this.runTransaction("getActiveClients","readonly",e=>kh(e).qt().next(i=>this.rs(i,18e5).map(a=>a.clientId)))}get started(){return this.xn}getMutationQueue(e,i){return Vl.Jt(e,this.O,i,this.referenceDelegate)}getTargetCache(){return this.Un}getRemoteDocumentCache(){return this.qn}getIndexManager(e){return new Rd(e)}getDocumentOverlayCache(e){return nn.Jt(this.O,e)}getBundleCache(){return this.Kn}runTransaction(e,i,a){St("IndexedDbPersistence","Starting transaction:",e);const c="readonly"===i?"readonly":"readwrite",p=13===(I=this.schemaVersion)?fu:12===I?Sh:11===I?bd:void Jt();var I;let S;return this.Ln.runTransaction(e,c,p,j=>(S=new Kc(j,this.Nn?this.Nn.next():Si.A),"readwrite-primary"===i?this.Jn(S).next(q=>!!q||this.Yn(S)).next(q=>{if(!q)throw Li(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Sn.enqueueRetryable(()=>this.Fn(!1)),new gt(tt.FAILED_PRECONDITION,$c);return a(S)}).next(q=>this.Zn(S).next(()=>q)):this._s(S).next(()=>a(S)))).then(j=>(S.raiseOnCommittedEvent(),j))}_s(e){return Ul(e).get(Js.key).next(i=>{if(null!==i&&this.ss(i.leaseTimestampMs,5e3)&&!this.cs(i.ownerId)&&!this.ts(i)&&!(this.Cn||this.allowTabSynchronization&&i.allowTabSynchronization))throw new gt(tt.FAILED_PRECONDITION,ba)})}Zn(e){const i=new Js(this.clientId,this.allowTabSynchronization,Date.now());return Ul(e).put(Js.key,i)}static Vt(){return Ls.Vt()}Xn(e){const i=Ul(e);return i.get(Js.key).next(a=>this.ts(a)?(St("IndexedDbPersistence","Releasing primary lease."),i.delete(Js.key)):dt.resolve())}ss(e,i){const a=Date.now();return!(e<a-i||e>a&&(Li(`Detected an update time that is in the future: ${e} > ${a}`),1))}Qn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.On=()=>{this.Sn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.jn()))},this.document.addEventListener("visibilitychange",this.On),this.inForeground="visible"===this.document.visibilityState)}hs(){this.On&&(this.document.removeEventListener("visibilitychange",this.On),this.On=null)}Wn(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.kn=()=>{this.us(),(0,oe.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Sn.enterRestrictedMode(!0),this.Sn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.kn))}ls(){this.kn&&(this.window.removeEventListener("pagehide",this.kn),this.kn=null)}cs(e){var i;try{const a=null!==(null===(i=this.Gn)||void 0===i?void 0:i.getItem(this.os(e)));return St("IndexedDbPersistence",`Client '${e}' ${a?"is":"is not"} zombied in LocalStorage`),a}catch(a){return Li("IndexedDbPersistence","Failed to get zombied client id.",a),!1}}us(){if(this.Gn)try{this.Gn.setItem(this.os(this.clientId),String(Date.now()))}catch(e){Li("Failed to set zombie client id.",e)}}fs(){if(this.Gn)try{this.Gn.removeItem(this.os(this.clientId))}catch(e){}}os(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Ul(s){return Cs(s,Js.store)}function kh(s){return Cs(s,ca.store)}function ip(s,e){let i=s.projectId;return s.isDefaultDatabase||(i+="."+s.database),"firestore/"+e+"/"+i+"/"}class a_{constructor(e,i){this.progress=e,this.ws=i}}class u_{constructor(e,i,a){this.qn=e,this.gs=i,this.indexManager=a}ys(e,i){return this.gs.getAllMutationBatchesAffectingDocumentKey(e,i).next(a=>this.ps(e,i,a))}ps(e,i,a){return this.qn.getEntry(e,i).next(c=>{for(const p of a)p.applyToLocalView(c);return c})}Is(e,i){e.forEach((a,c)=>{for(const p of i)p.applyToLocalView(c)})}Es(e,i){return this.qn.getEntries(e,i).next(a=>this.Ts(e,a).next(()=>a))}Ts(e,i){return this.gs.getAllMutationBatchesAffectingDocumentKeys(e,i).next(a=>this.Is(i,a))}As(e,i,a){return Xt.isDocumentKey((c=i).path)&&null===c.collectionGroup&&0===c.filters.length?this.Rs(e,i.path):uu(i)?this.Ps(e,i,a):this.bs(e,i,a);var c}Rs(e,i){return this.ys(e,new Xt(i)).next(a=>{let c=pd();return a.isFoundDocument()&&(c=c.insert(a.key,a)),c})}Ps(e,i,a){const c=i.collectionGroup;let p=pd();return this.indexManager.getCollectionParents(e,c).next(I=>dt.forEach(I,S=>{const j=(q=i,ge=S.child(c),new Vt(ge,null,q.explicitOrderBy.slice(),q.filters.slice(),q.limit,q.limitType,q.startAt,q.endAt));var q,ge;return this.bs(e,j,a).next(q=>{q.forEach((ge,Ce)=>{p=p.insert(ge,Ce)})})}).next(()=>p))}bs(e,i,a){let c;return this.qn.getAll(e,i.path,a).next(p=>(c=p,this.gs.getAllMutationBatchesAffectingQuery(e,i))).next(p=>{for(const I of p)for(const S of I.mutations){const j=S.key;let q=c.get(j);null==q&&(q=Ki.newInvalidDocument(j),c=c.insert(j,q)),vl(S,q,I.localWriteTime),q.isFoundDocument()||(c=c.remove(j))}}).next(()=>(c.forEach((p,I)=>{Wi(i,I)||(c=c.remove(p))}),c))}}class Lh{constructor(e,i,a,c){this.targetId=e,this.fromCache=i,this.vs=a,this.Vs=c}static Ss(e,i){let a=Xr(),c=Xr();for(const p of i.docChanges)switch(p.type){case 0:a=a.add(p.doc.key);break;case 1:c=c.add(p.doc.key)}return new Lh(e,i.fromCache,a,c)}}class um{Ds(e){this.Cs=e}As(e,i,a,c){return 0===(p=i).filters.length&&null===p.limit&&null==p.startAt&&null==p.endAt&&(0===p.explicitOrderBy.length||1===p.explicitOrderBy.length&&p.explicitOrderBy[0].field.isKeyField())||a.isEqual(M.min())?this.Ns(e,i):this.Cs.Es(e,c).next(p=>{const I=this.xs(i,p);return(kr(i)||Ri(i))&&this.ks(i.limitType,I,c,a)?this.Ns(e,i):(Aa()<=be.in.DEBUG&&St("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),cc(i)),this.Cs.As(e,i,a).next(S=>(I.forEach(j=>{S=S.insert(j.key,j)}),S)))});var p}xs(e,i){let a=new Ui(Ou(e));return i.forEach((c,p)=>{Wi(e,p)&&(a=a.add(p))}),a}ks(e,i,a,c){if(a.size!==i.size)return!0;const p="F"===e?i.last():i.first();return!!p&&(p.hasPendingWrites||p.version.compareTo(c)>0)}Ns(e,i){return Aa()<=be.in.DEBUG&&St("QueryEngine","Using full collection scan to execute query:",cc(i)),this.Cs.As(e,i,M.min())}}class c_{constructor(e,i,a,c){this.persistence=e,this.Os=i,this.O=c,this.Ms=new fi(C),this.$s=new Zc(p=>ou(p),ia),this.Fs=M.min(),this.Bs=e.getRemoteDocumentCache(),this.Un=e.getTargetCache(),this.Kn=e.getBundleCache(),this.Ls(a)}Ls(e){this.indexManager=this.persistence.getIndexManager(e),this.gs=this.persistence.getMutationQueue(e,this.indexManager),this.Us=new u_(this.Bs,this.gs,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Os.Ds(this.Us)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ms))}}function cm(s,e,i,a){return new c_(s,e,i,a)}function tr(s,e){return Fh.apply(this,arguments)}function Fh(){return(Fh=(0,w.Z)(function*(s,e){const i=jt(s);return yield i.persistence.runTransaction("Handle user change","readonly",a=>{let c;return i.gs.getAllMutationBatches(a).next(p=>(c=p,i.Ls(e),i.gs.getAllMutationBatches(a))).next(p=>{const I=[],S=[];let j=Xr();for(const q of c){I.push(q.batchId);for(const ge of q.mutations)j=j.add(ge.key)}for(const q of p){S.push(q.batchId);for(const ge of q.mutations)j=j.add(ge.key)}return i.Us.Es(a,j).next(q=>({qs:q,removedBatchIds:I,addedBatchIds:S}))})})})).apply(this,arguments)}function lm(s,e){const i=jt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const c=e.batch.keys(),p=i.Bs.newChangeBuffer({trackRemovals:!0});return function(I,S,j,q){const ge=j.batch,Ce=ge.keys();let et=dt.resolve();return Ce.forEach(_t=>{et=et.next(()=>q.getEntry(S,_t)).next(Dt=>{const Tn=j.docVersions.get(_t);Fn(null!==Tn),Dt.version.compareTo(Tn)<0&&(ge.applyToRemoteDocument(Dt,j),Dt.isValidDocument()&&(Dt.setReadTime(j.commitVersion),q.addEntry(Dt)))})}),et.next(()=>I.gs.removeMutationBatch(S,ge))}(i,a,e,p).next(()=>p.apply(a)).next(()=>i.gs.performConsistencyCheck(a)).next(()=>i.Us.Es(a,c))})}function kd(s){const e=jt(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Un.getLastRemoteSnapshotVersion(i))}function Ya(s,e){const i=jt(s),a=e.snapshotVersion;let c=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",p=>{const I=i.Bs.newChangeBuffer({trackRemovals:!0});c=i.Ms;const S=[];e.targetChanges.forEach((q,ge)=>{const Ce=c.get(ge);if(!Ce)return;S.push(i.Un.removeMatchingKeys(p,q.removedDocuments,ge).next(()=>i.Un.addMatchingKeys(p,q.addedDocuments,ge)));let et=Ce.withSequenceNumber(p.currentSequenceNumber);var _t,Dt,Tn;e.targetMismatches.has(ge)?et=et.withResumeToken(Mr.EMPTY_BYTE_STRING,M.min()).withLastLimboFreeSnapshotVersion(M.min()):q.resumeToken.approximateByteSize()>0&&(et=et.withResumeToken(q.resumeToken,a)),c=c.insert(ge,et),Dt=et,Tn=q,(0===(_t=Ce).resumeToken.approximateByteSize()||Dt.snapshotVersion.toMicroseconds()-_t.snapshotVersion.toMicroseconds()>=3e8||Tn.addedDocuments.size+Tn.modifiedDocuments.size+Tn.removedDocuments.size>0)&&S.push(i.Un.updateTargetData(p,et))});let j=Qs();if(e.documentUpdates.forEach(q=>{e.resolvedLimboDocuments.has(q)&&S.push(i.persistence.referenceDelegate.updateLimboDocument(p,q))}),S.push(sp(p,I,e.documentUpdates).next(q=>{j=q})),!a.isEqual(M.min())){const q=i.Un.getLastRemoteSnapshotVersion(p).next(ge=>i.Un.setTargetsMetadata(p,p.currentSequenceNumber,a));S.push(q)}return dt.waitFor(S).next(()=>I.apply(p)).next(()=>i.Us.Ts(p,j)).next(()=>j)}).then(p=>(i.Ms=c,p))}function sp(s,e,i){let a=Xr();return i.forEach(c=>a=a.add(c)),e.getEntries(s,a).next(c=>{let p=Qs();return i.forEach((I,S)=>{const j=c.get(I);S.isNoDocument()&&S.version.isEqual(M.min())?(e.removeEntry(I,S.readTime),p=p.insert(I,S)):!j.isValidDocument()||S.version.compareTo(j.version)>0||0===S.version.compareTo(j.version)&&j.hasPendingWrites?(e.addEntry(S),p=p.insert(I,S)):St("LocalStore","Ignoring outdated watch update for ",I,". Current version:",j.version," Watch version:",S.version)}),p})}function l_(s,e){const i=jt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(void 0===e&&(e=-1),i.gs.getNextMutationBatchAfterBatchId(a,e)))}function _c(s,e){const i=jt(s);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let c;return i.Un.getTargetData(a,e).next(p=>p?(c=p,dt.resolve(c)):i.Un.allocateTargetId(a).next(I=>(c=new Fs(e,I,0,a.currentSequenceNumber),i.Un.addTargetData(a,c).next(()=>c))))}).then(a=>{const c=i.Ms.get(a.targetId);return(null===c||a.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.$s.set(e,a.targetId)),a})}function ha(s,e,i){return Ld.apply(this,arguments)}function Ld(){return(Ld=(0,w.Z)(function*(s,e,i){const a=jt(s),c=a.Ms.get(e),p=i?"readwrite":"readwrite-primary";try{i||(yield a.persistence.runTransaction("Release target",p,I=>a.persistence.referenceDelegate.removeTarget(I,c)))}catch(I){if(!pu(I))throw I;St("LocalStore",`Failed to update sequence numbers for target ${e}: ${I}`)}a.Ms=a.Ms.remove(e),a.$s.delete(c.target)})).apply(this,arguments)}function Fd(s,e,i){const a=jt(s);let c=M.min(),p=Xr();return a.persistence.runTransaction("Execute query","readonly",I=>function(S,j,q){const ge=jt(S),Ce=ge.$s.get(q);return void 0!==Ce?dt.resolve(ge.Ms.get(Ce)):ge.Un.getTargetData(j,q)}(a,I,qs(e)).next(S=>{if(S)return c=S.lastLimboFreeSnapshotVersion,a.Un.getMatchingKeysForTargetId(I,S.targetId).next(j=>{p=j})}).next(()=>a.Os.As(I,e,i?c:M.min(),i?p:Xr())).next(S=>({documents:S,Ks:p})))}function Vh(s,e){const i=jt(s),a=jt(i.Un),c=i.Ms.get(e);return c?Promise.resolve(c.target):i.persistence.runTransaction("Get target data","readonly",p=>a.Tt(p,e).next(I=>I?I.target:null))}function d_(s){const e=jt(s);return e.persistence.runTransaction("Get new document changes","readonly",i=>function(a,c,p){const I=jt(a);let S=Qs(),j=Ah(p);const q=yc(c),ge=IDBKeyRange.lowerBound(j,!0);return q.Qt({index:Gi.readTimeIndex,range:ge},(Ce,et)=>{const _t=Cd(I.O,et);S=S.insert(_t.key,_t),j=et.readTime}).next(()=>({ws:S,readTime:da(j)}))}(e.Bs,i,e.Fs)).then(({ws:i,readTime:a})=>(e.Fs=a,i))}function hm(){return(hm=(0,w.Z)(function*(s){const e=jt(s);return e.persistence.runTransaction("Synchronize last document change read time","readonly",i=>function(a){const c=yc(a);let p=M.min();return c.Qt({index:Gi.readTimeIndex,reverse:!0},(I,S,j)=>{S.readTime&&(p=da(S.readTime)),j.done()}).next(()=>p)}(i)).then(i=>{e.Fs=i})})).apply(this,arguments)}function jl(){return(jl=(0,w.Z)(function*(s,e,i,a){const c=jt(s);let p=Xr(),I=Qs();for(const q of i){const ge=e.Gs(q.metadata.name);q.document&&(p=p.add(ge));const Ce=e.js(q);Ce.setReadTime(e.Qs(q.metadata.readTime)),I=I.insert(ge,Ce)}const S=c.Bs.newChangeBuffer({trackRemovals:!0}),j=yield _c(c,(q=a,qs(Jn(Et.fromString(`__bundle__/docs/${q}`)))));var q;return c.persistence.runTransaction("Apply bundle documents","readwrite",q=>sp(q,S,I).next(ge=>(S.apply(q),ge)).next(ge=>c.Un.removeMatchingKeysForTargetId(q,j.targetId).next(()=>c.Un.addMatchingKeys(q,p,j.targetId)).next(()=>c.Us.Ts(q,ge)).next(()=>ge)))})).apply(this,arguments)}function Uh(s,e){return Vd.apply(this,arguments)}function Vd(){return(Vd=(0,w.Z)(function*(s,e,i=Xr()){const a=yield _c(s,qs(O(e.bundledQuery))),c=jt(s);return c.persistence.runTransaction("Save named query","readwrite",p=>{const I=Ys(e.readTime);if(a.snapshotVersion.compareTo(I)>=0)return c.Kn.saveNamedQuery(p,e);const S=a.withResumeToken(Mr.EMPTY_BYTE_STRING,I);return c.Ms=c.Ms.insert(S.targetId,S),c.Un.updateTargetData(p,S).next(()=>c.Un.removeMatchingKeysForTargetId(p,a.targetId)).next(()=>c.Un.addMatchingKeys(p,i,a.targetId)).next(()=>c.Kn.saveNamedQuery(p,e))})})).apply(this,arguments)}class JE{constructor(e){this.O=e,this.Ws=new Map,this.zs=new Map}getBundleMetadata(e,i){return dt.resolve(this.Ws.get(i))}saveBundleMetadata(e,i){var a;return this.Ws.set(i.id,{id:(a=i).id,version:a.version,createTime:Ys(a.createTime)}),dt.resolve()}getNamedQuery(e,i){return dt.resolve(this.zs.get(i))}saveNamedQuery(e,i){return this.zs.set(i.name,{name:(a=i).name,query:O(a.bundledQuery),readTime:Ys(a.readTime)}),dt.resolve();var a}}class h_{constructor(){this.overlays=new fi(Xt.comparator),this.Hs=new Map}getOverlay(e,i){return dt.resolve(this.overlays.get(i))}saveOverlays(e,i,a){return a.forEach(c=>{this.Yt(e,i,c)}),dt.resolve()}removeOverlaysForBatchId(e,i,a){const c=this.Hs.get(a);return void 0!==c&&(c.forEach(p=>this.overlays=this.overlays.remove(p)),this.Hs.delete(a)),dt.resolve()}getOverlaysForCollection(e,i,a){const c=new Map,p=i.length+1,I=new Xt(i.child("")),S=this.overlays.getIteratorFrom(I);for(;S.hasNext();){const j=S.getNext().value,q=j.getKey();if(!i.isPrefixOf(q.path))break;q.path.length===p&&j.largestBatchId>a&&c.set(j.getKey(),j)}return dt.resolve(c)}getOverlaysForCollectionGroup(e,i,a,c){let p=new fi((q,ge)=>q-ge);const I=this.overlays.getIterator();for(;I.hasNext();){const q=I.getNext().value;if(q.getKey().getCollectionGroup()===i&&q.largestBatchId>a){let ge=p.get(q.largestBatchId);null===ge&&(ge=new Map,p=p.insert(q.largestBatchId,ge)),ge.set(q.getKey(),q)}}const S=new Map,j=p.getIterator();for(;j.hasNext()&&(j.getNext().value.forEach((q,ge)=>S.set(ge,q)),!(S.size>=c)););return dt.resolve(S)}Yt(e,i,a){if(null===a)return;const c=this.overlays.get(a.key);null!==c&&this.Hs.get(c.largestBatchId).delete(a.key),this.overlays=this.overlays.insert(a.key,new Za(i,a));let p=this.Hs.get(i);void 0===p&&(p=new Set,this.Hs.set(i,p)),p.add(a.key)}}class jh{constructor(){this.Js=new Ui(To.Ys),this.Xs=new Ui(To.Zs)}isEmpty(){return this.Js.isEmpty()}addReference(e,i){const a=new To(e,i);this.Js=this.Js.add(a),this.Xs=this.Xs.add(a)}ti(e,i){e.forEach(a=>this.addReference(a,i))}removeReference(e,i){this.ei(new To(e,i))}ni(e,i){e.forEach(a=>this.removeReference(a,i))}si(e){const i=new Xt(new Et([])),a=new To(i,e),c=new To(i,e+1),p=[];return this.Xs.forEachInRange([a,c],I=>{this.ei(I),p.push(I.key)}),p}ii(){this.Js.forEach(e=>this.ei(e))}ei(e){this.Js=this.Js.delete(e),this.Xs=this.Xs.delete(e)}ri(e){const i=new Xt(new Et([])),a=new To(i,e),c=new To(i,e+1);let p=Xr();return this.Xs.forEachInRange([a,c],I=>{p=p.add(I.key)}),p}containsKey(e){const i=new To(e,0),a=this.Js.firstAfterOrEqual(i);return null!==a&&e.isEqual(a.key)}}class To{constructor(e,i){this.key=e,this.oi=i}static Ys(e,i){return Xt.comparator(e.key,i.key)||C(e.oi,i.oi)}static Zs(e,i){return C(e.oi,i.oi)||Xt.comparator(e.key,i.key)}}class f_{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.gs=[],this.ci=1,this.ui=new Ui(To.Ys)}checkEmpty(e){return dt.resolve(0===this.gs.length)}addMutationBatch(e,i,a,c){const p=this.ci;this.ci++;const I=new la(p,i,a,c);this.gs.push(I);for(const S of c)this.ui=this.ui.add(new To(S.key,p)),this.indexManager.addToCollectionParentIndex(e,S.key.path.popLast());return dt.resolve(I)}lookupMutationBatch(e,i){return dt.resolve(this.ai(i))}getNextMutationBatchAfterBatchId(e,i){const c=this.hi(i+1),p=c<0?0:c;return dt.resolve(this.gs.length>p?this.gs[p]:null)}getHighestUnacknowledgedBatchId(){return dt.resolve(0===this.gs.length?-1:this.ci-1)}getAllMutationBatches(e){return dt.resolve(this.gs.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new To(i,0),c=new To(i,Number.POSITIVE_INFINITY),p=[];return this.ui.forEachInRange([a,c],I=>{const S=this.ai(I.oi);p.push(S)}),dt.resolve(p)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Ui(C);return i.forEach(c=>{const p=new To(c,0),I=new To(c,Number.POSITIVE_INFINITY);this.ui.forEachInRange([p,I],S=>{a=a.add(S.oi)})}),dt.resolve(this.li(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,c=a.length+1;let p=a;Xt.isDocumentKey(p)||(p=p.child(""));const I=new To(new Xt(p),0);let S=new Ui(C);return this.ui.forEachWhile(j=>{const q=j.key.path;return!!a.isPrefixOf(q)&&(q.length===c&&(S=S.add(j.oi)),!0)},I),dt.resolve(this.li(S))}li(e){const i=[];return e.forEach(a=>{const c=this.ai(a);null!==c&&i.push(c)}),i}removeMutationBatch(e,i){Fn(0===this.fi(i.batchId,"removed")),this.gs.shift();let a=this.ui;return dt.forEach(i.mutations,c=>{const p=new To(c.key,i.batchId);return a=a.delete(p),this.referenceDelegate.markPotentiallyOrphaned(e,c.key)}).next(()=>{this.ui=a})}Qe(e){}containsKey(e,i){const a=new To(i,0),c=this.ui.firstAfterOrEqual(a);return dt.resolve(i.isEqual(c&&c.key))}performConsistencyCheck(e){return dt.resolve()}fi(e,i){return this.hi(e)}hi(e){return 0===this.gs.length?0:e-this.gs[0].batchId}ai(e){const i=this.hi(e);return i<0||i>=this.gs.length?null:this.gs[i]}}class XE{constructor(e){this.di=e,this.docs=new fi(Xt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,c=this.docs.get(a),p=c?c.size:0,I=this.di(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:I}),this.size+=I-p,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return dt.resolve(a?a.document.mutableCopy():Ki.newInvalidDocument(i))}getEntries(e,i){let a=Qs();return i.forEach(c=>{const p=this.docs.get(c);a=a.insert(c,p?p.document.mutableCopy():Ki.newInvalidDocument(c))}),dt.resolve(a)}getAll(e,i,a){let c=Qs();const p=new Xt(i.child("")),I=this.docs.getIteratorFrom(p);for(;I.hasNext();){const{key:S,value:{document:j}}=I.getNext();if(!i.isPrefixOf(S.path))break;S.path.length>i.length+1||j.readTime.compareTo(a)<=0||(c=c.insert(j.key,j.mutableCopy()))}return dt.resolve(c)}_i(e,i){return dt.forEach(this.docs,a=>i(a))}newChangeBuffer(e){return new fm(this)}getSize(e){return dt.resolve(this.size)}}class fm extends Mh{constructor(e){super(),this.Tn=e}applyChanges(e){const i=[];return this.changes.forEach((a,c)=>{c.isValidDocument()?i.push(this.Tn.addEntry(e,c)):this.Tn.removeEntry(a)}),dt.waitFor(i)}getFromCache(e,i){return this.Tn.getEntry(e,i)}getAllFromCache(e,i){return this.Tn.getEntries(e,i)}}class pm{constructor(e){this.persistence=e,this.wi=new Zc(i=>ou(i),ia),this.lastRemoteSnapshotVersion=M.min(),this.highestTargetId=0,this.mi=0,this.gi=new jh,this.targetCount=0,this.yi=Hu.He()}forEachTarget(e,i){return this.wi.forEach((a,c)=>i(c)),dt.resolve()}getLastRemoteSnapshotVersion(e){return dt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return dt.resolve(this.mi)}allocateTargetId(e){return this.highestTargetId=this.yi.next(),dt.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.mi&&(this.mi=i),dt.resolve()}Ze(e){this.wi.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.yi=new Hu(i),this.highestTargetId=i),e.sequenceNumber>this.mi&&(this.mi=e.sequenceNumber)}addTargetData(e,i){return this.Ze(i),this.targetCount+=1,dt.resolve()}updateTargetData(e,i){return this.Ze(i),dt.resolve()}removeTargetData(e,i){return this.wi.delete(i.target),this.gi.si(i.targetId),this.targetCount-=1,dt.resolve()}removeTargets(e,i,a){let c=0;const p=[];return this.wi.forEach((I,S)=>{S.sequenceNumber<=i&&null===a.get(S.targetId)&&(this.wi.delete(I),p.push(this.removeMatchingKeysForTargetId(e,S.targetId)),c++)}),dt.waitFor(p).next(()=>c)}getTargetCount(e){return dt.resolve(this.targetCount)}getTargetData(e,i){const a=this.wi.get(i)||null;return dt.resolve(a)}addMatchingKeys(e,i,a){return this.gi.ti(i,a),dt.resolve()}removeMatchingKeys(e,i,a){this.gi.ni(i,a);const c=this.persistence.referenceDelegate,p=[];return c&&i.forEach(I=>{p.push(c.markPotentiallyOrphaned(e,I))}),dt.waitFor(p)}removeMatchingKeysForTargetId(e,i){return this.gi.si(i),dt.resolve()}getMatchingKeysForTargetId(e,i){const a=this.gi.ri(i);return dt.resolve(a)}containsKey(e,i){return dt.resolve(this.gi.containsKey(i))}}class p_{constructor(e,i){this.pi={},this.overlays={},this.Nn=new Si(0),this.xn=!1,this.xn=!0,this.referenceDelegate=e(this),this.Un=new pm(this),this.indexManager=new zc,this.qn=new XE(a=>this.referenceDelegate.Ii(a)),this.O=new Xf(i),this.Kn=new JE(this.O)}start(){return Promise.resolve()}shutdown(){return this.xn=!1,Promise.resolve()}get started(){return this.xn}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new h_,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.pi[e.toKey()];return a||(a=new f_(i,this.referenceDelegate),this.pi[e.toKey()]=a),a}getTargetCache(){return this.Un}getRemoteDocumentCache(){return this.qn}getBundleCache(){return this.Kn}runTransaction(e,i,a){St("MemoryPersistence","Starting transaction:",e);const c=new op(this.Nn.next());return this.referenceDelegate.Ei(),a(c).next(p=>this.referenceDelegate.Ti(c).next(()=>p)).toPromise().then(p=>(c.raiseOnCommittedEvent(),p))}Ai(e,i){return dt.or(Object.values(this.pi).map(a=>()=>a.containsKey(e,i)))}}class op extends Td{constructor(e){super(),this.currentSequenceNumber=e}}class gm{constructor(e){this.persistence=e,this.Ri=new jh,this.Pi=null}static bi(e){return new gm(e)}get vi(){if(this.Pi)return this.Pi;throw Jt()}addReference(e,i,a){return this.Ri.addReference(a,i),this.vi.delete(a.toString()),dt.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.vi.add(a.toString()),dt.resolve()}markPotentiallyOrphaned(e,i){return this.vi.add(i.toString()),dt.resolve()}removeTarget(e,i){this.Ri.si(i.targetId).forEach(c=>this.vi.add(c.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next(c=>{c.forEach(p=>this.vi.add(p.toString()))}).next(()=>a.removeTargetData(e,i))}Ei(){this.Pi=new Set}Ti(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return dt.forEach(this.vi,a=>{const c=Xt.fromPath(a);return this.Vi(e,c).next(p=>{p||i.removeEntry(c,M.min())})}).next(()=>(this.Pi=null,i.apply(e)))}updateLimboDocument(e,i){return this.Vi(e,i).next(a=>{a?this.vi.delete(i.toString()):this.vi.add(i.toString())})}Ii(e){return 0}Vi(e,i){return dt.or([()=>dt.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}function g_(s,e){return`firestore_clients_${s}_${e}`}function m_(s,e,i){let a=`firestore_mutations_${s}_${i}`;return e.isAuthenticated()&&(a+=`_${e.uid}`),a}function mm(s,e){return`firestore_targets_${s}_${e}`}class ap{constructor(e,i,a,c){this.user=e,this.batchId=i,this.state=a,this.error=c}static Si(e,i,a){const c=JSON.parse(a);let p,I="object"==typeof c&&-1!==["pending","acknowledged","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return I&&c.error&&(I="string"==typeof c.error.message&&"string"==typeof c.error.code,I&&(p=new gt(c.error.code,c.error.message))),I?new ap(e,i,c.state,p):(Li("SharedClientState",`Failed to parse mutation state for ID '${i}': ${a}`),null)}Di(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Bh{constructor(e,i,a){this.targetId=e,this.state=i,this.error=a}static Si(e,i){const a=JSON.parse(i);let c,p="object"==typeof a&&-1!==["not-current","current","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return p&&a.error&&(p="string"==typeof a.error.message&&"string"==typeof a.error.code,p&&(c=new gt(a.error.code,a.error.message))),p?new Bh(e,a.state,c):(Li("SharedClientState",`Failed to parse target state for ID '${e}': ${i}`),null)}Di(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class up{constructor(e,i){this.clientId=e,this.activeTargetIds=i}static Si(e,i){const a=JSON.parse(i);let c="object"==typeof a&&a.activeTargetIds instanceof Array,p=pc();for(let I=0;c&&I<a.activeTargetIds.length;++I)c=hl(a.activeTargetIds[I]),p=p.add(a.activeTargetIds[I]);return c?new up(e,p):(Li("SharedClientState",`Failed to parse client data for instance '${e}': ${i}`),null)}}class ym{constructor(e,i){this.clientId=e,this.onlineState=i}static Si(e){const i=JSON.parse(e);return"object"==typeof i&&-1!==["Unknown","Online","Offline"].indexOf(i.onlineState)&&"string"==typeof i.clientId?new ym(i.clientId,i.onlineState):(Li("SharedClientState",`Failed to parse online state: ${e}`),null)}}class _m{constructor(){this.activeTargetIds=pc()}Ci(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ni(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Di(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class vm{constructor(e,i,a,c,p){this.window=e,this.Sn=i,this.persistenceKey=a,this.xi=c,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ki=this.Oi.bind(this),this.Mi=new fi(C),this.started=!1,this.$i=[];const I=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=p,this.Fi=g_(this.persistenceKey,this.xi),this.Bi=`firestore_sequence_number_${this.persistenceKey}`,this.Mi=this.Mi.insert(this.xi,new _m),this.Li=new RegExp(`^firestore_clients_${I}_([^_]*)$`),this.Ui=new RegExp(`^firestore_mutations_${I}_(\\d+)(?:_(.*))?$`),this.qi=new RegExp(`^firestore_targets_${I}_(\\d+)$`),this.Ki=`firestore_online_state_${this.persistenceKey}`,this.Gi=function(S){return`firestore_bundle_loaded_${S}`}(this.persistenceKey),this.window.addEventListener("storage",this.ki)}static Vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,w.Z)(function*(){const i=yield e.syncEngine.ds();for(const c of i){if(c===e.xi)continue;const p=e.getItem(g_(e.persistenceKey,c));if(p){const I=up.Si(c,p);I&&(e.Mi=e.Mi.insert(I.clientId,I))}}e.ji();const a=e.storage.getItem(e.Ki);if(a){const c=e.Qi(a);c&&e.Wi(c)}for(const c of e.$i)e.Oi(c);e.$i=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Bi,JSON.stringify(e))}getAllActiveQueryTargets(){return this.zi(this.Mi)}isActiveQueryTarget(e){let i=!1;return this.Mi.forEach((a,c)=>{c.activeTargetIds.has(e)&&(i=!0)}),i}addPendingMutation(e){this.Hi(e,"pending")}updateMutationState(e,i,a){this.Hi(e,i,a),this.Ji(e)}addLocalQueryTarget(e){let i="not-current";if(this.isActiveQueryTarget(e)){const a=this.storage.getItem(mm(this.persistenceKey,e));if(a){const c=Bh.Si(e,a);c&&(i=c.state)}}return this.Yi.Ci(e),this.ji(),i}removeLocalQueryTarget(e){this.Yi.Ni(e),this.ji()}isLocalQueryTarget(e){return this.Yi.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(mm(this.persistenceKey,e))}updateQueryState(e,i,a){this.Xi(e,i,a)}handleUserChange(e,i,a){i.forEach(c=>{this.Ji(c)}),this.currentUser=e,a.forEach(c=>{this.addPendingMutation(c)})}setOnlineState(e){this.Zi(e)}notifyBundleLoaded(){this.tr()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ki),this.removeItem(this.Fi),this.started=!1)}getItem(e){const i=this.storage.getItem(e);return St("SharedClientState","READ",e,i),i}setItem(e,i){St("SharedClientState","SET",e,i),this.storage.setItem(e,i)}removeItem(e){St("SharedClientState","REMOVE",e),this.storage.removeItem(e)}Oi(e){var i=this;const a=e;if(a.storageArea===this.storage){if(St("SharedClientState","EVENT",a.key,a.newValue),a.key===this.Fi)return void Li("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Sn.enqueueRetryable((0,w.Z)(function*(){if(i.started){if(null!==a.key)if(i.Li.test(a.key)){if(null==a.newValue){const c=i.er(a.key);return i.nr(c,null)}{const c=i.sr(a.key,a.newValue);if(c)return i.nr(c.clientId,c)}}else if(i.Ui.test(a.key)){if(null!==a.newValue){const c=i.ir(a.key,a.newValue);if(c)return i.rr(c)}}else if(i.qi.test(a.key)){if(null!==a.newValue){const c=i.cr(a.key,a.newValue);if(c)return i.ur(c)}}else if(a.key===i.Ki){if(null!==a.newValue){const c=i.Qi(a.newValue);if(c)return i.Wi(c)}}else if(a.key===i.Bi){const c=function(p){let I=Si.A;if(null!=p)try{const S=JSON.parse(p);Fn("number"==typeof S),I=S}catch(S){Li("SharedClientState","Failed to read sequence number from WebStorage",S)}return I}(a.newValue);c!==Si.A&&i.sequenceNumberHandler(c)}else if(a.key===i.Gi)return i.syncEngine.ar()}else i.$i.push(a)}))}}get Yi(){return this.Mi.get(this.xi)}ji(){this.setItem(this.Fi,this.Yi.Di())}Hi(e,i,a){const c=new ap(this.currentUser,e,i,a),p=m_(this.persistenceKey,this.currentUser,e);this.setItem(p,c.Di())}Ji(e){const i=m_(this.persistenceKey,this.currentUser,e);this.removeItem(i)}Zi(e){this.storage.setItem(this.Ki,JSON.stringify({clientId:this.xi,onlineState:e}))}Xi(e,i,a){const c=mm(this.persistenceKey,e),p=new Bh(e,i,a);this.setItem(c,p.Di())}tr(){this.setItem(this.Gi,"value-not-used")}er(e){const i=this.Li.exec(e);return i?i[1]:null}sr(e,i){const a=this.er(e);return up.Si(a,i)}ir(e,i){const a=this.Ui.exec(e),c=Number(a[1]);return ap.Si(new li(void 0!==a[2]?a[2]:null),c,i)}cr(e,i){const a=this.qi.exec(e),c=Number(a[1]);return Bh.Si(c,i)}Qi(e){return ym.Si(e)}rr(e){var i=this;return(0,w.Z)(function*(){if(e.user.uid===i.currentUser.uid)return i.syncEngine.hr(e.batchId,e.state,e.error);St("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}ur(e){return this.syncEngine.lr(e.targetId,e.state,e.error)}nr(e,i){const a=i?this.Mi.insert(e,i):this.Mi.remove(e),c=this.zi(this.Mi),p=this.zi(a),I=[],S=[];return p.forEach(j=>{c.has(j)||I.push(j)}),c.forEach(j=>{p.has(j)||S.push(j)}),this.syncEngine.dr(I,S).then(()=>{this.Mi=a})}Wi(e){this.Mi.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}zi(e){let i=pc();return e.forEach((a,c)=>{i=i.unionWith(c.activeTargetIds)}),i}}class y_{constructor(){this._r=new _m,this.wr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e){return this._r.Ci(e),this.wr[e]||"not-current"}updateQueryState(e,i,a){this.wr[e]=i}removeLocalQueryTarget(e){this._r.Ni(e)}isLocalQueryTarget(e){return this._r.activeTargetIds.has(e)}clearQueryState(e){delete this.wr[e]}getAllActiveQueryTargets(){return this._r.activeTargetIds}isActiveQueryTarget(e){return this._r.activeTargetIds.has(e)}start(){return this._r=new _m,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class vc{mr(e){}shutdown(){}}class $h{constructor(){this.gr=()=>this.yr(),this.pr=()=>this.Ir(),this.Er=[],this.Tr()}mr(e){this.Er.push(e)}shutdown(){window.removeEventListener("online",this.gr),window.removeEventListener("offline",this.pr)}Tr(){window.addEventListener("online",this.gr),window.addEventListener("offline",this.pr)}yr(){St("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Er)e(0)}Ir(){St("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Er)e(1)}static Vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const __={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Em{constructor(e){this.Ar=e.Ar,this.Rr=e.Rr}Pr(e){this.br=e}vr(e){this.Vr=e}onMessage(e){this.Sr=e}close(){this.Rr()}send(e){this.Ar(e)}Dr(){this.br()}Cr(e){this.Vr(e)}Nr(e){this.Sr(e)}}class cp extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.kr=(e.ssl?"https":"http")+"://"+e.host,this.Or="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Mr(e,i,a,c,p){const I=this.$r(e,i);St("RestConnection","Sending: ",I,a);const S={};return this.Fr(S,c,p),this.Br(e,I,S,a).then(j=>(St("RestConnection","Received: ",j),j),j=>{throw Yi("RestConnection",`${e} failed with error: `,j,"url: ",I,"request:",a),j})}Lr(e,i,a,c,p){return this.Mr(e,i,a,c,p)}Fr(e,i,a){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ws,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((c,p)=>e[p]=c),a&&a.headers.forEach((c,p)=>e[p]=c)}$r(e,i){return`${this.kr}/v1/${i}:${__[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Br(e,i,a,c){return new Promise((p,I)=>{const S=new $i;S.listenOnce(Or.COMPLETE,()=>{try{switch(S.getLastErrorCode()){case ki.NO_ERROR:const q=S.getResponseJson();St("Connection","XHR received:",JSON.stringify(q)),p(q);break;case ki.TIMEOUT:St("Connection",'RPC "'+e+'" timed out'),I(new gt(tt.DEADLINE_EXCEEDED,"Request time out"));break;case ki.HTTP_ERROR:const ge=S.getStatus();if(St("Connection",'RPC "'+e+'" failed with status:',ge,"response text:",S.getResponseText()),ge>0){const Ce=S.getResponseJson().error;if(Ce&&Ce.status&&Ce.message){const et=function(_t){const Dt=_t.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(Dt)>=0?Dt:tt.UNKNOWN}(Ce.status);I(new gt(et,Ce.message))}else I(new gt(tt.UNKNOWN,"Server responded with status "+S.getStatus()))}else I(new gt(tt.UNAVAILABLE,"Connection failed."));break;default:Jt()}}finally{St("Connection",'RPC "'+e+'" completed.')}});const j=JSON.stringify(c);S.send(i,"POST",j,a,15)})}Ur(e,i,a){const c=[this.kr,"/","google.firestore.v1.Firestore","/",e,"/channel"],p=Di(),I=Ms(),S={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(S.xmlHttpFactory=new is({})),this.Fr(S.initMessageHeaders,i,a),(0,oe.uI)()||(0,oe.b$)()||(0,oe.d)()||(0,oe.w1)()||(0,oe.Mn)()||(0,oe.ru)()||(S.httpHeadersOverwriteParam="$httpHeaders");const j=c.join("");St("Connection","Creating WebChannel: "+j,S);const q=p.createWebChannel(j,S);let ge=!1,Ce=!1;const et=new Em({Ar:Dt=>{Ce?St("Connection","Not sending because WebChannel is closed:",Dt):(ge||(St("Connection","Opening WebChannel transport."),q.open(),ge=!0),St("Connection","WebChannel sending:",Dt),q.send(Dt))},Rr:()=>q.close()}),_t=(Dt,Tn,mr)=>{Dt.listen(Tn,Ss=>{try{mr(Ss)}catch(jo){setTimeout(()=>{throw jo},0)}})};return _t(q,Ks.EventType.OPEN,()=>{Ce||St("Connection","WebChannel transport opened.")}),_t(q,Ks.EventType.CLOSE,()=>{Ce||(Ce=!0,St("Connection","WebChannel transport closed"),et.Cr())}),_t(q,Ks.EventType.ERROR,Dt=>{Ce||(Ce=!0,Yi("Connection","WebChannel transport errored:",Dt),et.Cr(new gt(tt.UNAVAILABLE,"The operation could not be completed")))}),_t(q,Ks.EventType.MESSAGE,Dt=>{var Tn;if(!Ce){const mr=Dt.data[0];Fn(!!mr);const Ss=mr,jo=Ss.error||(null===(Tn=Ss[0])||void 0===Tn?void 0:Tn.error);if(jo){St("Connection","WebChannel received error:",jo);const Qu=jo.status;let rd=function(Sy){const Ay=Xi[Sy];if(void 0!==Ay)return hc(Ay)}(Qu),Nf=jo.message;void 0===rd&&(rd=tt.INTERNAL,Nf="Unknown error status: "+Qu+" with message "+jo.message),Ce=!0,et.Cr(new gt(rd,Nf)),q.close()}else St("Connection","WebChannel received:",mr),et.Nr(mr)}}),_t(I,Hr.STAT_EVENT,Dt=>{Dt.stat===Qr.PROXY?St("Connection","Detected buffering proxy"):Dt.stat===Qr.NOPROXY&&St("Connection","Detected no buffering proxy")}),setTimeout(()=>{et.Dr()},0),et}}function lp(){return"undefined"!=typeof window?window:null}function Bl(){return"undefined"!=typeof document?document:null}function Ud(s){return new vh(s,!0)}class yu{constructor(e,i,a=1e3,c=1.5,p=6e4){this.Sn=e,this.timerId=i,this.qr=a,this.Kr=c,this.Gr=p,this.jr=0,this.Qr=null,this.Wr=Date.now(),this.reset()}reset(){this.jr=0}zr(){this.jr=this.Gr}Hr(e){this.cancel();const i=Math.floor(this.jr+this.Jr()),a=Math.max(0,Date.now()-this.Wr),c=Math.max(0,i-a);c>0&&St("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.jr} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.Qr=this.Sn.enqueueAfterDelay(this.timerId,c,()=>(this.Wr=Date.now(),e())),this.jr*=this.Kr,this.jr<this.qr&&(this.jr=this.qr),this.jr>this.Gr&&(this.jr=this.Gr)}Yr(){null!==this.Qr&&(this.Qr.skipDelay(),this.Qr=null)}cancel(){null!==this.Qr&&(this.Qr.cancel(),this.Qr=null)}Jr(){return(Math.random()-.5)*this.jr}}class dp{constructor(e,i,a,c,p,I,S,j){this.Sn=e,this.Xr=a,this.Zr=c,this.eo=p,this.authCredentialsProvider=I,this.appCheckCredentialsProvider=S,this.listener=j,this.state=0,this.no=0,this.so=null,this.io=null,this.stream=null,this.ro=new yu(e,i)}oo(){return 1===this.state||5===this.state||this.co()}co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.uo()}stop(){var e=this;return(0,w.Z)(function*(){e.oo()&&(yield e.close(0))})()}ao(){this.state=0,this.ro.reset()}ho(){this.co()&&null===this.so&&(this.so=this.Sn.enqueueAfterDelay(this.Xr,6e4,()=>this.lo()))}fo(e){this._o(),this.stream.send(e)}lo(){var e=this;return(0,w.Z)(function*(){if(e.co())return e.close(0)})()}_o(){this.so&&(this.so.cancel(),this.so=null)}wo(){this.io&&(this.io.cancel(),this.io=null)}close(e,i){var a=this;return(0,w.Z)(function*(){a._o(),a.wo(),a.ro.cancel(),a.no++,4!==e?a.ro.reset():i&&i.code===tt.RESOURCE_EXHAUSTED?(Li(i.toString()),Li("Using maximum backoff delay to prevent overloading the backend."),a.ro.zr()):i&&i.code===tt.UNAUTHENTICATED&&3!==a.state&&(a.authCredentialsProvider.invalidateToken(),a.appCheckCredentialsProvider.invalidateToken()),null!==a.stream&&(a.mo(),a.stream.close(),a.stream=null),a.state=e,yield a.listener.vr(i)})()}mo(){}auth(){this.state=1;const e=this.yo(this.no),i=this.no;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,c])=>{this.no===i&&this.po(a,c)},a=>{e(()=>{const c=new gt(tt.UNKNOWN,"Fetching auth token failed: "+a.message);return this.Io(c)})})}po(e,i){const a=this.yo(this.no);this.stream=this.Eo(e,i),this.stream.Pr(()=>{a(()=>(this.state=2,this.io=this.Sn.enqueueAfterDelay(this.Zr,1e4,()=>(this.co()&&(this.state=3),Promise.resolve())),this.listener.Pr()))}),this.stream.vr(c=>{a(()=>this.Io(c))}),this.stream.onMessage(c=>{a(()=>this.onMessage(c))})}uo(){var e=this;this.state=5,this.ro.Hr((0,w.Z)(function*(){e.state=0,e.start()}))}Io(e){return St("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}yo(e){return i=>{this.Sn.enqueueAndForget(()=>this.no===e?i():(St("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class v_ extends dp{constructor(e,i,a,c,p,I){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,c,I),this.O=p}Eo(e,i){return this.eo.Ur("Listen",e,i)}onMessage(e){this.ro.reset();const i=function(s,e){let i;if("targetChange"in e){const a="NO_CHANGE"===(j=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===j?1:"REMOVE"===j?2:"CURRENT"===j?3:"RESET"===j?4:Jt(),c=e.targetChange.targetIds||[],p=function(j,q){return j.N?(Fn(void 0===q||"string"==typeof q),Mr.fromBase64String(q||"")):(Fn(void 0===q||q instanceof Uint8Array),Mr.fromUint8Array(q||new Uint8Array))}(s,e.targetChange.resumeToken),I=e.targetChange.cause,S=I&&function(j){const q=void 0===j.code?tt.UNKNOWN:hc(j.code);return new gt(q,j.message||"")}(I);i=new gd(a,c,p,S||null)}else if("documentChange"in e){const a=e.documentChange,c=Ka(s,a.document.name),p=Ys(a.document.updateTime),I=new Ei({mapValue:{fields:a.document.fields}}),S=Ki.newFoundDocument(c,p,I);i=new Tl(a.targetIds||[],a.removedTargetIds||[],S.key,S)}else if("documentDelete"in e){const a=e.documentDelete,c=Ka(s,a.document),p=a.readTime?Ys(a.readTime):M.min(),I=Ki.newNoDocument(c,p);i=new Tl([],a.removedTargetIds||[],I.key,I)}else if("documentRemove"in e){const a=e.documentRemove,c=Ka(s,a.document);i=new Tl([],a.removedTargetIds||[],c,null)}else{if(!("filter"in e))return Jt();{const a=e.filter,p=new Il(a.count||0);i=new yh(a.targetId,p)}}var j;return i}(this.O,e),a=function(c){if(!("targetChange"in c))return M.min();const p=c.targetChange;return p.targetIds&&p.targetIds.length?M.min():p.readTime?Ys(p.readTime):M.min()}(e);return this.listener.To(i,a)}Ao(e){const i={};i.database=jc(this.O),i.addTarget=function(c,p){let I;const S=p.target;return I=xc(S)?{documents:zi(c,S)}:{query:_d(c,S)},I.targetId=p.targetId,p.resumeToken.approximateByteSize()>0?I.resumeToken=Eh(c,p.resumeToken):p.snapshotVersion.compareTo(M.min())>0&&(I.readTime=Vu(c,p.snapshotVersion.toTimestamp())),I}(this.O,e);const a=function(s,e){const i=function(a,c){switch(c){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Jt()}}(0,e.purpose);return null==i?null:{"goog-listen-tags":i}}(0,e);a&&(i.labels=a),this.fo(i)}Ro(e){const i={};i.database=jc(this.O),i.removeTarget=e,this.fo(i)}}class eI extends dp{constructor(e,i,a,c,p,I){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,c,I),this.O=p,this.Po=!1}get bo(){return this.Po}start(){this.Po=!1,this.lastStreamToken=void 0,super.start()}mo(){this.Po&&this.vo([])}Eo(e,i){return this.eo.Ur("Write",e,i)}onMessage(e){if(Fn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Po){this.ro.reset();const i=function(s,e){return s&&s.length>0?(Fn(void 0!==e),s.map(i=>function(a,c){let p=Ys(a.updateTime?a.updateTime:c);return p.isEqual(M.min())&&(p=Ys(c)),new hu(p,a.transformResults||[])}(i,e))):[]}(e.writeResults,e.commitTime),a=Ys(e.commitTime);return this.listener.Vo(a,i)}return Fn(!e.writeResults||0===e.writeResults.length),this.Po=!0,this.listener.So()}Do(){const e={};e.database=jc(this.O),this.fo(e)}vo(e){const i={streamToken:this.lastStreamToken,writes:e.map(a=>gc(this.O,a))};this.fo(i)}}class hp extends class{}{constructor(e,i,a,c){super(),this.authCredentials=e,this.appCheckCredentials=i,this.eo=a,this.O=c,this.Co=!1}No(){if(this.Co)throw new gt(tt.FAILED_PRECONDITION,"The client has already been terminated.")}Mr(e,i,a){return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,p])=>this.eo.Mr(e,i,a,c,p)).catch(c=>{throw"FirebaseError"===c.name?(c.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new gt(tt.UNKNOWN,c.toString())})}Lr(e,i,a){return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,p])=>this.eo.Lr(e,i,a,c,p)).catch(c=>{throw"FirebaseError"===c.name?(c.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new gt(tt.UNKNOWN,c.toString())})}terminate(){this.Co=!0}}class E_{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.xo=0,this.ko=null,this.Oo=!0}Mo(){0===this.xo&&(this.$o("Unknown"),this.ko=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ko=null,this.Fo("Backend didn't respond within 10 seconds."),this.$o("Offline"),Promise.resolve())))}Bo(e){"Online"===this.state?this.$o("Unknown"):(this.xo++,this.xo>=1&&(this.Lo(),this.Fo(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.$o("Offline")))}set(e){this.Lo(),this.xo=0,"Online"===e&&(this.Oo=!1),this.$o(e)}$o(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Fo(e){const i=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Oo?(Li(i),this.Oo=!1):St("OnlineStateTracker",i)}Lo(){null!==this.ko&&(this.ko.cancel(),this.ko=null)}}class Im{constructor(e,i,a,c,p){var I=this;this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Uo=[],this.qo=new Map,this.Ko=new Set,this.Go=[],this.jo=p,this.jo.mr(S=>{a.enqueueAndForget((0,w.Z)(function*(){var j;qu(I)&&(St("RemoteStore","Restarting streams for network reachability change."),yield(j=(0,w.Z)(function*(q){const ge=jt(q);ge.Ko.add(4),yield _u(ge),ge.Qo.set("Unknown"),ge.Ko.delete(4),yield jd(ge)}),function(q){return j.apply(this,arguments)})(I))}))}),this.Qo=new E_(a,c)}}function jd(s){return fp.apply(this,arguments)}function fp(){return(fp=(0,w.Z)(function*(s){if(qu(s))for(const e of s.Go)yield e(!0)})).apply(this,arguments)}function _u(s){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,w.Z)(function*(s){for(const e of s.Go)yield e(!1)})).apply(this,arguments)}function $l(s,e){const i=jt(s);i.qo.has(e.targetId)||(i.qo.set(e.targetId,e),Hh(i)?pp(i):Xc(i).co()&&Qc(i,e))}function vu(s,e){const i=jt(s),a=Xc(i);i.qo.delete(e),a.co()&&Yc(i,e),0===i.qo.size&&(a.co()?a.ho():qu(i)&&i.Qo.set("Unknown"))}function Qc(s,e){s.Wo.Z(e.targetId),Xc(s).Ao(e)}function Yc(s,e){s.Wo.Z(e),Xc(s).Ro(e)}function pp(s){s.Wo=new Fu({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),Tt:e=>s.qo.get(e)||null}),Xc(s).start(),s.Qo.Mo()}function Hh(s){return qu(s)&&!Xc(s).oo()&&s.qo.size>0}function qu(s){return 0===jt(s).Ko.size}function Kh(s){s.Wo=void 0}function gp(s){return Wh.apply(this,arguments)}function Wh(){return(Wh=(0,w.Z)(function*(s){s.qo.forEach((e,i)=>{Qc(s,e)})})).apply(this,arguments)}function zh(s,e){return mp.apply(this,arguments)}function mp(){return(mp=(0,w.Z)(function*(s,e){Kh(s),Hh(s)?(s.Qo.Bo(e),pp(s)):s.Qo.set("Unknown")})).apply(this,arguments)}function wm(s,e,i){return bm.apply(this,arguments)}function bm(){return(bm=(0,w.Z)(function*(s,e,i){if(s.Qo.set("Online"),e instanceof gd&&2===e.state&&e.cause)try{yield(a=(0,w.Z)(function*(c,p){const I=p.cause;for(const S of p.targetIds)c.qo.has(S)&&(yield c.remoteSyncer.rejectListen(S,I),c.qo.delete(S),c.Wo.removeTarget(S))}),function(c,p){return a.apply(this,arguments)})(s,e)}catch(a){St("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),a),yield Bd(s,a)}else if(e instanceof Tl?s.Wo.ct(e):e instanceof yh?s.Wo._t(e):s.Wo.ht(e),!i.isEqual(M.min()))try{const a=yield kd(s.localStore);i.compareTo(a)>=0&&(yield function(c,p){const I=c.Wo.yt(p);return I.targetChanges.forEach((S,j)=>{if(S.resumeToken.approximateByteSize()>0){const q=c.qo.get(j);q&&c.qo.set(j,q.withResumeToken(S.resumeToken,p))}}),I.targetMismatches.forEach(S=>{const j=c.qo.get(S);if(!j)return;c.qo.set(S,j.withResumeToken(Mr.EMPTY_BYTE_STRING,j.snapshotVersion)),Yc(c,S);const q=new Fs(j.target,S,1,j.sequenceNumber);Qc(c,q)}),c.remoteSyncer.applyRemoteEvent(I)}(s,i))}catch(a){St("RemoteStore","Failed to raise snapshot:",a),yield Bd(s,a)}var a})).apply(this,arguments)}function Bd(s,e,i){return Gh.apply(this,arguments)}function Gh(){return(Gh=(0,w.Z)(function*(s,e,i){if(!pu(e))throw e;s.Ko.add(1),yield _u(s),s.Qo.set("Offline"),i||(i=()=>kd(s.localStore)),s.asyncQueue.enqueueRetryable((0,w.Z)(function*(){St("RemoteStore","Retrying IndexedDB access"),yield i(),s.Ko.delete(1),yield jd(s)}))})).apply(this,arguments)}function Tm(s,e){return e().catch(i=>Bd(s,i,e))}function Jc(s){return yp.apply(this,arguments)}function yp(){return(yp=(0,w.Z)(function*(s){const e=jt(s),i=Ic(e);let a=e.Uo.length>0?e.Uo[e.Uo.length-1].batchId:-1;for(;I_(e);)try{const c=yield l_(e.localStore,a);if(null===c){0===e.Uo.length&&i.ho();break}a=c.batchId,Ta(e,c)}catch(c){yield Bd(e,c)}Cm(e)&&Dm(e)})).apply(this,arguments)}function I_(s){return qu(s)&&s.Uo.length<10}function Ta(s,e){s.Uo.push(e);const i=Ic(s);i.co()&&i.bo&&i.vo(e.mutations)}function Cm(s){return qu(s)&&!Ic(s).oo()&&s.Uo.length>0}function Dm(s){Ic(s).start()}function tI(s){return Sm.apply(this,arguments)}function Sm(){return(Sm=(0,w.Z)(function*(s){Ic(s).Do()})).apply(this,arguments)}function Am(s){return Rm.apply(this,arguments)}function Rm(){return(Rm=(0,w.Z)(function*(s){const e=Ic(s);for(const i of s.Uo)e.vo(i.mutations)})).apply(this,arguments)}function w_(s,e,i){return $d.apply(this,arguments)}function $d(){return($d=(0,w.Z)(function*(s,e,i){const a=s.Uo.shift(),c=mu.from(a,e,i);yield Tm(s,()=>s.remoteSyncer.applySuccessfulWrite(c)),yield Jc(s)})).apply(this,arguments)}function xm(s,e){return _p.apply(this,arguments)}function _p(){return(_p=(0,w.Z)(function*(s,e){var i;e&&Ic(s).bo&&(yield(i=(0,w.Z)(function*(a,c){if(fd(p=c.code)&&p!==tt.ABORTED){const I=a.Uo.shift();Ic(a).ao(),yield Tm(a,()=>a.remoteSyncer.rejectFailedWrite(I.batchId,c)),yield Jc(a)}var p}),function(a,c){return i.apply(this,arguments)})(s,e)),Cm(s)&&Dm(s)})).apply(this,arguments)}function Nm(s,e){return vp.apply(this,arguments)}function vp(){return(vp=(0,w.Z)(function*(s,e){const i=jt(s);i.asyncQueue.verifyOperationInProgress(),St("RemoteStore","RemoteStore received new credentials");const a=qu(i);i.Ko.add(3),yield _u(i),a&&i.Qo.set("Unknown"),yield i.remoteSyncer.handleCredentialChange(e),i.Ko.delete(3),yield jd(i)})).apply(this,arguments)}function qh(s,e){return Ep.apply(this,arguments)}function Ep(){return(Ep=(0,w.Z)(function*(s,e){const i=jt(s);e?(i.Ko.delete(2),yield jd(i)):e||(i.Ko.add(2),yield _u(i),i.Qo.set("Unknown"))})).apply(this,arguments)}function Xc(s){return s.zo||(s.zo=function(e,i,a){const c=jt(e);return c.No(),new v_(i,c.eo,c.authCredentials,c.appCheckCredentials,c.O,a)}(s.datastore,s.asyncQueue,{Pr:gp.bind(null,s),vr:zh.bind(null,s),To:wm.bind(null,s)}),s.Go.push(function(){var e=(0,w.Z)(function*(i){i?(s.zo.ao(),Hh(s)?pp(s):s.Qo.set("Unknown")):(yield s.zo.stop(),Kh(s))});return function(i){return e.apply(this,arguments)}}())),s.zo}function Ic(s){return s.Ho||(s.Ho=function(e,i,a){const c=jt(e);return c.No(),new eI(i,c.eo,c.authCredentials,c.appCheckCredentials,c.O,a)}(s.datastore,s.asyncQueue,{Pr:tI.bind(null,s),vr:xm.bind(null,s),So:Am.bind(null,s),Vo:w_.bind(null,s)}),s.Go.push(function(){var e=(0,w.Z)(function*(i){i?(s.Ho.ao(),yield Jc(s)):(yield s.Ho.stop(),s.Uo.length>0&&(St("RemoteStore",`Stopping write stream with ${s.Uo.length} pending writes`),s.Uo=[]))});return function(i){return e.apply(this,arguments)}}())),s.Ho}class Ip{constructor(e,i,a,c,p){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=c,this.removalCallback=p,this.deferred=new Fi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(I=>{})}static createAndSchedule(e,i,a,c,p){const I=Date.now()+a,S=new Ip(e,i,I,c,p);return S.start(a),S}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new gt(tt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function el(s,e){if(Li("AsyncQueue",`${e}: ${s}`),pu(s))return new gt(tt.UNAVAILABLE,`${e}: ${s}`);throw s}class tl{constructor(e){this.comparator=e?(i,a)=>e(i,a)||Xt.comparator(i.key,a.key):(i,a)=>Xt.comparator(i.key,a.key),this.keyedMap=pd(),this.sortedSet=new fi(this.comparator)}static emptySet(e){return new tl(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,a)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof tl)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const c=i.getNext().key,p=a.getNext().key;if(!c.isEqual(p))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,i){const a=new tl;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class Pm{constructor(){this.Jo=new fi(Xt.comparator)}track(e){const i=e.doc.key,a=this.Jo.get(i);a?0!==e.type&&3===a.type?this.Jo=this.Jo.insert(i,e):3===e.type&&1!==a.type?this.Jo=this.Jo.insert(i,{type:a.type,doc:e.doc}):2===e.type&&2===a.type?this.Jo=this.Jo.insert(i,{type:2,doc:e.doc}):2===e.type&&0===a.type?this.Jo=this.Jo.insert(i,{type:0,doc:e.doc}):1===e.type&&0===a.type?this.Jo=this.Jo.remove(i):1===e.type&&2===a.type?this.Jo=this.Jo.insert(i,{type:1,doc:a.doc}):0===e.type&&1===a.type?this.Jo=this.Jo.insert(i,{type:2,doc:e.doc}):Jt():this.Jo=this.Jo.insert(i,e)}Yo(){const e=[];return this.Jo.inorderTraversal((i,a)=>{e.push(a)}),e}}class Qo{constructor(e,i,a,c,p,I,S,j){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=c,this.mutatedKeys=p,this.fromCache=I,this.syncStateChanged=S,this.excludesMetadataChanges=j}static fromInitialDocuments(e,i,a,c){const p=[];return i.forEach(I=>{p.push({type:0,doc:I})}),new Qo(e,i,tl.emptySet(i),p,a,c,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uo(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let c=0;c<i.length;c++)if(i[c].type!==a[c].type||!i[c].doc.isEqual(a[c].doc))return!1;return!0}}class wp{constructor(){this.Xo=void 0,this.listeners=[]}}class b_{constructor(){this.queries=new Zc(e=>Go(e),uo),this.onlineState="Unknown",this.Zo=new Set}}function bp(s,e){return Om.apply(this,arguments)}function Om(){return(Om=(0,w.Z)(function*(s,e){const i=jt(s),a=e.query;let c=!1,p=i.queries.get(a);if(p||(c=!0,p=new wp),c)try{p.Xo=yield i.onListen(a)}catch(I){const S=el(I,`Initialization of query '${cc(e.query)}' failed`);return void e.onError(S)}i.queries.set(a,p),p.listeners.push(e),e.tc(i.onlineState),p.Xo&&e.ec(p.Xo)&&Hd(i)})).apply(this,arguments)}function Zh(s,e){return Tp.apply(this,arguments)}function Tp(){return(Tp=(0,w.Z)(function*(s,e){const i=jt(s),a=e.query;let c=!1;const p=i.queries.get(a);if(p){const I=p.listeners.indexOf(e);I>=0&&(p.listeners.splice(I,1),c=0===p.listeners.length)}if(c)return i.queries.delete(a),i.onUnlisten(a)})).apply(this,arguments)}function T_(s,e){const i=jt(s);let a=!1;for(const c of e){const I=i.queries.get(c.query);if(I){for(const S of I.listeners)S.ec(c)&&(a=!0);I.Xo=c}}a&&Hd(i)}function C_(s,e,i){const a=jt(s),c=a.queries.get(e);if(c)for(const p of c.listeners)p.onError(i);a.queries.delete(e)}function Hd(s){s.Zo.forEach(e=>{e.next()})}class Cp{constructor(e,i,a){this.query=e,this.nc=i,this.sc=!1,this.ic=null,this.onlineState="Unknown",this.options=a||{}}ec(e){if(!this.options.includeMetadataChanges){const a=[];for(const c of e.docChanges)3!==c.type&&a.push(c);e=new Qo(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let i=!1;return this.sc?this.rc(e)&&(this.nc.next(e),i=!0):this.oc(e,this.onlineState)&&(this.cc(e),i=!0),this.ic=e,i}onError(e){this.nc.error(e)}tc(e){this.onlineState=e;let i=!1;return this.ic&&!this.sc&&this.oc(this.ic,e)&&(this.cc(this.ic),i=!0),i}oc(e,i){return!e.fromCache||!(this.options.uc&&"Offline"!==i||e.docs.isEmpty()&&"Offline"!==i)}rc(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ic&&this.ic.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}cc(e){e=Qo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.sc=!0,this.nc.next(e)}}class D_{constructor(e,i){this.payload=e,this.byteLength=i}ac(){return"metadata"in this.payload}}class Kd{constructor(e){this.O=e}Gs(e){return Ka(this.O,e)}js(e){return e.metadata.exists?bh(this.O,e.document,!1):Ki.newNoDocument(this.Gs(e.metadata.name),this.Qs(e.metadata.readTime))}Qs(e){return Ys(e)}}class Dp{constructor(e,i,a){this.hc=e,this.localStore=i,this.O=a,this.queries=[],this.documents=[],this.progress=Mm(e)}lc(e){this.progress.bytesLoaded+=e.byteLength;let i=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++i):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++i),i!==this.progress.documentsLoaded?(this.progress.documentsLoaded=i,Object.assign({},this.progress)):null}fc(e){const i=new Map,a=new Kd(this.O);for(const c of e)if(c.metadata.queries){const p=a.Gs(c.metadata.name);for(const I of c.metadata.queries){const S=(i.get(I)||Xr()).add(p);i.set(I,S)}}return i}complete(){var e=this;return(0,w.Z)(function*(){const i=yield function(s,e,i,a){return jl.apply(this,arguments)}(e.localStore,new Kd(e.O),e.documents,e.hc.id),a=e.fc(e.documents);for(const c of e.queries)yield Uh(e.localStore,c,a.get(c.name));return e.progress.taskState="Success",new a_(Object.assign({},e.progress),i)})()}}function Mm(s){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:s.totalDocuments,totalBytes:s.totalBytes}}class Qh{constructor(e){this.key=e}}class Yh{constructor(e){this.key=e}}class Sp{constructor(e,i){this.query=e,this.dc=i,this._c=null,this.current=!1,this.wc=Xr(),this.mutatedKeys=Xr(),this.mc=Ou(e),this.gc=new tl(this.mc)}get yc(){return this.dc}Ic(e,i){const a=i?i.Ec:new Pm,c=i?i.gc:this.gc;let p=i?i.mutatedKeys:this.mutatedKeys,I=c,S=!1;const j=kr(this.query)&&c.size===this.query.limit?c.last():null,q=Ri(this.query)&&c.size===this.query.limit?c.first():null;if(e.inorderTraversal((ge,Ce)=>{const et=c.get(ge),_t=Wi(this.query,Ce)?Ce:null,Dt=!!et&&this.mutatedKeys.has(et.key),Tn=!!_t&&(_t.hasLocalMutations||this.mutatedKeys.has(_t.key)&&_t.hasCommittedMutations);let mr=!1;et&&_t?et.data.isEqual(_t.data)?Dt!==Tn&&(a.track({type:3,doc:_t}),mr=!0):this.Tc(et,_t)||(a.track({type:2,doc:_t}),mr=!0,(j&&this.mc(_t,j)>0||q&&this.mc(_t,q)<0)&&(S=!0)):!et&&_t?(a.track({type:0,doc:_t}),mr=!0):et&&!_t&&(a.track({type:1,doc:et}),mr=!0,(j||q)&&(S=!0)),mr&&(_t?(I=I.add(_t),p=Tn?p.add(ge):p.delete(ge)):(I=I.delete(ge),p=p.delete(ge)))}),kr(this.query)||Ri(this.query))for(;I.size>this.query.limit;){const ge=kr(this.query)?I.last():I.first();I=I.delete(ge.key),p=p.delete(ge.key),a.track({type:1,doc:ge})}return{gc:I,Ec:a,ks:S,mutatedKeys:p}}Tc(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a){const c=this.gc;this.gc=e.gc,this.mutatedKeys=e.mutatedKeys;const p=e.Ec.Yo();p.sort((q,ge)=>function(Ce,et){const _t=Dt=>{switch(Dt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Jt()}};return _t(Ce)-_t(et)}(q.type,ge.type)||this.mc(q.doc,ge.doc)),this.Ac(a);const I=i?this.Rc():[],S=0===this.wc.size&&this.current?1:0,j=S!==this._c;return this._c=S,0!==p.length||j?{snapshot:new Qo(this.query,e.gc,c,p,e.mutatedKeys,0===S,j,!1),Pc:I}:{Pc:I}}tc(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({gc:this.gc,Ec:new Pm,mutatedKeys:this.mutatedKeys,ks:!1},!1)):{Pc:[]}}bc(e){return!this.dc.has(e)&&!!this.gc.has(e)&&!this.gc.get(e).hasLocalMutations}Ac(e){e&&(e.addedDocuments.forEach(i=>this.dc=this.dc.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.dc=this.dc.delete(i)),this.current=e.current)}Rc(){if(!this.current)return[];const e=this.wc;this.wc=Xr(),this.gc.forEach(a=>{this.bc(a.key)&&(this.wc=this.wc.add(a.key))});const i=[];return e.forEach(a=>{this.wc.has(a)||i.push(new Yh(a))}),this.wc.forEach(a=>{e.has(a)||i.push(new Qh(a))}),i}vc(e){this.dc=e.Ks,this.wc=Xr();const i=this.Ic(e.documents);return this.applyChanges(i,!0)}Vc(){return Qo.fromInitialDocuments(this.query,this.gc,this.mutatedKeys,0===this._c)}}class S_{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class A_{constructor(e){this.key=e,this.Sc=!1}}class Ap{constructor(e,i,a,c,p,I){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=c,this.currentUser=p,this.maxConcurrentLimboResolutions=I,this.Dc={},this.Cc=new Zc(S=>Go(S),uo),this.Nc=new Map,this.xc=new Set,this.kc=new fi(Xt.comparator),this.Oc=new Map,this.Mc=new jh,this.$c={},this.Fc=new Map,this.Bc=Hu.Je(),this.onlineState="Unknown",this.Lc=void 0}get isPrimaryClient(){return!0===this.Lc}}function nI(s,e){return Rp.apply(this,arguments)}function Rp(){return(Rp=(0,w.Z)(function*(s,e){const i=df(s);let a,c;const p=i.Cc.get(e);if(p)a=p.targetId,i.sharedClientState.addLocalQueryTarget(a),c=p.view.Vc();else{const I=yield _c(i.localStore,qs(e));i.isPrimaryClient&&$l(i.remoteStore,I);const S=i.sharedClientState.addLocalQueryTarget(I.targetId);a=I.targetId,c=yield Jh(i,e,a,"current"===S)}return c})).apply(this,arguments)}function Jh(s,e,i,a){return Xh.apply(this,arguments)}function Xh(){return(Xh=(0,w.Z)(function*(s,e,i,a){s.Uc=(ge,Ce,et)=>{return(_t=(0,w.Z)(function*(Dt,Tn,mr,Ss){let jo=Tn.view.Ic(mr);jo.ks&&(jo=yield Fd(Dt.localStore,Tn.query,!1).then(({documents:Nf})=>Tn.view.Ic(Nf,jo)));const Qu=Ss&&Ss.targetChanges.get(Tn.targetId),rd=Tn.view.applyChanges(jo,Dt.isPrimaryClient,Qu);return Mp(Dt,Tn.targetId,rd.Pc),rd.snapshot}),function(Dt,Tn,mr,Ss){return _t.apply(this,arguments)})(s,ge,Ce,et);var _t};const c=yield Fd(s.localStore,e,!0),p=new Sp(e,c.Ks),I=p.Ic(c.documents),S=Lc.createSynthesizedTargetChangeForCurrentChange(i,a&&"Offline"!==s.onlineState),j=p.applyChanges(I,s.isPrimaryClient,S);Mp(s,i,j.Pc);const q=new S_(e,i,p);return s.Cc.set(e,q),s.Nc.has(i)?s.Nc.get(i).push(e):s.Nc.set(i,[e]),j.snapshot})).apply(this,arguments)}function km(s,e){return ef.apply(this,arguments)}function ef(){return(ef=(0,w.Z)(function*(s,e){const i=jt(s),a=i.Cc.get(e),c=i.Nc.get(a.targetId);if(c.length>1)return i.Nc.set(a.targetId,c.filter(p=>!uo(p,e))),void i.Cc.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||(yield ha(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),vu(i.remoteStore,a.targetId),Hl(i,a.targetId)}).catch(zu))):(Hl(i,a.targetId),yield ha(i.localStore,a.targetId,!0))})).apply(this,arguments)}function Ja(){return(Ja=(0,w.Z)(function*(s,e,i){const a=hf(s);try{const c=yield function(p,I){const S=jt(p),j=x.now(),q=I.reduce((Ce,et)=>Ce.add(et.key),Xr());let ge;return S.persistence.runTransaction("Locally write mutations","readwrite",Ce=>S.Us.Es(Ce,q).next(et=>{ge=et;const _t=[];for(const Dt of I){const Tn=Gf(Dt,ge.get(Dt.key));null!=Tn&&_t.push(new Ea(Dt.key,Tn,Ua(Tn.value.mapValue),hi.exists(!0)))}return S.gs.addMutationBatch(Ce,j,_t,I)})).then(Ce=>(Ce.applyToLocalDocumentSet(ge),{batchId:Ce.batchId,changes:ge}))}(a.localStore,e);a.sharedClientState.addPendingMutation(c.batchId),function(p,I,S){let j=p.$c[p.currentUser.toKey()];j||(j=new fi(C)),j=j.insert(I,S),p.$c[p.currentUser.toKey()]=j}(a,c.batchId,i),yield fa(a,c.changes),yield Jc(a.remoteStore)}catch(c){const p=el(c,"Failed to persist write");i.reject(p)}})).apply(this,arguments)}function Wd(s,e){return tf.apply(this,arguments)}function tf(){return(tf=(0,w.Z)(function*(s,e){const i=jt(s);try{const a=yield Ya(i.localStore,e);e.targetChanges.forEach((c,p)=>{const I=i.Oc.get(p);I&&(Fn(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?I.Sc=!0:c.modifiedDocuments.size>0?Fn(I.Sc):c.removedDocuments.size>0&&(Fn(I.Sc),I.Sc=!1))}),yield fa(i,a,e)}catch(a){yield zu(a)}})).apply(this,arguments)}function xp(s,e,i){const a=jt(s);if(a.isPrimaryClient&&0===i||!a.isPrimaryClient&&1===i){const c=[];a.Cc.forEach((p,I)=>{const S=I.view.tc(e);S.snapshot&&c.push(S.snapshot)}),function(p,I){const S=jt(p);S.onlineState=I;let j=!1;S.queries.forEach((q,ge)=>{for(const Ce of ge.listeners)Ce.tc(I)&&(j=!0)}),j&&Hd(S)}(a.eventManager,e),c.length&&a.Dc.To(c),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}function rI(s,e,i){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,w.Z)(function*(s,e,i){const a=jt(s);a.sharedClientState.updateQueryState(e,"rejected",i);const c=a.Oc.get(e),p=c&&c.key;if(p){let I=new fi(Xt.comparator);I=I.insert(p,Ki.newNoDocument(p,M.min()));const S=Xr().add(p),j=new kc(M.min(),new Map,new Ui(C),I,S);yield Wd(a,j),a.kc=a.kc.remove(p),a.Oc.delete(e),af(a)}else yield ha(a.localStore,e,!1).then(()=>Hl(a,e,i)).catch(zu)})).apply(this,arguments)}function Np(s,e){return nl.apply(this,arguments)}function nl(){return(nl=(0,w.Z)(function*(s,e){const i=jt(s),a=e.batch.batchId;try{const c=yield lm(i.localStore,e);sf(i,a,null),rf(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),yield fa(i,c)}catch(c){yield zu(c)}})).apply(this,arguments)}function zd(s,e,i){return Pp.apply(this,arguments)}function Pp(){return(Pp=(0,w.Z)(function*(s,e,i){const a=jt(s);try{const c=yield function(p,I){const S=jt(p);return S.persistence.runTransaction("Reject batch","readwrite-primary",j=>{let q;return S.gs.lookupMutationBatch(j,I).next(ge=>(Fn(null!==ge),q=ge.keys(),S.gs.removeMutationBatch(j,ge))).next(()=>S.gs.performConsistencyCheck(j)).next(()=>S.Us.Es(j,q))})}(a.localStore,e);sf(a,e,i),rf(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),yield fa(a,c)}catch(c){yield zu(c)}})).apply(this,arguments)}function nf(){return(nf=(0,w.Z)(function*(s,e){const i=jt(s);qu(i.remoteStore)||St("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const a=yield function(p){const I=jt(p);return I.persistence.runTransaction("Get highest unacknowledged batch id","readonly",S=>I.gs.getHighestUnacknowledgedBatchId(S))}(i.localStore);if(-1===a)return void e.resolve();const c=i.Fc.get(a)||[];c.push(e),i.Fc.set(a,c)}catch(a){const c=el(a,"Initialization of waitForPendingWrites() operation failed");e.reject(c)}})).apply(this,arguments)}function rf(s,e){(s.Fc.get(e)||[]).forEach(i=>{i.resolve()}),s.Fc.delete(e)}function sf(s,e,i){const a=jt(s);let c=a.$c[a.currentUser.toKey()];if(c){const p=c.get(e);p&&(i?p.reject(i):p.resolve(),c=c.remove(e)),a.$c[a.currentUser.toKey()]=c}}function Hl(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Nc.get(e))s.Cc.delete(a),i&&s.Dc.qc(a,i);s.Nc.delete(e),s.isPrimaryClient&&s.Mc.si(e).forEach(a=>{s.Mc.containsKey(a)||of(s,a)})}function of(s,e){s.xc.delete(e.path.canonicalString());const i=s.kc.get(e);null!==i&&(vu(s.remoteStore,i),s.kc=s.kc.remove(e),s.Oc.delete(i),af(s))}function Mp(s,e,i){for(const a of i)a instanceof Qh?(s.Mc.addReference(a.key,e),R_(s,a)):a instanceof Yh?(St("SyncEngine","Document no longer in limbo: "+a.key),s.Mc.removeReference(a.key,e),s.Mc.containsKey(a.key)||of(s,a.key)):Jt()}function R_(s,e){const i=e.key,a=i.path.canonicalString();s.kc.get(i)||s.xc.has(a)||(St("SyncEngine","New document in limbo: "+i),s.xc.add(a),af(s))}function af(s){for(;s.xc.size>0&&s.kc.size<s.maxConcurrentLimboResolutions;){const e=s.xc.values().next().value;s.xc.delete(e);const i=new Xt(Et.fromString(e)),a=s.Bc.next();s.Oc.set(a,new A_(i)),s.kc=s.kc.insert(i,a),$l(s.remoteStore,new Fs(qs(Jn(i.path)),a,2,Si.A))}}function fa(s,e,i){return uf.apply(this,arguments)}function uf(){return(uf=(0,w.Z)(function*(s,e,i){const a=jt(s),c=[],p=[],I=[];var S;a.Cc.isEmpty()||(a.Cc.forEach((S,j)=>{I.push(a.Uc(j,e,i).then(q=>{if(q){a.isPrimaryClient&&a.sharedClientState.updateQueryState(j.targetId,q.fromCache?"not-current":"current"),c.push(q);const ge=Lh.Ss(j.targetId,q);p.push(ge)}}))}),yield Promise.all(I),a.Dc.To(c),yield(S=(0,w.Z)(function*(j,q){const ge=jt(j);try{yield ge.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ce=>dt.forEach(q,et=>dt.forEach(et.vs,_t=>ge.persistence.referenceDelegate.addReference(Ce,et.targetId,_t)).next(()=>dt.forEach(et.Vs,_t=>ge.persistence.referenceDelegate.removeReference(Ce,et.targetId,_t)))))}catch(Ce){if(!pu(Ce))throw Ce;St("LocalStore","Failed to update sequence numbers: "+Ce)}for(const Ce of q){const et=Ce.targetId;if(!Ce.fromCache){const _t=ge.Ms.get(et),Tn=_t.withLastLimboFreeSnapshotVersion(_t.snapshotVersion);ge.Ms=ge.Ms.insert(et,Tn)}}}),function(j,q){return S.apply(this,arguments)})(a.localStore,p))})).apply(this,arguments)}function x_(s,e){return kp.apply(this,arguments)}function kp(){return(kp=(0,w.Z)(function*(s,e){const i=jt(s);if(!i.currentUser.isEqual(e)){St("SyncEngine","User change. New user:",e.toKey());const a=yield tr(i.localStore,e);i.currentUser=e,(c=i).Fc.forEach(I=>{I.forEach(S=>{S.reject(new gt(tt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.Fc.clear(),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),yield fa(i,a.qs)}var c})).apply(this,arguments)}function Kl(s,e){const i=jt(s),a=i.Oc.get(e);if(a&&a.Sc)return Xr().add(a.key);{let c=Xr();const p=i.Nc.get(e);if(!p)return c;for(const I of p){const S=i.Cc.get(I);c=c.unionWith(S.view.yc)}return c}}function N_(s,e){return Lp.apply(this,arguments)}function Lp(){return(Lp=(0,w.Z)(function*(s,e){const i=jt(s),a=yield Fd(i.localStore,e.query,!0),c=e.view.vc(a);return i.isPrimaryClient&&Mp(i,e.targetId,c.Pc),c})).apply(this,arguments)}function P_(s){return Fp.apply(this,arguments)}function Fp(){return(Fp=(0,w.Z)(function*(s){const e=jt(s);return d_(e.localStore).then(i=>fa(e,i))})).apply(this,arguments)}function iI(s,e,i,a){return cf.apply(this,arguments)}function cf(){return(cf=(0,w.Z)(function*(s,e,i,a){const c=jt(s),p=yield function(I,S){const j=jt(I),q=jt(j.gs);return j.persistence.runTransaction("Lookup mutation documents","readonly",ge=>q.Ge(ge,S).next(Ce=>Ce?j.Us.Es(ge,Ce):dt.resolve(null)))}(c.localStore,e);var S;null!==p?("pending"===i?yield Jc(c.remoteStore):"acknowledged"===i||"rejected"===i?(sf(c,e,a||null),rf(c,e),S=e,jt(jt(c.localStore).gs).Qe(S)):Jt(),yield fa(c,p)):St("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function Kr(){return(Kr=(0,w.Z)(function*(s,e){const i=jt(s);if(df(i),hf(i),!0===e&&!0!==i.Lc){const a=i.sharedClientState.getAllActiveQueryTargets(),c=yield lf(i,a.toArray());i.Lc=!0,yield qh(i.remoteStore,!0);for(const p of c)$l(i.remoteStore,p)}else if(!1===e&&!1!==i.Lc){const a=[];let c=Promise.resolve();i.Nc.forEach((p,I)=>{i.sharedClientState.isLocalQueryTarget(I)?a.push(I):c=c.then(()=>(Hl(i,I),ha(i.localStore,I,!0))),vu(i.remoteStore,I)}),yield c,yield lf(i,a),function(p){const I=jt(p);I.Oc.forEach((S,j)=>{vu(I.remoteStore,j)}),I.Mc.ii(),I.Oc=new Map,I.kc=new fi(Xt.comparator)}(i),i.Lc=!1,yield qh(i.remoteStore,!1)}})).apply(this,arguments)}function lf(s,e,i){return Vm.apply(this,arguments)}function Vm(){return(Vm=(0,w.Z)(function*(s,e,i){const a=jt(s),c=[],p=[];for(const I of e){let S;const j=a.Nc.get(I);if(j&&0!==j.length){S=yield _c(a.localStore,qs(j[0]));for(const q of j){const ge=a.Cc.get(q),Ce=yield N_(a,ge);Ce.snapshot&&p.push(Ce.snapshot)}}else{const q=yield Vh(a.localStore,I);S=yield _c(a.localStore,q),yield Jh(a,Iu(q),I,!1)}c.push(S)}return a.Dc.To(p),c})).apply(this,arguments)}function Iu(s){return sn(s.path,s.collectionGroup,s.orderBy,s.filters,s.limit,"F",s.startAt,s.endAt)}function Vp(s){const e=jt(s);return jt(jt(e.localStore).persistence).ds()}function Up(s,e,i,a){return Um.apply(this,arguments)}function Um(){return(Um=(0,w.Z)(function*(s,e,i,a){const c=jt(s);if(c.Lc)St("SyncEngine","Ignoring unexpected query state notification.");else if(c.Nc.has(e))switch(i){case"current":case"not-current":{const p=yield d_(c.localStore),I=kc.createSynthesizedRemoteEventForCurrentChange(e,"current"===i);yield fa(c,p,I);break}case"rejected":yield ha(c.localStore,e,!0),Hl(c,e,a);break;default:Jt()}})).apply(this,arguments)}function O_(s,e,i){return jp.apply(this,arguments)}function jp(){return(jp=(0,w.Z)(function*(s,e,i){const a=df(s);if(a.Lc){for(const c of e){if(a.Nc.has(c)){St("SyncEngine","Adding an already active target "+c);continue}const p=yield Vh(a.localStore,c),I=yield _c(a.localStore,p);yield Jh(a,Iu(p),I.targetId,!1),$l(a.remoteStore,I)}for(const c of i)a.Nc.has(c)&&(yield ha(a.localStore,c,!1).then(()=>{vu(a.remoteStore,c),Hl(a,c)}).catch(zu))}})).apply(this,arguments)}function df(s){const e=jt(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=Wd.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Kl.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=rI.bind(null,e),e.Dc.To=T_.bind(null,e.eventManager),e.Dc.qc=C_.bind(null,e.eventManager),e}function hf(s){const e=jt(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Np.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zd.bind(null,e),e}class Bp{constructor(){this.synchronizeTabs=!1}initialize(e){var i=this;return(0,w.Z)(function*(){i.O=Ud(e.databaseInfo.databaseId),i.sharedClientState=i.Gc(e),i.persistence=i.jc(e),yield i.persistence.start(),i.gcScheduler=i.Qc(e),i.localStore=i.Wc(e)})()}Qc(e){return null}Wc(e){return cm(this.persistence,new um,e.initialUser,this.O)}jc(e){return new p_(gm.bi,this.O)}Gc(e){return new y_}terminate(){var e=this;return(0,w.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Bm extends Bp{constructor(e,i,a){super(),this.zc=e,this.cacheSizeBytes=i,this.forceOwnership=a,this.synchronizeTabs=!1}initialize(e){var i=()=>super.initialize,a=this;return(0,w.Z)(function*(){yield i().call(a,e),yield function(s){return hm.apply(this,arguments)}(a.localStore),yield a.zc.initialize(a,e),yield hf(a.zc.syncEngine),yield Jc(a.zc.remoteStore),yield a.persistence.Hn(()=>(a.gcScheduler&&!a.gcScheduler.started&&a.gcScheduler.start(a.localStore),Promise.resolve()))})()}Wc(e){return cm(this.persistence,new um,e.initialUser,this.O)}Qc(e){return new i_(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}jc(e){const i=ip(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),a=void 0!==this.cacheSizeBytes?Zo.withCacheSize(this.cacheSizeBytes):Zo.DEFAULT;return new rp(this.synchronizeTabs,i,e.clientId,a,e.asyncQueue,lp(),Bl(),this.O,this.sharedClientState,!!this.forceOwnership)}Gc(e){return new y_}}class M_ extends Bm{constructor(e,i){super(e,i,!1),this.zc=e,this.cacheSizeBytes=i,this.synchronizeTabs=!0}initialize(e){var i=()=>super.initialize,a=this;return(0,w.Z)(function*(){yield i().call(a,e);const c=a.zc.syncEngine;a.sharedClientState instanceof vm&&(a.sharedClientState.syncEngine={hr:iI.bind(null,c),lr:Up.bind(null,c),dr:O_.bind(null,c),ds:Vp.bind(null,c),ar:P_.bind(null,c)},yield a.sharedClientState.start()),yield a.persistence.Hn(function(){var p=(0,w.Z)(function*(I){yield function(s,e){return Kr.apply(this,arguments)}(a.zc.syncEngine,I),a.gcScheduler&&(I&&!a.gcScheduler.started?a.gcScheduler.start(a.localStore):I||a.gcScheduler.stop())});return function(I){return p.apply(this,arguments)}}())})()}Gc(e){const i=lp();if(!vm.Vt(i))throw new gt(tt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const a=ip(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new vm(i,e.asyncQueue,a,e.clientId,e.initialUser)}}class rl{initialize(e,i){var a=this;return(0,w.Z)(function*(){a.localStore||(a.localStore=e.localStore,a.sharedClientState=e.sharedClientState,a.datastore=a.createDatastore(i),a.remoteStore=a.createRemoteStore(i),a.eventManager=a.createEventManager(i),a.syncEngine=a.createSyncEngine(i,!e.synchronizeTabs),a.sharedClientState.onlineStateHandler=c=>xp(a.syncEngine,c,1),a.remoteStore.remoteSyncer.handleCredentialChange=x_.bind(null,a.syncEngine),yield qh(a.remoteStore,a.syncEngine.isPrimaryClient))})()}createEventManager(e){return new b_}createDatastore(e){const i=Ud(e.databaseInfo.databaseId),a=new cp(e.databaseInfo);return new hp(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return i=this.localStore,a=this.datastore,c=e.asyncQueue,p=S=>xp(this.syncEngine,S,0),I=$h.Vt()?new $h:new vc,new Im(i,a,c,p,I);var i,a,c,p,I}createSyncEngine(e,i){return function(a,c,p,I,S,j,q){const ge=new Ap(a,c,p,I,S,j);return q&&(ge.Lc=!0),ge}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}terminate(){return(e=(0,w.Z)(function*(i){const a=jt(i);St("RemoteStore","RemoteStore shutting down."),a.Ko.add(5),yield _u(a),a.jo.shutdown(),a.Qo.set("Unknown")}),function(i){return e.apply(this,arguments)})(this.remoteStore);var e}}function ff(s,e=10240){let i=0;return{read:()=>(0,w.Z)(function*(){if(i<s.byteLength){const a={value:s.slice(i,i+e),done:!1};return i+=e,a}return{done:!0}})(),cancel:()=>(0,w.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Gd{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Hc(this.observer.next,e)}error(e){this.observer.error?this.Hc(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Jc(){this.muted=!0}Hc(e,i){this.muted||setTimeout(()=>{this.muted||e(i)},0)}}class $m{constructor(e,i){this.Yc=e,this.O=i,this.metadata=new Fi,this.buffer=new Uint8Array,this.Xc=new TextDecoder("utf-8"),this.Zc().then(a=>{a&&a.ac()?this.metadata.resolve(a.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==a?void 0:a.payload)}`))},a=>this.metadata.reject(a))}close(){return this.Yc.cancel()}getMetadata(){var e=this;return(0,w.Z)(function*(){return e.metadata.promise})()}Kc(){var e=this;return(0,w.Z)(function*(){return yield e.getMetadata(),e.Zc()})()}Zc(){var e=this;return(0,w.Z)(function*(){const i=yield e.tu();if(null===i)return null;const a=e.Xc.decode(i),c=Number(a);isNaN(c)&&e.eu(`length string (${a}) is not valid number`);const p=yield e.nu(c);return new D_(JSON.parse(p),i.length+c)})()}su(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}tu(){var e=this;return(0,w.Z)(function*(){for(;e.su()<0&&!(yield e.iu()););if(0===e.buffer.length)return null;const i=e.su();i<0&&e.eu("Reached the end of bundle when a length string is expected.");const a=e.buffer.slice(0,i);return e.buffer=e.buffer.slice(i),a})()}nu(e){var i=this;return(0,w.Z)(function*(){for(;i.buffer.length<e;)(yield i.iu())&&i.eu("Reached the end of bundle when more is expected.");const a=i.Xc.decode(i.buffer.slice(0,e));return i.buffer=i.buffer.slice(e),a})()}eu(e){throw this.Yc.cancel(),new Error(`Invalid bundle format: ${e}`)}iu(){var e=this;return(0,w.Z)(function*(){const i=yield e.Yc.read();if(!i.done){const a=new Uint8Array(e.buffer.length+i.value.length);a.set(e.buffer),a.set(i.value,e.buffer.length),e.buffer=a}return i.done})()}}class Hm{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var i=this;return(0,w.Z)(function*(){if(i.ensureCommitNotCalled(),i.mutations.length>0)throw new gt(tt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const a=yield(c=(0,w.Z)(function*(p,I){const S=jt(p),j=jc(S.O)+"/documents",q={documents:I.map(_t=>qo(S.O,_t))},ge=yield S.Lr("BatchGetDocuments",j,q),Ce=new Map;ge.forEach(_t=>{const Dt=function(s,e){return"found"in e?function(i,a){Fn(!!a.found);const c=Ka(i,a.found.name),p=Ys(a.found.updateTime),I=new Ei({mapValue:{fields:a.found.fields}});return Ki.newFoundDocument(c,p,I)}(s,e):"missing"in e?function(i,a){Fn(!!a.missing),Fn(!!a.readTime);const c=Ka(i,a.missing),p=Ys(a.readTime);return Ki.newNoDocument(c,p)}(s,e):Jt()}(S.O,_t);Ce.set(Dt.key.toString(),Dt)});const et=[];return I.forEach(_t=>{const Dt=Ce.get(_t.toString());Fn(!!Dt),et.push(Dt)}),et}),function(p,I){return c.apply(this,arguments)})(i.datastore,e);var c;return a.forEach(c=>i.recordVersion(c)),a})()}set(e,i){this.write(i.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,i){try{this.write(i.toMutation(e,this.preconditionForUpdate(e)))}catch(a){this.lastWriteError=a}this.writtenDocs.add(e.toString())}delete(e){this.write(new Mc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,w.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const i=e.readVersions;var a;e.mutations.forEach(a=>{i.delete(a.key.toString())}),i.forEach((a,c)=>{const p=Xt.fromPath(c);e.mutations.push(new El(p,e.precondition(p)))}),yield(a=(0,w.Z)(function*(c,p){const I=jt(c),S=jc(I.O)+"/documents",j={writes:p.map(q=>gc(I.O,q))};yield I.Mr("Commit",S,j)}),function(c,p){return a.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let i;if(e.isFoundDocument())i=e.version;else{if(!e.isNoDocument())throw Jt();i=M.min()}const a=this.readVersions.get(e.key.toString());if(a){if(!i.isEqual(a))throw new gt(tt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),i)}precondition(e){const i=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&i?hi.updateTime(i):hi.none()}preconditionForUpdate(e){const i=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&i){if(i.isEqual(M.min()))throw new gt(tt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return hi.updateTime(i)}return hi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Km{constructor(e,i,a,c){this.asyncQueue=e,this.datastore=i,this.updateFunction=a,this.deferred=c,this.ru=5,this.ro=new yu(this.asyncQueue,"transaction_retry")}run(){this.ru-=1,this.ou()}ou(){var e=this;this.ro.Hr((0,w.Z)(function*(){const i=new Hm(e.datastore),a=e.cu(i);a&&a.then(c=>{e.asyncQueue.enqueueAndForget(()=>i.commit().then(()=>{e.deferred.resolve(c)}).catch(p=>{e.uu(p)}))}).catch(c=>{e.uu(c)})}))}cu(e){try{const i=this.updateFunction(e);return!Fa(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}uu(e){this.ru>0&&this.au(e)?(this.ru-=1,this.asyncQueue.enqueueAndForget(()=>(this.ou(),Promise.resolve()))):this.deferred.reject(e)}au(e){if("FirebaseError"===e.name){const i=e.code;return"aborted"===i||"failed-precondition"===i||!fd(i)}return!1}}class k_{constructor(e,i,a,c){var p=this;this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=c,this.user=li.UNAUTHENTICATED,this.clientId=oo.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(a,function(){var I=(0,w.Z)(function*(S){St("FirestoreClient","Received user=",S.uid),yield p.authCredentialListener(S),p.user=S});return function(S){return I.apply(this,arguments)}}()),this.appCheckCredentials.start(a,I=>(St("FirestoreClient","Received new app check token=",I),this.appCheckCredentialListener(I,this.user)))}getConfiguration(){var e=this;return(0,w.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new gt(tt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const i=new Fi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,w.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),i.resolve()}catch(a){const c=el(a,"Failed to shutdown persistence");i.reject(c)}})),i.promise}}function $p(s,e){return Hp.apply(this,arguments)}function Hp(){return(Hp=(0,w.Z)(function*(s,e){s.asyncQueue.verifyOperationInProgress(),St("FirestoreClient","Initializing OfflineComponentProvider");const i=yield s.getConfiguration();yield e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener(function(){var c=(0,w.Z)(function*(p){a.isEqual(p)||(yield tr(e.localStore,p),a=p)});return function(p){return c.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s.offlineComponents=e})).apply(this,arguments)}function Wm(s,e){return qd.apply(this,arguments)}function qd(){return(qd=(0,w.Z)(function*(s,e){s.asyncQueue.verifyOperationInProgress();const i=yield zm(s);St("FirestoreClient","Initializing OnlineComponentProvider");const a=yield s.getConfiguration();yield e.initialize(i,a),s.setCredentialChangeListener(c=>Nm(e.remoteStore,c)),s.setAppCheckTokenChangeListener((c,p)=>Nm(e.remoteStore,p)),s.onlineComponents=e})).apply(this,arguments)}function zm(s){return pf.apply(this,arguments)}function pf(){return(pf=(0,w.Z)(function*(s){return s.offlineComponents||(St("FirestoreClient","Using default OfflineComponentProvider"),yield $p(s,new Bp)),s.offlineComponents})).apply(this,arguments)}function gf(s){return Kp.apply(this,arguments)}function Kp(){return(Kp=(0,w.Z)(function*(s){return s.onlineComponents||(St("FirestoreClient","Using default OnlineComponentProvider"),yield Wm(s,new rl)),s.onlineComponents})).apply(this,arguments)}function L_(s){return zm(s).then(e=>e.persistence)}function Gm(s){return zm(s).then(e=>e.localStore)}function mf(s){return gf(s).then(e=>e.remoteStore)}function Wp(s){return gf(s).then(e=>e.syncEngine)}function il(s){return yf.apply(this,arguments)}function yf(){return(yf=(0,w.Z)(function*(s){const e=yield gf(s),i=e.eventManager;return i.onListen=nI.bind(null,e.syncEngine),i.onUnlisten=km.bind(null,e.syncEngine),i})).apply(this,arguments)}function V_(s,e,i={}){const a=new Fi;return s.asyncQueue.enqueueAndForget((0,w.Z)(function*(){return function(c,p,I,S,j){const q=new Gd({next:Ce=>{p.enqueueAndForget(()=>Zh(c,ge));const et=Ce.docs.has(I);!et&&Ce.fromCache?j.reject(new gt(tt.UNAVAILABLE,"Failed to get document because the client is offline.")):et&&Ce.fromCache&&S&&"server"===S.source?j.reject(new gt(tt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):j.resolve(Ce)},error:Ce=>j.reject(Ce)}),ge=new Cp(Jn(I.path),q,{includeMetadataChanges:!0,uc:!0});return bp(c,ge)}(yield il(s),s.asyncQueue,e,i,a)})),a.promise}function zp(s,e,i={}){const a=new Fi;return s.asyncQueue.enqueueAndForget((0,w.Z)(function*(){return function(c,p,I,S,j){const q=new Gd({next:Ce=>{p.enqueueAndForget(()=>Zh(c,ge)),Ce.fromCache&&"server"===S.source?j.reject(new gt(tt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):j.resolve(Ce)},error:Ce=>j.reject(Ce)}),ge=new Cp(I,q,{includeMetadataChanges:!0,uc:!0});return bp(c,ge)}(yield il(s),s.asyncQueue,e,i,a)})),a.promise}const Gp=new Map;function Zd(s,e,i){if(!i)throw new gt(tt.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function Ym(s,e,i,a){if(!0===e&&!0===a)throw new gt(tt.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function _f(s){if(!Xt.isDocumentKey(s))throw new gt(tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Jm(s){if(Xt.isDocumentKey(s))throw new gt(tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function vf(s){if(void 0===s)return"undefined";if(null===s)return"null";if("string"==typeof s)return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if("number"==typeof s||"boolean"==typeof s)return""+s;if("object"==typeof s){if(s instanceof Array)return"an array";{const e=(i=s).constructor?i.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var i;return"function"==typeof s?"a function":Jt()}function Fr(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new gt(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=vf(s);throw new gt(tt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Xm(s,e){if(e<=0)throw new gt(tt.INVALID_ARGUMENT,`Function ${s}() requires a positive number, but it was: ${e}.`)}class ey{constructor(e){var i;if(void 0===e.host){if(void 0!==e.ssl)throw new gt(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(i=e.ssl)||void 0===i||i;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new gt(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Ym("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wl{constructor(e,i,a){this._authCredentials=i,this._appCheckCredentials=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ey({}),this._settingsFrozen=!1,e instanceof bs?this._databaseId=e:(this._app=e,this._databaseId=function(c){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new gt(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bs(c.options.projectId)}(e))}get app(){if(!this._app)throw new gt(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new gt(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ey(e),void 0!==e.credentials&&(this._authCredentials=function(i){if(!i)return new Ra;switch(i.type){case"gapi":const a=i.client;return Fn(!("object"!=typeof a||null===a||!a.auth||!a.auth.getAuthHeaderValueForFirstParty)),new ac(a,i.sessionIndex||"0",i.iamToken||null);case"provider":return i.client;default:throw new gt(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=Gp.get(e);i&&(St("ComponentProvider","Removing Datastore"),Gp.delete(e),i.terminate())}(this),Promise.resolve()}}function Ef(s,e,i,a={}){var c;const p=(s=Fr(s,Wl))._getSettings();if("firestore.googleapis.com"!==p.host&&p.host!==e&&Yi("Host has been set in both settings() and useEmulator(), emulator host will be used"),s._setSettings(Object.assign(Object.assign({},p),{host:`${e}:${i}`,ssl:!1})),a.mockUserToken){let I,S;if("string"==typeof a.mockUserToken)I=a.mockUserToken,S=li.MOCK_USER;else{I=(0,oe.Sg)(a.mockUserToken,null===(c=s._app)||void 0===c?void 0:c.options.projectId);const j=a.mockUserToken.sub||a.mockUserToken.user_id;if(!j)throw new gt(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new li(j)}s._authCredentials=new ya(new ws(I,S))}}class Oi{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ds(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Oi(this.firestore,e,this._key)}}class fo{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new fo(this.firestore,e,this._query)}}class Ds extends fo{constructor(e,i,a){super(e,i,Jn(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Oi(this.firestore,null,new Xt(e))}withConverter(e){return new Ds(this.firestore,e,this._path)}}function Qd(s,e,...i){if(s=(0,oe.m9)(s),Zd("collection","path",e),s instanceof Wl){const a=Et.fromString(e,...i);return Jm(a),new Ds(s,null,a)}{if(!(s instanceof Oi||s instanceof Ds))throw new gt(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Et.fromString(e,...i));return Jm(a),new Ds(s.firestore,null,a)}}function B_(s,e){if(s=Fr(s,Wl),Zd("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new gt(tt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new fo(s,null,(i=e,new Vt(Et.emptyPath(),i)));var i}function ty(s,e,...i){if(s=(0,oe.m9)(s),1===arguments.length&&(e=oo.R()),Zd("doc","path",e),s instanceof Wl){const a=Et.fromString(e,...i);return _f(a),new Oi(s,null,new Xt(a))}{if(!(s instanceof Oi||s instanceof Ds))throw new gt(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Et.fromString(e,...i));return _f(a),new Oi(s.firestore,s instanceof Ds?s.converter:null,new Xt(a))}}function qp(s,e){return s=(0,oe.m9)(s),e=(0,oe.m9)(e),(s instanceof Oi||s instanceof Ds)&&(e instanceof Oi||e instanceof Ds)&&s.firestore===e.firestore&&s.path===e.path&&s.converter===e.converter}function Xa(s,e){return s=(0,oe.m9)(s),e=(0,oe.m9)(e),s instanceof fo&&e instanceof fo&&s.firestore===e.firestore&&uo(s._query,e._query)&&s.converter===e.converter}class Yd{constructor(){this.hu=Promise.resolve(),this.lu=[],this.fu=!1,this.du=[],this._u=null,this.wu=!1,this.mu=!1,this.gu=[],this.ro=new yu(this,"async_queue_retry"),this.yu=()=>{const i=Bl();i&&St("AsyncQueue","Visibility state changed to "+i.visibilityState),this.ro.Yr()};const e=Bl();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.yu)}get isShuttingDown(){return this.fu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.fu){this.fu=!0,this.mu=e||!1;const i=Bl();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this.yu)}}enqueue(e){if(this.pu(),this.fu)return new Promise(()=>{});const i=new Fi;return this.Iu(()=>this.fu&&this.mu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.lu.push(e),this.Eu()))}Eu(){var e=this;return(0,w.Z)(function*(){if(0!==e.lu.length){try{yield e.lu[0](),e.lu.shift(),e.ro.reset()}catch(i){if(!pu(i))throw i;St("AsyncQueue","Operation failed with retryable error: "+i)}e.lu.length>0&&e.ro.Hr(()=>e.Eu())}})()}Iu(e){const i=this.hu.then(()=>(this.wu=!0,e().catch(a=>{throw this._u=a,this.wu=!1,Li("INTERNAL UNHANDLED ERROR: ",function(p){let I=p.message||"";return p.stack&&(I=p.stack.includes(p.message)?p.stack:p.message+"\n"+p.stack),I}(a)),a}).then(a=>(this.wu=!1,a))));return this.hu=i,i}enqueueAfterDelay(e,i,a){this.pu(),this.gu.indexOf(e)>-1&&(i=0);const c=Ip.createAndSchedule(this,e,i,a,p=>this.Tu(p));return this.du.push(c),c}pu(){this._u&&Jt()}verifyOperationInProgress(){}Au(){var e=this;return(0,w.Z)(function*(){let i;do{i=e.hu,yield i}while(i!==e.hu)})()}Ru(e){for(const i of this.du)if(i.timerId===e)return!0;return!1}Pu(e){return this.Au().then(()=>{this.du.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.du)if(i.skipDelay(),"all"!==e&&i.timerId===e)break;return this.Au()})}bu(e){this.gu.push(e)}Tu(e){const i=this.du.indexOf(e);this.du.splice(i,1)}}function po(s){return function(e,i){if("object"!=typeof e||null===e)return!1;const a=e;for(const c of["next","error","complete"])if(c in a&&"function"==typeof a[c])return!0;return!1}(s)}class sl{constructor(){this._progressObserver={},this._taskCompletionResolver=new Fi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,i,a){this._progressObserver={next:e,error:i,complete:a}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,i){return this._taskCompletionResolver.promise.then(e,i)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const If=-1;class Vr extends Wl{constructor(e,i,a){super(e,i,a),this.type="firestore",this._queue=new Yd,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||ol(this),this._firestoreClient.terminate()}}function qi(s){return s._firestoreClient||ol(s),s._firestoreClient.verifyNotTerminated(),s._firestoreClient}function ol(s){var e;const i=s._freezeSettings(),a=(p=(null===(e=s._app)||void 0===e?void 0:e.options.appId)||"",new zo(s._databaseId,p,s._persistenceKey,(S=i).host,S.ssl,S.experimentalForceLongPolling,S.experimentalAutoDetectLongPolling,S.useFetchStreams));var p,S;s._firestoreClient=new k_(s._authCredentials,s._appCheckCredentials,s._queue,a)}function zl(s,e){wf(s=Fr(s,Vr));const i=qi(s),a=s._freezeSettings(),c=new rl;return al(i,c,new Bm(c,a.cacheSizeBytes,null==e?void 0:e.forceOwnership))}function Gl(s){wf(s=Fr(s,Vr));const e=qi(s),i=s._freezeSettings(),a=new rl;return al(e,a,new M_(a,i.cacheSizeBytes))}function al(s,e,i){const a=new Fi;return s.asyncQueue.enqueue((0,w.Z)(function*(){try{yield $p(s,i),yield Wm(s,e),a.resolve()}catch(c){if(!("FirebaseError"===(p=c).name?p.code===tt.FAILED_PRECONDITION||p.code===tt.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&p instanceof DOMException)||22===p.code||20===p.code||11===p.code))throw c;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+c),a.reject(c)}var p})).then(()=>a.promise)}function ql(s){if(s._initialized&&!s._terminated)throw new gt(tt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Fi;return s._queue.enqueueAndForgetEvenWhileRestricted((0,w.Z)(function*(){try{yield(i=(0,w.Z)(function*(a){if(!Ls.Vt())return Promise.resolve();const c=a+"main";yield Ls.delete(c)}),function(a){return i.apply(this,arguments)})(ip(s._databaseId,s._persistenceKey)),e.resolve()}catch(i){e.reject(i)}var i})),e.promise}function Zl(s){return function(e){const i=new Fi;return e.asyncQueue.enqueueAndForget((0,w.Z)(function*(){return function(s,e){return nf.apply(this,arguments)}(yield Wp(e),i)})),i.promise}(qi(s=Fr(s,Vr)))}function Ql(s){return function(s){return s.asyncQueue.enqueue((0,w.Z)(function*(){const e=yield L_(s),i=yield mf(s);return e.setNetworkEnabled(!0),function(a){const c=jt(a);return c.Ko.delete(0),jd(c)}(i)}))}(qi(s=Fr(s,Vr)))}function Zp(s){return function(s){return s.asyncQueue.enqueue((0,w.Z)(function*(){const e=yield L_(s),i=yield mf(s);return e.setNetworkEnabled(!1),(a=(0,w.Z)(function*(c){const p=jt(c);p.Ko.add(0),yield _u(p),p.Qo.set("Offline")}),function(c){return a.apply(this,arguments)})(i);var a}))}(qi(s=Fr(s,Vr)))}function Qp(s,e){const i=qi(s=Fr(s,Vr)),a=new sl;return function(s,e,i,a){const c=function(p,I){let S;return S="string"==typeof p?(new TextEncoder).encode(p):p,j=function(j,q){if(j instanceof Uint8Array)return ff(j,q);if(j instanceof ArrayBuffer)return ff(new Uint8Array(j),q);if(j instanceof ReadableStream)return j.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(S),new $m(j,I);var j}(i,Ud(e));s.asyncQueue.enqueueAndForget((0,w.Z)(function*(){!function(s,e,i){const a=jt(s);var c;(c=(0,w.Z)(function*(p,I,S){try{const j=yield I.getMetadata();if(yield function(et,_t){const Dt=jt(et),Tn=Ys(_t.createTime);return Dt.persistence.runTransaction("hasNewerBundle","readonly",mr=>Dt.Kn.getBundleMetadata(mr,_t.id)).then(mr=>!!mr&&mr.createTime.compareTo(Tn)>=0)}(p.localStore,j))return yield I.close(),void S._completeWith((et=j,{taskState:"Success",documentsLoaded:et.totalDocuments,bytesLoaded:et.totalBytes,totalDocuments:et.totalDocuments,totalBytes:et.totalBytes}));S._updateProgress(Mm(j));const q=new Dp(j,p.localStore,I.O);let ge=yield I.Kc();for(;ge;){const et=yield q.lc(ge);et&&S._updateProgress(et),ge=yield I.Kc()}const Ce=yield q.complete();yield fa(p,Ce.ws,void 0),yield function(et,_t){const Dt=jt(et);return Dt.persistence.runTransaction("Save bundle","readwrite",Tn=>Dt.Kn.saveBundleMetadata(Tn,_t))}(p.localStore,j),S._completeWith(Ce.progress)}catch(j){Yi("SyncEngine",`Loading bundle failed with ${j}`),S._failWith(j)}var et}),function(p,I,S){return c.apply(this,arguments)})(a,e,i).then(()=>{a.sharedClientState.notifyBundleLoaded()})}(yield Wp(s),c,a)}))}(i,s._databaseId,e,a),a}function Yp(s,e){return function(s,e){return s.asyncQueue.enqueue((0,w.Z)(function*(){return function(i,a){const c=jt(i);return c.persistence.runTransaction("Get named query","readonly",p=>c.Kn.getNamedQuery(p,a))}(yield Gm(s),e)}))}(qi(s=Fr(s,Vr)),e).then(i=>i?new fo(s,null,i.query):null)}function wf(s){if(s._initialized||s._terminated)throw new gt(tt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class wu{constructor(...e){for(let i=0;i<e.length;++i)if(0===e[i].length)throw new gt(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new En(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class bu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new bu(Mr.fromBase64String(e))}catch(i){throw new gt(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new bu(Mr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Zu{constructor(e){this._methodName=e}}class bf{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new gt(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new gt(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return C(this._lat,e._lat)||C(this._long,e._long)}}const sy=/^__.*__$/;class oy{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return null!==this.fieldMask?new Ea(e,this.data,this.fieldMask,i,this.fieldTransforms):new Oc(e,this.data,i,this.fieldTransforms)}}class Jp{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Ea(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function Xp(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Jt()}}class Tf{constructor(e,i,a,c,p,I){this.settings=e,this.databaseId=i,this.O=a,this.ignoreUndefinedProperties=c,void 0===p&&this.vu(),this.fieldTransforms=p||[],this.fieldMask=I||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}Su(e){return new Tf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.O,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Du(e){var i;const a=null===(i=this.path)||void 0===i?void 0:i.child(e),c=this.Su({path:a,Cu:!1});return c.Nu(e),c}xu(e){var i;const a=null===(i=this.path)||void 0===i?void 0:i.child(e),c=this.Su({path:a,Cu:!1});return c.vu(),c}ku(e){return this.Su({path:void 0,Cu:!0})}Ou(e){return Df(e,this.settings.methodName,this.settings.Mu||!1,this.path,this.settings.$u)}contains(e){return void 0!==this.fieldMask.find(i=>e.isPrefixOf(i))||void 0!==this.fieldTransforms.find(i=>e.isPrefixOf(i.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Nu(this.path.get(e))}Nu(e){if(0===e.length)throw this.Ou("Document fields must not be empty");if(Xp(this.Vu)&&sy.test(e))throw this.Ou('Document fields cannot begin and end with "__"')}}class oI{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.O=a||Ud(e)}Fu(e,i,a,c=!1){return new Tf({Vu:e,methodName:i,$u:a,path:En.emptyPath(),Cu:!1,Mu:c},this.databaseId,this.O,this.ignoreUndefinedProperties)}}function ul(s){const e=s._freezeSettings(),i=Ud(s._databaseId);return new oI(s._databaseId,!!e.ignoreUndefinedProperties,i)}function Xd(s,e,i,a,c,p={}){const I=s.Fu(p.merge||p.mergeFields?2:0,e,i,c);rg("Data must be an object, but it was:",I,a);const S=ng(a,I);let j,q;if(p.merge)j=new Sr(I.fieldMask),q=I.fieldTransforms;else if(p.mergeFields){const ge=[];for(const Ce of p.mergeFields){const et=ig(e,Ce,i);if(!I.contains(et))throw new gt(tt.INVALID_ARGUMENT,`Field '${et}' is specified in your field mask but missing from your input data.`);cy(ge,et)||ge.push(et)}j=new Sr(ge),q=I.fieldTransforms.filter(Ce=>j.covers(Ce.field))}else j=null,q=I.fieldTransforms;return new oy(new Ei(S),j,q)}class eh extends Zu{_toFieldTransform(e){if(2!==e.Vu)throw e.Ou(1===e.Vu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof eh}}function eg(s,e,i){return new Tf({Vu:3,$u:e.settings.$u,methodName:s._methodName,Cu:i},e.databaseId,e.O,e.ignoreUndefinedProperties)}class tg extends Zu{_toFieldTransform(e){return new ku(e.path,new Vo)}isEqual(e){return e instanceof tg}}class $_ extends Zu{constructor(e,i){super(e),this.Bu=i}_toFieldTransform(e){const i=eg(this,e,!0),a=this.Bu.map(p=>Yl(p,i)),c=new sa(a);return new ku(e.path,c)}isEqual(e){return this===e}}class aI extends Zu{constructor(e,i){super(e),this.Bu=i}_toFieldTransform(e){const i=eg(this,e,!0),a=this.Bu.map(p=>Yl(p,i)),c=new du(a);return new ku(e.path,c)}isEqual(e){return this===e}}class H_ extends Zu{constructor(e,i){super(e),this.Lu=i}_toFieldTransform(e){const i=new Na(e.O,ml(e.O,this.Lu));return new ku(e.path,i)}isEqual(e){return this===e}}function Cf(s,e,i,a){const c=s.Fu(1,e,i);rg("Data must be an object, but it was:",c,a);const p=[],I=Ei.empty();ce(a,(j,q)=>{const ge=Jl(e,j,i);q=(0,oe.m9)(q);const Ce=c.xu(ge);if(q instanceof eh)p.push(ge);else{const et=Yl(q,Ce);null!=et&&(p.push(ge),I.set(ge,et))}});const S=new Sr(p);return new Jp(I,S,c.fieldTransforms)}function ay(s,e,i,a,c,p){const I=s.Fu(1,e,i),S=[ig(e,a,i)],j=[c];if(p.length%2!=0)throw new gt(tt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let et=0;et<p.length;et+=2)S.push(ig(e,p[et])),j.push(p[et+1]);const q=[],ge=Ei.empty();for(let et=S.length-1;et>=0;--et)if(!cy(q,S[et])){const _t=S[et];let Dt=j[et];Dt=(0,oe.m9)(Dt);const Tn=I.xu(_t);if(Dt instanceof eh)q.push(_t);else{const mr=Yl(Dt,Tn);null!=mr&&(q.push(_t),ge.set(_t,mr))}}const Ce=new Sr(q);return new Jp(ge,Ce,I.fieldTransforms)}function uy(s,e,i,a=!1){return Yl(i,s.Fu(a?4:3,e))}function Yl(s,e){if(K_(s=(0,oe.m9)(s)))return rg("Unsupported field value:",e,s),ng(s,e);if(s instanceof Zu)return function(i,a){if(!Xp(a.Vu))throw a.Ou(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Ou(`${i._methodName}() is not currently supported inside arrays`);const c=i._toFieldTransform(a);c&&a.fieldTransforms.push(c)}(s,e),null;if(void 0===s&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.Cu&&4!==e.Vu)throw e.Ou("Nested arrays are not supported");return function(i,a){const c=[];let p=0;for(const I of i){let S=Yl(I,a.ku(p));null==S&&(S={nullValue:"NULL_VALUE"}),c.push(S),p++}return{arrayValue:{values:c}}}(s,e)}return function(i,a){if(null===(i=(0,oe.m9)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return ml(a.O,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const c=x.fromDate(i);return{timestampValue:Vu(a.O,c)}}if(i instanceof x){const c=new x(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Vu(a.O,c)}}if(i instanceof bf)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof bu)return{bytesValue:Eh(a.O,i._byteString)};if(i instanceof Oi){const c=a.databaseId,p=i.firestore._databaseId;if(!p.isEqual(c))throw a.Ou(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Vc(i.firestore._databaseId||a.databaseId,i._key.path)}}throw a.Ou(`Unsupported field value: ${vf(i)}`)}(s,e)}function ng(s,e){const i={};return Ae(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ce(s,(a,c)=>{const p=Yl(c,e.Du(a));null!=p&&(i[a]=p)}),{mapValue:{fields:i}}}function K_(s){return!("object"!=typeof s||null===s||s instanceof Array||s instanceof Date||s instanceof x||s instanceof bf||s instanceof bu||s instanceof Oi||s instanceof Zu)}function rg(s,e,i){if(!K_(i)||"object"!=typeof(a=i)||null===a||Object.getPrototypeOf(a)!==Object.prototype&&null!==Object.getPrototypeOf(a)){const a=vf(i);throw e.Ou("an object"===a?s+" a custom object":s+" "+a)}var a}function ig(s,e,i){if((e=(0,oe.m9)(e))instanceof wu)return e._internalPath;if("string"==typeof e)return Jl(s,e);throw Df("Field path arguments must be of type string or ",s,!1,void 0,i)}const sg=new RegExp("[~\\*/\\[\\]]");function Jl(s,e,i){if(e.search(sg)>=0)throw Df(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new wu(...e.split("."))._internalPath}catch(a){throw Df(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Df(s,e,i,a,c){const p=a&&!a.isEmpty(),I=void 0!==c;let S=`Function ${e}() called with invalid data`;i&&(S+=" (via `toFirestore()`)"),S+=". ";let j="";return(p||I)&&(j+=" (found",p&&(j+=` in field ${a}`),I&&(j+=` in document ${c}`),j+=")"),new gt(tt.INVALID_ARGUMENT,S+s+j)}function cy(s,e){return s.some(i=>i.isEqual(e))}class th{constructor(e,i,a,c,p){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=c,this._converter=p}get id(){return this._key.path.lastSegment()}get ref(){return new Oi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new W_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Sf("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i)}}}class W_ extends th{data(){return super.data()}}function Sf(s,e){return"string"==typeof e?Jl(s,e):e instanceof wu?e._internalPath:e._delegate._internalPath}class wc{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cl extends th{constructor(e,i,a,c,p,I){super(e,i,a,c,I),this._firestore=e,this._firestoreImpl=e,this.metadata=p}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new nh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(Sf("DocumentSnapshot.get",e));if(null!==a)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}}class nh extends cl{data(e={}){return super.data(e)}}class Yo{constructor(e,i,a,c){this._firestore=e,this._userDataWriter=i,this._snapshot=c,this.metadata=new wc(c.hasPendingWrites,c.fromCache),this.query=a}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,i){this._snapshot.docs.forEach(a=>{e.call(i,new nh(this._firestore,this._userDataWriter,a.key,a,new wc(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new gt(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(a,c){if(a._snapshot.oldDocs.isEmpty()){let p=0;return a._snapshot.docChanges.map(I=>({type:"added",doc:new nh(a._firestore,a._userDataWriter,I.doc.key,I.doc,new wc(a._snapshot.mutatedKeys.has(I.doc.key),a._snapshot.fromCache),a.query.converter),oldIndex:-1,newIndex:p++}))}{let p=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(I=>c||3!==I.type).map(I=>{const S=new nh(a._firestore,a._userDataWriter,I.doc.key,I.doc,new wc(a._snapshot.mutatedKeys.has(I.doc.key),a._snapshot.fromCache),a.query.converter);let j=-1,q=-1;return 0!==I.type&&(j=p.indexOf(I.doc.key),p=p.delete(I.doc.key)),1!==I.type&&(p=p.add(I.doc),q=p.indexOf(I.doc.key)),{type:z_(I.type),doc:S,oldIndex:j,newIndex:q}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function z_(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Jt()}}function ly(s,e){return s instanceof cl&&e instanceof cl?s._firestore===e._firestore&&s._key.isEqual(e._key)&&(null===s._document?null===e._document:s._document.isEqual(e._document))&&s._converter===e._converter:s instanceof Yo&&e instanceof Yo&&s._firestore===e._firestore&&Xa(s.query,e.query)&&s.metadata.isEqual(e.metadata)&&s._snapshot.isEqual(e._snapshot)}function dy(s){if(Ri(s)&&0===s.explicitOrderBy.length)throw new gt(tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xl{}function rh(s,...e){for(const i of e)s=i._apply(s);return s}class G_ extends Xl{constructor(e,i,a){super(),this.Uu=e,this.qu=i,this.Ku=a,this.type="where"}_apply(e){const i=ul(e.firestore),a=function(c,p,I,S,j,q,ge){let Ce;if(j.isKeyField()){if("array-contains"===q||"array-contains-any"===q)throw new gt(tt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${q}' queries on documentId().`);if("in"===q||"not-in"===q){yy(ge,q);const _t=[];for(const Dt of ge)_t.push(cg(S,c,Dt));Ce={arrayValue:{values:_t}}}else Ce=cg(S,c,ge)}else"in"!==q&&"not-in"!==q&&"array-contains-any"!==q||yy(ge,q),Ce=uy(I,"where",ge,"in"===q||"not-in"===q);const et=Ji.create(j,q,Ce);return function(_t,Dt){if(Dt.S()){const mr=os(_t);if(null!==mr&&!mr.isEqual(Dt.field))throw new gt(tt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${mr.toString()}' and '${Dt.field.toString()}'`);const Ss=Gs(_t);null!==Ss&&ed(0,Dt.field,Ss)}const Tn=function(mr,Ss){for(const jo of mr.filters)if(Ss.indexOf(jo.op)>=0)return jo.op;return null}(_t,function(mr){switch(mr){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Dt.op));if(null!==Tn)throw new gt(tt.INVALID_ARGUMENT,Tn===Dt.op?`Invalid query. You cannot use more than one '${Dt.op.toString()}' filter.`:`Invalid query. You cannot use '${Dt.op.toString()}' filters with '${Tn.toString()}' filters.`)}(c,et),et}(e._query,0,i,e.firestore._databaseId,this.Uu,this.qu,this.Ku);return new fo(e.firestore,e.converter,function(c,p){const I=c.filters.concat([p]);return new Vt(c.path,c.collectionGroup,c.explicitOrderBy.slice(),I,c.limit,c.limitType,c.startAt,c.endAt)}(e._query,a))}}function hy(s,e,i){const a=e,c=Sf("where",s);return new G_(c,a,i)}class fy extends Xl{constructor(e,i){super(),this.Uu=e,this.Gu=i,this.type="orderBy"}_apply(e){const i=function(a,c,p){if(null!==a.startAt)throw new gt(tt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==a.endAt)throw new gt(tt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const I=new he(c,p);return function(S,j){if(null===Gs(S)){const q=os(S);null!==q&&ed(0,q,j.field)}}(a,I),I}(e._query,this.Uu,this.Gu);return new fo(e.firestore,e.converter,function(a,c){const p=a.explicitOrderBy.concat([c]);return new Vt(a.path,a.collectionGroup,p,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,i))}}function q_(s,e="asc"){const i=e,a=Sf("orderBy",s);return new fy(a,i)}class py extends Xl{constructor(e,i,a){super(),this.type=e,this.ju=i,this.Qu=a}_apply(e){return new fo(e.firestore,e.converter,Fo(e._query,this.ju,this.Qu))}}function gy(s){return Xm("limit",s),new py("limit",s,"F")}function Z_(s){return Xm("limitToLast",s),new py("limitToLast",s,"L")}class og extends Xl{constructor(e,i,a){super(),this.type=e,this.Wu=i,this.zu=a}_apply(e){const i=ll(e,this.type,this.Wu,this.zu);return new fo(e.firestore,e.converter,(c=i,new Vt((a=e._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,c,a.endAt)));var a,c}}function Q_(...s){return new og("startAt",s,!0)}function my(...s){return new og("startAfter",s,!1)}class ag extends Xl{constructor(e,i,a){super(),this.type=e,this.Wu=i,this.zu=a}_apply(e){const i=ll(e,this.type,this.Wu,this.zu);return new fo(e.firestore,e.converter,(c=i,new Vt((a=e._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,c)));var a,c}}function ug(...s){return new ag("endBefore",s,!1)}function ih(...s){return new ag("endAt",s,!0)}function ll(s,e,i,a){if(i[0]=(0,oe.m9)(i[0]),i[0]instanceof th)return function(c,p,I,S,j){if(!S)throw new gt(tt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${I}().`);const q=[];for(const ge of Lo(c))if(ge.field.isKeyField())q.push(Rc(p,S.key));else{const Ce=S.data.field(ge.field);if(Vi(Ce))throw new gt(tt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ge.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ce){const et=ge.field.canonicalString();throw new gt(tt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${et}' (used as the orderBy) does not exist.`)}q.push(Ce)}return new G(q,j)}(s._query,s.firestore._databaseId,e,i[0]._document,a);{const c=ul(s.firestore);return function(p,I,S,j,q,ge){const Ce=p.explicitOrderBy;if(q.length>Ce.length)throw new gt(tt.INVALID_ARGUMENT,`Too many arguments provided to ${j}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const et=[];for(let _t=0;_t<q.length;_t++){const Dt=q[_t];if(Ce[_t].field.isKeyField()){if("string"!=typeof Dt)throw new gt(tt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${j}(), but got a ${typeof Dt}`);if(!uu(p)&&-1!==Dt.indexOf("/"))throw new gt(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${j}() must be a plain document ID, but '${Dt}' contains a slash.`);const Tn=p.path.child(Et.fromString(Dt));if(!Xt.isDocumentKey(Tn))throw new gt(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${j}() must result in a valid document path, but '${Tn}' is not because it contains an odd number of segments.`);const mr=new Xt(Tn);et.push(Rc(I,mr))}else{const Tn=uy(S,j,Dt);et.push(Tn)}}return new G(et,ge)}(s._query,s.firestore._databaseId,c,e,i,a)}}function cg(s,e,i){if("string"==typeof(i=(0,oe.m9)(i))){if(""===i)throw new gt(tt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uu(e)&&-1!==i.indexOf("/"))throw new gt(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=e.path.child(Et.fromString(i));if(!Xt.isDocumentKey(a))throw new gt(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Rc(s,new Xt(a))}if(i instanceof Oi)return Rc(s,i._key);throw new gt(tt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vf(i)}.`)}function yy(s,e){if(!Array.isArray(s)||0===s.length)throw new gt(tt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(s.length>10)throw new gt(tt.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function ed(s,e,i){if(!i.isEqual(e))throw new gt(tt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${i.toString()}' instead.`)}class Af{convertValue(e,i="none"){switch(_a(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(ss(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 10:return this.convertObject(e.mapValue,i);default:throw Jt()}}convertObject(e,i){const a={};return ce(e.fields,(c,p)=>{a[c]=this.convertValue(p,i)}),a}convertGeoPoint(e){return new bf(wr(e.latitude),wr(e.longitude))}convertArray(e,i){return(e.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(e,i){switch(i){case"previous":const a=Ko(e);return null==a?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Wo(e));default:return null}}convertTimestamp(e){const i=Hi(e);return new x(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=Et.fromString(e);Fn(za(a));const c=new bs(a.get(1),a.get(3)),p=new Xt(a.popFirst(5));return c.isEqual(i)||Li(`Document ${p} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),p}}function td(s,e,i){let a;return a=s?i&&(i.merge||i.mergeFields)?s.toFirestore(e,i):s.toFirestore(e):e,a}class lg extends Af{constructor(e){super(),this.firestore=e}convertBytes(e){return new bu(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Oi(this.firestore,null,i)}}class _y{constructor(e,i){this._firestore=e,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=ul(e)}set(e,i,a){this._verifyNotCommitted();const c=Tu(e,this._firestore),p=td(c.converter,i,a),I=Xd(this._dataReader,"WriteBatch.set",c._key,p,null!==c.converter,a);return this._mutations.push(I.toMutation(c._key,hi.none())),this}update(e,i,a,...c){this._verifyNotCommitted();const p=Tu(e,this._firestore);let I;return I="string"==typeof(i=(0,oe.m9)(i))||i instanceof wu?ay(this._dataReader,"WriteBatch.update",p._key,i,a,c):Cf(this._dataReader,"WriteBatch.update",p._key,i),this._mutations.push(I.toMutation(p._key,hi.exists(!0))),this}delete(e){this._verifyNotCommitted();const i=Tu(e,this._firestore);return this._mutations=this._mutations.concat(new Mc(i._key,hi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new gt(tt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Tu(s,e){if((s=(0,oe.m9)(s)).firestore!==e)throw new gt(tt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}function dg(s){s=Fr(s,Oi);const e=Fr(s.firestore,Vr);return V_(qi(e),s._key).then(i=>Rf(e,s,i))}class bc extends Af{constructor(e){super(),this.firestore=e}convertBytes(e){return new bu(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Oi(this.firestore,null,i)}}function uI(s){s=Fr(s,Oi);const e=Fr(s.firestore,Vr),i=qi(e),a=new bc(e);return function(s,e){const i=new Fi;return s.asyncQueue.enqueueAndForget((0,w.Z)(function*(){return(a=(0,w.Z)(function*(c,p,I){try{const S=yield function(j,q){const ge=jt(j);return ge.persistence.runTransaction("read document","readonly",Ce=>ge.Us.ys(Ce,q))}(c,p);S.isFoundDocument()?I.resolve(S):S.isNoDocument()?I.resolve(null):I.reject(new gt(tt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(S){const j=el(S,`Failed to get document '${p} from cache`);I.reject(j)}}),function(c,p,I){return a.apply(this,arguments)})(yield Gm(s),e,i);var a})),i.promise}(i,s._key).then(c=>new cl(e,a,s._key,c,new wc(null!==c&&c.hasLocalMutations,!0),s.converter))}function Y_(s){s=Fr(s,Oi);const e=Fr(s.firestore,Vr);return V_(qi(e),s._key,{source:"server"}).then(i=>Rf(e,s,i))}function hg(s){s=Fr(s,fo);const e=Fr(s.firestore,Vr),i=qi(e),a=new bc(e);return dy(s._query),zp(i,s._query).then(c=>new Yo(e,a,s,c))}function fg(s){s=Fr(s,fo);const e=Fr(s.firestore,Vr),i=qi(e),a=new bc(e);return function(s,e){const i=new Fi;return s.asyncQueue.enqueueAndForget((0,w.Z)(function*(){return(a=(0,w.Z)(function*(c,p,I){try{const S=yield Fd(c,p,!0),j=new Sp(p,S.Ks),q=j.Ic(S.documents),ge=j.applyChanges(q,!1);I.resolve(ge.snapshot)}catch(S){const j=el(S,`Failed to execute query '${p} against cache`);I.reject(j)}}),function(c,p,I){return a.apply(this,arguments)})(yield Gm(s),e,i);var a})),i.promise}(i,s._query).then(c=>new Yo(e,a,s,c))}function vy(s){s=Fr(s,fo);const e=Fr(s.firestore,Vr),i=qi(e),a=new bc(e);return zp(i,s._query,{source:"server"}).then(c=>new Yo(e,a,s,c))}function Ey(s,e,i){s=Fr(s,Oi);const a=Fr(s.firestore,Vr),c=td(s.converter,e,i);return nd(a,[Xd(ul(a),"setDoc",s._key,c,null!==s.converter,i).toMutation(s._key,hi.none())])}function pg(s,e,i,...a){s=Fr(s,Oi);const c=Fr(s.firestore,Vr),p=ul(c);let I;return I="string"==typeof(e=(0,oe.m9)(e))||e instanceof wu?ay(p,"updateDoc",s._key,e,i,a):Cf(p,"updateDoc",s._key,e),nd(c,[I.toMutation(s._key,hi.exists(!0))])}function Iy(s){return nd(Fr(s.firestore,Vr),[new Mc(s._key,hi.none())])}function gg(s,e){const i=Fr(s.firestore,Vr),a=ty(s),c=td(s.converter,e);return nd(i,[Xd(ul(s.firestore),"addDoc",a._key,c,null!==s.converter,{}).toMutation(a._key,hi.exists(!1))]).then(()=>a)}function mg(s,...e){var i,a,c;s=(0,oe.m9)(s);let p={includeMetadataChanges:!1},I=0;"object"!=typeof e[I]||po(e[I])||(p=e[I],I++);const S={includeMetadataChanges:p.includeMetadataChanges};if(po(e[I])){const Ce=e[I];e[I]=null===(i=Ce.next)||void 0===i?void 0:i.bind(Ce),e[I+1]=null===(a=Ce.error)||void 0===a?void 0:a.bind(Ce),e[I+2]=null===(c=Ce.complete)||void 0===c?void 0:c.bind(Ce)}let j,q,ge;if(s instanceof Oi)q=Fr(s.firestore,Vr),ge=Jn(s._key.path),j={next:Ce=>{e[I]&&e[I](Rf(q,s,Ce))},error:e[I+1],complete:e[I+2]};else{const Ce=Fr(s,fo);q=Fr(Ce.firestore,Vr),ge=Ce._query;const et=new bc(q);j={next:_t=>{e[I]&&e[I](new Yo(q,et,Ce,_t))},error:e[I+1],complete:e[I+2]},dy(s._query)}return function(Ce,et,_t,Dt){const Tn=new Gd(Dt),mr=new Cp(et,Tn,_t);return Ce.asyncQueue.enqueueAndForget((0,w.Z)(function*(){return bp(yield il(Ce),mr)})),()=>{Tn.Jc(),Ce.asyncQueue.enqueueAndForget((0,w.Z)(function*(){return Zh(yield il(Ce),mr)}))}}(qi(q),ge,S,j)}function yg(s,e){return function(s,e){const i=new Gd(e);return s.asyncQueue.enqueueAndForget((0,w.Z)(function*(){return a=yield il(s),c=i,jt(a).Zo.add(c),void c.next();var a,c})),()=>{i.Jc(),s.asyncQueue.enqueueAndForget((0,w.Z)(function*(){return a=yield il(s),c=i,void jt(a).Zo.delete(c);var a,c}))}}(qi(s=Fr(s,Vr)),po(e)?e:{next:e})}function nd(s,e){return function(i,a){const c=new Fi;return i.asyncQueue.enqueueAndForget((0,w.Z)(function*(){return function(s,e,i){return Ja.apply(this,arguments)}(yield Wp(i),a,c)})),c.promise}(qi(s),e)}function Rf(s,e,i){const a=i.docs.get(e._key),c=new bc(s);return new cl(s,c,e._key,a,new wc(i.hasPendingWrites,i.fromCache),e.converter)}class wy extends class{constructor(e,i){this._firestore=e,this._transaction=i,this._dataReader=ul(e)}get(e){const i=Tu(e,this._firestore),a=new lg(this._firestore);return this._transaction.lookup([i._key]).then(c=>{if(!c||1!==c.length)return Jt();const p=c[0];if(p.isFoundDocument())return new th(this._firestore,a,p.key,p,i.converter);if(p.isNoDocument())return new th(this._firestore,a,i._key,null,i.converter);throw Jt()})}set(e,i,a){const c=Tu(e,this._firestore),p=td(c.converter,i,a),I=Xd(this._dataReader,"Transaction.set",c._key,p,null!==c.converter,a);return this._transaction.set(c._key,I),this}update(e,i,a,...c){const p=Tu(e,this._firestore);let I;return I="string"==typeof(i=(0,oe.m9)(i))||i instanceof wu?ay(this._dataReader,"Transaction.update",p._key,i,a,c):Cf(this._dataReader,"Transaction.update",p._key,i),this._transaction.update(p._key,I),this}delete(e){const i=Tu(e,this._firestore);return this._transaction.delete(i._key),this}}{constructor(e,i){super(e,i),this._firestore=e}get(e){const i=Tu(e,this._firestore),a=new bc(this._firestore);return super.get(e).then(c=>new cl(this._firestore,a,i._key,c._document,new wc(!1,!1),i.converter))}}function _g(s,e){return function(s,e){const i=new Fi;return s.asyncQueue.enqueueAndForget((0,w.Z)(function*(){const a=yield(c=s,gf(c).then(p=>p.datastore));var c;new Km(s.asyncQueue,a,e,i).run()})),i.promise}(qi(s=Fr(s,Vr)),i=>e(new wy(s,i)))}function by(){return new eh("deleteField")}function J_(){return new tg("serverTimestamp")}function Ty(...s){return new $_("arrayUnion",s)}function Cy(...s){return new aI("arrayRemove",s)}function vg(s){return new H_("increment",s)}!function(s,e=!0){Ws=L.SDK_VERSION,(0,L._registerComponent)(new z.wA("firestore",(i,{options:a})=>{const c=i.getProvider("app").getImmediate(),p=new Vr(c,new dl(i.getProvider("auth-internal")),new La(i.getProvider("app-check-internal")));return a=Object.assign({useFetchStreams:e},a),p._setSettings(a),p},"PUBLIC")),(0,L.registerVersion)(ds,"3.4.5",s),(0,L.registerVersion)(ds,"3.4.5","esm2017")}()},9870:(Mt,Be,F)=>{"use strict";F.d(Be,{BH:()=>ve,LL:()=>ft,ZR:()=>In,zI:()=>Qt,US:()=>te,tV:()=>Te,$s:()=>Nn,r3:()=>Wt,Sg:()=>Ge,ne:()=>Qn,vZ:()=>Yt,ZB:()=>ne,pd:()=>cr,m9:()=>An,z$:()=>st,jU:()=>Pe,ru:()=>Ne,d:()=>je,xb:()=>Ut,w1:()=>Xe,hl:()=>en,uI:()=>ke,UG:()=>Ke,b$:()=>Ie,G6:()=>zt,Mn:()=>kt,xO:()=>rr,zd:()=>br,eu:()=>rn});const be=function(pe){const ue=[];let we=0;for(let We=0;We<pe.length;We++){let Fe=pe.charCodeAt(We);Fe<128?ue[we++]=Fe:Fe<2048?(ue[we++]=Fe>>6|192,ue[we++]=63&Fe|128):55296==(64512&Fe)&&We+1<pe.length&&56320==(64512&pe.charCodeAt(We+1))?(Fe=65536+((1023&Fe)<<10)+(1023&pe.charCodeAt(++We)),ue[we++]=Fe>>18|240,ue[we++]=Fe>>12&63|128,ue[we++]=Fe>>6&63|128,ue[we++]=63&Fe|128):(ue[we++]=Fe>>12|224,ue[we++]=Fe>>6&63|128,ue[we++]=63&Fe|128)}return ue},te={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(pe,ue){if(!Array.isArray(pe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const we=ue?this.byteToCharMapWebSafe_:this.byteToCharMap_,We=[];for(let Fe=0;Fe<pe.length;Fe+=3){const Me=pe[Fe],H=Fe+1<pe.length,ie=H?pe[Fe+1]:0,Ze=Fe+2<pe.length,mt=Ze?pe[Fe+2]:0;let _n=(15&ie)<<2|mt>>6,jr=63&mt;Ze||(jr=64,H||(_n=64)),We.push(we[Me>>2],we[(3&Me)<<4|ie>>4],we[_n],we[jr])}return We.join("")},encodeString(pe,ue){return this.HAS_NATIVE_SUPPORT&&!ue?btoa(pe):this.encodeByteArray(be(pe),ue)},decodeString(pe,ue){return this.HAS_NATIVE_SUPPORT&&!ue?atob(pe):function(pe){const ue=[];let we=0,We=0;for(;we<pe.length;){const Fe=pe[we++];if(Fe<128)ue[We++]=String.fromCharCode(Fe);else if(Fe>191&&Fe<224){const Me=pe[we++];ue[We++]=String.fromCharCode((31&Fe)<<6|63&Me)}else if(Fe>239&&Fe<365){const Ze=((7&Fe)<<18|(63&pe[we++])<<12|(63&pe[we++])<<6|63&pe[we++])-65536;ue[We++]=String.fromCharCode(55296+(Ze>>10)),ue[We++]=String.fromCharCode(56320+(1023&Ze))}else{const Me=pe[we++],H=pe[we++];ue[We++]=String.fromCharCode((15&Fe)<<12|(63&Me)<<6|63&H)}}return ue.join("")}(this.decodeStringToByteArray(pe,ue))},decodeStringToByteArray(pe,ue){this.init_();const we=ue?this.charToByteMapWebSafe_:this.charToByteMap_,We=[];for(let Fe=0;Fe<pe.length;){const Me=we[pe.charAt(Fe++)],ie=Fe<pe.length?we[pe.charAt(Fe)]:0;++Fe;const mt=Fe<pe.length?we[pe.charAt(Fe)]:64;++Fe;const $t=Fe<pe.length?we[pe.charAt(Fe)]:64;if(++Fe,null==Me||null==ie||null==mt||null==$t)throw Error();We.push(Me<<2|ie>>4),64!==mt&&(We.push(ie<<4&240|mt>>2),64!==$t&&We.push(mt<<6&192|$t))}return We},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let pe=0;pe<this.ENCODED_VALS.length;pe++)this.byteToCharMap_[pe]=this.ENCODED_VALS.charAt(pe),this.charToByteMap_[this.byteToCharMap_[pe]]=pe,this.byteToCharMapWebSafe_[pe]=this.ENCODED_VALS_WEBSAFE.charAt(pe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[pe]]=pe,pe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(pe)]=pe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(pe)]=pe)}}},ee=function(pe){return function(pe){const ue=be(pe);return te.encodeByteArray(ue,!0)}(pe).replace(/\./g,"")},Te=function(pe){try{return te.decodeString(pe,!0)}catch(ue){console.error("base64Decode failed: ",ue)}return null};function ne(pe,ue){if(!(ue instanceof Object))return ue;switch(ue.constructor){case Date:return new Date(ue.getTime());case Object:void 0===pe&&(pe={});break;case Array:pe=[];break;default:return ue}for(const we in ue)!ue.hasOwnProperty(we)||!J(we)||(pe[we]=ne(pe[we],ue[we]));return pe}function J(pe){return"__proto__"!==pe}class ve{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ue,we)=>{this.resolve=ue,this.reject=we})}wrapCallback(ue){return(we,We)=>{we?this.reject(we):this.resolve(We),"function"==typeof ue&&(this.promise.catch(()=>{}),1===ue.length?ue(we):ue(we,We))}}}function Ge(pe,ue){if(pe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const We=ue||"demo-project",Fe=pe.iat||0,Me=pe.sub||pe.user_id;if(!Me)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const H=Object.assign({iss:`https://securetoken.google.com/${We}`,aud:We,iat:Fe,exp:Fe+3600,auth_time:Fe,sub:Me,user_id:Me,firebase:{sign_in_provider:"custom",identities:{}}},pe);return[ee(JSON.stringify({alg:"none",type:"JWT"})),ee(JSON.stringify(H)),""].join(".")}function st(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ke(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(st())}function Ke(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(pe){return!1}}function Pe(){return"object"==typeof self&&self.self===self}function Ne(){const pe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof pe&&void 0!==pe.id}function Ie(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function je(){return st().indexOf("Electron/")>=0}function Xe(){const pe=st();return pe.indexOf("MSIE ")>=0||pe.indexOf("Trident/")>=0}function kt(){return st().indexOf("MSAppHost/")>=0}function zt(){return!Ke()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function en(){return"object"==typeof indexedDB}function rn(){return new Promise((pe,ue)=>{try{let we=!0;const We="validate-browser-context-for-indexeddb-analytics-module",Fe=self.indexedDB.open(We);Fe.onsuccess=()=>{Fe.result.close(),we||self.indexedDB.deleteDatabase(We),pe(!0)},Fe.onupgradeneeded=()=>{we=!1},Fe.onerror=()=>{var Me;ue((null===(Me=Fe.error)||void 0===Me?void 0:Me.message)||"")}}catch(we){ue(we)}})}function Qt(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class In extends Error{constructor(ue,we,We){super(we),this.code=ue,this.customData=We,this.name="FirebaseError",Object.setPrototypeOf(this,In.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ft.prototype.create)}}class ft{constructor(ue,we,We){this.service=ue,this.serviceName=we,this.errors=We}create(ue,...we){const We=we[0]||{},Fe=`${this.service}/${ue}`,Me=this.errors[ue],H=Me?function(pe,ue){return pe.replace(Zn,(we,We)=>{const Fe=ue[We];return null!=Fe?String(Fe):`<${We}?>`})}(Me,We):"Error";return new In(Fe,`${this.serviceName}: ${H} (${Fe}).`,We)}}const Zn=/\{\$([^}]+)}/g;function Wt(pe,ue){return Object.prototype.hasOwnProperty.call(pe,ue)}function Ut(pe){for(const ue in pe)if(Object.prototype.hasOwnProperty.call(pe,ue))return!1;return!0}function Yt(pe,ue){if(pe===ue)return!0;const we=Object.keys(pe),We=Object.keys(ue);for(const Fe of we){if(!We.includes(Fe))return!1;const Me=pe[Fe],H=ue[Fe];if(mn(Me)&&mn(H)){if(!Yt(Me,H))return!1}else if(Me!==H)return!1}for(const Fe of We)if(!we.includes(Fe))return!1;return!0}function mn(pe){return null!==pe&&"object"==typeof pe}function rr(pe){const ue=[];for(const[we,We]of Object.entries(pe))Array.isArray(We)?We.forEach(Fe=>{ue.push(encodeURIComponent(we)+"="+encodeURIComponent(Fe))}):ue.push(encodeURIComponent(we)+"="+encodeURIComponent(We));return ue.length?"&"+ue.join("&"):""}function br(pe){const ue={};return pe.replace(/^\?/,"").split("&").forEach(We=>{if(We){const[Fe,Me]=We.split("=");ue[decodeURIComponent(Fe)]=decodeURIComponent(Me)}}),ue}function cr(pe){const ue=pe.indexOf("?");if(!ue)return"";const we=pe.indexOf("#",ue);return pe.substring(ue,we>0?we:void 0)}function Qn(pe,ue){const we=new Yn(pe,ue);return we.subscribe.bind(we)}class Yn{constructor(ue,we){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=we,this.task.then(()=>{ue(this)}).catch(We=>{this.error(We)})}next(ue){this.forEachObserver(we=>{we.next(ue)})}error(ue){this.forEachObserver(we=>{we.error(ue)}),this.close(ue)}complete(){this.forEachObserver(ue=>{ue.complete()}),this.close()}subscribe(ue,we,We){let Fe;if(void 0===ue&&void 0===we&&void 0===We)throw new Error("Missing Observer.");Fe=function(pe,ue){if("object"!=typeof pe||null===pe)return!1;for(const we of["next","error","complete"])if(we in pe&&"function"==typeof pe[we])return!0;return!1}(ue)?ue:{next:ue,error:we,complete:We},void 0===Fe.next&&(Fe.next=_r),void 0===Fe.error&&(Fe.error=_r),void 0===Fe.complete&&(Fe.complete=_r);const Me=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Fe.error(this.finalError):Fe.complete()}catch(H){}}),this.observers.push(Fe),Me}unsubscribeOne(ue){void 0===this.observers||void 0===this.observers[ue]||(delete this.observers[ue],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ue){if(!this.finalized)for(let we=0;we<this.observers.length;we++)this.sendOne(we,ue)}sendOne(ue,we){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ue])try{we(this.observers[ue])}catch(We){"undefined"!=typeof console&&console.error&&console.error(We)}})}close(ue){this.finalized||(this.finalized=!0,void 0!==ue&&(this.finalError=ue),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _r(){}function Nn(pe,ue=1e3,we=2){const We=ue*Math.pow(we,pe),Fe=Math.round(.5*We*(Math.random()-.5)*2);return Math.min(144e5,We+Fe)}function An(pe){return pe&&pe._delegate?pe._delegate:pe}},1665:(Mt,Be,F)=>{"use strict";F.d(Be,{Mq:()=>w.getApp,C6:()=>w.getApps});var w=F(4762);(0,w.registerVersion)("firebase","9.6.7","app")},2837:(Mt,Be,F)=>{"use strict";F.d(Be,{Z:()=>w.Z});var w=F(6043);w.Z.registerVersion("firebase","9.6.7","app-compat")},2136:(Mt,Be,F)=>{"use strict";F.r(Be);var w=F(1921),L=F(6043),z=F(9870),be=F(4762);function ee(g,d){var h={};for(var v in g)Object.prototype.hasOwnProperty.call(g,v)&&d.indexOf(v)<0&&(h[v]=g[v]);if(null!=g&&"function"==typeof Object.getOwnPropertySymbols){var O=0;for(v=Object.getOwnPropertySymbols(g);O<v.length;O++)d.indexOf(v[O])<0&&Object.prototype.propertyIsEnumerable.call(g,v[O])&&(h[v[O]]=g[v[O]])}return h}var In=F(1773),ft=F(3552);const Cn=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Bt=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Wt=new z.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ut=new In.Yd("@firebase/auth");function Dn(g,...d){Ut.logLevel<=In.in.ERROR&&Ut.error(`Auth (${be.SDK_VERSION}): ${g}`,...d)}function Yt(g,...d){throw cr(g,...d)}function mn(g,...d){return cr(g,...d)}function rr(g,d,h){const v=Object.assign(Object.assign({},Bt()),{[d]:h});return new z.LL("auth","Firebase",v).create(d,{appName:g.name})}function br(g,d,h){if(!(d instanceof h))throw h.name!==d.constructor.name&&Yt(g,"argument-error"),rr(g,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function cr(g,...d){if("string"!=typeof g){const h=d[0],v=[...d.slice(1)];return v[0]&&(v[0].appName=g.name),g._errorFactory.create(h,...v)}return Wt.create(g,...d)}function ct(g,d,...h){if(!g)throw cr(d,...h)}function Qn(g){const d="INTERNAL ASSERTION FAILED: "+g;throw Dn(d),new Error(d)}function Yn(g,d){g||Qn(d)}const Nt=new Map;function Sn(g){Yn(g instanceof Function,"Expected a class definition");let d=Nt.get(g);return d?(Yn(d instanceof g,"Instance stored in cache mismatched with class"),d):(d=new g,Nt.set(g,d),d)}function Le(){var g;return"undefined"!=typeof self&&(null===(g=self.location)||void 0===g?void 0:g.href)||""}function ae(){return"http:"===de()||"https:"===de()}function de(){var g;return"undefined"!=typeof self&&(null===(g=self.location)||void 0===g?void 0:g.protocol)||null}class bt{constructor(d,h){this.shortDelay=d,this.longDelay=h,Yn(h>d,"Short delay should be less than long delay!"),this.isMobile=(0,z.uI)()||(0,z.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ae()||(0,z.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function at(g,d){Yn(g.emulator,"Emulator should always be set here");const{url:h}=g.emulator;return d?`${h}${d.startsWith("/")?d.slice(1):d}`:h}class Rt{static initialize(d,h,v){this.fetchImpl=d,h&&(this.headersImpl=h),v&&(this.responseImpl=v)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Qn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Qn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Qn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const yn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Xn=new bt(3e4,6e4);function Nn(g,d){return g.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:g.tenantId}):d}function an(g,d,h,v){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,w.Z)(function*(g,d,h,v,O={}){return An(g,O,(0,w.Z)(function*(){let $={},_e={};v&&("GET"===d?_e=v:$={body:JSON.stringify(v)});const Ye=(0,z.xO)(Object.assign({key:g.config.apiKey},_e)).slice(1),Pt=yield g._getAdditionalHeaders();return Pt["Content-Type"]="application/json",g.languageCode&&(Pt["X-Firebase-Locale"]=g.languageCode),Rt.fetch()(We(g,g.config.apiHost,h,Ye),Object.assign({method:d,headers:Pt,referrerPolicy:"no-referrer"},$))}))})).apply(this,arguments)}function An(g,d,h){return pe.apply(this,arguments)}function pe(){return(pe=(0,w.Z)(function*(g,d,h){g._canInitEmulator=!1;const v=Object.assign(Object.assign({},yn),d);try{const O=new Fe(g),$=yield Promise.race([h(),O.promise]);O.clearNetworkTimeout();const _e=yield $.json();if("needConfirmation"in _e)throw Me(g,"account-exists-with-different-credential",_e);if($.ok&&!("errorMessage"in _e))return _e;{const Ye=$.ok?_e.errorMessage:_e.error.message,[Pt,Ct]=Ye.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Pt)throw Me(g,"credential-already-in-use",_e);if("EMAIL_EXISTS"===Pt)throw Me(g,"email-already-in-use",_e);const nn=v[Pt]||Pt.toLowerCase().replace(/[_\s]+/g,"-");if(Ct)throw rr(g,nn,Ct);Yt(g,nn)}}catch(O){if(O instanceof z.ZR)throw O;Yt(g,"network-request-failed")}})).apply(this,arguments)}function ue(g,d,h,v){return we.apply(this,arguments)}function we(){return(we=(0,w.Z)(function*(g,d,h,v,O={}){const $=yield an(g,d,h,v,O);return"mfaPendingCredential"in $&&Yt(g,"multi-factor-auth-required",{_serverResponse:$}),$})).apply(this,arguments)}function We(g,d,h,v){const O=`${d}${h}?${v}`;return g.config.emulator?at(g.config,O):`${g.config.apiScheme}://${O}`}class Fe{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((h,v)=>{this.timer=setTimeout(()=>v(mn(this.auth,"network-request-failed")),Xn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Me(g,d,h){const v={appName:g.name};h.email&&(v.email=h.email),h.phoneNumber&&(v.phoneNumber=h.phoneNumber);const O=mn(g,d,v);return O.customData._tokenResponse=h,O}function ie(){return(ie=(0,w.Z)(function*(g,d){return an(g,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function Ze(g,d){return mt.apply(this,arguments)}function mt(){return(mt=(0,w.Z)(function*(g,d){return an(g,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function fn(g,d){return $t.apply(this,arguments)}function $t(){return($t=(0,w.Z)(function*(g,d){return an(g,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function _n(g){if(g)try{const d=new Date(Number(g));if(!isNaN(d.getTime()))return d.toUTCString()}catch(d){}}function xr(){return(xr=(0,w.Z)(function*(g,d=!1){const h=(0,z.m9)(g),v=yield h.getIdToken(d),O=gi(v);ct(O&&O.exp&&O.auth_time&&O.iat,h.auth,"internal-error");const $="object"==typeof O.firebase?O.firebase:void 0,_e=null==$?void 0:$.sign_in_provider;return{claims:O,token:v,authTime:_n(Un(O.auth_time)),issuedAtTime:_n(Un(O.iat)),expirationTime:_n(Un(O.exp)),signInProvider:_e||null,signInSecondFactor:(null==$?void 0:$.sign_in_second_factor)||null}})).apply(this,arguments)}function Un(g){return 1e3*Number(g)}function gi(g){const[d,h,v]=g.split(".");if(void 0===d||void 0===h||void 0===v)return Dn("JWT malformed, contained fewer than 3 sections"),null;try{const O=(0,z.tV)(h);return O?JSON.parse(O):(Dn("Failed to decode base64 JWT payload"),null)}catch(O){return Dn("Caught error parsing JWT payload as JSON",O),null}}function zr(g,d){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,w.Z)(function*(g,d,h=!1){if(h)return d;try{return yield d}catch(v){throw v instanceof z.ZR&&fr(v)&&g.auth.currentUser===g&&(yield g.auth.signOut()),v}})).apply(this,arguments)}function fr({code:g}){return"auth/user-disabled"===g||"auth/user-token-expired"===g}class mi{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var h;if(d){const v=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),v}{this.errorBackoff=3e4;const O=(null!==(h=this.user.stsTokenManager.expirationTime)&&void 0!==h?h:0)-Date.now()-3e5;return Math.max(0,O)}}schedule(d=!1){var h=this;if(!this.isRunning)return;const v=this.getInterval(d);this.timerId=setTimeout((0,w.Z)(function*(){yield h.iteration()}),v)}iteration(){var d=this;return(0,w.Z)(function*(){try{yield d.user.getIdToken(!0)}catch(h){return void("auth/network-request-failed"===h.code&&d.schedule(!0))}d.schedule()})()}}class Yr{constructor(d,h){this.createdAt=d,this.lastLoginAt=h,this._initializeTime()}_initializeTime(){this.lastSignInTime=_n(this.lastLoginAt),this.creationTime=_n(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Br(g){return ar.apply(this,arguments)}function ar(){return(ar=(0,w.Z)(function*(g){var d;const h=g.auth,v=yield g.getIdToken(),O=yield zr(g,fn(h,{idToken:v}));ct(null==O?void 0:O.users.length,h,"internal-error");const $=O.users[0];g._notifyReloadListener($);const _e=(null===(d=$.providerUserInfo)||void 0===d?void 0:d.length)?ti($.providerUserInfo):[],Ye=er(g.providerData,_e),nn=!!g.isAnonymous&&!(g.email&&$.passwordHash||(null==Ye?void 0:Ye.length)),on={uid:$.localId,displayName:$.displayName||null,photoURL:$.photoUrl||null,email:$.email||null,emailVerified:$.emailVerified||!1,phoneNumber:$.phoneNumber||null,tenantId:$.tenantId||null,providerData:Ye,metadata:new Yr($.createdAt,$.lastLoginAt),isAnonymous:nn};Object.assign(g,on)})).apply(this,arguments)}function wn(){return(wn=(0,w.Z)(function*(g){const d=(0,z.m9)(g);yield Br(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function er(g,d){return[...g.filter(v=>!d.some(O=>O.providerId===v.providerId)),...d]}function ti(g){return g.map(d=>{var{providerId:h}=d,v=ee(d,["providerId"]);return{providerId:h,uid:v.rawId||"",displayName:v.displayName||null,email:v.email||null,phoneNumber:v.phoneNumber||null,photoURL:v.photoUrl||null}})}function Tr(){return(Tr=(0,w.Z)(function*(g,d){const h=yield An(g,{},(0,w.Z)(function*(){const v=(0,z.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:O,apiKey:$}=g.config,_e=We(g,O,"/v1/token",`key=${$}`),Ye=yield g._getAdditionalHeaders();return Ye["Content-Type"]="application/x-www-form-urlencoded",Rt.fetch()(_e,{method:"POST",headers:Ye,body:v})}));return{accessToken:h.access_token,expiresIn:h.expires_in,refreshToken:h.refresh_token}})).apply(this,arguments)}class si{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){ct(d.idToken,"internal-error"),ct(void 0!==d.idToken,"internal-error"),ct(void 0!==d.refreshToken,"internal-error");const h="expiresIn"in d&&void 0!==d.expiresIn?Number(d.expiresIn):function(g){const d=gi(g);return ct(d,"internal-error"),ct(void 0!==d.exp,"internal-error"),ct(void 0!==d.iat,"internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,h)}getToken(d,h=!1){var v=this;return(0,w.Z)(function*(){return ct(!v.accessToken||v.refreshToken,d,"user-token-expired"),h||!v.accessToken||v.isExpired?v.refreshToken?(yield v.refresh(d,v.refreshToken),v.accessToken):null:v.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,h){var v=this;return(0,w.Z)(function*(){const{accessToken:O,refreshToken:$,expiresIn:_e}=yield function(g,d){return Tr.apply(this,arguments)}(d,h);v.updateTokensAndExpiration(O,$,Number(_e))})()}updateTokensAndExpiration(d,h,v){this.refreshToken=h||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*v}static fromJSON(d,h){const{refreshToken:v,accessToken:O,expirationTime:$}=h,_e=new si;return v&&(ct("string"==typeof v,"internal-error",{appName:d}),_e.refreshToken=v),O&&(ct("string"==typeof O,"internal-error",{appName:d}),_e.accessToken=O),$&&(ct("number"==typeof $,"internal-error",{appName:d}),_e.expirationTime=$),_e}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new si,this.toJSON())}_performRefresh(){return Qn("not implemented")}}function pr(g,d){ct("string"==typeof g||void 0===g,"internal-error",{appName:d})}class yi{constructor(d){var{uid:h,auth:v,stsTokenManager:O}=d,$=ee(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new mi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=h,this.auth=v,this.stsTokenManager=O,this.accessToken=O.accessToken,this.displayName=$.displayName||null,this.email=$.email||null,this.emailVerified=$.emailVerified||!1,this.phoneNumber=$.phoneNumber||null,this.photoURL=$.photoURL||null,this.isAnonymous=$.isAnonymous||!1,this.tenantId=$.tenantId||null,this.providerData=$.providerData?[...$.providerData]:[],this.metadata=new Yr($.createdAt||void 0,$.lastLoginAt||void 0)}getIdToken(d){var h=this;return(0,w.Z)(function*(){const v=yield zr(h,h.stsTokenManager.getToken(h.auth,d));return ct(v,h.auth,"internal-error"),h.accessToken!==v&&(h.accessToken=v,yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)),v})()}getIdTokenResult(d){return function(g){return xr.apply(this,arguments)}(this,d)}reload(){return function(g){return wn.apply(this,arguments)}(this)}_assign(d){this!==d&&(ct(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(h=>Object.assign({},h)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){return new yi(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(d){ct(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,h=!1){var v=this;return(0,w.Z)(function*(){let O=!1;d.idToken&&d.idToken!==v.stsTokenManager.accessToken&&(v.stsTokenManager.updateFromServerResponse(d),O=!0),h&&(yield Br(v)),yield v.auth._persistUserIfCurrent(v),O&&v.auth._notifyListenersIfCurrent(v)})()}delete(){var d=this;return(0,w.Z)(function*(){const h=yield d.getIdToken();return yield zr(d,function(g,d){return ie.apply(this,arguments)}(d.auth,{idToken:h})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,h){var v,O,$,_e,Ye,Pt,Ct,nn;const on=null!==(v=h.displayName)&&void 0!==v?v:void 0,gr=null!==(O=h.email)&&void 0!==O?O:void 0,Vs=null!==($=h.phoneNumber)&&void 0!==$?$:void 0,wa=null!==(_e=h.photoURL)&&void 0!==_e?_e:void 0,Ol=null!==(Ye=h.tenantId)&&void 0!==Ye?Ye:void 0,Sd=null!==(Pt=h._redirectEventId)&&void 0!==Pt?Pt:void 0,Rh=null!==(Ct=h.createdAt)&&void 0!==Ct?Ct:void 0,Ad=null!==(nn=h.lastLoginAt)&&void 0!==nn?nn:void 0,{uid:Wc,emailVerified:Ml,isAnonymous:kl,providerData:zc,stsTokenManager:Gc}=h;ct(Wc&&Gc,d,"internal-error");const Rd=si.fromJSON(this.name,Gc);ct("string"==typeof Wc,d,"internal-error"),pr(on,d.name),pr(gr,d.name),ct("boolean"==typeof Ml,d,"internal-error"),ct("boolean"==typeof kl,d,"internal-error"),pr(Vs,d.name),pr(wa,d.name),pr(Ol,d.name),pr(Sd,d.name),pr(Rh,d.name),pr(Ad,d.name);const Ll=new yi({uid:Wc,auth:d,email:gr,emailVerified:Ml,displayName:on,isAnonymous:kl,photoURL:wa,phoneNumber:Vs,tenantId:Ol,stsTokenManager:Rd,createdAt:Rh,lastLoginAt:Ad});return zc&&Array.isArray(zc)&&(Ll.providerData=zc.map(Fl=>Object.assign({},Fl))),Sd&&(Ll._redirectEventId=Sd),Ll}static _fromIdTokenResponse(d,h,v=!1){return(0,w.Z)(function*(){const O=new si;O.updateFromServerResponse(h);const $=new yi({uid:h.localId,auth:d,stsTokenManager:O,isAnonymous:v});return yield Br($),$})()}}const dn=(()=>{class g{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,w.Z)(function*(){return!0})()}_set(h,v){var O=this;return(0,w.Z)(function*(){O.storage[h]=v})()}_get(h){var v=this;return(0,w.Z)(function*(){const O=v.storage[h];return void 0===O?null:O})()}_remove(h){var v=this;return(0,w.Z)(function*(){delete v.storage[h]})()}_addListener(h,v){}_removeListener(h,v){}}return g.type="NONE",g})();function Oe(g,d,h){return`firebase:${g}:${d}:${h}`}class Ee{constructor(d,h,v){this.persistence=d,this.auth=h,this.userKey=v;const{config:O,name:$}=this.auth;this.fullUserKey=Oe(this.userKey,O.apiKey,$),this.fullPersistenceKey=Oe("persistence",O.apiKey,$),this.boundEventHandler=h._onStorageEvent.bind(h),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,w.Z)(function*(){const h=yield d.persistence._get(d.fullUserKey);return h?yi._fromJSON(d.auth,h):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var h=this;return(0,w.Z)(function*(){if(h.persistence===d)return;const v=yield h.getCurrentUser();return yield h.removeCurrentUser(),h.persistence=d,v?h.setCurrentUser(v):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,h,v="authUser"){return(0,w.Z)(function*(){if(!h.length)return new Ee(Sn(dn),d,v);const O=(yield Promise.all(h.map(function(){var Ct=(0,w.Z)(function*(nn){if(yield nn._isAvailable())return nn});return function(nn){return Ct.apply(this,arguments)}}()))).filter(Ct=>Ct);let $=O[0]||Sn(dn);const _e=Oe(v,d.config.apiKey,d.name);let Ye=null;for(const Ct of h)try{const nn=yield Ct._get(_e);if(nn){const on=yi._fromJSON(d,nn);Ct!==$&&(Ye=on),$=Ct;break}}catch(nn){}const Pt=O.filter(Ct=>Ct._shouldAllowMigration);return $._shouldAllowMigration&&Pt.length?($=Pt[0],Ye&&(yield $._set(_e,Ye.toJSON())),yield Promise.all(h.map(function(){var Ct=(0,w.Z)(function*(nn){if(nn!==$)try{yield nn._remove(_e)}catch(on){}});return function(nn){return Ct.apply(this,arguments)}}())),new Ee($,d,v)):new Ee($,d,v)})()}}function se(g){const d=g.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(bn(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(He(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(ln(d))return"Blackberry";if(es(d))return"Webos";if(it(d))return"Safari";if((d.includes("chrome/")||un(d))&&!d.includes("edge/"))return"Chrome";if(Hn(d))return"Android";{const v=g.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==v?void 0:v.length))return v[1]}return"Other"}function He(g=(0,z.z$)()){return/firefox\//i.test(g)}function it(g=(0,z.z$)()){const d=g.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function un(g=(0,z.z$)()){return/crios\//i.test(g)}function bn(g=(0,z.z$)()){return/iemobile/i.test(g)}function Hn(g=(0,z.z$)()){return/android/i.test(g)}function ln(g=(0,z.z$)()){return/blackberry/i.test(g)}function es(g=(0,z.z$)()){return/webos/i.test(g)}function Pr(g=(0,z.z$)()){return/iphone|ipad|ipod/i.test(g)}function us(g=(0,z.z$)()){return Pr(g)||Hn(g)||es(g)||ln(g)||/windows phone/i.test(g)||bn(g)}function Gr(g,d=[]){let h;switch(g){case"Browser":h=se((0,z.z$)());break;case"Worker":h=`${se((0,z.z$)())}-${g}`;break;default:h=g}const v=d.length?d.join(","):"FirebaseCore-web";return`${h}/JsCore/${be.SDK_VERSION}/${v}`}class Ao{constructor(d,h){this.app=d,this.config=h,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vr(this),this.idTokenSubscription=new vr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Wt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=h.sdkClientVersion}_initializeWithPersistence(d,h){var v=this;return h&&(this._popupRedirectResolver=Sn(h)),this._initializationPromise=this.queue((0,w.Z)(function*(){var O,$;if(!v._deleted&&(v.persistenceManager=yield Ee.create(v,d),!v._deleted)){if(null===(O=v._popupRedirectResolver)||void 0===O?void 0:O._shouldInitProactively)try{yield v._popupRedirectResolver._initialize(v)}catch(_e){}yield v.initializeCurrentUser(h),v.lastNotifiedUid=(null===($=v.currentUser)||void 0===$?void 0:$.uid)||null,!v._deleted&&(v._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,w.Z)(function*(){if(d._deleted)return;const h=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||h){if(d.currentUser&&h&&d.currentUser.uid===h.uid)return d._currentUser._assign(h),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(h)}})()}initializeCurrentUser(d){var h=this;return(0,w.Z)(function*(){var v;let O=yield h.assertedPersistence.getCurrentUser();if(d&&h.config.authDomain){yield h.getOrInitRedirectPersistenceManager();const $=null===(v=h.redirectUser)||void 0===v?void 0:v._redirectEventId,_e=null==O?void 0:O._redirectEventId,Ye=yield h.tryRedirectSignIn(d);(!$||$===_e)&&(null==Ye?void 0:Ye.user)&&(O=Ye.user)}return O?O._redirectEventId?(ct(h._popupRedirectResolver,h,"argument-error"),yield h.getOrInitRedirectPersistenceManager(),h.redirectUser&&h.redirectUser._redirectEventId===O._redirectEventId?h.directlySetCurrentUser(O):h.reloadAndSetCurrentUserOrClear(O)):h.reloadAndSetCurrentUserOrClear(O):h.directlySetCurrentUser(null)})()}tryRedirectSignIn(d){var h=this;return(0,w.Z)(function*(){let v=null;try{v=yield h._popupRedirectResolver._completeRedirectFn(h,d,!0)}catch(O){yield h._setRedirectUser(null)}return v})()}reloadAndSetCurrentUserOrClear(d){var h=this;return(0,w.Z)(function*(){try{yield Br(d)}catch(v){if("auth/network-request-failed"!==v.code)return h.directlySetCurrentUser(null)}return h.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const g=navigator;return g.languages&&g.languages[0]||g.language||null}()}_delete(){var d=this;return(0,w.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var h=this;return(0,w.Z)(function*(){const v=d?(0,z.m9)(d):null;return v&&ct(v.auth.config.apiKey===h.config.apiKey,h,"invalid-user-token"),h._updateCurrentUser(v&&v._clone(h))})()}_updateCurrentUser(d){var h=this;return(0,w.Z)(function*(){if(!h._deleted)return d&&ct(h.tenantId===d.tenantId,h,"tenant-id-mismatch"),h.queue((0,w.Z)(function*(){yield h.directlySetCurrentUser(d),h.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,w.Z)(function*(){return(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null)})()}setPersistence(d){var h=this;return this.queue((0,w.Z)(function*(){yield h.assertedPersistence.setPersistence(Sn(d))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new z.LL("auth","Firebase",d())}onAuthStateChanged(d,h,v){return this.registerStateListener(this.authStateSubscription,d,h,v)}onIdTokenChanged(d,h,v){return this.registerStateListener(this.idTokenSubscription,d,h,v)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,h){var v=this;return(0,w.Z)(function*(){const O=yield v.getOrInitRedirectPersistenceManager(h);return null===d?O.removeCurrentUser():O.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var h=this;return(0,w.Z)(function*(){if(!h.redirectPersistenceManager){const v=d&&Sn(d)||h._popupRedirectResolver;ct(v,h,"argument-error"),h.redirectPersistenceManager=yield Ee.create(h,[Sn(v._redirectPersistence)],"redirectUser"),h.redirectUser=yield h.redirectPersistenceManager.getCurrentUser()}return h.redirectPersistenceManager})()}_redirectUserForId(d){var h=this;return(0,w.Z)(function*(){var v,O;return h._isInitialized&&(yield h.queue((0,w.Z)(function*(){}))),(null===(v=h._currentUser)||void 0===v?void 0:v._redirectEventId)===d?h._currentUser:(null===(O=h.redirectUser)||void 0===O?void 0:O._redirectEventId)===d?h.redirectUser:null})()}_persistUserIfCurrent(d){var h=this;return(0,w.Z)(function*(){if(d===h.currentUser)return h.queue((0,w.Z)(function*(){return h.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,h;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const v=null!==(h=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==h?h:null;this.lastNotifiedUid!==v&&(this.lastNotifiedUid=v,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,h,v,O){if(this._deleted)return()=>{};const $="function"==typeof h?h:h.next.bind(h),_e=this._isInitialized?Promise.resolve():this._initializationPromise;return ct(_e,this,"internal-error"),_e.then(()=>$(this.currentUser)),"function"==typeof h?d.addObserver(h,v,O):d.addObserver(h)}directlySetCurrentUser(d){var h=this;return(0,w.Z)(function*(){h.currentUser&&h.currentUser!==d&&(h._currentUser._stopProactiveRefresh(),d&&h.isProactiveRefreshEnabled&&d._startProactiveRefresh()),h.currentUser=d,d?yield h.assertedPersistence.setCurrentUser(d):yield h.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return ct(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=Gr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,w.Z)(function*(){const h={"X-Client-Version":d.clientVersion};return d.app.options.appId&&(h["X-Firebase-gmpid"]=d.app.options.appId),h})()}}function lr(g){return(0,z.m9)(g)}class vr{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,z.ne)(h=>this.observer=h)}get next(){return ct(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Bi(g){const d=g.indexOf(":");return d<0?"":g.substr(0,d+1)}function oi(g){if(!g)return null;const d=Number(g);return isNaN(d)?null:d}class to{constructor(d,h){this.providerId=d,this.signInMethod=h}toJSON(){return Qn("not implemented")}_getIdTokenResponse(d){return Qn("not implemented")}_linkToIdToken(d,h){return Qn("not implemented")}_getReauthenticationResolver(d){return Qn("not implemented")}}function Bo(g,d){return Re.apply(this,arguments)}function Re(){return(Re=(0,w.Z)(function*(g,d){return an(g,"POST","/v1/accounts:resetPassword",Nn(g,d))})).apply(this,arguments)}function Se(g,d){return qe.apply(this,arguments)}function qe(){return(qe=(0,w.Z)(function*(g,d){return an(g,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function ht(g,d){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,w.Z)(function*(g,d){return an(g,"POST","/v1/accounts:update",Nn(g,d))})).apply(this,arguments)}function ir(){return(ir=(0,w.Z)(function*(g,d){return ue(g,"POST","/v1/accounts:signInWithPassword",Nn(g,d))})).apply(this,arguments)}function qr(g,d){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,w.Z)(function*(g,d){return an(g,"POST","/v1/accounts:sendOobCode",Nn(g,d))})).apply(this,arguments)}function bi(g,d){return fs.apply(this,arguments)}function fs(){return(fs=(0,w.Z)(function*(g,d){return qr(g,d)})).apply(this,arguments)}function go(g,d){return $o.apply(this,arguments)}function $o(){return($o=(0,w.Z)(function*(g,d){return qr(g,d)})).apply(this,arguments)}function Xo(g,d){return ps.apply(this,arguments)}function ps(){return(ps=(0,w.Z)(function*(g,d){return qr(g,d)})).apply(this,arguments)}function Hs(g,d){return ns.apply(this,arguments)}function ns(){return(ns=(0,w.Z)(function*(g,d){return qr(g,d)})).apply(this,arguments)}function yo(){return(yo=(0,w.Z)(function*(g,d){return ue(g,"POST","/v1/accounts:signInWithEmailLink",Nn(g,d))})).apply(this,arguments)}function ai(){return(ai=(0,w.Z)(function*(g,d){return ue(g,"POST","/v1/accounts:signInWithEmailLink",Nn(g,d))})).apply(this,arguments)}class Rs extends to{constructor(d,h,v,O=null){super("password",v),this._email=d,this._password=h,this._tenantId=O}static _fromEmailAndPassword(d,h){return new Rs(d,h,"password")}static _fromEmailAndCode(d,h,v=null){return new Rs(d,h,"emailLink",v)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const h="string"==typeof d?JSON.parse(d):d;if((null==h?void 0:h.email)&&(null==h?void 0:h.password)){if("password"===h.signInMethod)return this._fromEmailAndPassword(h.email,h.password);if("emailLink"===h.signInMethod)return this._fromEmailAndCode(h.email,h.password,h.tenantId)}return null}_getIdTokenResponse(d){var h=this;return(0,w.Z)(function*(){switch(h.signInMethod){case"password":return function(g,d){return ir.apply(this,arguments)}(d,{returnSecureToken:!0,email:h._email,password:h._password});case"emailLink":return function(g,d){return yo.apply(this,arguments)}(d,{email:h._email,oobCode:h._password});default:Yt(d,"internal-error")}})()}_linkToIdToken(d,h){var v=this;return(0,w.Z)(function*(){switch(v.signInMethod){case"password":return Se(d,{idToken:h,returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function(g,d){return ai.apply(this,arguments)}(d,{idToken:h,email:v._email,oobCode:v._password});default:Yt(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function Ti(g,d){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,w.Z)(function*(g,d){return ue(g,"POST","/v1/accounts:signInWithIdp",Nn(g,d))})).apply(this,arguments)}class kn extends to{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const h=new kn(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(h.idToken=d.idToken),d.accessToken&&(h.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(h.nonce=d.nonce),d.pendingToken&&(h.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(h.accessToken=d.oauthToken,h.secret=d.oauthTokenSecret):Yt("argument-error"),h}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const h="string"==typeof d?JSON.parse(d):d,{providerId:v,signInMethod:O}=h,$=ee(h,["providerId","signInMethod"]);if(!v||!O)return null;const _e=new kn(v,O);return _e.idToken=$.idToken||void 0,_e.accessToken=$.accessToken||void 0,_e.secret=$.secret,_e.nonce=$.nonce,_e.pendingToken=$.pendingToken||null,_e}_getIdTokenResponse(d){return Ti(d,this.buildRequest())}_linkToIdToken(d,h){const v=this.buildRequest();return v.idToken=h,Ti(d,v)}_getReauthenticationResolver(d){const h=this.buildRequest();return h.autoCreate=!1,Ti(d,h)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const h={};this.idToken&&(h.id_token=this.idToken),this.accessToken&&(h.access_token=this.accessToken),this.secret&&(h.oauth_token_secret=this.secret),h.providerId=this.providerId,this.nonce&&!this.pendingToken&&(h.nonce=this.nonce),d.postBody=(0,z.xO)(h)}return d}}function rs(g,d){return ea.apply(this,arguments)}function ea(){return(ea=(0,w.Z)(function*(g,d){return an(g,"POST","/v1/accounts:sendVerificationCode",Nn(g,d))})).apply(this,arguments)}function xs(){return(xs=(0,w.Z)(function*(g,d){return ue(g,"POST","/v1/accounts:signInWithPhoneNumber",Nn(g,d))})).apply(this,arguments)}function ri(){return(ri=(0,w.Z)(function*(g,d){const h=yield ue(g,"POST","/v1/accounts:signInWithPhoneNumber",Nn(g,d));if(h.temporaryProof)throw Me(g,"account-exists-with-different-credential",h);return h})).apply(this,arguments)}const ro={USER_NOT_FOUND:"user-not-found"};function Ro(){return(Ro=(0,w.Z)(function*(g,d){return ue(g,"POST","/v1/accounts:signInWithPhoneNumber",Nn(g,Object.assign(Object.assign({},d),{operation:"REAUTH"})),ro)})).apply(this,arguments)}class _o extends to{constructor(d){super("phone","phone"),this.params=d}static _fromVerification(d,h){return new _o({verificationId:d,verificationCode:h})}static _fromTokenResponse(d,h){return new _o({phoneNumber:d,temporaryProof:h})}_getIdTokenResponse(d){return function(g,d){return xs.apply(this,arguments)}(d,this._makeVerificationRequest())}_linkToIdToken(d,h){return function(g,d){return ri.apply(this,arguments)}(d,Object.assign({idToken:h},this._makeVerificationRequest()))}_getReauthenticationResolver(d){return function(g,d){return Ro.apply(this,arguments)}(d,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:d,phoneNumber:h,verificationId:v,verificationCode:O}=this.params;return d&&h?{temporaryProof:d,phoneNumber:h}:{sessionInfo:v,code:O}}toJSON(){const d={providerId:this.providerId};return this.params.phoneNumber&&(d.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(d.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(d.verificationCode=this.params.verificationCode),this.params.verificationId&&(d.verificationId=this.params.verificationId),d}static fromJSON(d){"string"==typeof d&&(d=JSON.parse(d));const{verificationId:h,verificationCode:v,phoneNumber:O,temporaryProof:$}=d;return v||h||O||$?new _o({verificationId:h,verificationCode:v,phoneNumber:O,temporaryProof:$}):null}}class N{constructor(d){var h,v,O,$,_e,Ye;const Pt=(0,z.zd)((0,z.pd)(d)),Ct=null!==(h=Pt.apiKey)&&void 0!==h?h:null,nn=null!==(v=Pt.oobCode)&&void 0!==v?v:null,on=function(g){switch(g){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(O=Pt.mode)&&void 0!==O?O:null);ct(Ct&&nn&&on,"argument-error"),this.apiKey=Ct,this.operation=on,this.code=nn,this.continueUrl=null!==($=Pt.continueUrl)&&void 0!==$?$:null,this.languageCode=null!==(_e=Pt.languageCode)&&void 0!==_e?_e:null,this.tenantId=null!==(Ye=Pt.tenantId)&&void 0!==Ye?Ye:null}static parseLink(d){const h=function(g){const d=(0,z.zd)((0,z.pd)(g)).link,h=d?(0,z.zd)((0,z.pd)(d)).deep_link_id:null,v=(0,z.zd)((0,z.pd)(g)).deep_link_id;return(v?(0,z.zd)((0,z.pd)(v)).link:null)||v||h||d||g}(d);try{return new N(h)}catch(v){return null}}}let P=(()=>{class g{constructor(){this.providerId=g.PROVIDER_ID}static credential(h,v){return Rs._fromEmailAndPassword(h,v)}static credentialWithLink(h,v){const O=N.parseLink(v);return ct(O,"argument-error"),Rs._fromEmailAndCode(h,O.code,O.tenantId)}}return g.PROVIDER_ID="password",g.EMAIL_PASSWORD_SIGN_IN_METHOD="password",g.EMAIL_LINK_SIGN_IN_METHOD="emailLink",g})();class Z{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class fe extends Z{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class rt extends fe{static credentialFromJSON(d){const h="string"==typeof d?JSON.parse(d):d;return ct("providerId"in h&&"signInMethod"in h,"argument-error"),kn._fromParams(h)}credential(d){return this._credential(Object.assign(Object.assign({},d),{nonce:d.rawNonce}))}_credential(d){return ct(d.idToken||d.accessToken,"argument-error"),kn._fromParams(Object.assign(Object.assign({},d),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(d){return rt.oauthCredentialFromTaggedObject(d)}static credentialFromError(d){return rt.oauthCredentialFromTaggedObject(d.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:h,oauthAccessToken:v,oauthTokenSecret:O,pendingToken:$,nonce:_e,providerId:Ye}=d;if(!v&&!O&&!h&&!$||!Ye)return null;try{return new rt(Ye)._credential({idToken:h,accessToken:v,nonce:_e,pendingToken:$})}catch(Pt){return null}}}let yt=(()=>{class g extends fe{constructor(){super("facebook.com")}static credential(h){return kn._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.FACEBOOK_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return g.credentialFromTaggedObject(h)}static credentialFromError(h){return g.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return g.credential(h.oauthAccessToken)}catch(v){return null}}}return g.FACEBOOK_SIGN_IN_METHOD="facebook.com",g.PROVIDER_ID="facebook.com",g})(),tn=(()=>{class g extends fe{constructor(){super("google.com"),this.addScope("profile")}static credential(h,v){return kn._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.GOOGLE_SIGN_IN_METHOD,idToken:h,accessToken:v})}static credentialFromResult(h){return g.credentialFromTaggedObject(h)}static credentialFromError(h){return g.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:v,oauthAccessToken:O}=h;if(!v&&!O)return null;try{return g.credential(v,O)}catch($){return null}}}return g.GOOGLE_SIGN_IN_METHOD="google.com",g.PROVIDER_ID="google.com",g})(),Ln=(()=>{class g extends fe{constructor(){super("github.com")}static credential(h){return kn._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.GITHUB_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return g.credentialFromTaggedObject(h)}static credentialFromError(h){return g.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return g.credential(h.oauthAccessToken)}catch(v){return null}}}return g.GITHUB_SIGN_IN_METHOD="github.com",g.PROVIDER_ID="github.com",g})();class dr extends to{constructor(d,h){super(d,d),this.pendingToken=h}_getIdTokenResponse(d){return Ti(d,this.buildRequest())}_linkToIdToken(d,h){const v=this.buildRequest();return v.idToken=h,Ti(d,v)}_getReauthenticationResolver(d){const h=this.buildRequest();return h.autoCreate=!1,Ti(d,h)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(d){const h="string"==typeof d?JSON.parse(d):d,{providerId:v,signInMethod:O,pendingToken:$}=h;return v&&O&&$&&v===O?new dr(v,$):null}static _create(d,h){return new dr(d,h)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class sr extends Z{constructor(d){ct(d.startsWith("saml."),"argument-error"),super(d)}static credentialFromResult(d){return sr.samlCredentialFromTaggedObject(d)}static credentialFromError(d){return sr.samlCredentialFromTaggedObject(d.customData||{})}static credentialFromJSON(d){const h=dr.fromJSON(d);return ct(h,"argument-error"),h}static samlCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{pendingToken:h,providerId:v}=d;if(!h||!v)return null;try{return dr._create(v,h)}catch(O){return null}}}let Er=(()=>{class g extends fe{constructor(){super("twitter.com")}static credential(h,v){return kn._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.TWITTER_SIGN_IN_METHOD,oauthToken:h,oauthTokenSecret:v})}static credentialFromResult(h){return g.credentialFromTaggedObject(h)}static credentialFromError(h){return g.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthAccessToken:v,oauthTokenSecret:O}=h;if(!v||!O)return null;try{return g.credential(v,O)}catch($){return null}}}return g.TWITTER_SIGN_IN_METHOD="twitter.com",g.PROVIDER_ID="twitter.com",g})();function ei(g,d){return ms.apply(this,arguments)}function ms(){return(ms=(0,w.Z)(function*(g,d){return ue(g,"POST","/v1/accounts:signUp",Nn(g,d))})).apply(this,arguments)}class Cr{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,h,v,O=!1){return(0,w.Z)(function*(){const $=yield yi._fromIdTokenResponse(d,v,O),_e=ys(v);return new Cr({user:$,providerId:_e,_tokenResponse:v,operationType:h})})()}static _forOperation(d,h,v){return(0,w.Z)(function*(){yield d._updateTokensIfNecessary(v,!0);const O=ys(v);return new Cr({user:d,providerId:O,_tokenResponse:v,operationType:h})})()}}function ys(g){return g.providerId?g.providerId:"phoneNumber"in g?"phone":null}function vn(){return(vn=(0,w.Z)(function*(g){var d;const h=lr(g);if(yield h._initializationPromise,null===(d=h.currentUser)||void 0===d?void 0:d.isAnonymous)return new Cr({user:h.currentUser,providerId:null,operationType:"signIn"});const v=yield ei(h,{returnSecureToken:!0}),O=yield Cr._fromIdTokenResponse(h,"signIn",v,!0);return yield h._updateCurrentUser(O.user),O})).apply(this,arguments)}class cs extends z.ZR{constructor(d,h,v,O){var $;super(h.code,h.message),this.operationType=v,this.user=O,Object.setPrototypeOf(this,cs.prototype),this.customData={appName:d.name,tenantId:null!==($=d.tenantId)&&void 0!==$?$:void 0,_serverResponse:h.customData._serverResponse,operationType:v}}static _fromErrorAndOperation(d,h,v,O){return new cs(d,h,v,O)}}function xo(g,d,h,v){return("reauthenticate"===d?h._getReauthenticationResolver(g):h._getIdTokenResponse(g)).catch($=>{throw"auth/multi-factor-auth-required"===$.code?cs._fromErrorAndOperation(g,$,d,v):$})}function Ho(g){return new Set(g.map(({providerId:d})=>d).filter(d=>!!d))}function io(){return(io=(0,w.Z)(function*(g,d){const h=(0,z.m9)(g);yield lt(!0,h,d);const{providerUserInfo:v}=yield Ze(h.auth,{idToken:yield h.getIdToken(),deleteProvider:[d]}),O=Ho(v||[]);return h.providerData=h.providerData.filter($=>O.has($.providerId)),O.has("phone")||(h.phoneNumber=null),yield h.auth._persistUserIfCurrent(h),h})).apply(this,arguments)}function No(g,d){return vo.apply(this,arguments)}function vo(){return(vo=(0,w.Z)(function*(g,d,h=!1){const v=yield zr(g,d._linkToIdToken(g.auth,yield g.getIdToken()),h);return Cr._forOperation(g,"link",v)})).apply(this,arguments)}function lt(g,d,h){return $n.apply(this,arguments)}function $n(){return($n=(0,w.Z)(function*(g,d,h){yield Br(d);const O=!1===g?"provider-already-linked":"no-such-provider";ct(Ho(d.providerData).has(h)===g,d.auth,O)})).apply(this,arguments)}function Da(g,d){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,w.Z)(function*(g,d,h=!1){const{auth:v}=g,O="reauthenticate";try{const $=yield zr(g,xo(v,O,d,g),h);ct($.idToken,v,"internal-error");const _e=gi($.idToken);ct(_e,v,"internal-error");const{sub:Ye}=_e;return ct(g.uid===Ye,v,"user-mismatch"),Cr._forOperation(g,O,$)}catch($){throw"auth/user-not-found"===(null==$?void 0:$.code)&&Yt(v,"user-mismatch"),$}})).apply(this,arguments)}function Po(g,d){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,w.Z)(function*(g,d,h=!1){const v="signIn",O=yield xo(g,v,d),$=yield Cr._fromIdTokenResponse(g,v,O);return h||(yield g._updateCurrentUser($.user)),$})).apply(this,arguments)}function vs(g,d){return B.apply(this,arguments)}function B(){return(B=(0,w.Z)(function*(g,d){return Po(lr(g),d)})).apply(this,arguments)}function y(g,d){return _.apply(this,arguments)}function _(){return(_=(0,w.Z)(function*(g,d){const h=(0,z.m9)(g);return yield lt(!1,h,d.providerId),No(h,d)})).apply(this,arguments)}function D(g,d){return U.apply(this,arguments)}function U(){return(U=(0,w.Z)(function*(g,d){return Da((0,z.m9)(g),d)})).apply(this,arguments)}function X(g,d){return le.apply(this,arguments)}function le(){return(le=(0,w.Z)(function*(g,d){return ue(g,"POST","/v1/accounts:signInWithCustomToken",Nn(g,d))})).apply(this,arguments)}function Ve(){return(Ve=(0,w.Z)(function*(g,d){const h=lr(g),v=yield X(h,{token:d,returnSecureToken:!0}),O=yield Cr._fromIdTokenResponse(h,"signIn",v);return yield h._updateCurrentUser(O.user),O})).apply(this,arguments)}class ut{constructor(d,h){this.factorId=d,this.uid=h.mfaEnrollmentId,this.enrollmentTime=new Date(h.enrolledAt).toUTCString(),this.displayName=h.displayName}static _fromServerResponse(d,h){return"phoneInfo"in h?wt._fromServerResponse(d,h):Yt(d,"internal-error")}}class wt extends ut{constructor(d){super("phone",d),this.phoneNumber=d.phoneInfo}static _fromServerResponse(d,h){return new wt(h)}}function qt(g,d,h){var v;ct((null===(v=h.url)||void 0===v?void 0:v.length)>0,g,"invalid-continue-uri"),ct(void 0===h.dynamicLinkDomain||h.dynamicLinkDomain.length>0,g,"invalid-dynamic-link-domain"),d.continueUrl=h.url,d.dynamicLinkDomain=h.dynamicLinkDomain,d.canHandleCodeInApp=h.handleCodeInApp,h.iOS&&(ct(h.iOS.bundleId.length>0,g,"missing-ios-bundle-id"),d.iOSBundleId=h.iOS.bundleId),h.android&&(ct(h.android.packageName.length>0,g,"missing-android-pkg-name"),d.androidInstallApp=h.android.installApp,d.androidMinimumVersionCode=h.android.minimumVersion,d.androidPackageName=h.android.packageName)}function Gn(){return(Gn=(0,w.Z)(function*(g,d,h){const v=(0,z.m9)(g),O={requestType:"PASSWORD_RESET",email:d};h&&qt(v,O,h),yield go(v,O)})).apply(this,arguments)}function Rn(){return(Rn=(0,w.Z)(function*(g,d,h){yield Bo((0,z.m9)(g),{oobCode:d,newPassword:h})})).apply(this,arguments)}function Dr(){return(Dr=(0,w.Z)(function*(g,d){yield ht((0,z.m9)(g),{oobCode:d})})).apply(this,arguments)}function $r(g,d){return _i.apply(this,arguments)}function _i(){return(_i=(0,w.Z)(function*(g,d){const h=(0,z.m9)(g),v=yield Bo(h,{oobCode:d}),O=v.requestType;switch(ct(O,h,"internal-error"),O){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ct(v.newEmail,h,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ct(v.mfaInfo,h,"internal-error");default:ct(v.email,h,"internal-error")}let $=null;return v.mfaInfo&&($=ut._fromServerResponse(lr(h),v.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.newEmail:v.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.email:v.newEmail)||null,multiFactorInfo:$},operation:O}})).apply(this,arguments)}function ls(){return(ls=(0,w.Z)(function*(g,d){const{data:h}=yield $r((0,z.m9)(g),d);return h.email})).apply(this,arguments)}function ci(){return(ci=(0,w.Z)(function*(g,d,h){const v=lr(g),O=yield ei(v,{returnSecureToken:!0,email:d,password:h}),$=yield Cr._fromIdTokenResponse(v,"signIn",O);return yield v._updateCurrentUser($.user),$})).apply(this,arguments)}function ii(){return(ii=(0,w.Z)(function*(g,d,h){const v=(0,z.m9)(g),O={requestType:"EMAIL_SIGNIN",email:d};ct(h.handleCodeInApp,v,"argument-error"),h&&qt(v,O,h),yield Xo(v,O)})).apply(this,arguments)}function Zr(){return(Zr=(0,w.Z)(function*(g,d,h){const v=(0,z.m9)(g),O=P.credentialWithLink(d,h||Le());return ct(O._tenantId===(v.tenantId||null),v,"tenant-id-mismatch"),vs(v,O)})).apply(this,arguments)}function Eo(g,d){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,w.Z)(function*(g,d){return an(g,"POST","/v1/accounts:createAuthUri",Nn(g,d))})).apply(this,arguments)}function gn(){return(gn=(0,w.Z)(function*(g,d){const v={identifier:d,continueUri:ae()?Le():"http://localhost"},{signinMethods:O}=yield Eo((0,z.m9)(g),v);return O||[]})).apply(this,arguments)}function Wn(){return(Wn=(0,w.Z)(function*(g,d){const h=(0,z.m9)(g),O={requestType:"VERIFY_EMAIL",idToken:yield g.getIdToken()};d&&qt(h.auth,O,d);const{email:$}=yield bi(h.auth,O);$!==g.email&&(yield g.reload())})).apply(this,arguments)}function Ms(){return(Ms=(0,w.Z)(function*(g,d,h){const v=(0,z.m9)(g),$={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield g.getIdToken(),newEmail:d};h&&qt(v.auth,$,h);const{email:_e}=yield Hs(v.auth,$);_e!==g.email&&(yield g.reload())})).apply(this,arguments)}function ki(g,d){return Or.apply(this,arguments)}function Or(){return(Or=(0,w.Z)(function*(g,d){return an(g,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Qr(){return(Qr=(0,w.Z)(function*(g,{displayName:d,photoURL:h}){if(void 0===d&&void 0===h)return;const v=(0,z.m9)(g),$={idToken:yield v.getIdToken(),displayName:d,photoUrl:h,returnSecureToken:!0},_e=yield zr(v,ki(v.auth,$));v.displayName=_e.displayName||null,v.photoURL=_e.photoUrl||null;const Ye=v.providerData.find(({providerId:Pt})=>"password"===Pt);Ye&&(Ye.displayName=v.displayName,Ye.photoURL=v.photoURL),yield v._updateTokensIfNecessary(_e)})).apply(this,arguments)}function $i(g,d,h){return ds.apply(this,arguments)}function ds(){return(ds=(0,w.Z)(function*(g,d,h){const{auth:v}=g,$={idToken:yield g.getIdToken(),returnSecureToken:!0};d&&($.email=d),h&&($.password=h);const _e=yield zr(g,Se(v,$));yield g._updateTokensIfNecessary(_e,!0)})).apply(this,arguments)}class Ws{constructor(d,h,v={}){this.isNewUser=d,this.providerId=h,this.profile=v}}class Is extends Ws{constructor(d,h,v,O){super(d,h,v),this.username=O}}class Aa extends Ws{constructor(d,h){super(d,"facebook.com",h)}}class Sc extends Is{constructor(d,h){super(d,"github.com",h,"string"==typeof(null==h?void 0:h.login)?null==h?void 0:h.login:null)}}class St extends Ws{constructor(d,h){super(d,"google.com",h)}}class Li extends Is{constructor(d,h,v){super(d,"twitter.com",h,v)}}function Yi(g){const{user:d,_tokenResponse:h}=g;return d.isAnonymous&&!h?{providerId:null,isNewUser:!1,profile:null}:function(g){var d,h;if(!g)return null;const{providerId:v}=g,O=g.rawUserInfo?JSON.parse(g.rawUserInfo):{},$=g.isNewUser||"identitytoolkit#SignupNewUserResponse"===g.kind;if(!v&&(null==g?void 0:g.idToken)){const _e=null===(h=null===(d=gi(g.idToken))||void 0===d?void 0:d.firebase)||void 0===h?void 0:h.sign_in_provider;if(_e)return new Ws($,"anonymous"!==_e&&"custom"!==_e?_e:null)}if(!v)return null;switch(v){case"facebook.com":return new Aa($,O);case"github.com":return new Sc($,O);case"google.com":return new St($,O);case"twitter.com":return new Li($,O,g.screenName||null);case"custom":case"anonymous":return new Ws($,null);default:return new Ws($,v,O)}}(h)}class ws{constructor(d,h){this.type=d,this.credential=h}static _fromIdtoken(d){return new ws("enroll",d)}static _fromMfaPendingCredential(d){return new ws("signin",d)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(d){var h,v;if(null==d?void 0:d.multiFactorSession){if(null===(h=d.multiFactorSession)||void 0===h?void 0:h.pendingCredential)return ws._fromMfaPendingCredential(d.multiFactorSession.pendingCredential);if(null===(v=d.multiFactorSession)||void 0===v?void 0:v.idToken)return ws._fromIdtoken(d.multiFactorSession.idToken)}return null}}class Ra{constructor(d,h,v){this.session=d,this.hints=h,this.signInResolver=v}static _fromError(d,h){const v=lr(d),O=h.customData._serverResponse,$=(O.mfaInfo||[]).map(Ye=>ut._fromServerResponse(v,Ye));ct(O.mfaPendingCredential,v,"internal-error");const _e=ws._fromMfaPendingCredential(O.mfaPendingCredential);return new Ra(_e,$,function(){var Ye=(0,w.Z)(function*(Pt){const Ct=yield Pt._process(v,_e);delete O.mfaInfo,delete O.mfaPendingCredential;const nn=Object.assign(Object.assign({},O),{idToken:Ct.idToken,refreshToken:Ct.refreshToken});switch(h.operationType){case"signIn":const on=yield Cr._fromIdTokenResponse(v,h.operationType,nn);return yield v._updateCurrentUser(on.user),on;case"reauthenticate":return ct(h.user,v,"internal-error"),Cr._forOperation(h.user,h.operationType,nn);default:Yt(v,"internal-error")}});return function(Pt){return Ye.apply(this,arguments)}}())}resolveSignIn(d){var h=this;return(0,w.Z)(function*(){return h.signInResolver(d)})()}}function dl(g,d){return an(g,"POST","/v2/accounts/mfaEnrollment:start",Nn(g,d))}class xa{constructor(d){this.user=d,this.enrolledFactors=[],d._onReload(h=>{h.mfaInfo&&(this.enrolledFactors=h.mfaInfo.map(v=>ut._fromServerResponse(d.auth,v)))})}static _fromUser(d){return new xa(d)}getSession(){var d=this;return(0,w.Z)(function*(){return ws._fromIdtoken(yield d.user.getIdToken())})()}enroll(d,h){var v=this;return(0,w.Z)(function*(){const O=d,$=yield v.getSession(),_e=yield zr(v.user,O._process(v.user.auth,$,h));return yield v.user._updateTokensIfNecessary(_e),v.user.reload()})()}unenroll(d){var h=this;return(0,w.Z)(function*(){const v="string"==typeof d?d:d.uid,O=yield h.user.getIdToken(),$=yield zr(h.user,function(g,d){return an(g,"POST","/v2/accounts/mfaEnrollment:withdraw",Nn(g,d))}(h.user.auth,{idToken:O,mfaEnrollmentId:v}));h.enrolledFactors=h.enrolledFactors.filter(({uid:_e})=>_e!==v),yield h.user._updateTokensIfNecessary($);try{yield h.user.reload()}catch(_e){if("auth/user-token-expired"!==_e.code)throw _e}})()}}const La=new WeakMap,Si="__sak";class iu{constructor(d,h){this.storageRetriever=d,this.type=h}_isAvailable(){try{return this.storage?(this.storage.setItem(Si,"1"),this.storage.removeItem(Si),Promise.resolve(!0)):Promise.resolve(!1)}catch(d){return Promise.resolve(!1)}}_set(d,h){return this.storage.setItem(d,JSON.stringify(h)),Promise.resolve()}_get(d){const h=this.storage.getItem(d);return Promise.resolve(h?JSON.parse(h):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const x=(()=>{class g extends iu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(h,v)=>this.onStorageEvent(h,v),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const g=(0,z.z$)();return it(g)||Pr(g)}()&&function(){try{return!(!window||window===window.top)}catch(g){return!1}}(),this.fallbackToPolling=us(),this._shouldAllowMigration=!0}forAllChangedKeys(h){for(const v of Object.keys(this.listeners)){const O=this.storage.getItem(v),$=this.localCache[v];O!==$&&h(v,$,O)}}onStorageEvent(h,v=!1){if(!h.key)return void this.forAllChangedKeys((Ye,Pt,Ct)=>{this.notifyListeners(Ye,Ct)});const O=h.key;if(v?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ye=this.storage.getItem(O);if(h.newValue!==Ye)null!==h.newValue?this.storage.setItem(O,h.newValue):this.storage.removeItem(O);else if(this.localCache[O]===h.newValue&&!v)return}const $=()=>{const Ye=this.storage.getItem(O);!v&&this.localCache[O]===Ye||this.notifyListeners(O,Ye)},_e=this.storage.getItem(O);(0,z.w1)()&&10===document.documentMode&&_e!==h.newValue&&h.newValue!==h.oldValue?setTimeout($,10):$()}notifyListeners(h,v){this.localCache[h]=v;const O=this.listeners[h];if(O)for(const $ of Array.from(O))$(v&&JSON.parse(v))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((h,v,O)=>{this.onStorageEvent(new StorageEvent("storage",{key:h,oldValue:v,newValue:O}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(h,v){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[h]||(this.listeners[h]=new Set,this.localCache[h]=this.storage.getItem(h)),this.listeners[h].add(v)}_removeListener(h,v){this.listeners[h]&&(this.listeners[h].delete(v),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(h,v){var O=()=>super._set,$=this;return(0,w.Z)(function*(){yield O().call($,h,v),$.localCache[h]=JSON.stringify(v)})()}_get(h){var v=()=>super._get,O=this;return(0,w.Z)(function*(){const $=yield v().call(O,h);return O.localCache[h]=JSON.stringify($),$})()}_remove(h){var v=()=>super._remove,O=this;return(0,w.Z)(function*(){yield v().call(O,h),delete O.localCache[h]})()}}return g.type="LOCAL",g})(),W=(()=>{class g extends iu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(h,v){}_removeListener(h,v){}}return g.type="SESSION",g})();let Ae=(()=>{class g{constructor(h){this.eventTarget=h,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(h){const v=this.receivers.find($=>$.isListeningto(h));if(v)return v;const O=new g(h);return this.receivers.push(O),O}isListeningto(h){return this.eventTarget===h}handleEvent(h){var v=this;return(0,w.Z)(function*(){const O=h,{eventId:$,eventType:_e,data:Ye}=O.data,Pt=v.handlersMap[_e];if(!(null==Pt?void 0:Pt.size))return;O.ports[0].postMessage({status:"ack",eventId:$,eventType:_e});const Ct=Array.from(Pt).map(function(){var on=(0,w.Z)(function*(gr){return gr(O.origin,Ye)});return function(gr){return on.apply(this,arguments)}}()),nn=yield function(g){return Promise.all(g.map(function(){var d=(0,w.Z)(function*(h){try{return{fulfilled:!0,value:yield h}}catch(v){return{fulfilled:!1,reason:v}}});return function(h){return d.apply(this,arguments)}}()))}(Ct);O.ports[0].postMessage({status:"done",eventId:$,eventType:_e,response:nn})})()}_subscribe(h,v){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[h]||(this.handlersMap[h]=new Set),this.handlersMap[h].add(v)}_unsubscribe(h,v){this.handlersMap[h]&&v&&this.handlersMap[h].delete(v),(!v||0===this.handlersMap[h].size)&&delete this.handlersMap[h],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return g.receivers=[],g})();function ot(g="",d=10){let h="";for(let v=0;v<d;v++)h+=Math.floor(10*Math.random());return g+h}class Et{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,h,v=50){var O=this;return(0,w.Z)(function*(){const $="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!$)throw new Error("connection_unavailable");let _e,Ye;return new Promise((Pt,Ct)=>{const nn=ot("",20);$.port1.start();const on=setTimeout(()=>{Ct(new Error("unsupported_event"))},v);Ye={messageChannel:$,onMessage(gr){const Vs=gr;if(Vs.data.eventId===nn)switch(Vs.data.status){case"ack":clearTimeout(on),_e=setTimeout(()=>{Ct(new Error("timeout"))},3e3);break;case"done":clearTimeout(_e),Pt(Vs.data.response);break;default:clearTimeout(on),clearTimeout(_e),Ct(new Error("invalid_response"))}}},O.handlers.add(Ye),$.port1.addEventListener("message",Ye.onMessage),O.target.postMessage({eventType:d,eventId:nn,data:h},[$.port2])}).finally(()=>{Ye&&O.removeMessageHandler(Ye)})})()}}function Zt(){return window}function Sr(){return void 0!==Zt().WorkerGlobalScope&&"function"==typeof Zt().importScripts}function Mr(){return(Mr=(0,w.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(g){return null}})).apply(this,arguments)}const wr="firebaseLocalStorageDb",Vi="firebaseLocalStorage",Ko="fbase_key";class Wo{constructor(d){this.request=d}toPromise(){return new Promise((d,h)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{h(this.request.error)})})}}function zo(g,d){return g.transaction([Vi],d?"readwrite":"readonly").objectStore(Vi)}function Fa(){const g=indexedDB.open(wr,1);return new Promise((d,h)=>{g.addEventListener("error",()=>{h(g.error)}),g.addEventListener("upgradeneeded",()=>{const v=g.result;try{v.createObjectStore(Vi,{keyPath:Ko})}catch(O){h(O)}}),g.addEventListener("success",(0,w.Z)(function*(){const v=g.result;v.objectStoreNames.contains(Vi)?d(v):(v.close(),yield function(){const g=indexedDB.deleteDatabase(wr);return new Wo(g).toPromise()}(),d(yield Fa()))}))})}function su(g,d,h){return hl.apply(this,arguments)}function hl(){return(hl=(0,w.Z)(function*(g,d,h){const v=zo(g,!0).put({[Ko]:d,value:h});return new Wo(v).toPromise()})).apply(this,arguments)}function vi(){return(vi=(0,w.Z)(function*(g,d){const h=zo(g,!1).get(d),v=yield new Wo(h).toPromise();return void 0===v?null:v.value})).apply(this,arguments)}function _a(g,d){const h=zo(g,!0).delete(d);return new Wo(h).toPromise()}const Va=(()=>{class g{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var h=this;return(0,w.Z)(function*(){return h.db||(h.db=yield Fa()),h.db})()}_withRetries(h){var v=this;return(0,w.Z)(function*(){let O=0;for(;;)try{const $=yield v._openDb();return yield h($)}catch($){if(O++>3)throw $;v.db&&(v.db.close(),v.db=void 0)}})()}initializeServiceWorkerMessaging(){var h=this;return(0,w.Z)(function*(){return Sr()?h.initializeReceiver():h.initializeSender()})()}initializeReceiver(){var h=this;return(0,w.Z)(function*(){h.receiver=Ae._getInstance(Sr()?self:null),h.receiver._subscribe("keyChanged",function(){var v=(0,w.Z)(function*(O,$){return{keyProcessed:(yield h._poll()).includes($.key)}});return function(O,$){return v.apply(this,arguments)}}()),h.receiver._subscribe("ping",function(){var v=(0,w.Z)(function*(O,$){return["keyChanged"]});return function(O,$){return v.apply(this,arguments)}}())})()}initializeSender(){var h=this;return(0,w.Z)(function*(){var v,O;if(h.activeServiceWorker=yield function(){return Mr.apply(this,arguments)}(),!h.activeServiceWorker)return;h.sender=new Et(h.activeServiceWorker);const $=yield h.sender._send("ping",{},800);!$||(null===(v=$[0])||void 0===v?void 0:v.fulfilled)&&(null===(O=$[0])||void 0===O?void 0:O.value.includes("keyChanged"))&&(h.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(h){var v=this;return(0,w.Z)(function*(){if(v.sender&&v.activeServiceWorker&&function(){var g;return(null===(g=null==navigator?void 0:navigator.serviceWorker)||void 0===g?void 0:g.controller)||null}()===v.activeServiceWorker)try{yield v.sender._send("keyChanged",{key:h},v.serviceWorkerReceiverAvailable?800:50)}catch(O){}})()}_isAvailable(){return(0,w.Z)(function*(){try{if(!indexedDB)return!1;const h=yield Fa();return yield su(h,Si,"1"),yield _a(h,Si),!0}catch(h){}return!1})()}_withPendingWrite(h){var v=this;return(0,w.Z)(function*(){v.pendingWrites++;try{yield h()}finally{v.pendingWrites--}})()}_set(h,v){var O=this;return(0,w.Z)(function*(){return O._withPendingWrite((0,w.Z)(function*(){return yield O._withRetries($=>su($,h,v)),O.localCache[h]=v,O.notifyServiceWorker(h)}))})()}_get(h){var v=this;return(0,w.Z)(function*(){const O=yield v._withRetries($=>function(g,d){return vi.apply(this,arguments)}($,h));return v.localCache[h]=O,O})()}_remove(h){var v=this;return(0,w.Z)(function*(){return v._withPendingWrite((0,w.Z)(function*(){return yield v._withRetries(O=>_a(O,h)),delete v.localCache[h],v.notifyServiceWorker(h)}))})()}_poll(){var h=this;return(0,w.Z)(function*(){const v=yield h._withRetries(_e=>{const Ye=zo(_e,!1).getAll();return new Wo(Ye).toPromise()});if(!v)return[];if(0!==h.pendingWrites)return[];const O=[],$=new Set;for(const{fbase_key:_e,value:Ye}of v)$.add(_e),JSON.stringify(h.localCache[_e])!==JSON.stringify(Ye)&&(h.notifyListeners(_e,Ye),O.push(_e));for(const _e of Object.keys(h.localCache))h.localCache[_e]&&!$.has(_e)&&(h.notifyListeners(_e,null),O.push(_e));return O})()}notifyListeners(h,v){this.localCache[h]=v;const O=this.listeners[h];if(O)for(const $ of Array.from(O))$(v)}startPolling(){var h=this;this.stopPolling(),this.pollTimer=setInterval((0,w.Z)(function*(){return h._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(h,v){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[h]||(this.listeners[h]=new Set,this._get(h)),this.listeners[h].add(v)}_removeListener(h,v){this.listeners[h]&&(this.listeners[h].delete(v),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return g.type="LOCAL",g})();function Au(g,d){return an(g,"POST","/v2/accounts/mfaSignIn:start",Nn(g,d))}function Ru(){return(Ru=(0,w.Z)(function*(g){return(yield an(g,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Nu(g){return new Promise((d,h)=>{const v=document.createElement("script");v.setAttribute("src",g),v.onload=d,v.onerror=O=>{const $=mn("internal-error");$.customData=O,h($)},v.type="text/javascript",v.charset="UTF-8",function(){var g,d;return null!==(d=null===(g=document.getElementsByTagName("head"))||void 0===g?void 0:g[0])&&void 0!==d?d:document}().appendChild(v)})}function Ai(g){return`__${g}${Math.floor(1e6*Math.random())}`}const Ei=1e12;class Ua{constructor(d){this.auth=d,this.counter=Ei,this._widgets=new Map}render(d,h){const v=this.counter;return this._widgets.set(v,new Ki(d,this.auth.name,h||{})),this.counter++,v}reset(d){var h;const v=d||Ei;null===(h=this._widgets.get(v))||void 0===h||h.delete(),this._widgets.delete(v)}getResponse(d){var h;return(null===(h=this._widgets.get(d||Ei))||void 0===h?void 0:h.getResponse())||""}execute(d){var h=this;return(0,w.Z)(function*(){var v;return null===(v=h._widgets.get(d||Ei))||void 0===v||v.execute(),""})()}}class Ki{constructor(d,h,v){this.params=v,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const O="string"==typeof d?document.getElementById(d):d;ct(O,"argument-error",{appName:h}),this.container=O,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(g){const d=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<50;v++)d.push(h.charAt(Math.floor(Math.random()*h.length)));return d.join("")}();const{callback:d,"expired-callback":h}=this.params;if(d)try{d(this.responseToken)}catch(v){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,h)try{h()}catch(v){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ks=Ai("rcb"),ao=new bt(3e4,6e4);class Mo{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Zt().grecaptcha}load(d,h=""){return ct((g=h).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(g),d,"argument-error"),this.shouldResolveImmediately(h)?Promise.resolve(Zt().grecaptcha):new Promise((v,O)=>{const $=Zt().setTimeout(()=>{O(mn(d,"network-request-failed"))},ao.get());Zt()[ks]=()=>{Zt().clearTimeout($),delete Zt()[ks];const Ye=Zt().grecaptcha;if(!Ye)return void O(mn(d,"internal-error"));const Pt=Ye.render;Ye.render=(Ct,nn)=>{const on=Pt(Ct,nn);return this.counter++,on},this.hostLanguage=h,v(Ye)},Nu(`https://www.google.com/recaptcha/api.js??${(0,z.xO)({onload:ks,render:"explicit",hl:h})}`).catch(()=>{clearTimeout($),O(mn(d,"internal-error"))})});var g}clearedOneInstance(){this.counter--}shouldResolveImmediately(d){return!!Zt().grecaptcha&&(d===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ou{load(d){return(0,w.Z)(function*(){return new Ua(d)})()}clearedOneInstance(){}}const pl="recaptcha",ia={theme:"light",type:"image"};class xc{constructor(d,h=Object.assign({},ia),v){this.parameters=h,this.type=pl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=lr(v),this.isInvisible="invisible"===this.parameters.size,ct("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const O="string"==typeof d?document.getElementById(d):d;ct(O,this.auth,"argument-error"),this.container=O,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ou:new Mo,this.validateStartingState()}verify(){var d=this;return(0,w.Z)(function*(){d.assertNotDestroyed();const h=yield d.render(),v=d.getAssertedRecaptcha();return v.getResponse(h)||new Promise($=>{const _e=Ye=>{!Ye||(d.tokenChangeListeners.delete(_e),$(Ye))};d.tokenChangeListeners.add(_e),d.isInvisible&&v.execute(h)})})()}render(){try{this.assertNotDestroyed()}catch(d){return Promise.reject(d)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(d=>{throw this.renderPromise=null,d})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(d=>{this.container.removeChild(d)})}validateStartingState(){ct(!this.parameters.sitekey,this.auth,"argument-error"),ct(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ct("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(d){return h=>{if(this.tokenChangeListeners.forEach(v=>v(h)),"function"==typeof d)d(h);else if("string"==typeof d){const v=Zt()[d];"function"==typeof v&&v(h)}}}assertNotDestroyed(){ct(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var d=this;return(0,w.Z)(function*(){if(yield d.init(),!d.widgetId){let h=d.container;if(!d.isInvisible){const v=document.createElement("div");h.appendChild(v),h=v}d.widgetId=d.getAssertedRecaptcha().render(h,d.parameters)}return d.widgetId})()}init(){var d=this;return(0,w.Z)(function*(){ct(ae()&&!Sr(),d.auth,"internal-error"),yield function(){let g=null;return new Promise(d=>{"complete"!==document.readyState?(g=()=>d(),window.addEventListener("load",g)):d()}).catch(d=>{throw g&&window.removeEventListener("load",g),d})}(),d.recaptcha=yield d._recaptchaLoader.load(d.auth,d.auth.languageCode||void 0);const h=yield function(g){return Ru.apply(this,arguments)}(d.auth);ct(h,d.auth,"internal-error"),d.parameters.sitekey=h})()}getAssertedRecaptcha(){return ct(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Nc{constructor(d,h){this.verificationId=d,this.onConfirmation=h}confirm(d){const h=_o._fromVerification(this.verificationId,d);return this.onConfirmation(h)}}function au(){return(au=(0,w.Z)(function*(g,d,h){const v=lr(g),O=yield k(v,d,(0,z.m9)(h));return new Nc(O,$=>vs(v,$))})).apply(this,arguments)}function gl(){return(gl=(0,w.Z)(function*(g,d,h){const v=(0,z.m9)(g);yield lt(!1,v,"phone");const O=yield k(v.auth,d,(0,z.m9)(h));return new Nc(O,$=>y(v,$))})).apply(this,arguments)}function A(){return(A=(0,w.Z)(function*(g,d,h){const v=(0,z.m9)(g),O=yield k(v.auth,d,(0,z.m9)(h));return new Nc(O,$=>D(v,$))})).apply(this,arguments)}function k(g,d,h){return G.apply(this,arguments)}function G(){return(G=(0,w.Z)(function*(g,d,h){var v;const O=yield h.verify();try{let $;if(ct("string"==typeof O,g,"argument-error"),ct(h.type===pl,g,"argument-error"),$="string"==typeof d?{phoneNumber:d}:d,"session"in $){const _e=$.session;if("phoneNumber"in $)return ct("enroll"===_e.type,g,"internal-error"),(yield dl(g,{idToken:_e.credential,phoneEnrollmentInfo:{phoneNumber:$.phoneNumber,recaptchaToken:O}})).phoneSessionInfo.sessionInfo;{ct("signin"===_e.type,g,"internal-error");const Ye=(null===(v=$.multiFactorHint)||void 0===v?void 0:v.uid)||$.multiFactorUid;return ct(Ye,g,"missing-multi-factor-info"),(yield Au(g,{mfaPendingCredential:_e.credential,mfaEnrollmentId:Ye,phoneSignInInfo:{recaptchaToken:O}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:_e}=yield rs(g,{phoneNumber:$.phoneNumber,recaptchaToken:O});return _e}}finally{h._reset()}})).apply(this,arguments)}function Ue(){return(Ue=(0,w.Z)(function*(g,d){yield No((0,z.m9)(g),d)})).apply(this,arguments)}let Qe=(()=>{class g{constructor(h){this.providerId=g.PROVIDER_ID,this.auth=lr(h)}verifyPhoneNumber(h,v){return k(this.auth,h,(0,z.m9)(v))}static credential(h,v){return _o._fromVerification(h,v)}static credentialFromResult(h){return g.credentialFromTaggedObject(h)}static credentialFromError(h){return g.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{phoneNumber:v,temporaryProof:O}=h;return v&&O?_o._fromTokenResponse(v,O):null}}return g.PROVIDER_ID="phone",g.PHONE_SIGN_IN_METHOD="phone",g})();function vt(g,d){return d?Sn(d):(ct(g._popupRedirectResolver,g,"argument-error"),g._popupRedirectResolver)}class Vt extends to{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return Ti(d,this._buildIdpRequest())}_linkToIdToken(d,h){return Ti(d,this._buildIdpRequest(h))}_getReauthenticationResolver(d){return Ti(d,this._buildIdpRequest())}_buildIdpRequest(d){const h={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(h.idToken=d),h}}function sn(g){return Po(g.auth,new Vt(g),g.bypassAuthState)}function Jn(g){const{auth:d,user:h}=g;return ct(h,d,"internal-error"),Da(h,new Vt(g),g.bypassAuthState)}function kr(g){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,w.Z)(function*(g){const{auth:d,user:h}=g;return ct(h,d,"internal-error"),No(h,new Vt(g),g.bypassAuthState)})).apply(this,arguments)}class Gs{constructor(d,h,v,O,$=!1){this.auth=d,this.resolver=v,this.user=O,this.bypassAuthState=$,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(h)?h:[h]}execute(){var d=this;return new Promise(function(){var h=(0,w.Z)(function*(v,O){d.pendingPromise={resolve:v,reject:O};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch($){d.reject($)}});return function(v,O){return h.apply(this,arguments)}}())}onAuthEvent(d){var h=this;return(0,w.Z)(function*(){const{urlResponse:v,sessionId:O,postBody:$,tenantId:_e,error:Ye,type:Pt}=d;if(Ye)return void h.reject(Ye);const Ct={auth:h.auth,requestUri:v,sessionId:O,tenantId:_e||void 0,postBody:$||void 0,user:h.user,bypassAuthState:h.bypassAuthState};try{h.resolve(yield h.getIdpTask(Pt)(Ct))}catch(nn){h.reject(nn)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return sn;case"linkViaPopup":case"linkViaRedirect":return kr;case"reauthViaPopup":case"reauthViaRedirect":return Jn;default:Yt(this.auth,"internal-error")}}resolve(d){Yn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){Yn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const os=new bt(2e3,1e4);function Lo(){return(Lo=(0,w.Z)(function*(g,d,h){const v=lr(g);br(g,d,Z);const O=vt(v,h);return new cc(v,"signInViaPopup",d,O).executeNotNull()})).apply(this,arguments)}function Fo(){return(Fo=(0,w.Z)(function*(g,d,h){const v=(0,z.m9)(g);br(v.auth,d,Z);const O=vt(v.auth,h);return new cc(v.auth,"reauthViaPopup",d,O,v).executeNotNull()})).apply(this,arguments)}function Go(){return(Go=(0,w.Z)(function*(g,d,h){const v=(0,z.m9)(g);br(v.auth,d,Z);const O=vt(v.auth,h);return new cc(v.auth,"linkViaPopup",d,O,v).executeNotNull()})).apply(this,arguments)}let cc=(()=>{class g extends Gs{constructor(h,v,O,$,_e){super(h,v,$,_e),this.provider=O,this.authWindow=null,this.pollId=null,g.currentPopupAction&&g.currentPopupAction.cancel(),g.currentPopupAction=this}executeNotNull(){var h=this;return(0,w.Z)(function*(){const v=yield h.execute();return ct(v,h.auth,"internal-error"),v})()}onExecution(){var h=this;return(0,w.Z)(function*(){Yn(1===h.filter.length,"Popup operations only handle one event");const v=ot();h.authWindow=yield h.resolver._openPopup(h.auth,h.provider,h.filter[0],v),h.authWindow.associatedEvent=v,h.resolver._originValidation(h.auth).catch(O=>{h.reject(O)}),h.resolver._isIframeWebStorageSupported(h.auth,O=>{O||h.reject(mn(h.auth,"web-storage-unsupported"))}),h.pollUserCancellation()})()}get eventId(){var h;return(null===(h=this.authWindow)||void 0===h?void 0:h.associatedEvent)||null}cancel(){this.reject(mn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,g.currentPopupAction=null}pollUserCancellation(){const h=()=>{var v,O;this.pollId=(null===(O=null===(v=this.authWindow)||void 0===v?void 0:v.window)||void 0===O?void 0:O.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(mn(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(h,os.get())};h()}}return g.currentPopupAction=null,g})();const Ou=new Map;class zf extends Gs{constructor(d,h,v=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],h,void 0,v),this.eventId=null}execute(){var d=()=>super.execute,h=this;return(0,w.Z)(function*(){let v=Ou.get(h.auth._key());if(!v){try{const $=(yield function(g,d){return $a.apply(this,arguments)}(h.resolver,h.auth))?yield d().call(h):null;v=()=>Promise.resolve($)}catch(O){v=()=>Promise.reject(O)}Ou.set(h.auth._key(),v)}return h.bypassAuthState||Ou.set(h.auth._key(),()=>Promise.resolve(null)),v()})()}onAuthEvent(d){var h=()=>super.onAuthEvent,v=this;return(0,w.Z)(function*(){if("signInViaRedirect"===d.type)return h().call(v,d);if("unknown"!==d.type){if(d.eventId){const O=yield v.auth._redirectUserForId(d.eventId);if(O)return v.user=O,h().call(v,d);v.resolve(null)}}else v.resolve(null)})()}onExecution(){return(0,w.Z)(function*(){})()}cleanUp(){}}function $a(){return($a=(0,w.Z)(function*(g,d){const h=lu(d),v=ud(g);if(!(yield v._isAvailable()))return!1;const O="true"===(yield v._get(h));return yield v._remove(h),O})).apply(this,arguments)}function ml(g,d){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,w.Z)(function*(g,d){return ud(g)._set(lu(d),"true")})).apply(this,arguments)}function ud(g){return Sn(g._redirectPersistence)}function lu(g){return Oe("pendingRedirect",g.config.apiKey,g.name)}function oa(){return(oa=(0,w.Z)(function*(g,d,h){const v=lr(g);br(g,d,Z);const O=vt(v,h);return yield ml(O,v),O._openRedirect(v,d,"signInViaRedirect")})).apply(this,arguments)}function Na(){return(Na=(0,w.Z)(function*(g,d,h){const v=(0,z.m9)(g);br(v.auth,d,Z);const O=vt(v.auth,h);yield ml(O,v.auth);const $=yield yl(v);return O._openRedirect(v.auth,d,"reauthViaRedirect",$)})).apply(this,arguments)}function ku(){return(ku=(0,w.Z)(function*(g,d,h){const v=(0,z.m9)(g);br(v.auth,d,Z);const O=vt(v.auth,h);yield lt(!1,v,d.providerId),yield ml(O,v.auth);const $=yield yl(v);return O._openRedirect(v.auth,d,"linkViaRedirect",$)})).apply(this,arguments)}function hu(){return(hu=(0,w.Z)(function*(g,d){return yield lr(g)._initializationPromise,hi(g,d,!1)})).apply(this,arguments)}function hi(g,d){return lc.apply(this,arguments)}function lc(){return(lc=(0,w.Z)(function*(g,d,h=!1){const v=lr(g),O=vt(v,d),_e=yield new zf(v,O,h).execute();return _e&&!h&&(delete _e.user._redirectEventId,yield v._persistUserIfCurrent(_e.user),yield v._setRedirectUser(null,d)),_e})).apply(this,arguments)}function yl(g){return _l.apply(this,arguments)}function _l(){return(_l=(0,w.Z)(function*(g){const d=ot(`${g.uid}:::`);return g._redirectEventId=d,yield g.auth._setRedirectUser(g),yield g.auth._persistUserIfCurrent(g),d})).apply(this,arguments)}class Gf{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let h=!1;return this.consumers.forEach(v=>{this.isEventForConsumer(d,v)&&(h=!0,this.sendToConsumer(d,v),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function(g){switch(g.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hd(g);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,h||(this.queuedRedirectEvent=d,h=!0)),h}sendToConsumer(d,h){var v;if(d.error&&!hd(d)){const O=(null===(v=d.error.code)||void 0===v?void 0:v.split("auth/")[1])||"internal-error";h.onError(mn(this.auth,O))}else h.onAuthEvent(d)}isEventForConsumer(d,h){const v=null===h.eventId||!!d.eventId&&d.eventId===h.eventId;return h.filter.includes(d.type)&&v}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(dd(d))}saveEventToCache(d){this.cachedEventUids.add(dd(d)),this.lastProcessedEventTime=Date.now()}}function dd(g){return[g.type,g.eventId,g.sessionId,g.tenantId].filter(d=>d).join("-")}function hd({type:g,error:d}){return"unknown"===g&&"auth/no-auth-event"===(null==d?void 0:d.code)}function Ea(g){return dc.apply(this,arguments)}function dc(){return(dc=(0,w.Z)(function*(g,d={}){return an(g,"GET","/v1/projects",d)})).apply(this,arguments)}const Lu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gh=/^https?/;function El(){return(El=(0,w.Z)(function*(g){if(g.config.emulator)return;const{authorizedDomains:d}=yield Ea(g);for(const h of d)try{if(Il(h))return}catch(v){}Yt(g,"unauthorized-domain")})).apply(this,arguments)}function Il(g){const d=Le(),{protocol:h,hostname:v}=new URL(d);if(g.startsWith("chrome-extension://")){const _e=new URL(g);return""===_e.hostname&&""===v?"chrome-extension:"===h&&g.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===h&&_e.hostname===v}if(!gh.test(h))return!1;if(Lu.test(g))return v===g;const O=g.replace(/\./g,"\\.");return new RegExp("^(.+\\."+O+"|"+O+")$","i").test(v)}const Xi=new bt(3e4,6e4);function Ar(){const g=Zt().___jsl;if(null==g?void 0:g.H)for(const d of Object.keys(g.H))if(g.H[d].r=g.H[d].r||[],g.H[d].L=g.H[d].L||[],g.H[d].r=[...g.H[d].L],g.CP)for(let h=0;h<g.CP.length;h++)g.CP[h]=null}let hc=null;function fi(g){return hc=hc||function(g){return new Promise((d,h)=>{var v,O,$;function _e(){Ar(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{Ar(),h(mn(g,"network-request-failed"))},timeout:Xi.get()})}if(null===(O=null===(v=Zt().gapi)||void 0===v?void 0:v.iframes)||void 0===O?void 0:O.Iframe)d(gapi.iframes.getContext());else{if(!(null===($=Zt().gapi)||void 0===$?void 0:$.load)){const Ye=Ai("iframefcb");return Zt()[Ye]=()=>{gapi.load?_e():h(mn(g,"network-request-failed"))},Nu(`https://apis.google.com/js/api.js?onload=${Ye}`).catch(Pt=>h(Pt))}_e()}}).catch(d=>{throw hc=null,d})}(g),hc}const wl=new bt(5e3,15e3),mh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ha(g){const d=g.config;ct(d.authDomain,g,"auth-domain-config-required");const h=d.emulator?at(d,"emulator/auth/iframe"):`https://${g.config.authDomain}/__/auth/iframe`,v={apiKey:d.apiKey,appName:g.name,v:be.SDK_VERSION},O=fc.get(g.config.apiHost);O&&(v.eid=O);const $=g._getFrameworks();return $.length&&(v.fw=$.join(",")),`${h}?${(0,z.xO)(v).slice(1)}`}function bl(){return(bl=(0,w.Z)(function*(g){const d=yield fi(g),h=Zt().gapi;return ct(h,g,"internal-error"),d.open({where:document.body,url:Ha(g),messageHandlersFilter:h.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mh,dontclear:!0},v=>new Promise(function(){var O=(0,w.Z)(function*($,_e){yield v.restyle({setHideOnLeave:!1});const Ye=mn(g,"network-request-failed"),Pt=Zt().setTimeout(()=>{_e(Ye)},wl.get());function Ct(){Zt().clearTimeout(Pt),$(v)}v.ping(Ct).then(Ct,()=>{_e(Ye)})});return function($,_e){return O.apply(this,arguments)}}()))})).apply(this,arguments)}const pd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class pc{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(d){}}}function gd(g,d,h,v,O,$){ct(g.config.authDomain,g,"auth-domain-config-required"),ct(g.config.apiKey,g,"invalid-api-key");const _e={apiKey:g.config.apiKey,appName:g.name,authType:h,redirectUrl:v,v:be.SDK_VERSION,eventId:O};if(d instanceof Z){d.setDefaultLanguage(g.languageCode),_e.providerId=d.providerId||"",(0,z.xb)(d.getCustomParameters())||(_e.customParameters=JSON.stringify(d.getCustomParameters()));for(const[Pt,Ct]of Object.entries($||{}))_e[Pt]=Ct}if(d instanceof fe){const Pt=d.getScopes().filter(Ct=>""!==Ct);Pt.length>0&&(_e.scopes=Pt.join(","))}g.tenantId&&(_e.tid=g.tenantId);const Ye=_e;for(const Pt of Object.keys(Ye))void 0===Ye[Pt]&&delete Ye[Pt];return`${function({config:g}){return g.emulator?at(g,"emulator/auth/handler"):`https://${g.authDomain}/__/auth/handler`}(g)}?${(0,z.xO)(Ye).slice(1)}`}const Fu="webStorageSupport";class Cl extends class{constructor(d){this.factorId=d}_process(d,h,v){switch(h.type){case"enroll":return this._finalizeEnroll(d,h.credential,v);case"signin":return this._finalizeSignIn(d,h.credential);default:return Qn("unexpected MultiFactorSessionType")}}}{constructor(d){super("phone"),this.credential=d}static _fromCredential(d){return new Cl(d)}_finalizeEnroll(d,h,v){return function(g,d){return an(g,"POST","/v2/accounts/mfaEnrollment:finalize",Nn(g,d))}(d,{idToken:h,displayName:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(d,h){return function(g,d){return an(g,"POST","/v2/accounts/mfaSignIn:finalize",Nn(g,d))}(d,{mfaPendingCredential:h,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let vh=(()=>{class g{constructor(){}static assertion(h){return Cl._fromCredential(h)}}return g.FACTOR_ID="phone",g})();var g,Vu="@firebase/auth";class em{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var h=this;return(0,w.Z)(function*(){return h.assertAuthConfigured(),yield h.auth._initializationPromise,h.auth.currentUser?{accessToken:yield h.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const h=this.auth.onIdTokenChanged(v=>{var O;d((null===(O=v)||void 0===O?void 0:O.stsTokenManager.accessToken)||null)});this.internalListeners.set(d,h),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const h=this.internalListeners.get(d);!h||(this.internalListeners.delete(d),h(),this.updateProactiveRefresh())}assertAuthConfigured(){ct(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function qo(){return window}function Uc(){return(Uc=(0,w.Z)(function*(g,d,h){var v;const{BuildInfo:O}=qo();Yn(d.sessionId,"AuthEvent did not contain a session ID");const $=yield gc(d.sessionId),_e={};return Pr()?_e.ibi=O.packageName:Hn()?_e.apn=O.packageName:Yt(g,"operation-not-supported-in-this-environment"),O.displayName&&(_e.appDisplayName=O.displayName),_e.sessionId=$,gd(g,h,d.type,void 0,null!==(v=d.eventId)&&void 0!==v?v:void 0,_e)})).apply(this,arguments)}function Dl(){return(Dl=(0,w.Z)(function*(g){const{BuildInfo:d}=qo(),h={};Pr()?h.iosBundleId=d.packageName:Hn()?h.androidPackageName=d.packageName:Yt(g,"operation-not-supported-in-this-environment"),yield Ea(g,h)})).apply(this,arguments)}function Sl(){return(Sl=(0,w.Z)(function*(g,d,h){const{cordova:v}=qo();let O=()=>{};try{yield new Promise(($,_e)=>{let Ye=null;function Pt(){var on;$();const gr=null===(on=v.plugins.browsertab)||void 0===on?void 0:on.close;"function"==typeof gr&&gr(),"function"==typeof(null==h?void 0:h.close)&&h.close()}function Ct(){Ye||(Ye=window.setTimeout(()=>{_e(mn(g,"redirect-cancelled-by-user"))},2e3))}function nn(){"visible"===(null==document?void 0:document.visibilityState)&&Ct()}d.addPassiveListener(Pt),document.addEventListener("resume",Ct,!1),Hn()&&document.addEventListener("visibilitychange",nn,!1),O=()=>{d.removePassiveListener(Pt),document.removeEventListener("resume",Ct,!1),document.removeEventListener("visibilitychange",nn,!1),Ye&&window.clearTimeout(Ye)}})}finally{O()}})).apply(this,arguments)}function gc(g){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,w.Z)(function*(g){const d=Yf(g),h=yield crypto.subtle.digest("SHA-256",d);return Array.from(new Uint8Array(h)).map(O=>O.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Yf(g){if(Yn(/[0-9a-zA-Z]+/.test(g),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(g);const d=new ArrayBuffer(g.length),h=new Uint8Array(d);for(let v=0;v<g.length;v++)h[v]=g.charCodeAt(v);return h}g="Browser",(0,be._registerComponent)(new ft.wA("auth",(d,{options:h})=>{const v=d.getProvider("app").getImmediate(),{apiKey:O,authDomain:$}=v.options;return(_e=>{ct(O&&!O.includes(":"),"invalid-api-key",{appName:_e.name}),ct(!(null==$?void 0:$.includes(":")),"argument-error",{appName:_e.name});const Ye={apiKey:O,authDomain:$,clientPlatform:g,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Gr(g)},Pt=new Ao(_e,Ye);return function(g,d){const h=(null==d?void 0:d.persistence)||[],v=(Array.isArray(h)?h:[h]).map(Sn);(null==d?void 0:d.errorMap)&&g._updateErrorMap(d.errorMap),g._initializeWithPersistence(v,null==d?void 0:d.popupRedirectResolver)}(Pt,h),Pt})(v)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,h,v)=>{d.getProvider("auth-internal").initialize()})),(0,be._registerComponent)(new ft.wA("auth-internal",d=>{const h=lr(d.getProvider("auth").getImmediate());return new em(h)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,be.registerVersion)(Vu,"0.19.9",void 0),(0,be.registerVersion)(Vu,"0.19.9","esm2017");class _d extends Gf{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(d=>{this.resolveInialized=d})}addPassiveListener(d){this.passiveListeners.add(d)}removePassiveListener(d){this.passiveListeners.delete(d)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(d){return this.resolveInialized(),this.passiveListeners.forEach(h=>h(d)),super.onEvent(d)}initialized(){var d=this;return(0,w.Z)(function*(){yield d.initPromise})()}}function Bc(g){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,w.Z)(function*(g){const d=yield Wa()._get(xl(g));return d&&(yield Wa()._remove(xl(g))),d})).apply(this,arguments)}function ju(){const g=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let h=0;h<20;h++){const v=Math.floor(Math.random()*d.length);g.push(d.charAt(v))}return g.join("")}function Wa(){return Sn(x)}function xl(g){return Oe("authEvent",g.config.apiKey,g.name)}function za(g){if(!(null==g?void 0:g.includes("?")))return{};const[d,...h]=g.split("?");return(0,z.zd)(h.join("?"))}function ua(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:mn("no-auth-event")}}function Ts(){var g;return(null===(g=null==self?void 0:self.location)||void 0===g?void 0:g.protocol)||null}function Dh(g=(0,z.z$)()){return!("file:"!==Ts()&&"ionic:"!==Ts()||!g.toLowerCase().match(/iphone|ipad|ipod|android/))}function Uo(){try{const g=self.localStorage,d=ot();if(g)return g.setItem(d,"1"),g.removeItem(d),!function(g=(0,z.z$)()){return(0,z.w1)()&&11===(null==document?void 0:document.documentMode)||function(g=(0,z.z$)()){return/Edge\/\d+/.test(g)}(g)}()||(0,z.hl)()}catch(g){return Ga()&&(0,z.hl)()}return!1}function Ga(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function ca(){return("http:"===Ts()||"https:"===Ts()||(0,z.ru)()||Dh())&&!((0,z.b$)()||(0,z.UG)())&&Uo()&&!Ga()}function qa(){return Dh()&&"undefined"!=typeof document}function bo(){return(bo=(0,w.Z)(function*(){return!!qa()&&new Promise(g=>{const d=setTimeout(()=>{g(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(d),g(!0)})})})).apply(this,arguments)}const Ni={LOCAL:"local",NONE:"none",SESSION:"session"},Pi=ct,bd="persistence";function fu(g){return $c.apply(this,arguments)}function $c(){return($c=(0,w.Z)(function*(g){yield g._initializationPromise;const d=dt(),h=Oe(bd,g.config.apiKey,g.name);d&&d.setItem(h,g._getPersistence())})).apply(this,arguments)}function dt(){var g;try{return(null===(g="undefined"!=typeof window?window:null)||void 0===g?void 0:g.sessionStorage)||null}catch(d){return null}}const Nl=ct;class Ls{constructor(){this.browserResolver=Sn(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=W,this._completeRedirectFn=hi}_openPopup(d,h,v,O){var $=this;return(0,w.Z)(function*(){var _e;Yn(null===(_e=$.eventManagers[d._key()])||void 0===_e?void 0:_e.manager,"_initialize() not called before _openPopup()");const Ye=gd(d,h,v,Le(),O);return function(g,d,h,v=500,O=600){const $=Math.max((window.screen.availHeight-O)/2,0).toString(),_e=Math.max((window.screen.availWidth-v)/2,0).toString();let Ye="";const Pt=Object.assign(Object.assign({},pd),{width:v.toString(),height:O.toString(),top:$,left:_e}),Ct=(0,z.z$)().toLowerCase();h&&(Ye=un(Ct)?"_blank":h),He(Ct)&&(d=d||"http://localhost",Pt.scrollbars="yes");const nn=Object.entries(Pt).reduce((gr,[Vs,wa])=>`${gr}${Vs}=${wa},`,"");if(function(g=(0,z.z$)()){var d;return Pr(g)&&!!(null===(d=window.navigator)||void 0===d?void 0:d.standalone)}(Ct)&&"_self"!==Ye)return function(g,d){const h=document.createElement("a");h.href=g,h.target=d;const v=document.createEvent("MouseEvent");v.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),h.dispatchEvent(v)}(d||"",Ye),new pc(null);const on=window.open(d||"",Ye,nn);ct(on,g,"popup-blocked");try{on.focus()}catch(gr){}return new pc(on)}(d,Ye,ot())})()}_openRedirect(d,h,v,O){var $=this;return(0,w.Z)(function*(){return yield $._originValidation(d),g=gd(d,h,v,Le(),O),Zt().location.href=g,new Promise(()=>{});var g})()}_initialize(d){const h=d._key();if(this.eventManagers[h]){const{manager:O,promise:$}=this.eventManagers[h];return O?Promise.resolve(O):(Yn($,"If manager is not set, promise should be"),$)}const v=this.initAndGetManager(d);return this.eventManagers[h]={promise:v},v.catch(()=>{delete this.eventManagers[h]}),v}initAndGetManager(d){var h=this;return(0,w.Z)(function*(){const v=yield function(g){return bl.apply(this,arguments)}(d),O=new Gf(d);return v.register("authEvent",$=>(ct(null==$?void 0:$.authEvent,d,"invalid-auth-event"),{status:O.onEvent($.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),h.eventManagers[d._key()]={manager:O},h.iframes[d._key()]=v,O})()}_isIframeWebStorageSupported(d,h){this.iframes[d._key()].send(Fu,{type:Fu},O=>{var $;const _e=null===($=null==O?void 0:O[0])||void 0===$?void 0:$[Fu];void 0!==_e&&h(!!_e),Yt(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const h=d._key();return this.originValidationPromises[h]||(this.originValidationPromises[h]=function(g){return El.apply(this,arguments)}(d)),this.originValidationPromises[h]}get _shouldInitProactively(){return us()||it()||Pr()}}),this.cordovaResolver=Sn(class{constructor(){this._redirectPersistence=W,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=hi}_initialize(d){var h=this;return(0,w.Z)(function*(){const v=d._key();let O=h.eventManagers.get(v);return O||(O=new _d(d),h.eventManagers.set(v,O),h.attachCallbackListeners(d,O)),O})()}_openPopup(d){Yt(d,"operation-not-supported-in-this-environment")}_openRedirect(d,h,v,O){var $=this;return(0,w.Z)(function*(){!function(g){var d,h,v,O,$,_e,Ye,Pt,Ct,nn;const on=qo();ct("function"==typeof(null===(d=null==on?void 0:on.universalLinks)||void 0===d?void 0:d.subscribe),g,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ct(void 0!==(null===(h=null==on?void 0:on.BuildInfo)||void 0===h?void 0:h.packageName),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ct("function"==typeof(null===($=null===(O=null===(v=null==on?void 0:on.cordova)||void 0===v?void 0:v.plugins)||void 0===O?void 0:O.browsertab)||void 0===$?void 0:$.openUrl),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ct("function"==typeof(null===(Pt=null===(Ye=null===(_e=null==on?void 0:on.cordova)||void 0===_e?void 0:_e.plugins)||void 0===Ye?void 0:Ye.browsertab)||void 0===Pt?void 0:Pt.isAvailable),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ct("function"==typeof(null===(nn=null===(Ct=null==on?void 0:on.cordova)||void 0===Ct?void 0:Ct.InAppBrowser)||void 0===nn?void 0:nn.open),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(d);const _e=yield $._initialize(d);yield _e.initialized(),_e.resetRedirect(),Ou.clear(),yield $._originValidation(d);const Ye=function(g,d,h=null){return{type:d,eventId:h,urlResponse:null,sessionId:ju(),postBody:null,tenantId:g.tenantId,error:mn(g,"no-auth-event")}}(d,v,O);yield function(g,d){return Wa()._set(xl(g),d)}(d,Ye);const Pt=yield function(g,d,h){return Uc.apply(this,arguments)}(d,Ye,h),Ct=yield function(g){const{cordova:d}=qo();return new Promise(h=>{d.plugins.browsertab.isAvailable(v=>{let O=null;v?d.plugins.browsertab.openUrl(g):O=d.InAppBrowser.open(g,function(g=(0,z.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(g)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(g)}()?"_blank":"_system","location=yes"),h(O)})})}(Pt);return function(g,d,h){return Sl.apply(this,arguments)}(d,_e,Ct)})()}_isIframeWebStorageSupported(d,h){throw new Error("Method not implemented.")}_originValidation(d){const h=d._key();return this.originValidationPromises[h]||(this.originValidationPromises[h]=function(g){return Dl.apply(this,arguments)}(d)),this.originValidationPromises[h]}attachCallbackListeners(d,h){const{universalLinks:v,handleOpenURL:O,BuildInfo:$}=qo(),_e=setTimeout((0,w.Z)(function*(){yield Bc(d),h.onEvent(ua())}),500),Ye=function(){var nn=(0,w.Z)(function*(on){clearTimeout(_e);const gr=yield Bc(d);let Vs=null;gr&&(null==on?void 0:on.url)&&(Vs=function(g,d){var h,v;const O=function(g){const d=za(g),h=d.link?decodeURIComponent(d.link):void 0,v=za(h).link,O=d.deep_link_id?decodeURIComponent(d.deep_link_id):void 0;return za(O).link||O||v||h||g}(d);if(O.includes("/__/auth/callback")){const $=za(O),_e=$.firebaseError?function(g){try{return JSON.parse(g)}catch(d){return null}}(decodeURIComponent($.firebaseError)):null,Ye=null===(v=null===(h=null==_e?void 0:_e.code)||void 0===h?void 0:h.split("auth/"))||void 0===v?void 0:v[1],Pt=Ye?mn(Ye):null;return Pt?{type:g.type,eventId:g.eventId,tenantId:g.tenantId,error:Pt,urlResponse:null,sessionId:null,postBody:null}:{type:g.type,eventId:g.eventId,tenantId:g.tenantId,sessionId:g.sessionId,urlResponse:O,postBody:null}}return null}(gr,on.url)),h.onEvent(Vs||ua())});return function(gr){return nn.apply(this,arguments)}}();void 0!==v&&"function"==typeof v.subscribe&&v.subscribe(null,Ye);const Pt=O,Ct=`${$.packageName.toLowerCase()}://`;qo().handleOpenURL=function(){var nn=(0,w.Z)(function*(on){if(on.toLowerCase().startsWith(Ct)&&Ye({url:on}),"function"==typeof Pt)try{Pt(on)}catch(gr){console.error(gr)}});return function(on){return nn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=W,this._completeRedirectFn=hi}_initialize(d){var h=this;return(0,w.Z)(function*(){return yield h.selectUnderlyingResolver(),h.assertedUnderlyingResolver._initialize(d)})()}_openPopup(d,h,v,O){var $=this;return(0,w.Z)(function*(){return yield $.selectUnderlyingResolver(),$.assertedUnderlyingResolver._openPopup(d,h,v,O)})()}_openRedirect(d,h,v,O){var $=this;return(0,w.Z)(function*(){return yield $.selectUnderlyingResolver(),$.assertedUnderlyingResolver._openRedirect(d,h,v,O)})()}_isIframeWebStorageSupported(d,h){this.assertedUnderlyingResolver._isIframeWebStorageSupported(d,h)}_originValidation(d){return this.assertedUnderlyingResolver._originValidation(d)}get _shouldInitProactively(){return qa()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Nl(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var d=this;return(0,w.Z)(function*(){if(d.underlyingResolver)return;const h=yield function(){return bo.apply(this,arguments)}();d.underlyingResolver=h?d.cordovaResolver:d.browserResolver})()}}function Hc(g){return g.unwrap()}function pu(g){return gu(g)}function gu(g){const{_tokenResponse:d}=g instanceof z.ZR?g.customData:g;if(!d)return null;if(!(g instanceof z.ZR)&&"temporaryProof"in d&&"phoneNumber"in d)return Qe.credentialFromResult(g);const h=d.providerId;if(!h||"password"===h)return null;let v;switch(h){case"google.com":v=tn;break;case"facebook.com":v=yt;break;case"github.com":v=Ln;break;case"twitter.com":v=Er;break;default:const{oauthIdToken:O,oauthAccessToken:$,oauthTokenSecret:_e,pendingToken:Ye,nonce:Pt}=d;return $||_e||O||Ye?Ye?h.startsWith("saml.")?dr._create(h,Ye):kn._fromParams({providerId:h,signInMethod:h,pendingToken:Ye,idToken:O,accessToken:$}):new rt(h).credential({idToken:O,accessToken:$,rawNonce:Pt}):null}return g instanceof z.ZR?v.credentialFromError(g):v.credentialFromResult(g)}function ho(g,d){return d.catch(h=>{throw h instanceof z.ZR&&function(g,d){var h;const v=null===(h=d.customData)||void 0===h?void 0:h._tokenResponse;if("auth/multi-factor-auth-required"===d.code)d.resolver=new Cs(g,function(g,d){var h;const v=(0,z.m9)(g),O=d;return ct(d.customData.operationType,v,"argument-error"),ct(null===(h=O.customData._serverResponse)||void 0===h?void 0:h.mfaPendingCredential,v,"argument-error"),Ra._fromError(v,O)}(g,d));else if(v){const O=gu(d),$=d;O&&($.credential=O,$.tenantId=v.tenantId||void 0,$.email=v.email||void 0,$.phoneNumber=v.phoneNumber||void 0)}}(g,h),h}).then(h=>{const O=h.user;return{operationType:h.operationType,credential:pu(h),additionalUserInfo:Yi(h),user:la.getOrCreate(O)}})}function Pl(g,d){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,w.Z)(function*(g,d){const h=yield d;return{verificationId:h.verificationId,confirm:v=>ho(g,h.confirm(v))}})).apply(this,arguments)}class Cs{constructor(d,h){this.resolver=h,this.auth=function(g){return g.wrapped()}(d)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(d){return ho(Hc(this.auth),this.resolver.resolveSignIn(d))}}class la{constructor(d){this._delegate=d,this.multiFactor=function(g){const d=(0,z.m9)(g);return La.has(d)||La.set(d,xa._fromUser(d)),La.get(d)}(d)}static getOrCreate(d){return la.USER_MAP.has(d)||la.USER_MAP.set(d,new la(d)),la.USER_MAP.get(d)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(d){return this._delegate.getIdTokenResult(d)}getIdToken(d){return this._delegate.getIdToken(d)}linkAndRetrieveDataWithCredential(d){return this.linkWithCredential(d)}linkWithCredential(d){var h=this;return(0,w.Z)(function*(){return ho(h.auth,y(h._delegate,d))})()}linkWithPhoneNumber(d,h){var v=this;return(0,w.Z)(function*(){return Pl(v.auth,function(g,d,h){return gl.apply(this,arguments)}(v._delegate,d,h))})()}linkWithPopup(d){var h=this;return(0,w.Z)(function*(){return ho(h.auth,function(g,d,h){return Go.apply(this,arguments)}(h._delegate,d,Ls))})()}linkWithRedirect(d){var h=this;return(0,w.Z)(function*(){return yield fu(lr(h.auth)),function(g,d,h){return function(g,d,h){return ku.apply(this,arguments)}(g,d,h)}(h._delegate,d,Ls)})()}reauthenticateAndRetrieveDataWithCredential(d){return this.reauthenticateWithCredential(d)}reauthenticateWithCredential(d){var h=this;return(0,w.Z)(function*(){return ho(h.auth,D(h._delegate,d))})()}reauthenticateWithPhoneNumber(d,h){return Pl(this.auth,function(g,d,h){return A.apply(this,arguments)}(this._delegate,d,h))}reauthenticateWithPopup(d){return ho(this.auth,function(g,d,h){return Fo.apply(this,arguments)}(this._delegate,d,Ls))}reauthenticateWithRedirect(d){var h=this;return(0,w.Z)(function*(){return yield fu(lr(h.auth)),function(g,d,h){return function(g,d,h){return Na.apply(this,arguments)}(g,d,h)}(h._delegate,d,Ls)})()}sendEmailVerification(d){return function(g,d){return Wn.apply(this,arguments)}(this._delegate,d)}unlink(d){var h=this;return(0,w.Z)(function*(){return yield function(g,d){return io.apply(this,arguments)}(h._delegate,d),h})()}updateEmail(d){return function(g,d){return $i((0,z.m9)(g),d,null)}(this._delegate,d)}updatePassword(d){return function(g,d){return $i((0,z.m9)(g),null,d)}(this._delegate,d)}updatePhoneNumber(d){return function(g,d){return Ue.apply(this,arguments)}(this._delegate,d)}updateProfile(d){return function(g,d){return Qr.apply(this,arguments)}(this._delegate,d)}verifyBeforeUpdateEmail(d,h){return function(g,d,h){return Ms.apply(this,arguments)}(this._delegate,d,h)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}la.USER_MAP=new WeakMap;const mu=ct;let Za=(()=>{class g{constructor(h,v){if(this.app=h,v.isInitialized())return this._delegate=v.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:O}=h.options;mu(O,"invalid-api-key",{appName:h.name}),mu(O,"invalid-api-key",{appName:h.name});const $="undefined"!=typeof window?Ls:void 0;this._delegate=v.initialize({options:{persistence:Xf(O,h.name),popupRedirectResolver:$}}),this._delegate._updateErrorMap(Cn),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?la.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(h){this._delegate.languageCode=h}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(h){this._delegate.tenantId=h}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(h,v){!function(g,d,h){const v=lr(g);ct(v._canInitEmulator,v,"emulator-config-failed"),ct(/^https?:\/\//.test(d),v,"invalid-emulator-scheme");const O=!!(null==h?void 0:h.disableWarnings),$=Bi(d),{host:_e,port:Ye}=function(g){const d=Bi(g),h=/(\/\/)?([^?#/]+)/.exec(g.substr(d.length));if(!h)return{host:"",port:null};const v=h[2].split("@").pop()||"",O=/^(\[[^\]]+\])(:|$)/.exec(v);if(O){const $=O[1];return{host:$,port:oi(v.substr($.length+1))}}{const[$,_e]=v.split(":");return{host:$,port:oi(_e)}}}(d);v.config.emulator={url:`${$}//${_e}${null===Ye?"":`:${Ye}`}/`},v.settings.appVerificationDisabledForTesting=!0,v.emulatorConfig=Object.freeze({host:_e,port:Ye,protocol:$.replace(":",""),options:Object.freeze({disableWarnings:O})}),O||function(){function g(){const d=document.createElement("p"),h=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",h.position="fixed",h.width="100%",h.backgroundColor="#ffffff",h.border=".1em solid #000000",h.color="#b50000",h.bottom="0px",h.left="0px",h.margin="0px",h.zIndex="10000",h.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",g):g())}()}(this._delegate,h,v)}applyActionCode(h){return function(g,d){return Dr.apply(this,arguments)}(this._delegate,h)}checkActionCode(h){return $r(this._delegate,h)}confirmPasswordReset(h,v){return function(g,d,h){return Rn.apply(this,arguments)}(this._delegate,h,v)}createUserWithEmailAndPassword(h,v){var O=this;return(0,w.Z)(function*(){return ho(O._delegate,function(g,d,h){return ci.apply(this,arguments)}(O._delegate,h,v))})()}fetchProvidersForEmail(h){return this.fetchSignInMethodsForEmail(h)}fetchSignInMethodsForEmail(h){return function(g,d){return gn.apply(this,arguments)}(this._delegate,h)}isSignInWithEmailLink(h){return function(g,d){const h=N.parseLink(d);return"EMAIL_SIGNIN"===(null==h?void 0:h.operation)}(0,h)}getRedirectResult(){var h=this;return(0,w.Z)(function*(){mu(ca(),h._delegate,"operation-not-supported-in-this-environment");const v=yield function(g,d){return hu.apply(this,arguments)}(h._delegate,Ls);return v?ho(h._delegate,Promise.resolve(v)):{credential:null,user:null}})()}addFrameworkForLogging(h){!function(g,d){lr(g)._logFramework(d)}(this._delegate,h)}onAuthStateChanged(h,v,O){const{next:$,error:_e,complete:Ye}=Fs(h,v,O);return this._delegate.onAuthStateChanged($,_e,Ye)}onIdTokenChanged(h,v,O){const{next:$,error:_e,complete:Ye}=Fs(h,v,O);return this._delegate.onIdTokenChanged($,_e,Ye)}sendSignInLinkToEmail(h,v){return function(g,d,h){return ii.apply(this,arguments)}(this._delegate,h,v)}sendPasswordResetEmail(h,v){return function(g,d,h){return Gn.apply(this,arguments)}(this._delegate,h,v||void 0)}setPersistence(h){var v=this;return(0,w.Z)(function*(){let O;switch(function(g,d){Pi(Object.values(Ni).includes(d),g,"invalid-persistence-type"),(0,z.b$)()?Pi(d!==Ni.SESSION,g,"unsupported-persistence-type"):(0,z.UG)()?Pi(d===Ni.NONE,g,"unsupported-persistence-type"):Ga()?Pi(d===Ni.NONE||d===Ni.LOCAL&&(0,z.hl)(),g,"unsupported-persistence-type"):Pi(d===Ni.NONE||Uo(),g,"unsupported-persistence-type")}(v._delegate,h),h){case Ni.SESSION:O=W;break;case Ni.LOCAL:O=(yield Sn(Va)._isAvailable())?Va:x;break;case Ni.NONE:O=dn;break;default:return Yt("argument-error",{appName:v._delegate.name})}return v._delegate.setPersistence(O)})()}signInAndRetrieveDataWithCredential(h){return this.signInWithCredential(h)}signInAnonymously(){return ho(this._delegate,function(g){return vn.apply(this,arguments)}(this._delegate))}signInWithCredential(h){return ho(this._delegate,vs(this._delegate,h))}signInWithCustomToken(h){return ho(this._delegate,function(g,d){return Ve.apply(this,arguments)}(this._delegate,h))}signInWithEmailAndPassword(h,v){return ho(this._delegate,function(g,d,h){return vs((0,z.m9)(g),P.credential(d,h))}(this._delegate,h,v))}signInWithEmailLink(h,v){return ho(this._delegate,function(g,d,h){return Zr.apply(this,arguments)}(this._delegate,h,v))}signInWithPhoneNumber(h,v){return Pl(this._delegate,function(g,d,h){return au.apply(this,arguments)}(this._delegate,h,v))}signInWithPopup(h){var v=this;return(0,w.Z)(function*(){return mu(ca(),v._delegate,"operation-not-supported-in-this-environment"),ho(v._delegate,function(g,d,h){return Lo.apply(this,arguments)}(v._delegate,h,Ls))})()}signInWithRedirect(h){var v=this;return(0,w.Z)(function*(){return mu(ca(),v._delegate,"operation-not-supported-in-this-environment"),yield fu(v._delegate),function(g,d,h){return function(g,d,h){return oa.apply(this,arguments)}(g,d,h)}(v._delegate,h,Ls)})()}updateCurrentUser(h){return this._delegate.updateCurrentUser(h)}verifyPasswordResetCode(h){return function(g,d){return ls.apply(this,arguments)}(this._delegate,h)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return g.Persistence=Ni,g})();function Fs(g,d,h){let v=g;"function"!=typeof g&&({next:v,error:d,complete:h}=g);const O=v;return{next:_e=>O(_e&&la.getOrCreate(_e)),error:d,complete:h}}function Xf(g,d){const h=function(g,d){const h=dt();if(!h)return[];const v=Oe(bd,g,d);switch(h.getItem(v)){case Ni.NONE:return[dn];case Ni.LOCAL:return[Va,W];case Ni.SESSION:return[W];default:return[]}}(g,d);if("undefined"!=typeof self&&!h.includes(Va)&&h.push(Va),"undefined"!=typeof window)for(const v of[x,W])h.includes(v)||h.push(v);return h.includes(dn)||h.push(dn),h}class Cd{constructor(){this.providerId="phone",this._delegate=new Qe(Hc(L.Z.auth()))}static credential(d,h){return Qe.credential(d,h)}verifyPhoneNumber(d,h){return this._delegate.verifyPhoneNumber(d,h)}unwrap(){return this._delegate}}Cd.PHONE_SIGN_IN_METHOD=Qe.PHONE_SIGN_IN_METHOD,Cd.PROVIDER_ID=Qe.PROVIDER_ID;const Dd=ct;class Ah{constructor(d,h,v=L.Z.app()){var O;Dd(null===(O=v.options)||void 0===O?void 0:O.apiKey,"invalid-api-key",{appName:v.name}),this._delegate=new xc(d,h,v.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(g){g.INTERNAL.registerComponent(new ft.wA("auth-compat",d=>{const h=d.getProvider("app-compat").getImmediate(),v=d.getProvider("auth");return new Za(h,v)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:P,FacebookAuthProvider:yt,GithubAuthProvider:Ln,GoogleAuthProvider:tn,OAuthProvider:rt,SAMLAuthProvider:sr,PhoneAuthProvider:Cd,PhoneMultiFactorGenerator:vh,RecaptchaVerifier:Ah,TwitterAuthProvider:Er,Auth:Za,AuthCredential:to,Error:z.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),g.registerVersion("@firebase/auth-compat","0.2.9")}(L.Z)},2842:function(Mt,Be){!function(F){"use strict";function w(Ke){return Array.prototype.slice.call(Ke)}function L(Ke){return new Promise(function(Pe,Ne){Ke.onsuccess=function(){Pe(Ke.result)},Ke.onerror=function(){Ne(Ke.error)}})}function z(Ke,Pe,Ne){var Ie,je=new Promise(function(Xe,kt){L(Ie=Ke[Pe].apply(Ke,Ne)).then(Xe,kt)});return je.request=Ie,je}function be(Ke,Pe,Ne){var Ie=z(Ke,Pe,Ne);return Ie.then(function(je){if(je)return new Q(je,Ie.request)})}function oe(Ke,Pe,Ne){Ne.forEach(function(Ie){Object.defineProperty(Ke.prototype,Ie,{get:function(){return this[Pe][Ie]},set:function(je){this[Pe][Ie]=je}})})}function te(Ke,Pe,Ne,Ie){Ie.forEach(function(je){je in Ne.prototype&&(Ke.prototype[je]=function(){return z(this[Pe],je,arguments)})})}function De(Ke,Pe,Ne,Ie){Ie.forEach(function(je){je in Ne.prototype&&(Ke.prototype[je]=function(){return this[Pe][je].apply(this[Pe],arguments)})})}function ee(Ke,Pe,Ne,Ie){Ie.forEach(function(je){je in Ne.prototype&&(Ke.prototype[je]=function(){return be(this[Pe],je,arguments)})})}function Te(Ke){this._index=Ke}function Q(Ke,Pe){this._cursor=Ke,this._request=Pe}function ne(Ke){this._store=Ke}function J(Ke){this._tx=Ke,this.complete=new Promise(function(Pe,Ne){Ke.oncomplete=function(){Pe()},Ke.onerror=function(){Ne(Ke.error)},Ke.onabort=function(){Ne(Ke.error)}})}function ve(Ke,Pe,Ne){this._db=Ke,this.oldVersion=Pe,this.transaction=new J(Ne)}function Ge(Ke){this._db=Ke}oe(Te,"_index",["name","keyPath","multiEntry","unique"]),te(Te,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),ee(Te,"_index",IDBIndex,["openCursor","openKeyCursor"]),oe(Q,"_cursor",["direction","key","primaryKey","value"]),te(Q,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(Ke){Ke in IDBCursor.prototype&&(Q.prototype[Ke]=function(){var Pe=this,Ne=arguments;return Promise.resolve().then(function(){return Pe._cursor[Ke].apply(Pe._cursor,Ne),L(Pe._request).then(function(Ie){if(Ie)return new Q(Ie,Pe._request)})})})}),ne.prototype.createIndex=function(){return new Te(this._store.createIndex.apply(this._store,arguments))},ne.prototype.index=function(){return new Te(this._store.index.apply(this._store,arguments))},oe(ne,"_store",["name","keyPath","indexNames","autoIncrement"]),te(ne,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),ee(ne,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),De(ne,"_store",IDBObjectStore,["deleteIndex"]),J.prototype.objectStore=function(){return new ne(this._tx.objectStore.apply(this._tx,arguments))},oe(J,"_tx",["objectStoreNames","mode"]),De(J,"_tx",IDBTransaction,["abort"]),ve.prototype.createObjectStore=function(){return new ne(this._db.createObjectStore.apply(this._db,arguments))},oe(ve,"_db",["name","version","objectStoreNames"]),De(ve,"_db",IDBDatabase,["deleteObjectStore","close"]),Ge.prototype.transaction=function(){return new J(this._db.transaction.apply(this._db,arguments))},oe(Ge,"_db",["name","version","objectStoreNames"]),De(Ge,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(Ke){[ne,Te].forEach(function(Pe){Ke in Pe.prototype&&(Pe.prototype[Ke.replace("open","iterate")]=function(){var Ne=w(arguments),Ie=Ne[Ne.length-1],je=this._store||this._index,Xe=je[Ke].apply(je,Ne.slice(0,-1));Xe.onsuccess=function(){Ie(Xe.result)}})})}),[Te,ne].forEach(function(Ke){Ke.prototype.getAll||(Ke.prototype.getAll=function(Pe,Ne){var Ie=this,je=[];return new Promise(function(Xe){Ie.iterateCursor(Pe,function(kt){kt?(je.push(kt.value),void 0===Ne||je.length!=Ne?kt.continue():Xe(je)):Xe(je)})})})}),F.openDb=function(Ke,Pe,Ne){var Ie=z(indexedDB,"open",[Ke,Pe]),je=Ie.request;return je&&(je.onupgradeneeded=function(Xe){Ne&&Ne(new ve(je.result,Xe.oldVersion,je.transaction))}),Ie.then(function(Xe){return new Ge(Xe)})},F.deleteDb=function(Ke){return z(indexedDB,"deleteDatabase",[Ke])},Object.defineProperty(F,"__esModule",{value:!0})}(Be)},9923:(Mt,Be,F)=>{"use strict";F.d(Be,{X:()=>z});var w=F(6006),L=F(7078);class z extends w.xQ{constructor(oe){super(),this._value=oe}get value(){return this.getValue()}_subscribe(oe){const te=super._subscribe(oe);return te&&!te.closed&&oe.next(this._value),te}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new L.N;return this._value}next(oe){super.next(this._value=oe)}}},2072:(Mt,Be,F)=>{"use strict";F.d(Be,{d:()=>L});var w=F(8744);class L extends w.L{constructor(be,oe,te){super(),this.parent=be,this.outerValue=oe,this.outerIndex=te,this.index=0}_next(be){this.parent.notifyNext(this.outerValue,be,this.outerIndex,this.index++,this)}_error(be){this.parent.notifyError(be,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}},3948:(Mt,Be,F)=>{"use strict";F.d(Be,{y:()=>ne});var w=F(8744),z=F(9754),be=F(5669),te=F(7631),De=F(7846);var Q=F(6633);let ne=(()=>{class ve{constructor(st){this._isScalar=!1,st&&(this._subscribe=st)}lift(st){const ke=new ve;return ke.source=this,ke.operator=st,ke}subscribe(st,ke,Ke){const{operator:Pe}=this,Ne=function(ve,Ge,st){if(ve){if(ve instanceof w.L)return ve;if(ve[z.b])return ve[z.b]()}return ve||Ge||st?new w.L(ve,Ge,st):new w.L(be.c)}(st,ke,Ke);if(Ne.add(Pe?Pe.call(Ne,this.source):this.source||Q.v.useDeprecatedSynchronousErrorHandling&&!Ne.syncErrorThrowable?this._subscribe(Ne):this._trySubscribe(Ne)),Q.v.useDeprecatedSynchronousErrorHandling&&Ne.syncErrorThrowable&&(Ne.syncErrorThrowable=!1,Ne.syncErrorThrown))throw Ne.syncErrorValue;return Ne}_trySubscribe(st){try{return this._subscribe(st)}catch(ke){Q.v.useDeprecatedSynchronousErrorHandling&&(st.syncErrorThrown=!0,st.syncErrorValue=ke),function(ve){for(;ve;){const{closed:Ge,destination:st,isStopped:ke}=ve;if(Ge||ke)return!1;ve=st&&st instanceof w.L?st:null}return!0}(st)?st.error(ke):console.warn(ke)}}forEach(st,ke){return new(ke=J(ke))((Ke,Pe)=>{let Ne;Ne=this.subscribe(Ie=>{try{st(Ie)}catch(je){Pe(je),Ne&&Ne.unsubscribe()}},Pe,Ke)})}_subscribe(st){const{source:ke}=this;return ke&&ke.subscribe(st)}[te.L](){return this}pipe(...st){return 0===st.length?this:function(ve){return 0===ve.length?De.y:1===ve.length?ve[0]:function(st){return ve.reduce((ke,Ke)=>Ke(ke),st)}}(st)(this)}toPromise(st){return new(st=J(st))((ke,Ke)=>{let Pe;this.subscribe(Ne=>Pe=Ne,Ne=>Ke(Ne),()=>ke(Pe))})}}return ve.create=Ge=>new ve(Ge),ve})();function J(ve){if(ve||(ve=Q.v.Promise||Promise),!ve)throw new Error("no Promise impl found");return ve}},5669:(Mt,Be,F)=>{"use strict";F.d(Be,{c:()=>z});var w=F(6633),L=F(3863);const z={closed:!0,next(be){},error(be){if(w.v.useDeprecatedSynchronousErrorHandling)throw be;(0,L.z)(be)},complete(){}}},2167:(Mt,Be,F)=>{"use strict";F.d(Be,{L:()=>L});var w=F(8744);class L extends w.L{notifyNext(be,oe,te,De,ee){this.destination.next(oe)}notifyError(be,oe){this.destination.error(be)}notifyComplete(be){this.destination.complete()}}},6006:(Mt,Be,F)=>{"use strict";F.d(Be,{Yc:()=>De,xQ:()=>ee});var w=F(3948),L=F(8744),z=F(9734),be=F(7078),oe=F(2417),te=F(9754);class De extends L.L{constructor(ne){super(ne),this.destination=ne}}let ee=(()=>{class Q extends w.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[te.b](){return new De(this)}lift(J){const ve=new Te(this,this);return ve.operator=J,ve}next(J){if(this.closed)throw new be.N;if(!this.isStopped){const{observers:ve}=this,Ge=ve.length,st=ve.slice();for(let ke=0;ke<Ge;ke++)st[ke].next(J)}}error(J){if(this.closed)throw new be.N;this.hasError=!0,this.thrownError=J,this.isStopped=!0;const{observers:ve}=this,Ge=ve.length,st=ve.slice();for(let ke=0;ke<Ge;ke++)st[ke].error(J);this.observers.length=0}complete(){if(this.closed)throw new be.N;this.isStopped=!0;const{observers:J}=this,ve=J.length,Ge=J.slice();for(let st=0;st<ve;st++)Ge[st].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(J){if(this.closed)throw new be.N;return super._trySubscribe(J)}_subscribe(J){if(this.closed)throw new be.N;return this.hasError?(J.error(this.thrownError),z.w.EMPTY):this.isStopped?(J.complete(),z.w.EMPTY):(this.observers.push(J),new oe.W(this,J))}asObservable(){const J=new w.y;return J.source=this,J}}return Q.create=(ne,J)=>new Te(ne,J),Q})();class Te extends ee{constructor(ne,J){super(),this.destination=ne,this.source=J}next(ne){const{destination:J}=this;J&&J.next&&J.next(ne)}error(ne){const{destination:J}=this;J&&J.error&&this.destination.error(ne)}complete(){const{destination:ne}=this;ne&&ne.complete&&this.destination.complete()}_subscribe(ne){const{source:J}=this;return J?this.source.subscribe(ne):z.w.EMPTY}}},2417:(Mt,Be,F)=>{"use strict";F.d(Be,{W:()=>L});var w=F(9734);class L extends w.w{constructor(be,oe){super(),this.subject=be,this.subscriber=oe,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const be=this.subject,oe=be.observers;if(this.subject=null,!oe||0===oe.length||be.isStopped||be.closed)return;const te=oe.indexOf(this.subscriber);-1!==te&&oe.splice(te,1)}}},8744:(Mt,Be,F)=>{"use strict";F.d(Be,{L:()=>De});var w=F(3673),L=F(5669),z=F(9734),be=F(9754),oe=F(6633),te=F(3863);class De extends z.w{constructor(Q,ne,J){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=L.c;break;case 1:if(!Q){this.destination=L.c;break}if("object"==typeof Q){Q instanceof De?(this.syncErrorThrowable=Q.syncErrorThrowable,this.destination=Q,Q.add(this)):(this.syncErrorThrowable=!0,this.destination=new ee(this,Q));break}default:this.syncErrorThrowable=!0,this.destination=new ee(this,Q,ne,J)}}[be.b](){return this}static create(Q,ne,J){const ve=new De(Q,ne,J);return ve.syncErrorThrowable=!1,ve}next(Q){this.isStopped||this._next(Q)}error(Q){this.isStopped||(this.isStopped=!0,this._error(Q))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(Q){this.destination.next(Q)}_error(Q){this.destination.error(Q),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:Q}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=Q,this}}class ee extends De{constructor(Q,ne,J,ve){super(),this._parentSubscriber=Q;let Ge,st=this;(0,w.m)(ne)?Ge=ne:ne&&(Ge=ne.next,J=ne.error,ve=ne.complete,ne!==L.c&&(st=Object.create(ne),(0,w.m)(st.unsubscribe)&&this.add(st.unsubscribe.bind(st)),st.unsubscribe=this.unsubscribe.bind(this))),this._context=st,this._next=Ge,this._error=J,this._complete=ve}next(Q){if(!this.isStopped&&this._next){const{_parentSubscriber:ne}=this;oe.v.useDeprecatedSynchronousErrorHandling&&ne.syncErrorThrowable?this.__tryOrSetError(ne,this._next,Q)&&this.unsubscribe():this.__tryOrUnsub(this._next,Q)}}error(Q){if(!this.isStopped){const{_parentSubscriber:ne}=this,{useDeprecatedSynchronousErrorHandling:J}=oe.v;if(this._error)J&&ne.syncErrorThrowable?(this.__tryOrSetError(ne,this._error,Q),this.unsubscribe()):(this.__tryOrUnsub(this._error,Q),this.unsubscribe());else if(ne.syncErrorThrowable)J?(ne.syncErrorValue=Q,ne.syncErrorThrown=!0):(0,te.z)(Q),this.unsubscribe();else{if(this.unsubscribe(),J)throw Q;(0,te.z)(Q)}}}complete(){if(!this.isStopped){const{_parentSubscriber:Q}=this;if(this._complete){const ne=()=>this._complete.call(this._context);oe.v.useDeprecatedSynchronousErrorHandling&&Q.syncErrorThrowable?(this.__tryOrSetError(Q,ne),this.unsubscribe()):(this.__tryOrUnsub(ne),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(Q,ne){try{Q.call(this._context,ne)}catch(J){if(this.unsubscribe(),oe.v.useDeprecatedSynchronousErrorHandling)throw J;(0,te.z)(J)}}__tryOrSetError(Q,ne,J){if(!oe.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{ne.call(this._context,J)}catch(ve){return oe.v.useDeprecatedSynchronousErrorHandling?(Q.syncErrorValue=ve,Q.syncErrorThrown=!0,!0):((0,te.z)(ve),!0)}return!1}_unsubscribe(){const{_parentSubscriber:Q}=this;this._context=null,this._parentSubscriber=null,Q.unsubscribe()}}},9734:(Mt,Be,F)=>{"use strict";F.d(Be,{w:()=>te});var w=F(9622),L=F(153),z=F(3673);const oe=(()=>{function ee(Te){return Error.call(this),this.message=Te?`${Te.length} errors occurred during unsubscription:\n${Te.map((Q,ne)=>`${ne+1}) ${Q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Te,this}return ee.prototype=Object.create(Error.prototype),ee})();class te{constructor(Te){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,Te&&(this._unsubscribe=Te)}unsubscribe(){let Te;if(this.closed)return;let{_parentOrParents:Q,_unsubscribe:ne,_subscriptions:J}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,Q instanceof te)Q.remove(this);else if(null!==Q)for(let ve=0;ve<Q.length;++ve)Q[ve].remove(this);if((0,z.m)(ne))try{ne.call(this)}catch(ve){Te=ve instanceof oe?De(ve.errors):[ve]}if((0,w.k)(J)){let ve=-1,Ge=J.length;for(;++ve<Ge;){const st=J[ve];if((0,L.K)(st))try{st.unsubscribe()}catch(ke){Te=Te||[],ke instanceof oe?Te=Te.concat(De(ke.errors)):Te.push(ke)}}}if(Te)throw new oe(Te)}add(Te){let Q=Te;if(!Te)return te.EMPTY;switch(typeof Te){case"function":Q=new te(Te);case"object":if(Q===this||Q.closed||"function"!=typeof Q.unsubscribe)return Q;if(this.closed)return Q.unsubscribe(),Q;if(!(Q instanceof te)){const ve=Q;Q=new te,Q._subscriptions=[ve]}break;default:throw new Error("unrecognized teardown "+Te+" added to Subscription.")}let{_parentOrParents:ne}=Q;if(null===ne)Q._parentOrParents=this;else if(ne instanceof te){if(ne===this)return Q;Q._parentOrParents=[ne,this]}else{if(-1!==ne.indexOf(this))return Q;ne.push(this)}const J=this._subscriptions;return null===J?this._subscriptions=[Q]:J.push(Q),Q}remove(Te){const Q=this._subscriptions;if(Q){const ne=Q.indexOf(Te);-1!==ne&&Q.splice(ne,1)}}}var ee;function De(ee){return ee.reduce((Te,Q)=>Te.concat(Q instanceof oe?Q.errors:Q),[])}te.EMPTY=((ee=new te).closed=!0,ee)},6633:(Mt,Be,F)=>{"use strict";F.d(Be,{v:()=>L});let w=!1;const L={Promise:void 0,set useDeprecatedSynchronousErrorHandling(z){if(z){const be=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+be.stack)}else w&&console.log("RxJS: Back to a better error behavior. Thank you. <3");w=z},get useDeprecatedSynchronousErrorHandling(){return w}}},955:(Mt,Be,F)=>{"use strict";F.d(Be,{c:()=>oe,N:()=>te});var w=F(6006),L=F(3948),z=F(9734),be=F(5290);class oe extends L.y{constructor(ne,J){super(),this.source=ne,this.subjectFactory=J,this._refCount=0,this._isComplete=!1}_subscribe(ne){return this.getSubject().subscribe(ne)}getSubject(){const ne=this._subject;return(!ne||ne.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let ne=this._connection;return ne||(this._isComplete=!1,ne=this._connection=new z.w,ne.add(this.source.subscribe(new De(this.getSubject(),this))),ne.closed&&(this._connection=null,ne=z.w.EMPTY)),ne}refCount(){return(0,be.x)()(this)}}const te=(()=>{const Q=oe.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:Q._subscribe},_isComplete:{value:Q._isComplete,writable:!0},getSubject:{value:Q.getSubject},connect:{value:Q.connect},refCount:{value:Q.refCount}}})();class De extends w.Yc{constructor(ne,J){super(ne),this.connectable=J}_error(ne){this._unsubscribe(),super._error(ne)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const ne=this.connectable;if(ne){this.connectable=null;const J=ne._connection;ne._refCount=0,ne._subject=null,ne._connection=null,J&&J.unsubscribe()}}}},8895:(Mt,Be,F)=>{"use strict";F.d(Be,{z:()=>be});var w=F(267),L=F(4540);function be(...oe){return(0,L.J)(1)((0,w.of)(...oe))}},3974:(Mt,Be,F)=>{"use strict";F.d(Be,{E:()=>L,c:()=>z});var w=F(3948);const L=new w.y(oe=>oe.complete());function z(oe){return oe?function(oe){return new w.y(te=>oe.schedule(()=>te.complete()))}(oe):L}},2850:(Mt,Be,F)=>{"use strict";F.d(Be,{D:()=>st});var w=F(3948),L=F(7040),z=F(9734),be=F(7631),De=F(9112),ee=F(5389),ne=F(8253),J=F(1292);function st(ke,Ke){return Ke?function(ke,Ke){if(null!=ke){if(function(ke){return ke&&"function"==typeof ke[be.L]}(ke))return function(ke,Ke){return new w.y(Pe=>{const Ne=new z.w;return Ne.add(Ke.schedule(()=>{const Ie=ke[be.L]();Ne.add(Ie.subscribe({next(je){Ne.add(Ke.schedule(()=>Pe.next(je)))},error(je){Ne.add(Ke.schedule(()=>Pe.error(je)))},complete(){Ne.add(Ke.schedule(()=>Pe.complete()))}}))})),Ne})}(ke,Ke);if((0,ne.t)(ke))return function(ke,Ke){return new w.y(Pe=>{const Ne=new z.w;return Ne.add(Ke.schedule(()=>ke.then(Ie=>{Ne.add(Ke.schedule(()=>{Pe.next(Ie),Ne.add(Ke.schedule(()=>Pe.complete()))}))},Ie=>{Ne.add(Ke.schedule(()=>Pe.error(Ie)))}))),Ne})}(ke,Ke);if((0,J.z)(ke))return(0,De.r)(ke,Ke);if(function(ke){return ke&&"function"==typeof ke[ee.hZ]}(ke)||"string"==typeof ke)return function(ke,Ke){if(!ke)throw new Error("Iterable cannot be null");return new w.y(Pe=>{const Ne=new z.w;let Ie;return Ne.add(()=>{Ie&&"function"==typeof Ie.return&&Ie.return()}),Ne.add(Ke.schedule(()=>{Ie=ke[ee.hZ](),Ne.add(Ke.schedule(function(){if(Pe.closed)return;let je,Xe;try{const kt=Ie.next();je=kt.value,Xe=kt.done}catch(kt){return void Pe.error(kt)}Xe?Pe.complete():(Pe.next(je),this.schedule())}))})),Ne})}(ke,Ke)}throw new TypeError((null!==ke&&typeof ke||ke)+" is not observable")}(ke,Ke):ke instanceof w.y?ke:new w.y((0,L.s)(ke))}},6431:(Mt,Be,F)=>{"use strict";F.d(Be,{n:()=>be});var w=F(3948),L=F(4537),z=F(9112);function be(oe,te){return te?(0,z.r)(oe,te):new w.y((0,L.V)(oe))}},636:(Mt,Be,F)=>{"use strict";F.d(Be,{T:()=>oe});var w=F(3948),L=F(7204),z=F(4540),be=F(6431);function oe(...te){let De=Number.POSITIVE_INFINITY,ee=null,Te=te[te.length-1];return(0,L.K)(Te)?(ee=te.pop(),te.length>1&&"number"==typeof te[te.length-1]&&(De=te.pop())):"number"==typeof Te&&(De=te.pop()),null===ee&&1===te.length&&te[0]instanceof w.y?te[0]:(0,z.J)(De)((0,be.n)(te,ee))}},267:(Mt,Be,F)=>{"use strict";F.d(Be,{of:()=>be});var w=F(7204),L=F(6431),z=F(9112);function be(...oe){let te=oe[oe.length-1];return(0,w.K)(te)?(oe.pop(),(0,z.r)(oe,te)):(0,L.n)(oe)}},7535:(Mt,Be,F)=>{"use strict";F.d(Be,{_:()=>L});var w=F(3948);function L(be,oe){return new w.y(oe?te=>oe.schedule(z,0,{error:be,subscriber:te}):te=>te.error(be))}function z({error:be,subscriber:oe}){oe.error(be)}},367:(Mt,Be,F)=>{"use strict";F.d(Be,{K:()=>be});var w=F(2167),L=F(2072),z=F(5348);function be(De){return function(Te){const Q=new oe(De),ne=Te.lift(Q);return Q.caught=ne}}class oe{constructor(ee){this.selector=ee}call(ee,Te){return Te.subscribe(new te(ee,this.selector,this.caught))}}class te extends w.L{constructor(ee,Te,Q){super(ee),this.selector=Te,this.caught=Q}error(ee){if(!this.isStopped){let Te;try{Te=this.selector(ee,this.caught)}catch(J){return void super.error(J)}this._unsubscribeAndRecycle();const Q=new L.d(this,void 0,void 0);this.add(Q);const ne=(0,z.D)(this,Te,void 0,void 0,Q);ne!==Q&&this.add(ne)}}}},3748:(Mt,Be,F)=>{"use strict";F.d(Be,{b:()=>L});var w=F(6513);function L(z,be){return(0,w.zg)(z,be,1)}},395:(Mt,Be,F)=>{"use strict";F.d(Be,{d:()=>L});var w=F(8744);function L(oe=null){return te=>te.lift(new z(oe))}class z{constructor(te){this.defaultValue=te}call(te,De){return De.subscribe(new be(te,this.defaultValue))}}class be extends w.L{constructor(te,De){super(te),this.defaultValue=De,this.isEmpty=!0}_next(te){this.isEmpty=!1,this.destination.next(te)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},7689:(Mt,Be,F)=>{"use strict";F.d(Be,{x:()=>L});var w=F(8744);function L(oe,te){return De=>De.lift(new z(oe,te))}class z{constructor(te,De){this.compare=te,this.keySelector=De}call(te,De){return De.subscribe(new be(te,this.compare,this.keySelector))}}class be extends w.L{constructor(te,De,ee){super(te),this.keySelector=ee,this.hasKey=!1,"function"==typeof De&&(this.compare=De)}compare(te,De){return te===De}_next(te){let De;try{const{keySelector:Te}=this;De=Te?Te(te):te}catch(Te){return this.destination.error(Te)}let ee=!1;if(this.hasKey)try{const{compare:Te}=this;ee=Te(this.key,De)}catch(Te){return this.destination.error(Te)}else this.hasKey=!0;ee||(this.key=De,this.destination.next(te))}}},3305:(Mt,Be,F)=>{"use strict";F.d(Be,{h:()=>L});var w=F(8744);function L(oe,te){return function(ee){return ee.lift(new z(oe,te))}}class z{constructor(te,De){this.predicate=te,this.thisArg=De}call(te,De){return De.subscribe(new be(te,this.predicate,this.thisArg))}}class be extends w.L{constructor(te,De,ee){super(te),this.predicate=De,this.thisArg=ee,this.count=0}_next(te){let De;try{De=this.predicate.call(this.thisArg,te,this.count++)}catch(ee){return void this.destination.error(ee)}De&&this.destination.next(te)}}},7813:(Mt,Be,F)=>{"use strict";F.d(Be,{x:()=>z});var w=F(8744),L=F(9734);function z(te){return De=>De.lift(new be(te))}class be{constructor(De){this.callback=De}call(De,ee){return ee.subscribe(new oe(De,this.callback))}}class oe extends w.L{constructor(De,ee){super(De),this.add(new L.w(ee))}}},3987:(Mt,Be,F)=>{"use strict";F.d(Be,{P:()=>De});var w=F(6507),L=F(3305),z=F(9917),be=F(395),oe=F(3369),te=F(7846);function De(ee,Te){const Q=arguments.length>=2;return ne=>ne.pipe(ee?(0,L.h)((J,ve)=>ee(J,ve,ne)):te.y,(0,z.q)(1),Q?(0,be.d)(Te):(0,oe.T)(()=>new w.K))}},8561:(Mt,Be,F)=>{"use strict";F.d(Be,{U:()=>L});var w=F(8744);function L(oe,te){return function(ee){if("function"!=typeof oe)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return ee.lift(new z(oe,te))}}class z{constructor(te,De){this.project=te,this.thisArg=De}call(te,De){return De.subscribe(new be(te,this.project,this.thisArg))}}class be extends w.L{constructor(te,De,ee){super(te),this.project=De,this.count=0,this.thisArg=ee||this}_next(te){let De;try{De=this.project.call(this.thisArg,te,this.count++)}catch(ee){return void this.destination.error(ee)}this.destination.next(De)}}},4540:(Mt,Be,F)=>{"use strict";F.d(Be,{J:()=>z});var w=F(6513),L=F(7846);function z(be=Number.POSITIVE_INFINITY){return(0,w.zg)(L.y,be)}},6513:(Mt,Be,F)=>{"use strict";F.d(Be,{zg:()=>te});var w=F(5348),L=F(2167),z=F(2072),be=F(8561),oe=F(2850);function te(Q,ne,J=Number.POSITIVE_INFINITY){return"function"==typeof ne?ve=>ve.pipe(te((Ge,st)=>(0,oe.D)(Q(Ge,st)).pipe((0,be.U)((ke,Ke)=>ne(Ge,ke,st,Ke))),J)):("number"==typeof ne&&(J=ne),ve=>ve.lift(new De(Q,J)))}class De{constructor(ne,J=Number.POSITIVE_INFINITY){this.project=ne,this.concurrent=J}call(ne,J){return J.subscribe(new ee(ne,this.project,this.concurrent))}}class ee extends L.L{constructor(ne,J,ve=Number.POSITIVE_INFINITY){super(ne),this.project=J,this.concurrent=ve,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(ne){this.active<this.concurrent?this._tryNext(ne):this.buffer.push(ne)}_tryNext(ne){let J;const ve=this.index++;try{J=this.project(ne,ve)}catch(Ge){return void this.destination.error(Ge)}this.active++,this._innerSub(J,ne,ve)}_innerSub(ne,J,ve){const Ge=new z.d(this,J,ve),st=this.destination;st.add(Ge);const ke=(0,w.D)(this,ne,void 0,void 0,Ge);ke!==Ge&&st.add(ke)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(ne,J,ve,Ge,st){this.destination.next(J)}notifyComplete(ne){const J=this.buffer;this.remove(ne),this.active--,J.length>0?this._next(J.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},8602:(Mt,Be,F)=>{"use strict";F.d(Be,{ht:()=>Te,QV:()=>De});var w=F(8744),L=F(3974),z=F(267),be=F(7535);class te{constructor(J,ve,Ge){this.kind=J,this.value=ve,this.error=Ge,this.hasValue="N"===J}observe(J){switch(this.kind){case"N":return J.next&&J.next(this.value);case"E":return J.error&&J.error(this.error);case"C":return J.complete&&J.complete()}}do(J,ve,Ge){switch(this.kind){case"N":return J&&J(this.value);case"E":return ve&&ve(this.error);case"C":return Ge&&Ge()}}accept(J,ve,Ge){return J&&"function"==typeof J.next?this.observe(J):this.do(J,ve,Ge)}toObservable(){switch(this.kind){case"N":return(0,z.of)(this.value);case"E":return(0,be._)(this.error);case"C":return(0,L.c)()}throw new Error("unexpected notification kind value")}static createNext(J){return void 0!==J?new te("N",J):te.undefinedValueNotification}static createError(J){return new te("E",void 0,J)}static createComplete(){return te.completeNotification}}function De(ne,J=0){return function(Ge){return Ge.lift(new ee(ne,J))}}te.completeNotification=new te("C"),te.undefinedValueNotification=new te("N",void 0);class ee{constructor(J,ve=0){this.scheduler=J,this.delay=ve}call(J,ve){return ve.subscribe(new Te(J,this.scheduler,this.delay))}}class Te extends w.L{constructor(J,ve,Ge=0){super(J),this.scheduler=ve,this.delay=Ge}static dispatch(J){const{notification:ve,destination:Ge}=J;ve.observe(Ge),this.unsubscribe()}scheduleMessage(J){this.destination.add(this.scheduler.schedule(Te.dispatch,this.delay,new Q(J,this.destination)))}_next(J){this.scheduleMessage(te.createNext(J))}_error(J){this.scheduleMessage(te.createError(J)),this.unsubscribe()}_complete(){this.scheduleMessage(te.createComplete()),this.unsubscribe()}}class Q{constructor(J,ve){this.notification=J,this.destination=ve}}},5290:(Mt,Be,F)=>{"use strict";F.d(Be,{x:()=>L});var w=F(8744);function L(){return function(te){return te.lift(new z(te))}}class z{constructor(te){this.connectable=te}call(te,De){const{connectable:ee}=this;ee._refCount++;const Te=new be(te,ee),Q=De.subscribe(Te);return Te.closed||(Te.connection=ee.connect()),Q}}class be extends w.L{constructor(te,De){super(te),this.connectable=De}_unsubscribe(){const{connectable:te}=this;if(!te)return void(this.connection=null);this.connectable=null;const De=te._refCount;if(De<=0)return void(this.connection=null);if(te._refCount=De-1,De>1)return void(this.connection=null);const{connection:ee}=this,Te=te._connection;this.connection=null,Te&&(!ee||Te===ee)&&Te.unsubscribe()}}},1310:(Mt,Be,F)=>{"use strict";F.d(Be,{R:()=>L});var w=F(8744);function L(oe,te){let De=!1;return arguments.length>=2&&(De=!0),function(Te){return Te.lift(new z(oe,te,De))}}class z{constructor(te,De,ee=!1){this.accumulator=te,this.seed=De,this.hasSeed=ee}call(te,De){return De.subscribe(new be(te,this.accumulator,this.seed,this.hasSeed))}}class be extends w.L{constructor(te,De,ee,Te){super(te),this.accumulator=De,this._seed=ee,this.hasSeed=Te,this.index=0}get seed(){return this._seed}set seed(te){this.hasSeed=!0,this._seed=te}_next(te){if(this.hasSeed)return this._tryNext(te);this.seed=te,this.destination.next(te)}_tryNext(te){const De=this.index++;let ee;try{ee=this.accumulator(this.seed,te,De)}catch(Te){this.destination.error(Te)}this.seed=ee,this.destination.next(ee)}}},2564:(Mt,Be,F)=>{"use strict";F.d(Be,{B:()=>De});var w=F(955);var be=F(5290),oe=F(6006);function te(){return new oe.xQ}function De(){return ee=>(0,be.x)()(function(ee,Te){return function(ne){let J;J="function"==typeof ee?ee:function(){return ee};const ve=Object.create(ne,w.N);return ve.source=ne,ve.subjectFactory=J,ve}}(te)(ee))}},3543:(Mt,Be,F)=>{"use strict";F.d(Be,{O:()=>z});var w=F(8895),L=F(7204);function z(...be){const oe=be[be.length-1];return(0,L.K)(oe)?(be.pop(),te=>(0,w.z)(be,te,oe)):te=>(0,w.z)(be,te)}},1557:(Mt,Be,F)=>{"use strict";F.d(Be,{R:()=>ke});var w=F(3948);let L=1;const z=Promise.resolve(),be={};function oe(Pe){return Pe in be&&(delete be[Pe],!0)}const te={setImmediate(Pe){const Ne=L++;return be[Ne]=!0,z.then(()=>oe(Ne)&&Pe()),Ne},clearImmediate(Pe){oe(Pe)}};var ee=F(5464),Q=F(708);const ve=new class extends Q.v{flush(Ne){this.active=!0,this.scheduled=void 0;const{actions:Ie}=this;let je,Xe=-1,kt=Ie.length;Ne=Ne||Ie.shift();do{if(je=Ne.execute(Ne.state,Ne.delay))break}while(++Xe<kt&&(Ne=Ie.shift()));if(this.active=!1,je){for(;++Xe<kt&&(Ne=Ie.shift());)Ne.unsubscribe();throw je}}}(class extends ee.o{constructor(Ne,Ie){super(Ne,Ie),this.scheduler=Ne,this.work=Ie}requestAsyncId(Ne,Ie,je=0){return null!==je&&je>0?super.requestAsyncId(Ne,Ie,je):(Ne.actions.push(this),Ne.scheduled||(Ne.scheduled=te.setImmediate(Ne.flush.bind(Ne,null))))}recycleAsyncId(Ne,Ie,je=0){if(null!==je&&je>0||null===je&&this.delay>0)return super.recycleAsyncId(Ne,Ie,je);0===Ne.actions.length&&(te.clearImmediate(Ie),Ne.scheduled=void 0)}});var Ge=F(5264);class st extends w.y{constructor(Ne,Ie=0,je=ve){super(),this.source=Ne,this.delayTime=Ie,this.scheduler=je,(!(0,Ge.k)(Ie)||Ie<0)&&(this.delayTime=0),(!je||"function"!=typeof je.schedule)&&(this.scheduler=ve)}static create(Ne,Ie=0,je=ve){return new st(Ne,Ie,je)}static dispatch(Ne){const{source:Ie,subscriber:je}=Ne;return this.add(Ie.subscribe(je))}_subscribe(Ne){return this.scheduler.schedule(st.dispatch,this.delayTime,{source:this.source,subscriber:Ne})}}function ke(Pe,Ne=0){return function(je){return je.lift(new Ke(Pe,Ne))}}class Ke{constructor(Ne,Ie){this.scheduler=Ne,this.delay=Ie}call(Ne,Ie){return new st(Ie,this.delay,this.scheduler).subscribe(Ne)}}},2812:(Mt,Be,F)=>{"use strict";F.d(Be,{w:()=>te});var w=F(2167),L=F(2072),z=F(5348),be=F(8561),oe=F(2850);function te(Te,Q){return"function"==typeof Q?ne=>ne.pipe(te((J,ve)=>(0,oe.D)(Te(J,ve)).pipe((0,be.U)((Ge,st)=>Q(J,Ge,ve,st))))):ne=>ne.lift(new De(Te))}class De{constructor(Q){this.project=Q}call(Q,ne){return ne.subscribe(new ee(Q,this.project))}}class ee extends w.L{constructor(Q,ne){super(Q),this.project=ne,this.index=0}_next(Q){let ne;const J=this.index++;try{ne=this.project(Q,J)}catch(ve){return void this.destination.error(ve)}this._innerSub(ne,Q,J)}_innerSub(Q,ne,J){const ve=this.innerSubscription;ve&&ve.unsubscribe();const Ge=new L.d(this,ne,J),st=this.destination;st.add(Ge),this.innerSubscription=(0,z.D)(this,Q,void 0,void 0,Ge),this.innerSubscription!==Ge&&st.add(this.innerSubscription)}_complete(){const{innerSubscription:Q}=this;(!Q||Q.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(Q){this.destination.remove(Q),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(Q,ne,J,ve,Ge){this.destination.next(ne)}}},9917:(Mt,Be,F)=>{"use strict";F.d(Be,{q:()=>be});var w=F(8744),L=F(9862),z=F(3974);function be(De){return ee=>0===De?(0,z.c)():ee.lift(new oe(De))}class oe{constructor(ee){if(this.total=ee,this.total<0)throw new L.W}call(ee,Te){return Te.subscribe(new te(ee,this.total))}}class te extends w.L{constructor(ee,Te){super(ee),this.total=Te,this.count=0}_next(ee){const Te=this.total,Q=++this.count;Q<=Te&&(this.destination.next(ee),Q===Te&&(this.destination.complete(),this.unsubscribe()))}}},6286:(Mt,Be,F)=>{"use strict";F.d(Be,{b:()=>be});var w=F(8744);function L(){}var z=F(3673);function be(De,ee,Te){return function(ne){return ne.lift(new oe(De,ee,Te))}}class oe{constructor(ee,Te,Q){this.nextOrObserver=ee,this.error=Te,this.complete=Q}call(ee,Te){return Te.subscribe(new te(ee,this.nextOrObserver,this.error,this.complete))}}class te extends w.L{constructor(ee,Te,Q,ne){super(ee),this._tapNext=L,this._tapError=L,this._tapComplete=L,this._tapError=Q||L,this._tapComplete=ne||L,(0,z.m)(Te)?(this._context=this,this._tapNext=Te):Te&&(this._context=Te,this._tapNext=Te.next||L,this._tapError=Te.error||L,this._tapComplete=Te.complete||L)}_next(ee){try{this._tapNext.call(this._context,ee)}catch(Te){return void this.destination.error(Te)}this.destination.next(ee)}_error(ee){try{this._tapError.call(this._context,ee)}catch(Te){return void this.destination.error(Te)}this.destination.error(ee)}_complete(){try{this._tapComplete.call(this._context)}catch(ee){return void this.destination.error(ee)}return this.destination.complete()}}},3369:(Mt,Be,F)=>{"use strict";F.d(Be,{T:()=>z});var w=F(6507),L=F(8744);function z(De=te){return ee=>ee.lift(new be(De))}class be{constructor(ee){this.errorFactory=ee}call(ee,Te){return Te.subscribe(new oe(ee,this.errorFactory))}}class oe extends L.L{constructor(ee,Te){super(ee),this.errorFactory=Te,this.hasValue=!1}_next(ee){this.hasValue=!0,this.destination.next(ee)}_complete(){if(this.hasValue)return this.destination.complete();{let ee;try{ee=this.errorFactory()}catch(Te){ee=Te}this.destination.error(ee)}}}function te(){return new w.K}},9112:(Mt,Be,F)=>{"use strict";F.d(Be,{r:()=>z});var w=F(3948),L=F(9734);function z(be,oe){return new w.y(te=>{const De=new L.w;let ee=0;return De.add(oe.schedule(function(){ee!==be.length?(te.next(be[ee++]),te.closed||De.add(this.schedule())):te.complete()})),De})}},5464:(Mt,Be,F)=>{"use strict";F.d(Be,{o:()=>z});var w=F(9734);class L extends w.w{constructor(oe,te){super()}schedule(oe,te=0){return this}}class z extends L{constructor(oe,te){super(oe,te),this.scheduler=oe,this.work=te,this.pending=!1}schedule(oe,te=0){if(this.closed)return this;this.state=oe;const De=this.id,ee=this.scheduler;return null!=De&&(this.id=this.recycleAsyncId(ee,De,te)),this.pending=!0,this.delay=te,this.id=this.id||this.requestAsyncId(ee,this.id,te),this}requestAsyncId(oe,te,De=0){return setInterval(oe.flush.bind(oe,this),De)}recycleAsyncId(oe,te,De=0){if(null!==De&&this.delay===De&&!1===this.pending)return te;clearInterval(te)}execute(oe,te){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const De=this._execute(oe,te);if(De)return De;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(oe,te){let ee,De=!1;try{this.work(oe)}catch(Te){De=!0,ee=!!Te&&Te||new Error(Te)}if(De)return this.unsubscribe(),ee}_unsubscribe(){const oe=this.id,te=this.scheduler,De=te.actions,ee=De.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==ee&&De.splice(ee,1),null!=oe&&(this.id=this.recycleAsyncId(te,oe,null)),this.delay=null}}},708:(Mt,Be,F)=>{"use strict";F.d(Be,{v:()=>L});let w=(()=>{class z{constructor(oe,te=z.now){this.SchedulerAction=oe,this.now=te}schedule(oe,te=0,De){return new this.SchedulerAction(this,oe).schedule(De,te)}}return z.now=()=>Date.now(),z})();class L extends w{constructor(be,oe=w.now){super(be,()=>L.delegate&&L.delegate!==this?L.delegate.now():oe()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(be,oe=0,te){return L.delegate&&L.delegate!==this?L.delegate.schedule(be,oe,te):super.schedule(be,oe,te)}flush(be){const{actions:oe}=this;if(this.active)return void oe.push(be);let te;this.active=!0;do{if(te=be.execute(be.state,be.delay))break}while(be=oe.shift());if(this.active=!1,te){for(;be=oe.shift();)be.unsubscribe();throw te}}}},8846:(Mt,Be,F)=>{"use strict";F.d(Be,{z:()=>z,P:()=>be});var w=F(5464);const z=new(F(708).v)(w.o),be=z},6511:(Mt,Be,F)=>{"use strict";F.d(Be,{c:()=>te,N:()=>oe});var w=F(5464),z=F(708);const oe=new class extends z.v{}(class extends w.o{constructor(ee,Te){super(ee,Te),this.scheduler=ee,this.work=Te}schedule(ee,Te=0){return Te>0?super.schedule(ee,Te):(this.delay=Te,this.state=ee,this.scheduler.flush(this),this)}execute(ee,Te){return Te>0||this.closed?super.execute(ee,Te):this._execute(ee,Te)}requestAsyncId(ee,Te,Q=0){return null!==Q&&Q>0||null===Q&&this.delay>0?super.requestAsyncId(ee,Te,Q):ee.flush(this)}}),te=oe},5389:(Mt,Be,F)=>{"use strict";F.d(Be,{hZ:()=>L});const L="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},7631:(Mt,Be,F)=>{"use strict";F.d(Be,{L:()=>w});const w="function"==typeof Symbol&&Symbol.observable||"@@observable"},9754:(Mt,Be,F)=>{"use strict";F.d(Be,{b:()=>w});const w="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},9862:(Mt,Be,F)=>{"use strict";F.d(Be,{W:()=>L});const L=(()=>{function z(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return z.prototype=Object.create(Error.prototype),z})()},6507:(Mt,Be,F)=>{"use strict";F.d(Be,{K:()=>L});const L=(()=>{function z(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return z.prototype=Object.create(Error.prototype),z})()},7078:(Mt,Be,F)=>{"use strict";F.d(Be,{N:()=>L});const L=(()=>{function z(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return z.prototype=Object.create(Error.prototype),z})()},3863:(Mt,Be,F)=>{"use strict";function w(L){setTimeout(()=>{throw L},0)}F.d(Be,{z:()=>w})},7846:(Mt,Be,F)=>{"use strict";function w(L){return L}F.d(Be,{y:()=>w})},9622:(Mt,Be,F)=>{"use strict";F.d(Be,{k:()=>w});const w=Array.isArray||(L=>L&&"number"==typeof L.length)},1292:(Mt,Be,F)=>{"use strict";F.d(Be,{z:()=>w});const w=L=>L&&"number"==typeof L.length&&"function"!=typeof L},3673:(Mt,Be,F)=>{"use strict";function w(L){return"function"==typeof L}F.d(Be,{m:()=>w})},5264:(Mt,Be,F)=>{"use strict";F.d(Be,{k:()=>L});var w=F(9622);function L(z){return!(0,w.k)(z)&&z-parseFloat(z)+1>=0}},153:(Mt,Be,F)=>{"use strict";function w(L){return null!==L&&"object"==typeof L}F.d(Be,{K:()=>w})},8253:(Mt,Be,F)=>{"use strict";function w(L){return!!L&&"function"!=typeof L.subscribe&&"function"==typeof L.then}F.d(Be,{t:()=>w})},7204:(Mt,Be,F)=>{"use strict";function w(L){return L&&"function"==typeof L.schedule}F.d(Be,{K:()=>w})},7040:(Mt,Be,F)=>{"use strict";F.d(Be,{s:()=>ne});var w=F(4537),L=F(3863),be=F(5389),te=F(7631),ee=F(1292),Te=F(8253),Q=F(153);const ne=J=>{if(J&&"function"==typeof J[te.L])return(J=>ve=>{const Ge=J[te.L]();if("function"!=typeof Ge.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return Ge.subscribe(ve)})(J);if((0,ee.z)(J))return(0,w.V)(J);if((0,Te.t)(J))return(J=>ve=>(J.then(Ge=>{ve.closed||(ve.next(Ge),ve.complete())},Ge=>ve.error(Ge)).then(null,L.z),ve))(J);if(J&&"function"==typeof J[be.hZ])return(J=>ve=>{const Ge=J[be.hZ]();for(;;){let st;try{st=Ge.next()}catch(ke){return ve.error(ke),ve}if(st.done){ve.complete();break}if(ve.next(st.value),ve.closed)break}return"function"==typeof Ge.return&&ve.add(()=>{Ge.return&&Ge.return()}),ve})(J);{const Ge=`You provided ${(0,Q.K)(J)?"an invalid object":`'${J}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(Ge)}}},4537:(Mt,Be,F)=>{"use strict";F.d(Be,{V:()=>w});const w=L=>z=>{for(let be=0,oe=L.length;be<oe&&!z.closed;be++)z.next(L[be]);z.complete()}},5348:(Mt,Be,F)=>{"use strict";F.d(Be,{D:()=>be});var w=F(2072),L=F(7040),z=F(3948);function be(oe,te,De,ee,Te=new w.d(oe,De,ee)){if(!Te.closed)return te instanceof z.y?te.subscribe(Te):(0,L.s)(te)(Te)}},224:(Mt,Be,F)=>{"use strict";F.d(Be,{N:()=>w});const w={production:!0,baseUrl:"https://netrink.com/",personalUrl:"https://personal.netrink.com/",restaurantUrl:"https://restaurant.netrink.com/",schoolUrl:"https://school.netrink.com/",enterpriseUrl:"https://enterprise.netrink.com/",associationUrl:"https://association.netrink.com/",hospitalUrl:"https://hospital.netrink.com/",hotelUrl:"https://hotel.netrink.com/",shopUrl:"https://shop.netrink.com/",productionUrl:"https://production.netrink.com/",firebase:{apiKey:"AIzaSyCdIR_KDHHiiG7bJU5w0AHDDKXB4MDmwLw",authDomain:"netrink-18.firebaseapp.com",projectId:"netrink-18",storageBucket:"netrink-18.appspot.com",messagingSenderId:"821993582816",appId:"1:821993582816:web:c08380bd474206762e2085",measurementId:"G-89V16LLRGC"}}},5457:(Mt,Be,F)=>{"use strict";var w=F(3220),L=F(2741),z=F(1728),be=F(1887),oe=F(8718),te=F(9106),De=F(4259),ee=F(9805);const Te=[{path:"",loadChildren:()=>Promise.all([F.e(963),F.e(592),F.e(951)]).then(F.bind(F,5951)).then(Ge=>Ge.LandingPageModule)},{path:"auth",loadChildren:()=>Promise.all([F.e(963),F.e(592),F.e(1)]).then(F.bind(F,6001)).then(Ge=>Ge.AuthPageModule)},{path:"terms",loadChildren:()=>Promise.all([F.e(963),F.e(635)]).then(F.bind(F,1635)).then(Ge=>Ge.LegalitiesPageModule)},{path:"help",loadChildren:()=>Promise.all([F.e(963),F.e(592),F.e(458)]).then(F.bind(F,9458)).then(Ge=>Ge.HelpPageModule)}];let Q=(()=>{class Ge{}return Ge.\u0275fac=function(ke){return new(ke||Ge)},Ge.\u0275mod=L.\u0275\u0275defineNgModule({type:Ge}),Ge.\u0275inj=L.\u0275\u0275defineInjector({imports:[[oe.Bz.forRoot(Te)],oe.Bz]}),Ge})(),ne=(()=>{class Ge{constructor(){this.title="application"}}return Ge.\u0275fac=function(ke){return new(ke||Ge)},Ge.\u0275cmp=L.\u0275\u0275defineComponent({type:Ge,selectors:[["app-root"]],decls:1,vars:0,template:function(ke,Ke){1&ke&&L.\u0275\u0275element(0,"router-outlet")},directives:[oe.lC],styles:[""]}),Ge})();var J=F(224);let ve=(()=>{class Ge{}return Ge.\u0275fac=function(ke){return new(ke||Ge)},Ge.\u0275mod=L.\u0275\u0275defineNgModule({type:Ge,bootstrap:[ne]}),Ge.\u0275inj=L.\u0275\u0275defineInjector({providers:[],imports:[[w.b2,z.PW,be.JF,oe.Bz,te.hO.initializeApp(J.N.firebase),De.ww,ee.yb,Q]]}),Ge})();J.N.production&&((0,L.enableProdMode)(),window&&(window.console.log=function(){})),w.q6().bootstrapModule(ve).catch(Ge=>console.error(Ge))},6972:Mt=>{function Be(F){return Promise.resolve().then(()=>{var w=new Error("Cannot find module '"+F+"'");throw w.code="MODULE_NOT_FOUND",w})}Be.keys=()=>[],Be.resolve=Be,Be.id=6972,Mt.exports=Be},1921:(Mt,Be,F)=>{"use strict";function w(z,be,oe,te,De,ee,Te){try{var Q=z[ee](Te),ne=Q.value}catch(J){return void oe(J)}Q.done?be(ne):Promise.resolve(ne).then(te,De)}function L(z){return function(){var be=this,oe=arguments;return new Promise(function(te,De){var ee=z.apply(be,oe);function Te(ne){w(ee,te,De,Te,Q,"next",ne)}function Q(ne){w(ee,te,De,Te,Q,"throw",ne)}Te(void 0)})}}F.d(Be,{Z:()=>L})},6043:(Mt,Be,F)=>{"use strict";F.d(Be,{Z:()=>st});var w=F(9870),L=F(3552),z=F(4762),be=F(1773);class oe{constructor(Ke,Pe){this._delegate=Ke,this.firebase=Pe,(0,z._addComponent)(Ke,new L.wA("app-compat",()=>this,"PUBLIC")),this.container=Ke.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ke){this._delegate.automaticDataCollectionEnabled=Ke}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ke=>{this._delegate.checkDestroyed(),Ke()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,z.deleteApp)(this._delegate)))}_getService(Ke,Pe=z._DEFAULT_ENTRY_NAME){var Ne;this._delegate.checkDestroyed();const Ie=this._delegate.container.getProvider(Ke);return!Ie.isInitialized()&&"EXPLICIT"===(null===(Ne=Ie.getComponent())||void 0===Ne?void 0:Ne.instantiationMode)&&Ie.initialize(),Ie.getImmediate({identifier:Pe})}_removeServiceInstance(Ke,Pe=z._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ke).clearInstance(Pe)}_addComponent(Ke){(0,z._addComponent)(this._delegate,Ke)}_addOrOverwriteComponent(Ke){(0,z._addOrOverwriteComponent)(this._delegate,Ke)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const De=new w.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Q=function Te(){const ke=function(ke){const Ke={},Pe={__esModule:!0,initializeApp:function(zt,en={}){const rn=z.initializeApp(zt,en);if((0,w.r3)(Ke,rn.name))return Ke[rn.name];const Qt=new ke(rn,Pe);return Ke[rn.name]=Qt,Qt},app:Ie,registerVersion:z.registerVersion,setLogLevel:z.setLogLevel,onLog:z.onLog,apps:null,SDK_VERSION:z.SDK_VERSION,INTERNAL:{registerComponent:function(zt){const en=zt.name,rn=en.replace("-compat","");if(z._registerComponent(zt)&&"PUBLIC"===zt.type){const Qt=(Ht=Ie())=>{if("function"!=typeof Ht[rn])throw De.create("invalid-app-argument",{appName:en});return Ht[rn]()};void 0!==zt.serviceProps&&(0,w.ZB)(Qt,zt.serviceProps),Pe[rn]=Qt,ke.prototype[rn]=function(...Ht){return this._getService.bind(this,en).apply(this,zt.multipleInstances?Ht:[])}}return"PUBLIC"===zt.type?Pe[rn]:null},removeApp:function(zt){delete Ke[zt]},useAsService:function(zt,en){return"serverAuth"===en?null:en},modularAPIs:z}};function Ie(zt){if(!(0,w.r3)(Ke,zt=zt||z._DEFAULT_ENTRY_NAME))throw De.create("no-app",{appName:zt});return Ke[zt]}return Pe.default=Pe,Object.defineProperty(Pe,"apps",{get:function(){return Object.keys(Ke).map(zt=>Ke[zt])}}),Ie.App=ke,Pe}(oe);return ke.INTERNAL=Object.assign(Object.assign({},ke.INTERNAL),{createFirebaseNamespace:Te,extendNamespace:function(Pe){(0,w.ZB)(ke,Pe)},createSubscribe:w.ne,ErrorFactory:w.LL,deepExtend:w.ZB}),ke}(),ne=new be.Yd("@firebase/app-compat");if((0,w.jU)()&&void 0!==self.firebase){ne.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ke=self.firebase.SDK_VERSION;ke&&ke.indexOf("LITE")>=0&&ne.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const st=Q;(0,z.registerVersion)("@firebase/app-compat","0.1.18",undefined)},4762:(Mt,Be,F)=>{"use strict";F.r(Be),F.d(Be,{FirebaseError:()=>be.ZR,SDK_VERSION:()=>rr,_DEFAULT_ENTRY_NAME:()=>Rr,_addComponent:()=>Kt,_addOrOverwriteComponent:()=>Cn,_apps:()=>Ot,_clearComponents:()=>Ut,_components:()=>It,_getProvider:()=>Wt,_registerComponent:()=>Bt,_removeServiceInstance:()=>hn,deleteApp:()=>Qn,getApp:()=>cr,getApps:()=>ct,initializeApp:()=>br,onLog:()=>Sn,registerVersion:()=>Nt,setLogLevel:()=>_r});var w=F(1921),L=F(3552),z=F(1773),be=F(9870);class oe{constructor(ae){this.container=ae}getPlatformInfoString(){return this.container.getProviders().map(de=>{if(function(Le){const ae=Le.getComponent();return"VERSION"===(null==ae?void 0:ae.type)}(de)){const Je=de.getImmediate();return`${Je.library}/${Je.version}`}return null}).filter(de=>de).join(" ")}}const De="@firebase/app",Te=new z.Yd("@firebase/app"),Rr="[DEFAULT]",pi={[De]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ot=new Map,It=new Map;function Kt(Le,ae){try{Le.container.addComponent(ae)}catch(de){Te.debug(`Component ${ae.name} failed to register with FirebaseApp ${Le.name}`,de)}}function Cn(Le,ae){Le.container.addOrOverwriteComponent(ae)}function Bt(Le){const ae=Le.name;if(It.has(ae))return Te.debug(`There were multiple attempts to register component ${ae}.`),!1;It.set(ae,Le);for(const de of Ot.values())Kt(de,Le);return!0}function Wt(Le,ae){return Le.container.getProvider(ae)}function hn(Le,ae,de=Rr){Wt(Le,ae).clearInstance(de)}function Ut(){It.clear()}const Yt=new be.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class mn{constructor(ae,de,Je){this._isDeleted=!1,this._options=Object.assign({},ae),this._config=Object.assign({},de),this._name=de.name,this._automaticDataCollectionEnabled=de.automaticDataCollectionEnabled,this._container=Je,this.container.addComponent(new L.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ae){this.checkDestroyed(),this._automaticDataCollectionEnabled=ae}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ae){this._isDeleted=ae}checkDestroyed(){if(this.isDeleted)throw Yt.create("app-deleted",{appName:this._name})}}const rr="9.6.7";function br(Le,ae={}){"object"!=typeof ae&&(ae={name:ae});const de=Object.assign({name:Rr,automaticDataCollectionEnabled:!1},ae),Je=de.name;if("string"!=typeof Je||!Je)throw Yt.create("bad-app-name",{appName:String(Je)});const $e=Ot.get(Je);if($e){if((0,be.vZ)(Le,$e.options)&&(0,be.vZ)(de,$e.config))return $e;throw Yt.create("duplicate-app",{appName:Je})}const bt=new L.H0(Je);for(const Rt of It.values())bt.addComponent(Rt);const at=new mn(Le,de,bt);return Ot.set(Je,at),at}function cr(Le=Rr){const ae=Ot.get(Le);if(!ae)throw Yt.create("no-app",{appName:Le});return ae}function ct(){return Array.from(Ot.values())}function Qn(Le){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,w.Z)(function*(Le){const ae=Le.name;Ot.has(ae)&&(Ot.delete(ae),yield Promise.all(Le.container.getProviders().map(de=>de.delete())),Le.isDeleted=!0)})).apply(this,arguments)}function Nt(Le,ae,de){var Je;let $e=null!==(Je=pi[Le])&&void 0!==Je?Je:Le;de&&($e+=`-${de}`);const bt=$e.match(/\s|\//),at=ae.match(/\s|\//);if(bt||at){const Rt=[`Unable to register library "${$e}" with version "${ae}":`];return bt&&Rt.push(`library name "${$e}" contains illegal characters (whitespace or "/")`),bt&&at&&Rt.push("and"),at&&Rt.push(`version name "${ae}" contains illegal characters (whitespace or "/")`),void Te.warn(Rt.join(" "))}Bt(new L.wA(`${$e}-version`,()=>({library:$e,version:ae}),"VERSION"))}function Sn(Le,ae){if(null!==Le&&"function"!=typeof Le)throw Yt.create("invalid-log-argument");(0,z.Am)(Le,ae)}function _r(Le){(0,z.Ub)(Le)}Bt(new L.wA("platform-logger",ae=>new oe(ae),"PRIVATE")),Nt(De,"0.7.17",""),Nt(De,"0.7.17","esm2017"),Nt("fire-js","")},3552:(Mt,Be,F)=>{"use strict";F.d(Be,{wA:()=>z,H0:()=>ee});var w=F(1921),L=F(9870);class z{constructor(Q,ne,J){this.name=Q,this.instanceFactory=ne,this.type=J,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Q){return this.instantiationMode=Q,this}setMultipleInstances(Q){return this.multipleInstances=Q,this}setServiceProps(Q){return this.serviceProps=Q,this}setInstanceCreatedCallback(Q){return this.onInstanceCreated=Q,this}}const be="[DEFAULT]";class oe{constructor(Q,ne){this.name=Q,this.container=ne,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Q){const ne=this.normalizeInstanceIdentifier(Q);if(!this.instancesDeferred.has(ne)){const J=new L.BH;if(this.instancesDeferred.set(ne,J),this.isInitialized(ne)||this.shouldAutoInitialize())try{const ve=this.getOrInitializeService({instanceIdentifier:ne});ve&&J.resolve(ve)}catch(ve){}}return this.instancesDeferred.get(ne).promise}getImmediate(Q){var ne;const J=this.normalizeInstanceIdentifier(null==Q?void 0:Q.identifier),ve=null!==(ne=null==Q?void 0:Q.optional)&&void 0!==ne&&ne;if(!this.isInitialized(J)&&!this.shouldAutoInitialize()){if(ve)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:J})}catch(Ge){if(ve)return null;throw Ge}}getComponent(){return this.component}setComponent(Q){if(Q.name!==this.name)throw Error(`Mismatching Component ${Q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Q,this.shouldAutoInitialize()){if("EAGER"===Q.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:be})}catch(ne){}for(const[ne,J]of this.instancesDeferred.entries()){const ve=this.normalizeInstanceIdentifier(ne);try{const Ge=this.getOrInitializeService({instanceIdentifier:ve});J.resolve(Ge)}catch(Ge){}}}}clearInstance(Q=be){this.instancesDeferred.delete(Q),this.instancesOptions.delete(Q),this.instances.delete(Q)}delete(){var Q=this;return(0,w.Z)(function*(){const ne=Array.from(Q.instances.values());yield Promise.all([...ne.filter(J=>"INTERNAL"in J).map(J=>J.INTERNAL.delete()),...ne.filter(J=>"_delete"in J).map(J=>J._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Q=be){return this.instances.has(Q)}getOptions(Q=be){return this.instancesOptions.get(Q)||{}}initialize(Q={}){const{options:ne={}}=Q,J=this.normalizeInstanceIdentifier(Q.instanceIdentifier);if(this.isInitialized(J))throw Error(`${this.name}(${J}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ve=this.getOrInitializeService({instanceIdentifier:J,options:ne});for(const[Ge,st]of this.instancesDeferred.entries())J===this.normalizeInstanceIdentifier(Ge)&&st.resolve(ve);return ve}onInit(Q,ne){var J;const ve=this.normalizeInstanceIdentifier(ne),Ge=null!==(J=this.onInitCallbacks.get(ve))&&void 0!==J?J:new Set;Ge.add(Q),this.onInitCallbacks.set(ve,Ge);const st=this.instances.get(ve);return st&&Q(st,ve),()=>{Ge.delete(Q)}}invokeOnInitCallbacks(Q,ne){const J=this.onInitCallbacks.get(ne);if(J)for(const ve of J)try{ve(Q,ne)}catch(Ge){}}getOrInitializeService({instanceIdentifier:Q,options:ne={}}){let J=this.instances.get(Q);if(!J&&this.component&&(J=this.component.instanceFactory(this.container,{instanceIdentifier:(Te=Q,Te===be?void 0:Te),options:ne}),this.instances.set(Q,J),this.instancesOptions.set(Q,ne),this.invokeOnInitCallbacks(J,Q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Q,J)}catch(ve){}var Te;return J||null}normalizeInstanceIdentifier(Q=be){return this.component?this.component.multipleInstances?Q:be:Q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ee{constructor(Q){this.name=Q,this.providers=new Map}addComponent(Q){const ne=this.getProvider(Q.name);if(ne.isComponentSet())throw new Error(`Component ${Q.name} has already been registered with ${this.name}`);ne.setComponent(Q)}addOrOverwriteComponent(Q){this.getProvider(Q.name).isComponentSet()&&this.providers.delete(Q.name),this.addComponent(Q)}getProvider(Q){if(this.providers.has(Q))return this.providers.get(Q);const ne=new oe(Q,this);return this.providers.set(Q,ne),ne}getProviders(){return Array.from(this.providers.values())}}},1773:(Mt,Be,F)=>{"use strict";F.d(Be,{in:()=>L,Yd:()=>De,Ub:()=>ee,Am:()=>Te});const w=[];var L=(()=>{return(Q=L||(L={}))[Q.DEBUG=0]="DEBUG",Q[Q.VERBOSE=1]="VERBOSE",Q[Q.INFO=2]="INFO",Q[Q.WARN=3]="WARN",Q[Q.ERROR=4]="ERROR",Q[Q.SILENT=5]="SILENT",L;var Q})();const z={debug:L.DEBUG,verbose:L.VERBOSE,info:L.INFO,warn:L.WARN,error:L.ERROR,silent:L.SILENT},be=L.INFO,oe={[L.DEBUG]:"log",[L.VERBOSE]:"log",[L.INFO]:"info",[L.WARN]:"warn",[L.ERROR]:"error"},te=(Q,ne,...J)=>{if(ne<Q.logLevel)return;const ve=(new Date).toISOString(),Ge=oe[ne];if(!Ge)throw new Error(`Attempted to log a message with an invalid logType (value: ${ne})`);console[Ge](`[${ve}]  ${Q.name}:`,...J)};class De{constructor(ne){this.name=ne,this._logLevel=be,this._logHandler=te,this._userLogHandler=null,w.push(this)}get logLevel(){return this._logLevel}set logLevel(ne){if(!(ne in L))throw new TypeError(`Invalid value "${ne}" assigned to \`logLevel\``);this._logLevel=ne}setLogLevel(ne){this._logLevel="string"==typeof ne?z[ne]:ne}get logHandler(){return this._logHandler}set logHandler(ne){if("function"!=typeof ne)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ne}get userLogHandler(){return this._userLogHandler}set userLogHandler(ne){this._userLogHandler=ne}debug(...ne){this._userLogHandler&&this._userLogHandler(this,L.DEBUG,...ne),this._logHandler(this,L.DEBUG,...ne)}log(...ne){this._userLogHandler&&this._userLogHandler(this,L.VERBOSE,...ne),this._logHandler(this,L.VERBOSE,...ne)}info(...ne){this._userLogHandler&&this._userLogHandler(this,L.INFO,...ne),this._logHandler(this,L.INFO,...ne)}warn(...ne){this._userLogHandler&&this._userLogHandler(this,L.WARN,...ne),this._logHandler(this,L.WARN,...ne)}error(...ne){this._userLogHandler&&this._userLogHandler(this,L.ERROR,...ne),this._logHandler(this,L.ERROR,...ne)}}function ee(Q){w.forEach(ne=>{ne.setLogLevel(Q)})}function Te(Q,ne){for(const J of w){let ve=null;ne&&ne.level&&(ve=z[ne.level]),J.userLogHandler=null===Q?null:(Ge,st,...ke)=>{const Ke=ke.map(Pe=>{if(null==Pe)return null;if("string"==typeof Pe)return Pe;if("number"==typeof Pe||"boolean"==typeof Pe)return Pe.toString();if(Pe instanceof Error)return Pe.message;try{return JSON.stringify(Pe)}catch(Ne){return null}}).filter(Pe=>Pe).join(" ");st>=(null!=ve?ve:Ge.logLevel)&&Q({level:L[st].toLowerCase(),message:Ke,args:ke,type:Ge.name})}}}}},Mt=>{Mt(Mt.s=5457)}]);